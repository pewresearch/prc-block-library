(()=>{"use strict";const e=window.React,t=window.wp.hooks,n=window.wp.compose,i=window.wp.element,r=window.wp.data,c=window.wp.i18n,a=window.wp.blockEditor,o=window.wp.components;function s({attributes:t,setAttributes:n,clientId:i,context:r}){const{isInteractive:s,interactiveNamespace:l}=t,p=l||r?.interactiveNamespace;return(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(o.PanelBody,{title:(0,c.__)("Interactivity API")},(0,e.createElement)(o.ToggleControl,{label:(0,c.__)("Interactive","prc-block-library"),checked:s,onChange:e=>n({isInteractive:e}),help:(0,c.__)("When enabled, this block leverages the @wordpress/interactivity API.","prc-block-library")}),s&&(0,e.createElement)(o.TextControl,{label:(0,c.__)("Namespace","prc-block-library"),value:p,onChange:e=>n({interactiveNamespace:e}),help:(0,c.__)("The namespace serves as a unique identifier for this blocks interactivity context, ensuring that interactions are confined within the scope of this block or its parent.","prc-block-library")}),(0,e.createElement)(o.ExternalLink,{href:"https://github.com/WordPress/gutenberg/blob/trunk/packages/interactivity/docs/2-api-reference.md"},"API documentation")))}function l({attributes:t,setAttributes:n,clientId:r,context:c}){return(0,e.createElement)(i.Fragment,null,(0,e.createElement)(s,{attributes:t,setAttributes:n,clientId:r,context:c}))}const p="prc-block/interactivity-api";(0,t.addFilter)("editor.BlockEdit",`${p}-controls`,(0,n.createHigherOrderComponent)((t=>function(n){const{name:c,attributes:a,setAttributes:o,clientId:s,isSelected:p,context:u}=n;return(0,r.useSelect)((e=>e("core/blocks").getBlockSupport(c,"interactivity")),[c])&&p?(0,e.createElement)(i.Fragment,null,(0,e.createElement)(t,{...n}),(0,e.createElement)(l,{attributes:a,setAttributes:o,clientId:s,context:u})):(0,e.createElement)(t,{...n})}),"withPRCBlockInteractivityAPIControls"),100),(0,t.addFilter)("blocks.registerBlockType",`${p}-supports`,(e=>(e?.supports?.interactivity&&(e.attributes={...e.attributes,isInteractive:{type:"boolean",default:!1},interactiveNamespace:{type:"string"}},e.usesContext=[...e.usesContext,"interactiveNamespace"]),e)),100)})();