/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 0.1.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2020 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window["wpackioprcBlocksLibraryfollow-usJsonp"]=window["wpackioprcBlocksLibraryfollow-usJsonp"]||[]).push([[2],{0:function(e,t){e.exports=React},23:function(e,t){e.exports=wp.element},310:function(e,t,n){n(118),e.exports=n(311)},311:function(e,t,n){"use strict";n.r(t);var a=n(23),r=n(59);function s(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r,s=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){i=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(i)throw r}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}document.addEventListener("DOMContentLoaded",(function(){if(document.querySelector(".js-react-follow-us")){var e,t=s(document.querySelectorAll(".js-react-follow-us"));try{for(t.s();!(e=t.n()).done;){var n=e.value,c=n.innerHTML,i={newsletters:n.getAttribute("data-newsletters"),setAttributes:!1};Object(a.render)(React.createElement(r.a,i,c),n)}}catch(e){t.e(e)}finally{t.f()}}}))},34:function(e,t){e.exports=wp.blockEditor},54:function(e,t){e.exports=ReactDOM},59:function(e,t,n){"use strict";var a=n(35),r=n(17),s=n(37),c=n(36),i=n(26),l=n(18),o=n(23),u=n(34),d=n(60),m=n.n(d),f=n(39),p=n(87),b=n(88),v=n(89),h=n(173),y=n(81),w=n.n(y);function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=Object(i.a)(e);if(t){var r=Object(i.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var R=function(e){Object(s.a)(n,e);var t=g(n);function n(e){var s;return Object(a.a)(this,n),s=t.call(this,e),Object(l.a)(Object(r.a)(s),"componentDidMount",(function(){if(void 0!==s.props.editMode&&!0===s.props.editMode){var e=s.props.newsletters.split(",");0!==e.length&&s.setState({selected:e})}})),Object(l.a)(Object(r.a)(s),"selectNewsletter",(function(e){var t=s.state.selected;if(t.includes(e)){var n=t.indexOf(e);n>-1&&t.splice(n,1)}else t.push(e);s.setState({selected:t})})),Object(l.a)(Object(r.a)(s),"isSelected",(function(e){return!!s.props.newsletters.split(",").includes(e)})),Object(l.a)(Object(r.a)(s),"submitHandler",(function(e){var t=s.setState,n=s.state.selected.join(),a=s.state.email,r={dimmed:!0,loading:!1,message:""};t({loading:!0}),m()({path:"/prc-api/v2/mailchimp/subscribe/?email="+a+"&interests="+n,method:"POST"}).then((function(){r.message="You have succesfully subsrcibed to these newsletter(s)"})).catch((function(e){console.error(e),r.message="Unfortunately we could not susbscribe you at this time. Please try again later."})).finally((function(){t(r)}))})),Object(l.a)(Object(r.a)(s),"selectNewsletters",(function(){var e=window.prcMailchimpBlock;return React.createElement(o.Fragment,null,e.map((function(e,t){return React.createElement("div",{class:"item"},React.createElement(f.a.Field,null,React.createElement(p.a,{label:e.label,value:e.value,checked:(n=e.value,!!s.state.selected.includes(n)),className:"sans-serif",onChange:function(e,t){return function(e){var t=s.state.selected;if(t.includes(e)){var n=t.indexOf(e);n>-1&&t.splice(n,1)}else t.push(e);s.setState({selected:t}),s.props.setAttributes({newsletters:t.join()})}(t.value)}})));var n})))})),Object(l.a)(Object(r.a)(s),"render",(function(){var e=w()(s.props.className,"inverted","beige"),t=window.prcMailchimpBlock,n=s.selectNewsletters;return React.createElement(b.a,{fluid:!0,className:e,style:{marginBottom:"35px"}},React.createElement(b.a.Header,null,"Follow Us"),React.createElement(v.a.Dimmable,{as:"div",className:"content",dimmed:s.state.dimmed},React.createElement("div",{class:"ui sub header"},"Social Media"),!1!==s.props.setAttributes&&React.createElement(u.RichText,{tagName:"ul",value:s.props.socialMedia,onChange:function(e){s.props.setAttributes({socialMedia:e})},formattingControls:["link"],placeholder:s.props.socialMedia,multiline:"li",className:"ui link list"}),!1===s.props.setAttributes&&!0===s.props.editMode&&s.props.children,!1===s.props.setAttributes&&void 0===s.props.editMode&&React.createElement(o.RawHTML,null,s.props.children),React.createElement("div",{class:"ui sub header"},"Newsletters"),React.createElement(f.a,{onSubmit:s.submitHandler},React.createElement("div",{class:"ui list"},!1===s.props.setAttributes&&t.map((function(e,t){if(s.isSelected(e.value))return React.createElement("div",{className:"item"},React.createElement(f.a.Field,null,React.createElement(p.a,{label:e.label,value:e.value,className:"sans-serif",onChange:function(e,t){return s.selectNewsletter(t.value)}})))})),!1!==s.props.setAttributes&&React.createElement(n,null)),React.createElement(f.a.Field,{required:!0},React.createElement(h.a,{fluid:!0,size:"mini",action:{color:"secondary",size:"mini",content:"Sign Up",loading:s.state.loading,style:{justifyContent:"center",width:"auto"}},type:"email",placeholder:"Email Address",value:s.state.email,disabled:s.state.loading,onChange:function(e){return s.setState({email:e.target.value})}}))),React.createElement(v.a,{active:s.state.dimmed,onClickOutside:function(){s.setState({dimmed:!1})}},React.createElement("p",{className:"sans-serif"},s.state.message," (Click to close)"))))})),s.state={email:"",loading:!1,dimmed:!1,message:"",selected:[]},s.setState=s.setState.bind(Object(r.a)(s)),s.submitHandler=s.submitHandler.bind(Object(r.a)(s)),s}return n}(o.Component);t.a=R},60:function(e,t){e.exports=wp.apiFetch}},[[310,0,1]]]);
//# sourceMappingURL=frontend-d5a7b68f.js.map