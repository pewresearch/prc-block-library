{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.blocks\"","webpack:///./src/follow-us/index.js","webpack:///external \"wp.element\"","webpack:///external \"wp.blockEditor\"","webpack:///external \"ReactDOM\"","webpack:///./src/follow-us/component.js","webpack:///external \"wp.i18n\"","webpack:///external \"wp.apiFetch\""],"names":["module","exports","React","wp","blocks","registerBlockType","title","__","icon","category","keywords","supports","html","attributes","newsletters","type","default","socialMedia","source","selector","multiline","edit","props","data","setAttributes","editMode","isSelected","Content","className","tagName","value","save","data-newsletters","element","blockEditor","ReactDOM","FollowUs","undefined","selected","split","length","setState","ID","state","includes","index","indexOf","splice","push","e","console","log","loading","window","prcMailchimpBlock","interests","map","item","class","Field","label","checked","onChange","join","update","classes","classNames","SelectNewsletters","selectNewsletters","fluid","Header","formattingControls","placeholder","children","onSubmit","submitHandler","selectNewsletter","required","size","action","color","content","style","justifyContent","width","email","target","bind","Component","i18n","apiFetch"],"mappings":"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","file":"follow-us/main-fb8793bf.js","sourcesContent":["module.exports = React;","module.exports = wp.blocks;","/**\n * BLOCK: prc-blocks\n *\n * Registering a basic block with Gutenberg.\n * Simple block, renders and saves the same content without any interactivity.\n */\n\nimport { __ } from \"@wordpress/i18n\";\nimport { registerBlockType } from '@wordpress/blocks';\nimport { RichText } from '@wordpress/block-editor';\n\nimport FollowUs from './component';\n\n/**\n * Register: aa Gutenberg Block.\n *\n * Registers a new block provided a unique name and an object defining its\n * behavior. Once registered, the block is made editor as an option to any\n * editor interface where blocks are implemented.\n *\n * @link https://wordpress.org/gutenberg/handbook/block-api/\n * @param  {string}   name     Block name.\n * @param  {Object}   settings Block settings.\n * @return {?WPBlock}          The block, if it has been successfully\n *                             registered; otherwise `undefined`.\n */\nregisterBlockType( 'prc-block/follow-us', {\n\t// Block name. Block names must be string that contains a namespace prefix. Example: my-plugin/my-custom-block.\n\ttitle: __( 'Follow Us' ), // Block title.\n\ticon: 'format-aside', // Block icon from Dashicons → https://developer.wordpress.org/resource/dashicons/.\n\tcategory: 'widgets', // Block category — Group blocks together based on common traits E.g. common, formatting, layout widgets, embed.\n\tkeywords: [\n\t\t__( 'prc' ),\n\t\t__( 'newsletter' ),\n\t\t__( 'follow us' ),\n\t],\n\tsupports: {\n\t\thtml: false, // We do not want to give people the ability to edit the raw html of this block.\n\t},\n\t// Attributes are really react props. \n\tattributes: {\n\t\tnewsletters: {\n\t\t\ttype: 'string',\n\t\t\tdefault: ''\n\t\t},\n\t\tsocialMedia: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: '.ui.link.list',\n\t\t\tmultiline: 'li',\n\t\t\tdefault: '<li><a href=\"#\">Twitter</a></li>'\n\t\t},\n\t},\n\n\t/**\n\t * The edit function describes the structure of your block in the context of the editor.\n\t * This represents what the editor will render when the block is used.\n\t *\n\t * The \"edit\" property must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Component.\n\t */\n\tedit: ( props ) => {\n\t\tlet data = props.attributes;\n\t\tdata.setAttributes = false;\n\t\tdata.editMode = true;\n\t\tif ( true === props.isSelected ) {\n\t\t\tdata.setAttributes = props.setAttributes;\n\t\t}\n\t\treturn(\n\t\t\t<FollowUs {...data}>\n\t\t\t\t<RichText.Content className=\"ui link list\" tagName=\"div\" value={ data.socialMedia } />\n\t\t\t</FollowUs>\n\t\t)\n\t},\n\n\t// Seth Learning Note: SO save literally only transforms on post_content filter. You won't see this result inside the gutenberg editor, you will however see it if you look at code view.\n\t/**\n\t * The save function defines the way in which the different attributes should be combined\n\t * into the final markup, which is then serialized by Gutenberg into post_content.\n\t *\n\t * The \"save\" property must be specified and must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Frontend HTML.\n\t */\n\tsave: ( props ) => {\n\t\treturn (\n\t\t\t<div className=\"js-react-follow-us\" data-newsletters={props.attributes.newsletters}>\n\t\t\t\t<RichText.Content className=\"ui link list\" tagName=\"div\" value={ props.attributes.socialMedia } />\n\t\t\t</div>\n\t\t);\n\t},\n} );\n","module.exports = wp.element;","module.exports = wp.blockEditor;","module.exports = ReactDOM;","import { Component, Fragment, RawHTML } from '@wordpress/element';\nimport { RichText } from '@wordpress/block-editor';\nimport { Card as SemanticCard, Checkbox, Button, Form, Input } from 'semantic-ui-react';\nimport classNames from 'classnames/bind';\nimport apiFetch from '@wordpress/api-fetch';\n\nclass FollowUs extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tloading: false,\n\t\t\tselected: [],\n\t\t}\n\t\tthis.setState = this.setState.bind(this);\n\t\tthis.submitHandler = this.submitHandler.bind(this);\n\t}\n\n\tcomponentDidMount = () => {\n\t\tif ( undefined !== this.props.editMode && true === this.props.editMode ) {\n\t\t\tconst selected = this.props.newsletters.split(',');\n\t\t\tif ( 0 !== selected.length ) {\n\t\t\t\tthis.setState({selected});\n\t\t\t}\n\t\t}\n\t}\n\n\tselectNewsletter = (ID) => {\n\t\tlet selected = this.state.selected;\n\n\t\tif ( selected.includes(ID) ) {\n\t\t\t// If currently selected then remove\n\t\t\tvar index = selected.indexOf(ID);\n\t\t\tif ( index > -1 ) {\n\t\t\t\tselected.splice(index, 1);\n\t\t\t}\n\t\t} else {\n\t\t\tselected.push(ID);\n\t\t}\n\t\t\n\t\tthis.setState({ selected });\n\t}\n\n\tisSelected = ( ID ) => {\n\t\tlet newsletters = this.props.newsletters.split(',');\n\t\tif ( newsletters.includes(ID) ) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tsubmitHandler = (e) => {\n\t\tconsole.log(this.state);\n\t\tthis.setState({loading: true});\n\t\t// Do apifetch and return success message\n\t}\n\n\tselectNewsletters = () =>{\n\t\tconst update = ( ID ) => {\n\t\t\tlet selected = this.state.selected;\n\t\n\t\t\tif ( selected.includes(ID) ) {\n\t\t\t\t// If currently selected then remove \"toggle\"\n\t\t\t\tvar index = selected.indexOf(ID);\n\t\t\t\tif ( index > -1 ) {\n\t\t\t\t\tselected.splice(index, 1);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tselected.push(ID);\n\t\t\t}\n\t\t\t\n\t\t\t// Update the selection of newsletters in the context of the sidebar:\n\t\t\tthis.setState({ selected });\n\t\t\t// Covnert array to string for data storage:\n\t\t\tthis.props.setAttributes({ newsletters: selected.join() });\n\t\t}\n\n\t\tconst isSelected = ( ID ) => {\n\t\t\tlet newsletters = this.state.selected;\n\t\t\tif ( newsletters.includes(ID) ) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tlet newsletters = window.prcMailchimpBlock.interests;\n\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t{ newsletters.map((item, index) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<div class=\"item\">\n\t\t\t\t\t\t\t<Form.Field><Checkbox label={item.label} value={item.value} checked={ isSelected(item.value)} className=\"sans-serif\" onChange={ (e, data) => update(data.value) }/></Form.Field>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t}) }\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\trender = () => {\n\t\tlet classes = classNames(this.props.className, 'inverted', 'beige');\n\t\tconst newsletters = window.prcMailchimpBlock.interests;\n\t\tconst SelectNewsletters = this.selectNewsletters;\n\t\t\n\t\treturn(\n\t\t\t<SemanticCard fluid className={classes}>\n\t\t\t\t<SemanticCard.Header>Follow Us</SemanticCard.Header>\n\n\t\t\t\t<SemanticCard.Content>\n\t\t\t\t\t<div class=\"ui sub header\">Social Media</div>\n\t\t\t\t\t{/* Edit */}\n\t\t\t\t\t{ false !== this.props.setAttributes && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"ul\"\n\t\t\t\t\t\t\tvalue={ this.props.socialMedia }\n\t\t\t\t\t\t\tonChange={ ( socialMedia ) => {\n\t\t\t\t\t\t\t\tthis.props.setAttributes( { socialMedia } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t\tformattingControls={ ['link'] }\n\t\t\t\t\t\t\tplaceholder={ this.props.socialMedia }\n\t\t\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\t\t\tclassName=\"ui link list\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{/* Display */}\n\t\t\t\t\t{ false === this.props.setAttributes && true === this.props.editMode && (\n\t\t\t\t\t\tthis.props.children\n\t\t\t\t\t) }\n\t\t\t\t\t{ false === this.props.setAttributes && undefined === this.props.editMode && (\n\t\t\t\t\t\t<RawHTML>{this.props.children}</RawHTML>\n\t\t\t\t\t) }\n\t\t\t\t\t\n\t\t\t\t\t<div class=\"ui sub header\">Newsletters</div>\n\t\t\t\t\t<Form onSubmit={this.submitHandler}>\n\t\t\t\t\t\t<div class=\"ui list\">\n\t\t\t\t\t\t{ false === this.props.setAttributes && (\n\t\t\t\t\t\t\tnewsletters.map((item, index) => {\n\t\t\t\t\t\t\t\tif ( this.isSelected(item.value) ) {\n\t\t\t\t\t\t\t\t\treturn <div className=\"item\"><Form.Field><Checkbox label={item.label} value={item.value} className=\"sans-serif\" onChange={ (e, data) => this.selectNewsletter(data.value) }/></Form.Field></div>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ false !== this.props.setAttributes && (\n\t\t\t\t\t\t\t<SelectNewsletters/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Form.Field required>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tfluid \n\t\t\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t\t\taction={{\n\t\t\t\t\t\t\t\t\tcolor: 'secondary',\n\t\t\t\t\t\t\t\t\tsize: 'mini',\n\t\t\t\t\t\t\t\t\tcontent: 'Sign Up',\n\t\t\t\t\t\t\t\t\tloading: this.state.loading,\n\t\t\t\t\t\t\t\t\tstyle: {justifyContent: 'center', width: 'auto'}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\tplaceholder='Email Address'\n\t\t\t\t\t\t\t\tvalue={this.state.email}\n\t\t\t\t\t\t\t\tonChange={ (e) => this.setState({email: e.target.value}) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Form.Field>\n\t\t\t\t\t</Form>\n\t\t\t\t</SemanticCard.Content>\n\n\t\t\t</SemanticCard>\n\t\t)\n\t}\t\n}\n\nexport default FollowUs;","module.exports = wp.i18n;","module.exports = wp.apiFetch;"],"sourceRoot":""}