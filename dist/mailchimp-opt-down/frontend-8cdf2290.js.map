{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.element\"","webpack:///./src/mailchimp-opt-down/frontend.js","webpack:///./src/mailchimp-opt-down/component.js","webpack:///external \"ReactDOM\"","webpack:///external \"lodash\""],"names":["module","exports","React","wp","element","window","onload","document","querySelector","query","URLSearchParams","location","search","querySelectorAll","elm","props","interests","prcMailchimpBlock","emailAddress","get","render","MailchimpOptDown","withState","error","loading","list_id","choice","dimmerActive","dimmerMessage","setState","console","log","JSON","stringify","className","Input","label","placeholder","name","value","onChange","e","target","map","d","i","Checkbox","inline","readonly","defaultChecked","style","preventDefault","ReactDOM","lodash"],"mappings":";;;;;;;;;;;;;;;;;mJAAAA,EAAOC,QAAUC,O,iBCAjBF,EAAOC,QAAUE,GAAGC,S,0kCCIpBC,OAAOC,OAAS,WACZ,GAAIC,SAASC,cAAc,uBAAwB,CAC/C,IAD+C,EACzCC,EAAQ,IAAIC,gBAAgBL,OAAOM,SAASC,QADH,IAElCL,SAASM,iBAAiB,wBAFQ,IAK/C,2BAAwB,CAAC,IAAdC,EAAa,QACbC,EAAQ,CACVC,UAAWX,OAAOY,kBAAkBD,UACpCE,kBAA4C,IAAvBT,EAAMU,IAAI,SAA2BV,EAAMU,IAAI,SAAtD,IAEnBC,iBAAO,oBAAC,IAAqBL,GAAWD,IAVG,kC,gCCLvD,oCAaMO,EAAmBC,YATJ,CACjBC,OAAO,EACPC,SAAS,EACTC,QAAS,aACTC,QAAQ,EACRC,cAAc,EACdC,cAAe,wBAGMN,EAAwB,YAWtC,IATHG,EASE,EATFA,QACAT,EAQE,EARFA,UAGAU,GAKE,EAPFH,MAOE,EANFC,QAME,EALFE,QACAR,EAIE,EAJFA,aAGAW,GACE,EAHFF,aAGE,EAFFC,cAEE,EADFC,UAWA,OAHAC,QAAQC,IAAIC,KAAKC,UAAUjB,IAC3Bc,QAAQC,IAAIb,GAGV,oBAAC,IAAD,CAAMgB,UAAU,sBACd,oBAAC,IAAKC,MAAN,CACEC,MAAM,QACNC,YAAY,GACZC,KAAK,QACLC,MAAOrB,EACPsB,SAAW,SAAAC,GAAOZ,EAAS,CAACX,aAAcuB,EAAEC,OAAOH,WAEnD,wCAAYb,EAAM,gBAChBV,EAAU2B,KAAK,SAACC,EAAEC,GAAH,OACf,oBAAC,IAAKC,SAAN,CACEC,QAAM,EACNT,KAAK,YACLF,MAAOQ,EAAEL,QAAUd,EAAZ,wEAAgGmB,EAAER,MACzGG,MAAOK,EAAEL,MACTS,SAAUJ,EAAEL,QAAUd,EACtBwB,eAAgBL,EAAEL,QAAUd,EAC5ByB,MAAO,CAAE,QAAYN,EAAEL,QAAUd,EAAZ,kBACrBe,SAAW,SAAAC,GACLA,EAAEU,iBACFtB,EAAS,CAACH,QAASA,UAK/B,oBAAC,IAAD,+BAQGL,O,iBCpEfrB,EAAOC,QAAUmD,U,iBCAjBpD,EAAOC,QAAUoD,S","file":"mailchimp-opt-down/frontend-8cdf2290.js","sourcesContent":["module.exports = React;","module.exports = wp.element;","import { render } from '@wordpress/element';\nimport MailchimpOptDown from './component';\n\n// When the document is fully loaded load the mailchimp-form\nwindow.onload = () => {\n    if (document.querySelector('.mailchimp-opt-down')) {\n        const query = new URLSearchParams(window.location.search);\n        const elms = document.querySelectorAll('.mailchimp-opt-down',);\n\n        // eslint-disable-next-line no-restricted-syntax\n        for (const elm of elms) {\n             const props = {\n                 interests: window.prcMailchimpBlock.interests,\n                 emailAddress: typeof query.get('email') !== 'undefined' ? query.get('email') : ``,\n             };\n            render(<MailchimpOptDown {...props} />, elm);\n        }\n    }\n};\n","import { Component, Fragment, RawHTML } from '@wordpress/element';\nimport { withState } from '@wordpress/compose';\nimport { Form, Input, Dimmer, Button } from 'semantic-ui-react';\n\nconst defaultState = {\n    error: false,\n    loading: false,\n    list_id: '999f8eb858',\n    choice: true, // Mailchimp ID for Quarterly Update newsletter\n    dimmerActive: false,\n    dimmerMessage: 'BLANK DIMMER MESSAGE',\n};\n\nconst MailchimpOptDown = withState(defaultState)(({\n        //display,\n        list_id,\n        interests,\n        error,\n        loading,\n        choice,\n        emailAddress,\n        dimmerActive,\n        dimmerMessage,\n        setState,\n    }) => {\n\n        const submitHandler = e => {\n          e.preventDefault();\n        };\n\n\n        console.log(JSON.stringify(interests));\n        console.log(emailAddress);\n\n        return (\n          <Form className=\"mailchimp-opt-down\">\n            <Form.Input\n              label=\"Email\"\n              placeholder=\"\"\n              name=\"email\"\n              value={emailAddress}\n              onChange={ e => { setState({emailAddress: e.target.value})}}\n              />\n              <p>choice: {choice ? `true` : `false`}</p>\n              { interests.map( (d,i) =>\n                <Form.Checkbox\n                  inline\n                  name=\"interests\"\n                  label={d.value === list_id ? `Send me quarterly updates and unsubscribe from all other newsletters.` : d.label }\n                  value={d.value}\n                  readonly={d.value !== list_id ? true : false }\n                  defaultChecked={d.value === list_id ? true : false }\n                  style={{ 'display' : d.value !== list_id ? `none` : `inherit` }}\n                  onChange={ e => {\n                        e.preventDefault();\n                        setState({choice: !choice });\n                      }\n                    }\n                />\n              )}\n            <Button>Update preferences</Button>\n          </Form>\n        );\n\n    },\n\n);\n\nexport default MailchimpOptDown;\n","module.exports = ReactDOM;","module.exports = lodash;"],"sourceRoot":""}