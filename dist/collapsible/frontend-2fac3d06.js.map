{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.domReady\"","webpack:///external \"wp.blockEditor\"","webpack:///./src/collapsible/frontend.js","webpack:///./src/collapsible/component.js","webpack:///external \"wp.element\""],"names":["module","exports","React","wp","domReady","blockEditor","document","querySelector","querySelectorAll","elm","console","log","children","innerHTML","title","getAttribute","className","render","setAttributes","ALLOWED_BLOCKS","template","AccordionBlock","defaultOpen","useState","isOpen","setOpen","icon","styled","Title","active","index","onClick","name","tagName","value","onChange","t","placeholder","formattingControls","keepPlaceholderOnFocus","style","display","marginLeft","Content","allowedBlocks","element"],"mappings":";;;;;;;;;;;;;;;;;+HAAAA,EAAOC,QAAUC,O,kBCAjBF,EAAOC,QAAUE,GAAGC,U,iBCApBJ,EAAOC,QAAUE,GAAGE,a,0lCCIpBD,KAAS,WACL,GAAIE,SAASC,cAAc,yBAA0B,CACjD,IADiD,MACpCD,SAASE,iBAAiB,0BADU,IAEjD,2BAAwB,CAAC,IAAdC,EAAa,QACpBC,QAAQC,IAAIF,GACZ,IAAMG,EAAWH,EAAII,UACfC,EAAQL,EAAIM,aAAa,cACzBC,EAAYP,EAAIM,aAAa,cACnCE,iBACI,oBAAC,IAAD,CACIH,MAAOA,EACPE,UAAWA,EACXE,eAAe,GAEdN,GAELH,IAfyC,oC,2ECDnDU,EAAiB,CACnB,iBACA,eACA,aACA,YACA,oBAGEC,EAAW,CAAC,CAAC,iBAAkB,KA8EtBC,IA5EQ,SAAC,GAMjB,IALHP,EAKE,EALFA,MACAE,EAIE,EAJFA,UACAJ,EAGE,EAHFA,SAGE,IAFFM,qBAEE,aADFI,mBACE,WACwBC,mBAASD,GADjC,mBACKE,EADL,KACaC,EADb,KAGEC,EAAOF,EAAS,aAAe,cAKnC,MAJI,uBAAyBR,IACzBU,EAAOF,EAAS,QAAU,QAI1B,oBAAC,IAAD,CAAWG,QAAM,GACb,oBAAC,IAAUC,MAAX,CACIC,QAAQ,IAASL,EACjBM,MAAO,EACPC,QAAS,YACD,IAAUb,GACVO,GAASD,KAIjB,oBAAC,WAAD,KACK,uBAAyBR,GACtB,oBAAC,IAAD,CACIgB,KAAMN,EACNK,QAAS,YACD,IAAUb,GACVO,GAASD,OAKxB,IAAUN,GACP,oBAAC,WAAD,CACIe,QAAQ,MACRC,MAAOpB,EACPqB,SAAU,SAAAC,GAAC,OAAIlB,EAAc,CAAEJ,MAAOsB,KACtCC,YAAY,kBACZC,mBAAoB,GACpBC,wBAAsB,EACtBC,MAAO,CACHC,QAAS,mBAIpB,IAAUvB,GAAiB,gCAAOJ,GAClC,uBAAyBE,GACtB,oBAAC,IAAD,CACIgB,KAAMN,EACNc,MAAO,CAAEE,WAAY,SACrBX,QAAS,YACD,IAAUb,GACVO,GAASD,QAOjC,oBAAC,IAAUmB,QAAX,CAAmBd,QAAQ,IAASL,IAC/B,IAAUN,GACP,oBAAC,cAAD,CACI0B,cAAezB,EACfC,SAAUA,KAGjB,IAAUF,GAAiB,oBAAC,UAAD,KAAUN,O,gBCpFtDZ,EAAOC,QAAUE,GAAG0C,U","file":"collapsible/frontend-2fac3d06.js","sourcesContent":["module.exports = React;","module.exports = wp.domReady;","module.exports = wp.blockEditor;","import { render } from '@wordpress/element';\nimport domReady from '@wordpress/dom-ready';\nimport AccordionBlock from './component';\n\ndomReady(function() {\n    if (document.querySelector('.js-react-collapsible')) {\n        const elms = document.querySelectorAll('.js-react-collapsible');\n        for (const elm of elms) {\n            console.log(elm);\n            const children = elm.innerHTML;\n            const title = elm.getAttribute('data-title');\n            const className = elm.getAttribute('data-style');\n            render(\n                <AccordionBlock\n                    title={title}\n                    className={className}\n                    setAttributes={false}\n                >\n                    {children}\n                </AccordionBlock>,\n                elm,\n            );\n        }\n    }\n});\n","import { InnerBlocks, RichText } from '@wordpress/block-editor';\nimport { useState, Fragment, RawHTML } from '@wordpress/element';\nimport { Accordion, Icon } from 'semantic-ui-react';\n\nconst ALLOWED_BLOCKS = [\n    'core/paragraph',\n    'core/heading',\n    'core/image',\n    'core/list',\n    'prc-block/button',\n];\n\nconst template = [['core/paragraph', {}]];\n\nconst AccordionBlock = ({\n    title,\n    className,\n    children,\n    setAttributes = false,\n    defaultOpen = false,\n}) => {\n    const [isOpen, setOpen] = useState(defaultOpen);\n\n    let icon = isOpen ? 'caret down' : 'caret right';\n    if ('is-style-alternate' === className) {\n        icon = isOpen ? 'minus' : 'plus';\n    }\n\n    return (\n        <Accordion styled>\n            <Accordion.Title\n                active={true === isOpen}\n                index={0}\n                onClick={() => {\n                    if (false === setAttributes) {\n                        setOpen(!isOpen);\n                    }\n                }}\n            >\n                <Fragment>\n                    {'is-style-alternate' !== className && (\n                        <Icon\n                            name={icon}\n                            onClick={() => {\n                                if (false !== setAttributes) {\n                                    setOpen(!isOpen);\n                                }\n                            }}\n                        />\n                    )}\n                    {false !== setAttributes && (\n                        <RichText\n                            tagName=\"div\" // The tag here is the element output and editable in the admin\n                            value={title} // Any existing content, either from the database or an attribute default\n                            onChange={t => setAttributes({ title: t })} // Store updated content as a block attribute\n                            placeholder=\"How we did this\" // Display this text before any content has been added by the user\n                            formattingControls={[]}\n                            keepPlaceholderOnFocus\n                            style={{\n                                display: 'inline-block',\n                            }}\n                        />\n                    )}\n                    {false === setAttributes && <span>{title}</span>}\n                    {'is-style-alternate' === className && (\n                        <Icon\n                            name={icon}\n                            style={{ marginLeft: '0.5em' }}\n                            onClick={() => {\n                                if (false !== setAttributes) {\n                                    setOpen(!isOpen);\n                                }\n                            }}\n                        />\n                    )}\n                </Fragment>\n            </Accordion.Title>\n            <Accordion.Content active={true === isOpen}>\n                {false !== setAttributes && (\n                    <InnerBlocks\n                        allowedBlocks={ALLOWED_BLOCKS}\n                        template={template}\n                    />\n                )}\n                {false === setAttributes && <RawHTML>{children}</RawHTML>}\n            </Accordion.Content>\n        </Accordion>\n    );\n};\n\nexport default AccordionBlock;\n","module.exports = wp.element;"],"sourceRoot":""}