{"version":3,"sources":["webpack:///external [\"wp\",\"domReady\"]","webpack:///external [\"wp\",\"url\"]","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///./src/social-link/frontend.js"],"names":["module","exports","window","path","replace","concat","innerWidth","innerHeight","getArgs","elm","description","getAttribute","document","querySelector","title","url","prcSocialTools","querySelectorAll","forEach","addEventListener","e","preventDefault","actionUrl","addQueryArgs","u","open","stopPropagation","summary","source","text","domReady","console","log"],"mappings":";;;;;;;;;;;;;;;;;0HAAcA,EAAOC,QAAUC,OAAW,GAAY,U,iBCAxCF,EAAOC,QAAUC,OAAW,GAAO,K,mBCSjC,IAAIC,EAAK,uBAA6CC,QAAQ,kBAAkB,IAChG,IAAwBF,OAAO,YAAYG,OAAOF,K,6ECVlD,oCAGA,EAAoCD,OAA5BI,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,YAEdC,EAAU,SAAAC,GACZ,IAAIC,EAAcD,EAAIE,aAAa,qBAC9BD,IACDA,EAAcE,SACTC,cAAc,mCACdF,aAAa,YAEtB,IAAIG,EAAQL,EAAIE,aAAa,eACxBG,IACDA,EAAQF,SACHC,cAAc,6BACdF,aAAa,YAGtB,IAAII,EAAMN,EAAIE,aAAa,aAM3B,OALKI,IACDA,EAAMH,SACDC,cAAc,2BACdF,aAAa,YAEf,CACHI,MACAL,cACAI,UAiFFE,EAAiB,WA5ELJ,SAASK,iBAAiB,yBAClCC,SAAQ,SAAAT,GACV,MAAoCD,EAAQC,GAApCM,EAAR,EAAQA,IAAR,EAAaD,MAAb,EAAoBJ,YAEpBD,EAAIU,iBAAiB,SAAS,SAAAC,GAC1BA,EAAEC,iBACF,IAAMC,EAAYC,uBACd,6CACA,CACIC,EAAGT,IAGXb,OAAOuB,KACHH,EACA,gBAFJ,qCAGkCf,EAAc,EACxC,IAJR,kBAIqBD,EAAa,EAC1B,IALR,oEAOAc,EAAEM,wBAMId,SAASK,iBAAiB,yBAClCC,SAAQ,SAAAT,GACV,MAAoCD,EAAQC,GAApCM,EAAR,EAAQA,IAAKD,EAAb,EAAaA,MAAOJ,EAApB,EAAoBA,YAEpBD,EAAIU,iBAAiB,SAAS,SAAAC,GAC1BA,EAAEC,iBACF,IAAMC,EAAYC,uBACd,wCACA,CAEII,QAASjB,EACTK,MACAD,QACAc,OAAQ,gBAGhB1B,OAAOuB,KACHH,EACA,sBAFJ,qCAGkCf,EAAc,EACxC,IAJR,kBAIqBD,EAAa,EAC1B,IALR,oEAOAc,EAAEM,wBAMId,SAASK,iBAAiB,wBAClCC,SAAQ,SAAAT,GACV,MAAoCD,EAAQC,GAApCM,EAAR,EAAQA,IAAYL,GAApB,EAAaI,MAAb,EAAoBJ,aAEpBD,EAAIU,iBAAiB,SAAS,SAAAC,GAC1BA,EAAEC,iBACF,IAAMC,EAAYC,uBAAa,mCAAoC,CAC/DM,KAAMnB,EACNK,QAEJb,OAAOuB,KACHH,EACA,kBAFJ,qCAGkCf,EAAc,EACxC,IAJR,kBAIqBD,EAAa,EAC1B,IALR,oEAOAc,EAAEM,yBAWdI,KAAS,WACLC,QAAQC,IAAI,6BACZhB,S","file":"frontend/social-link-8b2ee6b8.js","sourcesContent":["(function() { module.exports = window[\"wp\"][\"domReady\"]; }());","(function() { module.exports = window[\"wp\"][\"url\"]; }());","/* eslint-disable camelcase */ /* eslint-disable babel/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","import domReady from '@wordpress/dom-ready';\nimport { addQueryArgs } from '@wordpress/url';\n\nconst { innerWidth, innerHeight } = window;\n\nconst getArgs = elm => {\n    let description = elm.getAttribute('share-description');\n    if (!description) {\n        description = document\n            .querySelector('meta[property=\"og:description\"]')\n            .getAttribute('content');\n    }\n    let title = elm.getAttribute('share-title');\n    if (!title) {\n        title = document\n            .querySelector('meta[property=\"og:title\"]')\n            .getAttribute('content');\n    }\n\n    let url = elm.getAttribute('share-url');\n    if (!url) {\n        url = document\n            .querySelector('meta[property=\"og:url\"]')\n            .getAttribute('content');\n    }\n    return {\n        url,\n        description,\n        title,\n    };\n};\n\nconst initFacebookLinks = () => {\n    const items = document.querySelectorAll('.social-link.facebook');\n    items.forEach(elm => {\n        const { url, title, description } = getArgs(elm);\n\n        elm.addEventListener('click', e => {\n            e.preventDefault();\n            const actionUrl = addQueryArgs(\n                'https://www.facebook.com/sharer/sharer.php',\n                {\n                    u: url,\n                },\n            );\n            window.open(\n                actionUrl,\n                'fbShareWindow',\n                `height=450, width=550, top=${innerHeight / 2 -\n                    275}, left=${innerWidth / 2 -\n                    225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`,\n            );\n            e.stopPropagation();\n        });\n    });\n};\n\nconst initLinkedInLinks = () => {\n    const items = document.querySelectorAll('.social-link.linkedin');\n    items.forEach(elm => {\n        const { url, title, description } = getArgs(elm);\n\n        elm.addEventListener('click', e => {\n            e.preventDefault();\n            const actionUrl = addQueryArgs(\n                'https://www.linkedin.com/shareArticle',\n                {\n                    // mini: true,\n                    summary: description,\n                    url,\n                    title,\n                    source: 'PewResearch',\n                },\n            );\n            window.open(\n                actionUrl,\n                'linkedinShareWindow',\n                `height=450, width=550, top=${innerHeight / 2 -\n                    275}, left=${innerWidth / 2 -\n                    225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`,\n            );\n            e.stopPropagation();\n        });\n    });\n};\n\nconst initTwitterLinks = () => {\n    const items = document.querySelectorAll('.social-link.twitter');\n    items.forEach(elm => {\n        const { url, title, description } = getArgs(elm);\n\n        elm.addEventListener('click', e => {\n            e.preventDefault();\n            const actionUrl = addQueryArgs('https://twitter.com/intent/tweet', {\n                text: description,\n                url,\n            });\n            window.open(\n                actionUrl,\n                'twtrShareWindow',\n                `height=450, width=550, top=${innerHeight / 2 -\n                    275}, left=${innerWidth / 2 -\n                    225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`,\n            );\n            e.stopPropagation();\n        });\n    });\n};\n\nconst prcSocialTools = () => {\n    initFacebookLinks();\n    initLinkedInLinks();\n    initTwitterLinks();\n};\n\ndomReady(() => {\n    console.log('!!!! Social Link Frontend');\n    prcSocialTools();\n});\n"],"sourceRoot":""}