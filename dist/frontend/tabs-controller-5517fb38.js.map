{"version":3,"sources":["webpack:///external [\"wp\",\"domReady\"]","webpack:///external [\"wp\",\"url\"]","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///./src/tabs/controller/frontend.js"],"names":["module","exports","window","path","replace","concat","domReady","document","querySelectorAll","forEach","t","id","getAttribute","isAccordion","classList","contains","menuItem","uuid","addEventListener","currentlyActiveMenuItem","getElementById","querySelector","remove","currentlyActivePane","hideActive","console","log","toggle","add","pane","newUrlArgs","newUrl","addQueryArgs","location","href","removeQueryArgs","history","pushState","title","makeActive","getQueryArg","target","setTimeout","scrollIntoView"],"mappings":";;;;;;;;;;;;;;;;;2HAAcA,EAAOC,QAAUC,OAAW,GAAY,U,iBCAxCF,EAAOC,QAAUC,OAAW,GAAO,K,mBCSjC,IAAIC,EAAK,uBAA6CC,QAAQ,kBAAkB,IAChG,IAAwBF,OAAO,YAAYG,OAAOF,K,6ECVlD,oCA6EAG,KAAS,WACQC,SAASC,iBAAiB,4BAClCC,SAAQ,SAAAC,GACT,IAAMC,EAAKD,EAAEE,aAAa,MACpBC,EAAcH,EAAEI,UAAUC,SAAS,aAEvBL,EAAEF,iBAChB,sCAEMC,SAAQ,SAAAO,GACd,IAAMC,EAAOD,EAASJ,aAAa,aACbI,EAAdF,UACRE,EAASE,iBAAiB,SAAS,YA5B5B,SAAAP,GACf,IAAMQ,EAA0BZ,SAC3Ba,eAAeT,GACfU,cAF2B,6CAG5BF,GACAA,EAAwBL,UAAUQ,OAAO,UAG7C,IAAMC,EAAsBhB,SACvBa,eAAeT,GACfU,cAFuB,wCAGxBE,GACAA,EAAoBT,UAAUQ,OAAO,UAiB7BE,CAAWb,GAnER,SAACM,EAAMN,EAAIE,GAC1BY,QAAQC,IAAI,aAAcT,EAAMN,EAAIE,GACpC,IAAMG,EAAWT,SAASc,cAAT,wDACoCJ,EADpC,OAGbD,IACIH,GACAY,QAAQC,IAAI,WAAYV,GACxBA,EAASF,UAAUa,OAAO,YAE1BF,QAAQC,IAAI,iBACZV,EAASF,UAAUc,IAAI,YAI/B,IAAMC,EAAOtB,SAASc,cAAT,mDACmCJ,EADnC,OAGb,GAAIY,EAAM,CAEN,IAAMC,EAAa,CAAEd,SAAUC,GAC3Bc,EAASC,uBAAa9B,OAAO+B,SAASC,KAAMJ,GAE5CjB,IACI,IAASgB,EAAKf,UAAUC,SAAS,WACjCgB,EAASI,0BAAgBJ,EAAQ,YACjCF,EAAKf,UAAUQ,OAAO,WAK1BO,EAAKf,UAAUc,IAAI,UAGvB1B,OAAOkC,QAAQC,UAAUP,EAAYvB,SAAS+B,MAAOP,IAkC7CQ,CAAWtB,EAAMN,EAAIE,YArFd,WACnB,IAAMI,EAAOuB,sBAAYtC,OAAO+B,SAASC,KAAM,YAC/C,GAAIjB,EAAM,CACN,IAAMwB,EAASlC,SAASc,cAAT,wDACsCJ,EADtC,OAGfyB,YAAW,kBAAMD,EAAOE,gBAAe,KAAO,MAmFlDA,Q","file":"frontend/tabs-controller-5517fb38.js","sourcesContent":["(function() { module.exports = window[\"wp\"][\"domReady\"]; }());","(function() { module.exports = window[\"wp\"][\"url\"]; }());","/* eslint-disable camelcase */ /* eslint-disable babel/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\nimport { addQueryArgs, removeQueryArgs, getQueryArg } from '@wordpress/url';\n\nconst scrollIntoView = () => {\n    const uuid = getQueryArg(window.location.href, 'menuItem');\n    if (uuid) {\n        const target = document.querySelector(\n            `.wp-block-prc-block-tabs-menu-item[data-uuid=\"${uuid}\"]`,\n        );\n        setTimeout(() => target.scrollIntoView(true), 1000);\n    }\n};\n\n/**\n * Sets a title/item and content/tab active by UUID.\n * Accepts a boolean for isAccordion if true changes the logic to hide currently active items if clicked on again.\n * @param {string} uuid\n * @param {boolean} isAccordion\n * @returns New window.history state.\n */\nconst makeActive = (uuid, id, isAccordion) => {\n    console.log('makeActive', uuid, id, isAccordion);\n    const menuItem = document.querySelector(\n        `.wp-block-prc-block-tabs-menu-item[data-uuid=\"${uuid}\"]`,\n    );\n    if (menuItem) {\n        if (isAccordion) {\n            console.log('menuItem', menuItem);\n            menuItem.classList.toggle('active');\n        } else {\n            console.log('not accordion');\n            menuItem.classList.add('active');\n        }\n    }\n\n    const pane = document.querySelector(\n        `.wp-block-prc-block-tabs-pane[data-uuid=\"${uuid}\"]`,\n    );\n    if (pane) {\n        // Update the url with new ?menuItem arg.\n        const newUrlArgs = { menuItem: uuid };\n        let newUrl = addQueryArgs(window.location.href, newUrlArgs);\n\n        if (isAccordion) {\n            if (true === pane.classList.contains('active')) {\n                newUrl = removeQueryArgs(newUrl, 'menuItem');\n                pane.classList.remove('active');\n            } else {\n                pane.classList.add('active');\n            }\n        } else {\n            pane.classList.add('active');\n        }\n\n        window.history.pushState(newUrlArgs, document.title, newUrl);\n    }\n};\n\nconst hideActive = id => {\n    const currentlyActiveMenuItem = document\n        .getElementById(id)\n        .querySelector(`.wp-block-prc-block-tabs-menu-item.active`);\n    if (currentlyActiveMenuItem) {\n        currentlyActiveMenuItem.classList.remove('active');\n    }\n\n    const currentlyActivePane = document\n        .getElementById(id)\n        .querySelector(`.wp-block-prc-block-tabs-pane.active`);\n    if (currentlyActivePane) {\n        currentlyActivePane.classList.remove('active');\n    }\n};\n\ndomReady(() => {\n    const tabs = document.querySelectorAll('.wp-block-prc-block-tabs');\n    tabs.forEach(t => {\n        const id = t.getAttribute('id');\n        const isAccordion = t.classList.contains('accordion');\n\n        const menuItems = t.querySelectorAll(\n            '.wp-block-prc-block-tabs-menu-item',\n        );\n        menuItems.forEach(menuItem => {\n            const uuid = menuItem.getAttribute('data-uuid');\n            const { classList } = menuItem;\n            menuItem.addEventListener('click', () => {\n                hideActive(id);\n                makeActive(uuid, id, isAccordion);\n            });\n        });\n    });\n    scrollIntoView();\n});\n"],"sourceRoot":""}