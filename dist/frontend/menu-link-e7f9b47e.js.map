{"version":3,"sources":["webpack:///external \"wp.domReady\"","webpack:///external \"wp.url\"","webpack:///./src/menu-link/frontend.js","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js"],"names":["module","exports","wp","domReady","url","onClick","elm","parentElement","classList","toggle","nextElementSibling","newUrlArgs","menuItemId","dataset","target","newUrl","addQueryArgs","window","location","href","contains","removeQueryArgs","history","pushState","document","title","console","log","menutItemId","getQueryArg","querySelector","checkForQueryVar","querySelectorAll","forEach","l","addEventListener","t","path","replace","concat"],"mappings":";;;;;;;;;;;;;;;;;0HAAAA,EAAOC,QAAUC,GAAGC,U,iBCApBH,EAAOC,QAAUC,GAAGE,K,6ECApB,oCAGMC,EAAU,SAAAC,GACZA,EAAIC,cAAcC,UAAUC,OAAO,UACnCH,EAAII,mBAAmBF,UAAUC,OAAO,UAExC,IAAME,EAAa,CAAEC,WAAYN,EAAIO,QAAQC,QACzCC,EAASC,uBAAaC,OAAOC,SAASC,KAAMR,GAC3CL,EAAIC,cAAcC,UAAUY,SAAS,YAEtCL,EAASM,0BAAgBJ,OAAOC,SAASC,KAAM,eAEnDF,OAAOK,QAAQC,UAAUZ,EAAYa,SAASC,MAAOV,IAgBzDZ,KAAS,YAbgB,WACrBuB,QAAQC,IAAI,oBACZ,IAAMC,EAAcC,sBAAYZ,OAAOC,SAASC,KAAM,cACtDO,QAAQC,IAAIC,GACZ,IAAMtB,EAAMkB,SAASM,cAAT,wCACyBF,EADzB,OAGZF,QAAQC,IAAIrB,GACRA,GACAD,EAAQC,GAKZyB,GACgBP,SAASQ,iBAAiB,oBAClCC,SAAQ,SAAAC,GACZA,EAAEC,iBAAiB,SAAS,SAAAC,GACxB/B,EAAQ+B,EAAEtB,kB,gCCzBN,IAAIuB,EAAK,uBAA6CC,QAAQ,kBAAkB,IAChG,IAAwBrB,OAAO,YAAYsB,OAAOF,M","file":"frontend/menu-link-e7f9b47e.js","sourcesContent":["module.exports = wp.domReady;","module.exports = wp.url;","import domReady from '@wordpress/dom-ready';\nimport { addQueryArgs, removeQueryArgs, getQueryArg } from '@wordpress/url';\n\nconst onClick = elm => {\n    elm.parentElement.classList.toggle('active');\n    elm.nextElementSibling.classList.toggle('hidden');\n\n    const newUrlArgs = { menuItemId: elm.dataset.target };\n    let newUrl = addQueryArgs(window.location.href, newUrlArgs);\n    if (!elm.parentElement.classList.contains('active')) {\n        // Update the url with new ?menuItemId arg.\n        newUrl = removeQueryArgs(window.location.href, 'menuItemId');\n    }\n    window.history.pushState(newUrlArgs, document.title, newUrl);\n};\n\nconst checkForQueryVar = () => {\n    console.log('checkForQueryVar');\n    const menutItemId = getQueryArg(window.location.href, 'menuItemId');\n    console.log(menutItemId);\n    const elm = document.querySelector(\n        `.expand-sub-list[data-target=\"${menutItemId}\"]`,\n    );\n    console.log(elm);\n    if (elm) {\n        onClick(elm);\n    }\n};\n\ndomReady(() => {\n    checkForQueryVar();\n    const targets = document.querySelectorAll('.expand-sub-list');\n    targets.forEach(l => {\n        l.addEventListener('click', t => {\n            onClick(t.target);\n        });\n    });\n});\n","\"use strict\";/* eslint-disable @typescript-eslint/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}"],"sourceRoot":""}