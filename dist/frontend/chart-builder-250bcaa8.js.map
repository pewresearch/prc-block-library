{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.element\"","webpack:///external \"wp.domReady\"","webpack:///external \"regeneratorRuntime\"","webpack:///external \"lodash\"","webpack:///./src/chart-builder/utils/colors.js","webpack:///./src/chart-builder/utils/helpers.js","webpack:///./src/chart-builder/frontend.js","webpack:///external \"wp.i18n\""],"names":["module","exports","React","wp","element","domReady","regeneratorRuntime","lodash","colors","general","stringToArrayOfNums","str","split","map","Number","filter","num","isNaN","getDomain","min","max","type","scale","axis","orientation","Date","parseFloat","renderCharts","document","querySelectorAll","forEach","chart","el","ticks","layout","xAxis","yAxis","hash","json","xTicks","yTicks","renderEl","querySelector","config","masterConfig","dataset","chartHash","window","chartConfigs","xTickExact","yTickExact","chartType","chartOrientation","width","height","padding","top","paddingTop","bottom","paddingBottom","left","paddingLeft","right","paddingRight","active","xAxisActive","label","xLabel","xScale","dateFormat","xScaleFormat","domain","xMinDomain","xMaxDomain","tickCount","xTickNum","tickValues","length","tick","domainPadding","xDomainPadding","yAxisActive","yScale","yScaleFormat","yTickNum","yMinDomain","yMaxDomain","yDomainPadding","showZero","showYMinDomainLabel","dataRender","xFormat","yFormat","sortKey","sortOrder","tooltip","tooltipActive","format","tooltipFormat","animate","duration","line","interpolation","lineInterpolation","showPoints","lineNodes","showArea","strokeWidth","lineStrokeWidth","pointSize","lineNodeSize","pointStrokeWidth","lineNodeStroke","areaFillOpacity","legend","legendPosition","bar","barWidth","barToSpaceRatio","groupOffset","barGroupOffset","scatter","labels","labelsActive","color","fontWeight","fontSize","labelPositionDX","labelPositionDY","labelBarPosition","barLabelPosition","labelCutoff","barLabelCutoff","labelCutoffMobile","barLabelCutoffMobile","pieLabelRadius","legendActive","legendOrientation","title","legendTitle","offsetX","legendOffsetX","offsetY","legendOffsetY","markerStyle","legendMarkerStyle","borderStroke","legendBorderStroke","fill","legendFill","metadata","metaTextActive","metaTitle","subtitle","metaSubtitle","note","metaNote","source","metaSource","tag","metaTag","customColors","colorObj","colorValue","dataArrStr","innerText","dataArr","JSON","parse","dataObj","arr","headers","categories","body","seriesData","scaleData","data","getTime","i","series","row","x","y","category","yLabel","push","arrayToDataObj","formattedData","panes","menuItem","render","horizontalRules","Table","celled","Header","Row","cell","Cell","Body","Tab","console","log","i18n"],"mappings":"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","file":"frontend/chart-builder-250bcaa8.js","sourcesContent":["module.exports = React;","module.exports = wp.element;","module.exports = wp.domReady;","module.exports = regeneratorRuntime;","module.exports = lodash;","const colors = {\n  general: ['#436983', '#bf3927', '#756a7e', '#ea9e2c'],\n  'politics-main': ['#d1a730', '#a55a26', '#949d48'],\n  'global-main': ['#949d48', '#006699', '#a55a26'],\n  'religion-main': ['#0090bf', '#a55a26', '#949d48'],\n  'social-trends-main': ['#377668', '#d1a730', '#949d48'],\n  'journalism-main': ['#733d47', '#d1a730', '#949d48'],\n  'internet-main': ['#006699', '#949d48', '#d1a730'],\n  'hispanic-main': ['#a55a26', '#d1a730', '#949d48'],\n  'politics-spectrum': [\n    '#D1A730',\n    '#F6EED6',\n    '#ECDBAC',\n    '#E4CB83',\n    '#9E7F2D',\n    '#6A5522',\n  ],\n  'global-spectrum': [\n    '#949D48',\n    '#EAECD8',\n    '#D6DAB3',\n    '#C2C98B',\n    '#6E7537',\n    '#494E24',\n  ],\n  'religion-spectrum': [\n    '#0090C0',\n    '#C9DEEE',\n    '#9DC7E1',\n    '#71B2D6',\n    '#0073A5',\n    '#00557E',\n  ],\n  'journalism-spectrum': [\n    '#733D47',\n    '#E8D3D7',\n    '#D1A8AF',\n    '#BC7B86',\n    '#552E35',\n    '#391E22',\n  ],\n  'social-trends-spectrum': [\n    '#387668',\n    '#D1E9E4',\n    '#A2D2C8',\n    '#64B6AA',\n    '#005645',\n    '#003A2C',\n  ],\n  'hispanic-spectrum': [\n    '#A55A26',\n    '#F2DBCD',\n    '#E7BA9A',\n    '#DE996A',\n    '#7C441C',\n    '#532E16',\n  ],\n  'internet-spectrum': [\n    '#006699',\n    '#C9D1E1',\n    '#9DAECB',\n    '#7591B7',\n    '#004A75',\n    '#002748',\n  ],\n  'blue-spectrum': [\n    '#456A83',\n    '#D5E1E9',\n    '#ACC4D3',\n    '#82A6BF',\n    '#335062',\n    '#213441',\n  ],\n  'green-spectrum': [\n    '#949D48',\n    '#EAECD8',\n    '#D6DAB3',\n    '#C2C98B',\n    '#6E7537',\n    '#494E24',\n  ],\n  'purple-spectrum': [\n    '#746A7E',\n    '#E3E1E5',\n    '#C7C1CB',\n    '#ACA4B1',\n    '#584F5E',\n    '#3A343F',\n  ],\n  'medium-brown-spectrum': [\n    '#A55A26',\n    '#F2DBCD',\n    '#E7BA9A',\n    '#DE996A',\n    '#7C441C',\n    '#532E16',\n  ],\n  'light-brown-spectrum': [\n    '#D1A730',\n    '#F6EED6',\n    '#ECDBAC',\n    '#E4CB83',\n    '#9E7F2D',\n    '#6A5522',\n  ],\n  'orange-spectrum': [\n    '#EA9E2C',\n    '#F9EAD4',\n    '#F5D6A9',\n    '#F1C37F',\n    '#BB792A',\n    '#7C5220',\n  ],\n  'red-spectrum': [\n    '#BF3B27',\n    '#F5D4CF',\n    '#EBABA2',\n    '#E37F73',\n    '#902D1E',\n    '#5F1D14',\n  ],\n};\n\nconst colorNames = [\n  { label: 'General', value: 'general' },\n  { label: 'Politics Main', value: 'politics-main' },\n  { label: 'Global Main', value: 'global-main' },\n  { label: 'Religion Main', value: 'religion-main' },\n  {\n    label: 'Social Trends Main',\n    value: 'social-trends-main',\n  },\n  { label: 'Journalism Main', value: 'journalism-main' },\n  { label: 'Internet Main', value: 'internet-main' },\n  { label: 'Hispanic Main', value: 'hispanic-main' },\n  {\n    label: 'Politics Spectrum',\n    value: 'politics-spectrum',\n  },\n  { label: 'Global Spectrum', value: 'global-spectrum' },\n  {\n    label: 'Religion Spectrum',\n    value: 'religion-spectrum',\n  },\n  {\n    label: 'Social Trends Spectrum',\n    value: 'social-trends-spectrum',\n  },\n  {\n    label: 'Journalism Spectrum',\n    value: 'journalism-spectrum',\n  },\n  {\n    label: 'Internet Spectrum',\n    value: 'internet-spectrum',\n  },\n  {\n    label: 'Hispanic Spectrum',\n    value: 'hispanic-spectrum',\n  },\n  { label: 'Blue Spectrum', value: 'blue-spectrum' },\n  { label: 'Green Spectrum', value: 'green-spectrum' },\n  { label: 'Purple Spectrum', value: 'purple-spectrum' },\n  {\n    label: 'Medium Brown Spectrum',\n    value: 'medium-brown-spectrum',\n  },\n  {\n    label: 'Light Brown Spectrum',\n    value: 'light-brown-spectrum',\n  },\n  { label: 'Orange Spectrum', value: 'orange-spectrum' },\n  { label: 'Red Spectrum', value: 'red-spectrum' },\n];\n\nexport { colors, colorNames };\n","// Transform data from table block into json useable for chart builder\nexport const formattedData = (data, scale, chartType) => {\n    const { body, tableHeaders } = data;\n    const seriesData = [];\n    const scaleData = (data, scale) => {\n        if (\n            chartType === 'bar' ||\n            chartType === 'stacked-bar' ||\n            chartType === 'pie'\n        ) {\n            return data;\n        }\n        if (scale === 'time') {\n            return new Date(data).getTime();\n        }\n        return parseFloat(data);\n    };\n    for (var i = 1; i < tableHeaders.length; i++) {\n        var series = body\n            .filter((row) => !isNaN(parseFloat(row.cells[i].content)))\n            .map((row) => ({\n                x: scaleData(row.cells[0].content, scale),\n                y: parseFloat(row.cells[i].content),\n                category: tableHeaders[i],\n                yLabel: `${parseFloat(row.cells[i].content)}`,\n            }));\n        seriesData.push(series);\n    }\n    return seriesData;\n};\n\nexport const stringToArrayOfNums = (str) => {\n    return str\n        .split(',')\n        .map(Number)\n        .filter((num) => !isNaN(num));\n};\n\nexport const getDomain = (min, max, type, scale, axis, orientation) => {\n    if (isNaN(min) || isNaN(max)) {\n        return [0, 100];\n    }\n    // x axis is a bit of a misnomer for bar types. It refers exclusively to the dependent axis.\n    if (type === 'bar' && axis === 'x') {\n        return null;\n    }\n    if (type === 'stacked-bar' && axis === 'x') {\n        return null;\n    }\n    // likewise, no domain for a pie chart\n    if (type === 'pie') {\n        return null;\n    }\n    if (scale === 'time' && axis === 'x') {\n        return [new Date(min, 0), new Date(max, 0)];\n    }\n    return [parseFloat(min), parseFloat(max)];\n};\n\nexport const getTicks = (ticks, scale) => {\n    if (scale === 'time') {\n        return ticks.map((tick) => new Date(`${tick}`));\n    }\n    return ticks;\n};\n\nexport const formatNum = (num, output) => {\n    if (typeof num === 'string' && output === 'integer') {\n        return parseInt(num);\n    }\n    if (typeof num === 'string' && output === 'float') {\n        return parseFloat(num);\n    }\n    return num;\n};\n\nexport const svgToCanvasToPng = (svg) => {};\n","/**\n * WordPress dependencies\n */\nimport domReady from '@wordpress/dom-ready';\nimport { render, Fragment } from '@wordpress/element';\n/**\n * External dependencies\n */\nimport { Tab, Table } from 'semantic-ui-react';\nimport {\n    ChartBuilderWrapper,\n    ChartBuilderTextWrapper,\n    masterConfig,\n} from '@prcdigital/chart-builder/dist';\n/**\n * Internal  dependencies\n */\nimport { colors as colorObj } from './utils/colors';\nimport { stringToArrayOfNums, getDomain, getTicks } from './utils/helpers';\nimport './styles.css';\n\nconst getConfig = (el) => {\n    const { layout, xAxis, yAxis } = masterConfig;\n    const hash = el.dataset.chartHash;\n    const json = window.chartConfigs[hash];\n    const xTicks = stringToArrayOfNums(json.xTickExact);\n    const yTicks = stringToArrayOfNums(json.yTickExact);\n    const config = {\n        ...masterConfig,\n        layout: {\n            ...layout,\n            type: json.chartType,\n            orientation: json.chartOrientation,\n            width: json.width,\n            height: json.height,\n            padding: {\n                top: json.paddingTop,\n                bottom: json.paddingBottom,\n                left: json.paddingLeft,\n                right: json.paddingRight,\n            },\n        },\n        // NOTE: xAxis is typically the dependent axis, except for when we've got a horizontal bar chart or dot plot\n        xAxis: {\n            ...xAxis,\n            active: json.xAxisActive,\n            label: json.xLabel,\n            scale: json.xScale,\n            dateFormat: json.xScaleFormat,\n            domain: getDomain(\n                json.xMinDomain,\n                json.xMaxDomain,\n                json.chartType,\n                json.xScale,\n                'x',\n                json.chartOrientation,\n            ),\n            padding: 50,\n            tickCount: json.xTickNum,\n            tickValues: xTicks.length <= 1 ? null : getTicks(xTicks, xScale),\n            domainPadding: json.xDomainPadding,\n        },\n        yAxis: {\n            ...yAxis,\n            active: json.yAxisActive,\n            scale: json.yScale,\n            dateFormat: json.yScaleFormat,\n            padding: 20,\n            tickCount: json.yTickNum,\n            tickValues: yTicks.length <= 1 ? null : yTicks,\n            domain: getDomain(\n                json.yMinDomain,\n                json.yMaxDomain,\n                json.chartType,\n                json.yScale,\n                'y',\n                json.chartOrientation,\n            ),\n            domainPadding: json.yDomainPadding,\n            showZero: json.showYMinDomainLabel,\n        },\n        dataRender: {\n            ...masterConfig.dataRender,\n            xScale: json.xScale,\n            yScale: json.yScale,\n            xFormat: json.xScaleFormat,\n            yFormat: json.yScaleFormat,\n            sortKey: 'x',\n            sortOrder: json.sortOrder,\n            // categories: categoryArray,\n        },\n        tooltip: {\n            active: json.tooltipActive,\n            format: json.tooltipFormat,\n        },\n        animate: {\n            active: false,\n            duration: 500,\n        },\n        line: {\n            ...masterConfig.line,\n            interpolation: json.lineInterpolation,\n            showPoints: json.lineNodes,\n            showArea: json.chartType === 'area' ? true : false,\n            strokeWidth: json.lineStrokeWidth,\n            pointSize: json.lineNodeSize,\n            pointStrokeWidth: json.lineNodeStroke,\n            areaFillOpacity: json.areaFillOpacity,\n        },\n        legend: {\n            active: false,\n            legendPosition: 'top',\n        },\n        bar: {\n            ...masterConfig.bar,\n            width: json.barWidth,\n            barToSpaceRatio: 0.8,\n            groupOffset: json.barGroupOffset,\n        },\n        scatter: {\n            pointSize: json.lineNodeSize,\n        },\n        labels: {\n            ...masterConfig.labels,\n            active: json.labelsActive,\n            color: 'black',\n            fontWeight: 200,\n            fontSize: 12,\n            labelPositionDX: json.labelPositionDX,\n            labelPositionDY: json.labelPositionDY,\n            labelBarPosition: json.barLabelPosition,\n            labelCutoff:\n                json.barLabelPosition === 'inside' ? json.barLabelCutoff : null,\n            labelCutoffMobile:\n                json.barLabelPosition === 'inside'\n                    ? json.barLabelCutoffMobile\n                    : null,\n            pieLabelRadius: 60,\n        },\n        legend: {\n            ...masterConfig.legend,\n            active: json.legendActive,\n            orientation: json.legendOrientation,\n            title: json.legendTitle,\n            offsetX: json.legendOffsetX,\n            offsetY: json.legendOffsetY,\n            markerStyle: json.legendMarkerStyle,\n            borderStroke: json.legendBorderStroke,\n            fill: json.legendFill,\n        },\n        metadata: {\n            ...masterConfig.metadata,\n            active: json.metaTextActive,\n            title: json.metaTitle,\n            subtitle: json.metaSubtitle,\n            note: json.metaNote,\n            source: json.metaSource,\n            tag: json.metaTag,\n        },\n        colors:\n            json.customColors.length > 0\n                ? json.customColors\n                : colorObj[json.colorValue],\n    };\n    return config;\n};\n\n//this feels redundant for the formatter function in helpers.js, but we need to mod slightly because the param is an array\nconst arrayToDataObj = (arr, scale, type) => {\n    const headers = arr[0];\n    const [, ...categories] = headers;\n    const [, ...body] = arr;\n    const seriesData = [];\n    const scaleData = (data, scale) => {\n        if (type === 'bar' || type === 'stacked-bar' || type === 'pie') {\n            return data;\n        }\n        if (scale === 'time') {\n            return new Date(data).getTime();\n        }\n        return parseFloat(data);\n    };\n    for (let i = 1; i < headers.length; i++) {\n        var series = body\n            .filter((row) => !isNaN(parseFloat(row[i])))\n            .map((row) => ({\n                x: scaleData(row[0], scale),\n                y: parseFloat(row[i]),\n                category: headers[i],\n                yLabel: `${parseFloat(row[i])}`,\n            }));\n        seriesData.push(series);\n    }\n    return { categories, seriesData };\n};\n\nconst renderCharts = () => {\n    const charts = document.querySelectorAll('.wp-chart-builder-wrapper');\n    charts.forEach((chart) => {\n        const renderEl = chart.querySelector('.wp-chart-builder-inner');\n        const config = getConfig(renderEl);\n        const dataArrStr = chart.querySelector('.table-array-data').innerText;\n        const dataArr = JSON.parse(dataArrStr);\n        const dataObj = arrayToDataObj(\n            dataArr,\n            config.xAxis.scale,\n            config.layout.type,\n        );\n        config.dataRender.categories = dataObj.categories;\n        const formattedData =\n            config.layout.type === 'pie'\n                ? dataObj.seriesData[0]\n                : dataObj.seriesData;\n        const panes = [\n            {\n                menuItem: 'Chart',\n                render: () => (\n                    <ChartBuilderTextWrapper\n                        active={config.metadata.active}\n                        width={config.layout.width}\n                        horizontalRules={config.layout.horizontalRules}\n                        title={config.metadata.title}\n                        subtitle={config.metadata.subtitle}\n                        note={config.metadata.note}\n                        source={config.metadata.source}\n                        tag={config.metadata.tag}\n                    >\n                        <ChartBuilderWrapper\n                            config={config}\n                            data={formattedData}\n                        />\n                    </ChartBuilderTextWrapper>\n                ),\n            },\n            {\n                menuItem: 'Table',\n                // render: () => <div dangerouslySetInnerHTML={createTable()} />,\n                render: () => (\n                    <Table celled>\n                        <Table.Header>\n                            <Table.Row>\n                                {dataArr[0].map((cell) => (\n                                    <Table.Cell>{cell}</Table.Cell>\n                                ))}\n                            </Table.Row>\n                        </Table.Header>\n                        <Table.Body>\n                            {dataArr\n                                .filter((row, i) => i > 0)\n                                .map((row) => (\n                                    <Table.Row>\n                                        {row.map((cell) => (\n                                            <Table.Cell>{cell}</Table.Cell>\n                                        ))}\n                                    </Table.Row>\n                                ))}\n                        </Table.Body>\n                    </Table>\n                ),\n            },\n        ];\n        render(<Tab panes={panes} />, renderEl);\n    });\n};\n\ndomReady(() => {\n    renderCharts();\n    console.log('frontend loaded');\n});\n","module.exports = wp.i18n;"],"sourceRoot":""}