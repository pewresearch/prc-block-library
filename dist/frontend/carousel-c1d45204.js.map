{"version":3,"sources":["webpack:///external [\"wp\",\"domReady\"]","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///./src/carousel/frontend.js"],"names":["module","exports","window","path","replace","concat","carouselActivated","domReady","carousels","document","querySelectorAll","length","forEach","carousel","lastCarouselSlide","querySelector","addEventListener","carouselTop","getBoundingClientRect","top","carouselHeight","height","classList","add","Math","round","abs","scrollTop","remove"],"mappings":";;;;;;;;;;;;;;;;;0HAAcA,EAAOC,QAAUC,OAAW,GAAY,U,mBCStC,IAAIC,EAAK,uBAA6CC,QAAQ,kBAAkB,IAChG,IAAwBF,OAAO,YAAYG,OAAOF,K,yGCKlDD,OAAOI,mBAAoB,EAE3BC,KAAS,WACR,IAAMC,EAAYC,SAASC,iBAAiB,gCAExCF,EAAUG,QACbH,EAAUI,SAAQ,SAACC,GAClB,IAAMC,EAAoBD,EAASE,cAClC,uCAIDb,OAAOc,iBAAiB,UAAU,WACjC,IAAMC,EAAcJ,EAASK,wBAAwBC,IAC/CC,EAAiBP,EAASK,wBAAwBG,OACpD,EAAIJ,IAAe,IAAUf,OAAOI,oBACvCO,EAASS,UAAUC,IAAI,UACvBd,SAASM,cAAc,QAAQO,UAAUC,IAAI,mBAC7CrB,OAAOI,mBAAoB,GAI3Bc,GAAkBI,KAAKC,MAAMD,KAAKE,IAAIT,KACtCf,OAAOI,oBAEPO,EAASc,UAAY,EACrBzB,OAAOI,mBAAoB,MAK7BO,EAASG,iBAAiB,UAAU,WAG/B,EADHF,EAAkBI,wBAAwBC,MAE1CN,EAASS,UAAUM,OAAO,UAC1BnB,SAASM,cAAc,QAAQO,UAAUM,OAAO,+B","file":"frontend/carousel-c1d45204.js","sourcesContent":["(function() { module.exports = window[\"wp\"][\"domReady\"]; }());","/* eslint-disable camelcase */ /* eslint-disable babel/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","/**\n * External Dependencies\n */\n// import Swiper from 'swiper';\n\n/**\n * WordPress Dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * Internal Dependencies\n */\nimport './style.scss';\n\nwindow.carouselActivated = false;\n\ndomReady(() => {\n\tconst carousels = document.querySelectorAll('.wp-block-prc-block-carousel');\n\n\tif (carousels.length) {\n\t\tcarousels.forEach((carousel) => {\n\t\t\tconst lastCarouselSlide = carousel.querySelector(\n\t\t\t\t':scope > .wp-block-group:last-child',\n\t\t\t);\n\n\t\t\t// Watch for scrolling on the document to activate the carousel.\n\t\t\twindow.addEventListener('scroll', () => {\n\t\t\t\tconst carouselTop = carousel.getBoundingClientRect().top;\n\t\t\t\tconst carouselHeight = carousel.getBoundingClientRect().height;\n\t\t\t\tif (0 > carouselTop && false === window.carouselActivated) {\n\t\t\t\t\tcarousel.classList.add('active');\n\t\t\t\t\tdocument.querySelector('body').classList.add('carousel-locked');\n\t\t\t\t\twindow.carouselActivated = true;\n\t\t\t\t}\n\t\t\t\t// If the carousel is scrolled to the bottom and out of view then reset the scroll position.\n\t\t\t\tif (\n\t\t\t\t\tcarouselHeight <= Math.round(Math.abs(carouselTop)) &&\n\t\t\t\t\twindow.carouselActivated\n\t\t\t\t) {\n\t\t\t\t\tcarousel.scrollTop = 0;\n\t\t\t\t\twindow.carouselActivated = false;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Watch scrolling INSIDE the carousel, when we reach the last slide unlock everything and reset the carousel scroll position to the top.\n\t\t\tcarousel.addEventListener('scroll', () => {\n\t\t\t\tconst lastCarouselSlideTop =\n\t\t\t\t\tlastCarouselSlide.getBoundingClientRect().top;\n\t\t\t\tif (0 > lastCarouselSlideTop) {\n\t\t\t\t\tcarousel.classList.remove('active');\n\t\t\t\t\tdocument.querySelector('body').classList.remove('carousel-locked');\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t}\n});\n"],"sourceRoot":""}