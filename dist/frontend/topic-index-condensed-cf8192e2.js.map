{"version":3,"sources":["webpack:///external \"wp.domReady\"","webpack:///external \"wp.url\"","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///./src/topic-index-condensed/controller/frontend.js"],"names":["module","exports","wp","domReady","url","path","replace","window","concat","makeActive","uuid","menu","document","querySelector","getAttribute","setAttribute","menuItem","classList","add","page","newUrlArgs","dataset","slug","newUrl","addQueryArgs","location","href","removeQueryArgs","history","pushState","title","active","prcTopicIndexCondensed","length","activeMenuItem","console","log","checkForQueryVar","querySelectorAll","forEach","i","addEventListener","elm","target","currentlyActiveMenuItem","remove","currentlyActivePage","hideActive"],"mappings":";;;;;;;;;;;;;;;;;2HAAAA,EAAOC,QAAUC,GAAGC,U,iBCApBH,EAAOC,QAAUC,GAAGE,K,gCCSJ,IAAIC,EAAK,uBAA6CC,QAAQ,kBAAkB,IAChG,IAAwBC,OAAO,YAAYC,OAAOH,K,6ECVlD,oCAGMI,EAAa,SAAAC,GACf,IAAMC,EAAOC,SAASC,cAClB,6EAEA,SAAWF,EAAKG,aAAa,sBAC7BH,EAAKI,aAAa,oBAAqB,SAE3C,IAAMC,EAAWJ,SAASC,cAAT,yEACqDH,EADrD,OAGbM,GACAA,EAASC,UAAUC,IAAI,UAG3B,IAAMC,EAAOP,SAASC,cAAT,oEACoDH,EADpD,OAGb,GAAIS,EAAM,CAEN,IAAMC,EAAa,CAAEJ,SAAUA,EAASK,QAAQC,MAC5CC,EAASC,uBAAajB,OAAOkB,SAASC,KAAMN,GAChDG,EAASI,0BAAgBJ,EAAQ,cACjChB,OAAOqB,QAAQC,UAAUT,EAAYR,SAASkB,MAAOP,GAErDJ,EAAKF,UAAUC,IAAI,YAiC3Bf,KAAS,YAbgB,WAAO,IAEpB4B,EAD2BxB,OAA3ByB,uBACAD,OACR,GAAI,GAAKA,EAAOE,OAAQ,CACpB,IAAMC,EAAiBtB,SAASC,cAAT,yEAC+CkB,EAD/C,OAGvBI,QAAQC,IAAIF,EAAeb,SAJP,IAKZX,EAASwB,EAAeb,QAAxBX,KACRD,EAAWC,IAKf2B,GAEkBzB,SAAS0B,iBACvB,uDAEMC,SAAQ,SAAAC,GACdA,EAAEC,iBAAiB,SAAS,SAAAC,GACxB,IAAMhC,EAAOgC,EAAIC,OAAO7B,aAAa,cArC9B,WACf,IAAM8B,EAA0BhC,SAASC,cAAT,8DAG5B+B,GACAA,EAAwB3B,UAAU4B,OAAO,UAG7C,IAAMC,EAAsBlC,SAASC,cAAT,yDAGxBiC,GACAA,EAAoB7B,UAAU4B,OAAO,UA0BjCE,GACAtC,EAAWC,c","file":"frontend/topic-index-condensed-cf8192e2.js","sourcesContent":["module.exports = wp.domReady;","module.exports = wp.url;","\"use strict\";/* eslint-disable @typescript-eslint/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","import domReady from '@wordpress/dom-ready';\nimport { addQueryArgs, removeQueryArgs } from '@wordpress/url';\n\nconst makeActive = uuid => {\n    const menu = document.querySelector(\n        '.wp-block-prc-block-topic-index-condensed .ui.vertical.fluid.tabular.menu',\n    );\n    if ('true' === menu.getAttribute('data-borderHidden')) {\n        menu.setAttribute('data-borderHidden', 'false');\n    }\n    const menuItem = document.querySelector(\n        `.wp-block-prc-block-topic-index-condensed-menu-item[data-uuid=\"${uuid}\"]`,\n    );\n    if (menuItem) {\n        menuItem.classList.add('active');\n    }\n\n    const page = document.querySelector(\n        `.wp-block-prc-block-topic-index-condensed-page[data-uuid=\"${uuid}\"]`,\n    );\n    if (page) {\n        // Update the url with new ?menuItem arg.\n        const newUrlArgs = { menuItem: menuItem.dataset.slug };\n        let newUrl = addQueryArgs(window.location.href, newUrlArgs);\n        newUrl = removeQueryArgs(newUrl, 'menuItemId');\n        window.history.pushState(newUrlArgs, document.title, newUrl);\n\n        page.classList.add('active');\n    }\n};\n\nconst hideActive = () => {\n    const currentlyActiveMenuItem = document.querySelector(\n        `.wp-block-prc-block-topic-index-condensed-menu-item.active`,\n    );\n    if (currentlyActiveMenuItem) {\n        currentlyActiveMenuItem.classList.remove('active');\n    }\n\n    const currentlyActivePage = document.querySelector(\n        `.wp-block-prc-block-topic-index-condensed-page.active`,\n    );\n    if (currentlyActivePage) {\n        currentlyActivePage.classList.remove('active');\n    }\n};\n\nconst checkForQueryVar = () => {\n    const { prcTopicIndexCondensed } = window;\n    const { active } = prcTopicIndexCondensed;\n    if (1 <= active.length) {\n        const activeMenuItem = document.querySelector(\n            `.wp-block-prc-block-topic-index-condensed-menu-item[data-slug=\"${active}\"]`,\n        );\n        console.log(activeMenuItem.dataset);\n        const { uuid } = activeMenuItem.dataset;\n        makeActive(uuid);\n    }\n};\n\ndomReady(() => {\n    checkForQueryVar();\n    // Key off menu items.\n    const menuItems = document.querySelectorAll(\n        '.wp-block-prc-block-topic-index-condensed-menu-item',\n    );\n    menuItems.forEach(i => {\n        i.addEventListener('click', elm => {\n            const uuid = elm.target.getAttribute('data-uuid');\n            hideActive();\n            makeActive(uuid);\n        });\n    });\n});\n"],"sourceRoot":""}