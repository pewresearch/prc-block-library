{"version":3,"sources":["webpack:///external [\"wp\",\"domReady\"]","webpack:///external [\"wp\",\"url\"]","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///./src/menu-link/frontend.js"],"names":["module","exports","window","path","replace","concat","domReady","setTimeout","existingArg","getQueryArg","location","href","document","querySelector","scrollIntoView","targets","querySelectorAll","forEach","l","addEventListener","t","elm","classList","contains","remove","add","parentElement","toggle","nextElementSibling","newUrlArgs","menuItemId","dataset","target","newUrl","addQueryArgs","removeQueryArgs","history","pushState","title","onClick"],"mappings":";;;;;;;;;;;;;;;;;2HAAcA,EAAOC,QAAUC,OAAW,GAAY,U,iBCAxCF,EAAOC,QAAUC,OAAW,GAAO,K,mBCSjC,IAAIC,EAAK,uBAA6CC,QAAQ,kBAAkB,IAChG,IAAwBF,OAAO,YAAYG,OAAOF,K,iHC4BlDG,KAAS,WACLC,YAAW,WARe,IACpBC,KAAcC,sBAAYP,OAAOQ,SAASC,KAAM,gBAElDC,SAASC,cAAT,wBAAwCL,EAAxC,OAAyDM,mBAO1D,KACH,IAAMC,EAAUH,SAASI,iBAAiB,oBACrCD,GACDA,EAAQE,SAAQ,SAAAC,GACZA,EAAEC,iBAAiB,SAAS,SAAAC,IAlCxB,SAAAC,GACPA,EAAIC,UAAUC,SAAS,SACxBF,EAAIC,UAAUE,OAAO,QACrBH,EAAIC,UAAUG,IAAI,WAElBJ,EAAIC,UAAUE,OAAO,SACrBH,EAAIC,UAAUG,IAAI,SAEtBJ,EAAIK,cAAcJ,UAAUK,OAAO,UACnCN,EAAIO,mBAAmBN,UAAUK,OAAO,UAExC,IAAME,EAAa,CAAEC,WAAYT,EAAIU,QAAQC,QACzCC,EAASC,uBAAahC,OAAOQ,SAASC,KAAMkB,GAC3CR,EAAIK,cAAcJ,UAAUC,SAAS,YAEtCU,EAASE,0BAAgBjC,OAAOQ,SAASC,KAAM,eAEnDT,OAAOkC,QAAQC,UAAUR,EAAYjB,SAAS0B,MAAOL,GAkBzCM,CAAQnB,EAAEY,mB","file":"frontend/menu-link-41b652e2.js","sourcesContent":["(function() { module.exports = window[\"wp\"][\"domReady\"]; }());","(function() { module.exports = window[\"wp\"][\"url\"]; }());","/* eslint-disable camelcase */ /* eslint-disable babel/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","/**\n * WordPress Dependencies\n */\nimport domReady from '@wordpress/dom-ready';\nimport { addQueryArgs, removeQueryArgs, getQueryArg } from '@wordpress/url';\n\n/**\n * Internal Dependencies\n */\nimport './style.scss';\n\nconst onClick = elm => {\n    if ( elm.classList.contains('plus') ) {\n        elm.classList.remove('plus');\n        elm.classList.add('minus');\n    } else {\n        elm.classList.remove('minus');\n        elm.classList.add('plus');\n    }\n    elm.parentElement.classList.toggle('active');\n    elm.nextElementSibling.classList.toggle('hidden');\n\n    const newUrlArgs = { menuItemId: elm.dataset.target };\n    let newUrl = addQueryArgs(window.location.href, newUrlArgs);\n    if (!elm.parentElement.classList.contains('active')) {\n        // Update the url with new ?menuItemId arg.\n        newUrl = removeQueryArgs(window.location.href, 'menuItemId');\n    }\n    window.history.pushState(newUrlArgs, document.title, newUrl);\n};\n\nconst bringMenuItemIntoView = () => {\n    const existingArg = getQueryArg(window.location.href, 'menuItemId');\n    if ( existingArg ) {\n        document.querySelector(`[data-target=\"${existingArg}\"]`).scrollIntoView();\n    }\n}\n\ndomReady(() => {\n    setTimeout(()=>{\n        bringMenuItemIntoView();\n    }, 600);\n    const targets = document.querySelectorAll('.expand-sub-list');\n    if ( targets ) {\n        targets.forEach(l => {\n            l.addEventListener('click', t => {\n                onClick(t.target);\n            });\n        });\n    }\n});\n"],"sourceRoot":""}