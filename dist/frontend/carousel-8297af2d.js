/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 2.1.17
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2022 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprcBlocksLibraryfrontendJsonp=window.wpackioprcBlocksLibraryfrontendJsonp||[]).push([[3],{1:function(e,t){e.exports=window.React},115:function(e,t){e.exports=window.wp.htmlEntities},126:function(e,t){e.exports=window.wp.blockEditor},169:function(e,t){e.exports=regeneratorRuntime},21:function(e,t){e.exports=window.wp.components},25:function(e,t){e.exports=window.wp.i18n},257:function(e,t){e.exports=window.wp.mediaUtils},29:function(e,t){e.exports=window.wp.domReady},329:function(e,t){e.exports=window.wp.primitives},332:function(e,t,o){"use strict";o.d(t,"a",(function(){return m})),o.d(t,"b",(function(){return v}));o(42),o(31);var n=o(125),c=(o(905),o(490),o(171)),r=o(64),l=o(9),i=o(25),a=o(21);o(15),o(57),o(81),o(491),o(23),o(169);var s,u=o(34),d=o(115);Object(c.a)(a.Button)(s||(s=Object(n.a)(["\n\t&:hover {\n\t\t/* Add opacity background to support future color changes */\n\t\t/* Reduce background from #ddd to 0.05 for text contrast  */\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\n\t\t.block-editor-link-control__search-item-type {\n\t\t\tcolor: black;\n\t\t}\n\t}\n\n\t.block-editor-link-control__search-item-type {\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\t}\n"])));var p,w,b=o(174),k=Object(b.c)((function(){return React.createElement("svg",{style:{marginRight:"5px",cursor:"grab",flexShrink:0},width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",role:"img","aria-hidden":"true",focusable:"false"},React.createElement("path",{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"}))})),f=Object(c.a)("div")(p||(p=Object(n.a)(["\n\tbutton {\n\t\tdisplay: block;\n\t\tpadding: 2px 8px 6px 8px;\n\t\tmargin-left: auto;\n\t\tfont-size: 2em;\n\t\tcursor: pointer;\n\t\tborder: none;\n\t\tbackground-color: transparent;\n\n\t\t&:hover {\n\t\t\tbackground-color: #ccc;\n\t\t}\n\t}\n"]))),g=function(e){var t=e.item,o=e.isOrderable,n=void 0!==o&&o,c=e.handleItemDelete,a=e.mode,s="post"===a?"postType":"taxonomy",p=Object(r.useSelect)((function(e){var o=e("core"),n=o.getEntityRecord,c=o.hasFinishedResolution,r=[s,t.type,t.id],l=n.apply(void 0,r);if(l){console.log("Has Item",l);var i={title:"post"===a?l.title.rendered:l.name,url:l.link,id:l.id};return t.uuid&&(i.uuid=t.uuid),i}if(c("getEntityRecord",r))return null}),[t.id,s]);return Object(l.useEffect)((function(){null===p&&c(t)}),[t,c,p]),p?React.createElement(f,{style:{border:"2px dashed #ddd",paddingTop:"10px",paddingBottom:"10px",paddingLeft:n?"3px":"8px"},className:"block-editor-link-control__search-item is-entity"},n?React.createElement(k,null):"",React.createElement("span",{className:"block-editor-link-control__search-item-header"},React.createElement("span",{className:"block-editor-link-control__search-item-title"},Object(d.decodeEntities)(p.title)),React.createElement("span",{"aria-hidden":!0,className:"block-editor-link-control__search-item-info"},Object(u.filterURLForDisplay)(Object(u.safeDecodeURI)(p.url))||"")),React.createElement("button",{type:"button",onClick:function(){c(p)},"aria-label":Object(i.__)("Delete item","10up-block-components")},"Ã—")):React.createElement("div",null)};Object(b.a)((function(e){var t=e.items,o=e.isOrderable,n=e.handleItemDelete,c=e.mode,r=e.ChildComponent,l=void 0!==r&&r,i=!1!==l?o?Object(b.b)(l):l:o?Object(b.b)(g):g;return React.createElement("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif'}},t.map((function(e,r){var l=e.uuid?e.uuid:e.id;return React.createElement(i,{isOrderable:!!(o&&1<t.length)&&o,key:"item-".concat(l),index:r,handleItemDelete:n,sortIndex:r,item:e,mode:c,totalItems:t.length})})))})),Object(c.a)("div")(w||(w=Object(n.a)(["\n\t& .block-editor-link-control__search-item {\n\t\tborder: none !important;\n\t\tcursor: default;\n\n\t\t&:hover {\n\t\t\tbackground: transparent;\n\t\t}\n\t}\n"])));o(876);o(126);o(898),o(493);o(494),o(331),o(257);function v(){return"_".concat(Math.random().toString(36).substr(2,9))}var m=[{label:"Weekly roundup of all new publications",value:"7c1390ba46"},{label:"Quarterly update from the president",value:"a33430a835"},{label:"--",value:!1},{label:"Global attitudes & trends (twice a month)",value:"9203343b04"},{label:"Internet, science & tech (monthly)",value:"ea87b26abe"},{label:"Daily briefing of media news",value:"1d2638430b"},{label:"Race & ethnicity (monthly)",value:"0e7495c7b2"},{label:"Religion & public life - Weekly newsletter",value:"a7d4f3268f"},{label:"Religion & public life - Daily religion headlines",value:"1a647764b2"},{label:"Social & demographic trends (monthly)",value:"3836f62305"},{label:"Methodological research (quarterly)",value:"6d1e80bbaf"},{label:"U.S. politics & policy (monthly)",value:"fa5fdbc701"},{label:"--",value:!1},{label:"Mini-course - U.S. Immigration",value:"xxx"},{label:"Mini-course - U.S. Census",value:"xxxx"},{label:"Mini-course - Muslims and Islam",value:"xxxxx"}]},34:function(e,t){e.exports=window.wp.url},38:function(e,t){e.exports=window.ReactDOM},493:function(e,t){e.exports=window.wp.blocks},494:function(e,t){e.exports=window.wp.keycodes},64:function(e,t){e.exports=window.wp.data},81:function(e,t){e.exports=window.wp.apiFetch},895:function(e,t,o){o(44),e.exports=o(896)},896:function(e,t,o){"use strict";o.r(t);var n=o(332),c=o(29),r=o.n(c);function l(e){if(!window.prcBlocks.carouselBlocks.watched.some((function(t){return t.id===e.target.id})))return null;var t=e.boundingClientRect.y,o=e.isIntersecting,n=e.intersectionRatio,c=e.target.id,r=window.prcBlocks.carouselBlocks.watched.find((function(e){return e.id===c})).y,l=window.prcBlocks.carouselBlocks.watched.find((function(e){return e.id===c})).ratio,i=null;return t<r?i=n>l&&o?"scrolling-down-enter":"scrolling-down-leave":t>r&&o&&(i=n<l?"scrolling-up-leave":"scrolling-up-enter"),window.prcBlocks.carouselBlocks.watched.find((function(e){return e.id===c})).y=t,window.prcBlocks.carouselBlocks.watched.find((function(e){return e.id===c})).ratio=n,i}function i(e,t){e&&!window.prcBlocks.carouselBlocks.activated.includes(e)&&(window.prcBlocks.carouselBlocks.activated.push(e),window.location.hash||window.prcBlocks.carouselBlocks.toggleBodyLock(!0),t.classList.add("active"),window.prcBlocks.carouselBlocks.debug&&console.warn("activating carousel",e))}function a(e){window.prcBlocks.carouselBlocks.watched.some((function(t){return t.id===e}))||window.prcBlocks.carouselBlocks.watched.push({id:e,y:0,ratio:0})}function s(e){e.forEach((function(e){var t=e.target.id,o=l(e);window.prcBlocks.carouselBlocks.debug&&console.log("observing change...",e,e.target.classList,o,t),"scrolling-down-enter"!==o||window.prcBlocks.carouselBlocks.activated.includes(t)||i(t,e.target),"scrolling-down-leave"===o&&window.prcBlocks.carouselBlocks.activated.includes(t)&&function(e){window.prcBlocks.carouselBlocks.activated=window.prcBlocks.carouselBlocks.activated.filter((function(t){return t!==e})),window.prcBlocks.carouselBlocks.debug&&console.warn("deactivating carousel",e)}(t)}))}function u(e){e.forEach((function(e){var t=e.target.id,o=e.target.parentElement,n=l(e),c=e.boundingClientRect.height,r=e.intersectionRect.height/c;console.log("Last Carousel Slide intersectionRatio: ",r),"scrolling-down-enter"===n&&.5<=r&&(window.prcBlocks.carouselBlocks.toggleBodyLock(!1),o.classList.remove("active"),window.prcBlocks.carouselBlocks.debug&&(console.log("This is exiting the carousel :: 'scrolling-down-enter' ->",e),console.warn("releasing carousel lock"))),"scrolling-up-enter"===n&&(window.prcBlocks.carouselBlocks.debug&&(console.log("Last Carousel Slide :: 'scrolling-up-enter' ->",e),console.warn("re-activating carousel lock")),i(t,o))}))}function d(e){e.forEach((function(e){var t=e.target.parentElement;"scrolling-up-enter"===l(e)&&(window.prcBlocks.carouselBlocks.toggleBodyLock(!1),t.classList.remove("active"),window.prcBlocks.carouselBlocks.debug&&(console.log("First Carousel Slide :: 'scrolling-up-enter' ->",e,window.prcBlocks),console.warn("de-activating carousel lock")))}))}window.hasOwnProperty("prcBlocks")||(window.prcBlocks={}),window.prcBlocks.carouselBlocks={debug:!1,watched:[],activated:[],toggleBodyLock:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.querySelector("body");!0===e?t.classList.add("carousel-locked"):t.classList.remove("carousel-locked")}},r()((function(){var e=document.querySelectorAll(".wp-block-prc-block-carousel"),t=Array.from(e),o=t.some((function(e){return e.getAttribute("data-is-mobile")}));console.log("isMobile",o,t);var c=new IntersectionObserver(s,{threshold:[.95]}),r=new MutationObserver((function(e,t){e.forEach((function(e){if("attributes"===e.type&&"class"===e.attributeName&&e.target.classList.contains("active")){var t=e.target.parentElement.parentElement;window.prcBlocks.carouselBlocks.debug&&console.log("Snapping cover block into view:",t),setTimeout((function(){t.scrollIntoView({behavior:"smooth",block:"start"})}),300)}}))})),l=new IntersectionObserver(u,{threshold:[.8]}),p=new IntersectionObserver(d,{threshold:[.7]});if(e.length&&(e.forEach((function(e){var t=e.querySelector(":scope > .wp-block-group:first-child"),o=e.querySelector(":scope > .wp-block-group:last-child"),i=Object(n.b)();e.setAttribute("id",i),a(i);var s=Object(n.b)();t.setAttribute("id",s),a(s);var u=Object(n.b)();o.setAttribute("id",u),a(u),c.observe(e),r.observe(e,{attributes:!0}),l.observe(o),p.observe(t)})),o)){var w=document.querySelector(".post-content");if(w.firstElementChild.classList.contains("wp-block-cover")){var b=w.firstElementChild;if(b){var k=b.querySelector(".wp-block-prc-block-carousel");k&&setTimeout((function(){i(k.id,k)}),1e3)}}}}))},9:function(e,t){e.exports=window.wp.element}},[[895,0,26]]]);
//# sourceMappingURL=carousel-8297af2d.js.map