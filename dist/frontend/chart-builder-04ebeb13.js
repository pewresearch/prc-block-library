/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 2.0.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2021 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprcBlocksLibraryfrontendJsonp=window.wpackioprcBlocksLibraryfrontendJsonp||[]).push([[3],{1:function(e,t){e.exports=window.React},20:function(e,t){e.exports=window.wp.domReady},27:function(e,t){e.exports=window.wp.i18n},304:function(e,t){e.exports=window.lodash},331:function(e,t){e.exports=window.wp.mediaUtils},359:function(e,t,a){a(34),e.exports=a(525)},525:function(e,t,a){"use strict";a.r(t);var r=a(248),n=a(51),i=a(20),o=a.n(i),l=a(9),c=a(557),s=a(555),d=a(57),u=a(556),m=a(74),p={general:["#436983","#bf3927","#756a7e","#ea9e2c"],"politics-main":["#d1a730","#a55a26","#949d48"],"global-main":["#949d48","#006699","#a55a26"],"religion-main":["#0090bf","#a55a26","#949d48"],"social-trends-main":["#377668","#d1a730","#949d48"],"journalism-main":["#733d47","#d1a730","#949d48"],"internet-main":["#006699","#949d48","#d1a730"],"hispanic-main":["#a55a26","#d1a730","#949d48"],"politics-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"global-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"religion-spectrum":["#0090C0","#C9DEEE","#9DC7E1","#71B2D6","#0073A5","#00557E"],"journalism-spectrum":["#733D47","#E8D3D7","#D1A8AF","#BC7B86","#552E35","#391E22"],"social-trends-spectrum":["#387668","#D1E9E4","#A2D2C8","#64B6AA","#005645","#003A2C"],"hispanic-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"internet-spectrum":["#006699","#C9D1E1","#9DAECB","#7591B7","#004A75","#002748"],"blue-spectrum":["#456A83","#D5E1E9","#ACC4D3","#82A6BF","#335062","#213441"],"green-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"purple-spectrum":["#746A7E","#E3E1E5","#C7C1CB","#ACA4B1","#584F5E","#3A343F"],"medium-brown-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"light-brown-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"orange-spectrum":["#EA9E2C","#F9EAD4","#F5D6A9","#F1C37F","#BB792A","#7C5220"],"red-spectrum":["#BF3B27","#F5D4CF","#EBABA2","#E37F73","#902D1E","#5F1D14"]},f=(a(31),a(72),a(331),a(332),function(e){return e.split(",").map(Number).filter((function(e){return!isNaN(e)}))}),b=function(e,t,a,r,n,i){return isNaN(e)||isNaN(t)?[0,100]:"bar"===a&&"x"===n||"stacked-bar"===a&&"x"===n||"dot-plot"===a&&"x"===n||"pie"===a?null:"time"===r&&"x"===n?[new Date(e,0),new Date(t,0)]:[parseFloat(e),parseFloat(t)]};function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var w=function(){document.querySelectorAll(".wp-chart-builder-wrapper").forEach((function(e){var t=e.querySelector(".wp-chart-builder-inner"),a=function(e){var t,a,r,i=m.masterConfig.layout,o=m.masterConfig.xAxis,l=m.masterConfig.yAxis,c=e.dataset.chartHash,s=window.chartConfigs[c],d=f(s.xTickExact),u=f(s.yTickExact);return E(E({},m.masterConfig),{},(t={layout:E(E({},i),{},{type:s.chartType,orientation:s.chartOrientation,width:s.width,height:s.height,padding:{top:s.paddingTop,bottom:s.paddingBottom,left:s.paddingLeft,right:s.paddingRight}}),xAxis:E(E({},o),{},{active:s.xAxisActive,label:s.xLabel,scale:s.xScale,dateFormat:s.xScaleFormat,domain:b(s.xMinDomain,s.xMaxDomain,s.chartType,s.xScale,"x",s.chartOrientation),padding:50,tickCount:s.xTickNum,tickValues:d.length<=1?null:(a=d,r=xScale,"time"===r?a.map((function(e){return new Date("".concat(e))})):a),domainPadding:s.xDomainPadding,axis:{stroke:s.xAxisStroke},grid:{stroke:s.xGridStroke}}),yAxis:E(E({},l),{},{active:s.yAxisActive,scale:s.yScale,dateFormat:s.yScaleFormat,padding:20,tickCount:s.yTickNum,tickValues:u.length<=1?null:u,domain:b(s.yMinDomain,s.yMaxDomain,s.chartType,s.yScale,"y",s.chartOrientation),domainPadding:s.yDomainPadding,showZero:s.showYMinDomainLabel,axis:{stroke:s.yAxisStroke},grid:{stroke:s.yGridStroke}}),dataRender:E(E({},m.masterConfig.dataRender),{},{xScale:s.xScale,yScale:s.yScale,xFormat:s.xScaleFormat,yFormat:s.yScaleFormat,sortKey:"x",sortOrder:s.sortOrder}),tooltip:{active:s.tooltipActive,format:s.tooltipFormat},animate:{active:!1,duration:500},line:E(E({},m.masterConfig.line),{},{interpolation:s.lineInterpolation,showPoints:s.lineNodes,showArea:"area"===s.chartType,strokeWidth:s.lineStrokeWidth,pointSize:s.nodeSize,pointStrokeWidth:s.nodeStroke,areaFillOpacity:s.areaFillOpacity}),legend:{active:!1,legendPosition:"top"},bar:E(E({},m.masterConfig.bar),{},{width:s.barWidth,barToSpaceRatio:.8,groupOffset:s.barGroupOffset}),scatter:{pointSize:s.nodeSize},nodes:{size:s.nodeSize,fill:s.nodeFill,strokeWidth:s.nodeStroke},labels:E(E({},m.masterConfig.labels),{},{active:s.labelsActive,color:"black",fontWeight:200,fontSize:12,labelPositionDX:s.labelPositionDX,labelPositionDY:s.labelPositionDY,labelBarPosition:s.barLabelPosition,labelCutoff:"inside"===s.barLabelPosition?s.barLabelCutoff:null,labelCutoffMobile:"inside"===s.barLabelPosition?s.barLabelCutoffMobile:null,pieLabelRadius:60})},Object(n.a)(t,"legend",E(E({},m.masterConfig.legend),{},{active:s.legendActive,orientation:s.legendOrientation,title:s.legendTitle,offsetX:s.legendOffsetX,offsetY:s.legendOffsetY,markerStyle:s.legendMarkerStyle,borderStroke:s.legendBorderStroke,fill:s.legendFill})),Object(n.a)(t,"metadata",E(E({},m.masterConfig.metadata),{},{active:s.metaTextActive,title:s.metaTitle,subtitle:s.metaSubtitle,note:s.metaNote,source:s.metaSource,tag:s.metaTag})),Object(n.a)(t,"colors",s.customColors.length>0?s.customColors:p[s.colorValue]),t))}(t),i=t.dataset.chartHash,o=t.dataset.postId,g={url:window.chartConfigs[i].pngUrl,id:window.chartConfigs[i].pngId},w=e.querySelector(".table-array-data").innerText,h=JSON.parse(w),C=function(e,t,a){for(var n=e[0],i=Object(r.a)(n).slice(1),o=Object(r.a)(e).slice(1),l=[],c=function(e,t){return"bar"===a||"stacked-bar"===a||"pie"===a||"dot-plot"===a?e:"time"===t?new Date(e).getTime():parseFloat(e)},s=function(e){u=o.filter((function(t){return!isNaN(parseFloat(t[e]))})).map((function(a){return{x:c(a[0],t),y:parseFloat(a[e]),category:n[e],yLabel:"".concat(parseFloat(a[e]))}})),l.push(u)},d=1;d<n.length;d++){var u;s(d)}return{categories:i,seriesData:l}}(h,a.xAxis.scale,a.layout.type);a.dataRender.categories=C.categories;var D="pie"===a.layout.type?C.seriesData[0]:C.seriesData,A=[{menuItem:"CHART",render:function(){return React.createElement(m.ChartBuilderTextWrapper,{active:a.metadata.active,width:a.layout.width,horizontalRules:a.layout.horizontalRules,title:a.metadata.title,subtitle:a.metadata.subtitle,note:a.metadata.note,source:a.metadata.source,tag:a.metadata.tag},React.createElement(m.ChartBuilderWrapper,{config:a,data:D}))}},{menuItem:"TABLE",render:function(){return React.createElement(c.a,{celled:!0},React.createElement(c.a.Header,null,React.createElement(c.a.Row,null,h[0].map((function(e){return React.createElement(c.a.Cell,null,e)})))),React.createElement(c.a.Body,null,h.filter((function(e,t){return t>0})).map((function(e){return React.createElement(c.a.Row,null,e.map((function(e){return React.createElement(c.a.Cell,null,e)})))}))))}},{menuItem:"SHARE",render:function(){return React.createElement(s.a,null,React.createElement("div",null,"Share this chart:"),g.id&&React.createElement("div",null,React.createElement("a",{href:g.url,download:"chart-".concat(g.id)},"Download as PNG")),React.createElement("div",null,React.createElement("a",{className:"button twitter twtr-pew-share ui",href:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(a.metadata.title),"&?url=https://www.pewresearch.org/share/").concat(o,"/").concat(g.id)},React.createElement(d.a,{name:"twitter"}),"Share on Twitter"),React.createElement("a",{className:"button facebook fb-pew-share ui",href:""},React.createElement(d.a,{name:"facebook"}),"Share on Facebook")))}}];Object(l.render)(React.createElement(u.a,{id:"tab-wrapper-".concat(i),panes:A}),t)}))};o()((function(){w()}))},72:function(e,t){e.exports=window.wp.data},9:function(e,t){e.exports=window.wp.element}},[[359,0,1,17]]]);
//# sourceMappingURL=chart-builder-04ebeb13.js.map