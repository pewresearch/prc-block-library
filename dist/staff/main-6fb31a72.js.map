{"version":3,"sources":["webpack:///external \"wp.blocks\"","webpack:///external \"wp.i18n\"","webpack:///external \"wp.apiFetch\"","webpack:///external \"wp.element\"","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/staff/edit.js","webpack:///./src/staff/save.js","webpack:///./src/staff/transforms.js","webpack:///./src/staff/settings.js","webpack:///./src/staff/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"names":["module","exports","wp","blocks","i18n","apiFetch","element","path","replace","window","concat","_arrayLikeToArray","arr","len","length","i","arr2","Array","edit","attributes","className","setAttributes","name","jobTitle","image","link","useEffect","url","undefined","console","log","then","post","staff","title","label","setPostByURL","src","alt","save","href","transforms","from","type","isMatch","node","nodeName","test","textContent","transform","createBlock","trim","to","metadata","category","settings","__","description","supports","inserter","registerBlockType","isArray","iter","Symbol","iterator","Object","o","minLen","n","prototype","toString","call","slice","constructor","TypeError"],"mappings":"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","file":"staff/main-6fb31a72.js","sourcesContent":["module.exports = wp.blocks;","module.exports = wp.i18n;","module.exports = wp.apiFetch;","module.exports = wp.element;","\"use strict\";/* eslint-disable @typescript-eslint/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import apiFetch from '@wordpress/api-fetch';\nimport { useEffect } from '@wordpress/element';\n\nconst setPostByURL = (url, setAttributes) => {\n    if (undefined === setAttributes || undefined === url) {\n        return;\n    }\n    console.log('setPostByURL', url);\n\n    apiFetch({\n        path: `/prc-api/v2/blocks/helpers/get-staff-by-url/?url=${url}`,\n    }).then(post => {\n        if (false !== post) {\n            const staff = {\n                name: post.title,\n                jobTitle: post.label,\n                image: post.image,\n            };\n            setAttributes(staff);\n        }\n    });\n};\n\nconst edit = ({ attributes, className, setAttributes }) => {\n    const { name, jobTitle, image, link } = attributes;\n    useEffect(() => {\n        setPostByURL(link, setAttributes);\n    }, [link]);\n    return (\n        <div className={className}>\n            {undefined !== image && (\n                <div className=\"profile-image\">\n                    <img src={image} alt={`${name} profile`} />\n                </div>\n            )}\n            <div>\n                <h2 className=\"sans-serif\">{name}</h2>\n                <div className=\"meta\">\n                    <span>{jobTitle}</span>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default edit;\n","const save = ({ attributes, className }) => {\n    const { name, jobTitle, image, link } = attributes;\n    return (\n        <a className={className} href={link}>\n            {undefined !== image && (\n                <div className=\"profile-image\">\n                    <img src={image} alt={`${name} profile`} />\n                </div>\n            )}\n            <div>\n                <h3 className=\"sans-serif\">{name}</h3>\n                <div className=\"meta\">\n                    <span>{jobTitle}</span>\n                </div>\n            </div>\n        </a>\n    );\n};\n\nexport default save;\n","import { createBlock } from '@wordpress/blocks';\n\n/**\n * Default transforms for generic embeds.\n * http://pewresearch.local/fact-tank/2020/06/18/maecenas-sed-diam-eget-risus-varius-blandit-sit-amet-non-magna/\n */\nconst transforms = {\n    from: [\n        {\n            type: 'raw',\n            isMatch: node =>\n                'P' === node.nodeName &&\n                /^https?:\\/\\/(www\\.)?pewresearch\\.(org|local)\\/staff\\/.+/i.test(\n                    node.textContent,\n                ),\n            transform: node => {\n                return createBlock('prc-block/staff', {\n                    link: node.textContent.trim(),\n                });\n            },\n        },\n    ],\n    to: [\n        {\n            type: 'block',\n            blocks: ['prc-block/staff'],\n            transform: ({ url }) => {\n                return createBlock('prc-block/staff', {\n                    link: url,\n                });\n            },\n        },\n    ],\n};\n\nexport default transforms;\n","import { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\nimport metadata from './block.json';\nimport edit from './edit';\nimport save from './save';\nimport transforms from './transforms';\n\nconst { name, category, attributes } = metadata;\n\nconst settings = [\n    name,\n    {\n        title: __('PRC Staffer'),\n        description: __(\n            'Paste a staff link and return a staff member with their photo, name, and job title.',\n        ),\n        category,\n        attributes,\n        supports: {\n            // Hide this block from the inserter.\n            // This block can only be inserted by pasting in a staffer url.\n            inserter: false,\n        },\n        edit,\n        save,\n        transforms,\n    },\n];\n\nexport default settings;\n","import { registerBlockType } from '@wordpress/blocks';\n\nimport settings from './settings';\n\nimport './style.scss';\n\nregisterBlockType(...settings);\n","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}