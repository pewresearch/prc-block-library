/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 2.1.23
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2022 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprcBlocksLibraryviewJsonp=window.wpackioprcBlocksLibraryviewJsonp||[]).push([[0],[function(e,t){e.exports=window.wp.element},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.React},function(e,t){e.exports=window.wp.url},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t){e.exports=window.wp.domReady},function(e,t,n){var r=n(11);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){var r,a=n(12);
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=a(n);if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var c=i.apply(null,n);c&&e.push(c)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)o.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):"object"===a(n(4))&&n(4)?void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r):window.classNames=i}()},function(e,t){e.exports=window.wp.apiFetch},function(e,t,n){n(10),e.exports=n(13)},function(e,t,n){var r="prcBlocksLibrarydist".replace(/[^a-zA-Z0-9_-]/g,"");n.p=window["__wpackIo".concat(r)]},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t,r)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){function n(t){return e.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,n(t)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.r(t);var o=n(0),i=n(5),c=n.n(i);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=n(1),u=n.n(l),h=n(6),d=n.n(h),f=n(2);var y,m,b=new Promise((function(e,t){y=e,m=t})),v=function(e){if(void 0===e&&(e={}),document.getElementById("hcaptcha-api-script-id"))return b;window.hcaptchaOnLoad=y;var t=e.apihost||"https://js.hcaptcha.com";delete e.apihost;var n=document.createElement("script");n.id="hcaptcha-api-script-id",n.src=t+"/1/api.js?render=explicit&onload=hcaptchaOnLoad",n.async=!0,n.onerror=function(e){return m("script-error")};var r=function(e){return Object.entries(e).filter((function(e){e[0];var t=e[1];return t||!1===t})).map((function(e){var t=e[0],n=e[1];return encodeURIComponent(t)+"="+encodeURIComponent(n)})).join("&")}(e);return n.src+=""!==r?"&"+r:"",document.head.appendChild(n),b},g=function(e){function t(t){var n;(n=e.call(this,t)||this).renderCaptcha=n.renderCaptcha.bind(u()(n)),n.resetCaptcha=n.resetCaptcha.bind(u()(n)),n.removeCaptcha=n.removeCaptcha.bind(u()(n)),n.isReady=n.isReady.bind(u()(n)),n.loadCaptcha=n.loadCaptcha.bind(u()(n)),n.handleOnLoad=n.handleOnLoad.bind(u()(n)),n.handleSubmit=n.handleSubmit.bind(u()(n)),n.handleExpire=n.handleExpire.bind(u()(n)),n.handleError=n.handleError.bind(u()(n)),n.handleOpen=n.handleOpen.bind(u()(n)),n.handleClose=n.handleClose.bind(u()(n)),n.handleChallengeExpired=n.handleChallengeExpired.bind(u()(n));var r="undefined"!=typeof hcaptcha;return n.ref=f.createRef(),n.apiScriptRequested=!1,n.state={isApiReady:r,isRemoved:!1,elementId:t.id,captchaId:""},n}d()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.state.isApiReady?this.renderCaptcha():this.loadCaptcha()},n.componentWillUnmount=function(){var e=this.state.captchaId;this.isReady()&&(hcaptcha.reset(e),hcaptcha.remove(e))},n.shouldComponentUpdate=function(e,t){return this.state.isApiReady===t.isApiReady&&this.state.isRemoved===t.isRemoved},n.componentDidUpdate=function(e){var t=this;["sitekey","size","theme","tabindex","languageOverride","endpoint"].every((function(n){return e[n]===t.props[n]}))||this.removeCaptcha((function(){t.renderCaptcha()}))},n.loadCaptcha=function(){if(!this.apiScriptRequested){var e=this.props,t=e.apihost,n=e.assethost,r=e.endpoint,a=e.host,o=e.imghost,i=e.languageOverride,c=e.reCaptchaCompat,s=e.reportapi,p=e.sentry,l=e.custom;v({apihost:t,assethost:n,endpoint:r,hl:i,host:a,imghost:o,recaptchacompat:!1===c?"off":null,reportapi:s,sentry:p,custom:l}).then(this.handleOnLoad).catch(this.handleError),this.apiScriptRequested=!0}},n.renderCaptcha=function(e){if(this.state.isApiReady){var t=Object.assign({"open-callback":this.handleOpen,"close-callback":this.handleClose,"error-callback":this.handleError,"chalexpired-callback":this.handleChallengeExpired,"expired-callback":this.handleExpire,callback:this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:void 0}),n=hcaptcha.render(this.ref.current,t);this.setState({isRemoved:!1,captchaId:n},(function(){e&&e()}))}},n.resetCaptcha=function(){var e=this.state.captchaId;this.isReady()&&hcaptcha.reset(e)},n.removeCaptcha=function(e){var t=this.state.captchaId;this.isReady()&&this.setState({isRemoved:!0},(function(){hcaptcha.remove(t),e&&e()}))},n.handleOnLoad=function(){var e=this;this.setState({isApiReady:!0},(function(){e.renderCaptcha((function(){var t=e.props.onLoad;t&&t()}))}))},n.handleSubmit=function(e){var t=this.props.onVerify,n=this.state,r=n.isRemoved,a=n.captchaId;"undefined"==typeof hcaptcha||r||t(hcaptcha.getResponse(a),hcaptcha.getRespKey(a))},n.handleExpire=function(){var e=this.props.onExpire,t=this.state.captchaId;this.isReady()&&(hcaptcha.reset(t),e&&e())},n.handleError=function(e){var t=this.props.onError,n=this.state.captchaId;this.isReady()&&hcaptcha.reset(n),t&&t(e)},n.isReady=function(){var e=this.state,t=e.isApiReady,n=e.isRemoved;return t&&!n},n.handleOpen=function(){this.isReady()&&this.props.onOpen&&this.props.onOpen()},n.handleClose=function(){this.isReady()&&this.props.onClose&&this.props.onClose()},n.handleChallengeExpired=function(){this.isReady()&&this.props.onChalExpired&&this.props.onChalExpired()},n.execute=function(e){void 0===e&&(e=null);var t=this.state.captchaId;if(this.isReady())return e&&"object"!==p(e)&&(e=null),hcaptcha.execute(t,e)},n.setData=function(e){var t=this.state.captchaId;this.isReady()&&(e&&"object"!==p(e)&&(e=null),hcaptcha.setData(t,e))},n.getResponse=function(){return hcaptcha.getResponse(this.state.captchaId)},n.getRespKey=function(){return hcaptcha.getRespKey(this.state.captchaId)},n.render=function(){var e=this.state.elementId;return f.createElement("div",{ref:this.ref,id:e})},t}(f.Component),O=n(7),x=n.n(O),S=n(8),w=n.n(S),R=n(3);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=e.className,n=e.input,r=void 0===n?{style:"",className:"",type:"email",placeholder:""}:n,i=e.button,c=void 0===i?{wrapperClassName:"",wrapperStyle:"",style:"",className:"",text:""}:i,s=e.form,p=void 0===s?{segmentId:!1}:s,l=a(Object(o.useState)(!1),2),u=l[0],h=l[1],d=a(Object(o.useState)(!1),2),f=d[0],y=d[1],m=a(Object(o.useState)(!1),2),b=m[0],v=m[1],O=a(Object(o.useState)(!1),2),S=O[0],C=O[1],E=a(Object(o.useState)(null),2),A=E[0],k=E[1],I=a(Object(o.useState)(c.text),2),_=I[0],N=I[1],P=a(Object(o.useState)(!1),2),L=P[0],U=P[1],q=Object(o.useRef)(null),D=x()(c.className,{"is-processing":u,"is-disabled":f,"has-error":b,"has-success":S});return Object(o.useEffect)((function(){console.log("Form value...",A),y(!A)}),[A]),React.createElement("form",{className:t},!L&&React.createElement(o.Fragment,null,React.createElement("input",{type:r.type,placeholder:r.placeholder,style:r.style,className:r.className,onChange:function(e){return k(e.target.value)},value:A}),React.createElement("button",{type:"submit",className:c.wrapperClassName,disabled:u||f,style:j({opacity:u?.5:1},c.wrapperStyle),onClick:function(e){e.preventDefault(),!1===f&&U(!L)}},React.createElement("span",{style:c.style,className:D},_))),L&&React.createElement(g,{sitekey:"0fe85c0d-1c67-498a-9b51-eb9d3b473970",theme:"light",ref:q,onVerify:function(e){!1!==e&&!0!==u&&function(e){var t=e.onStart,n=e.onSuccess,r=e.onError,a=e.emailAddress,o=e.captchaToken,i=void 0!==o&&o,c=e.closeCaptcha,s=e.interest,p=void 0!==s&&s;if(!i)return r("We couldn't verify you're not a robot. Please try again.");t(),c();var l=a,u=document.URL;if(!Object(R.isURL)(u))return r("Invalid URL");var h=Object(R.buildQueryString)({email:l,captcha_token:i,interests:p,api_key:"mailchimp-form",origin_url:u});w()({path:"/prc-api/v2/mailchimp/subscribe/?".concat(h),method:"POST"}).then((function(){return n()})).catch((function(e){return r(e)}))}({onStart:function(){h(!0),N("Processing...")},onSuccess:function(){return N("Success"),C(!0),h(!1),k(""),v(!1),!0},onError:function(e){return v(!0),N("Error"),h(!1),console.log("Error!",e),!1},closeCaptcha:function(){return U(!1)},emailAddress:A,captchaToken:e,interest:p.segmentId})},onOpen:function(){!function e(){var t=document.querySelector('iframe[title="Main content of the hCaptcha challenge"]');if(t=t.parentElement.parentElement){var n=t.querySelector("div:last-of-type");null!==n&&(n.style=j(j({},n.style),{},{display:"none"}))}else e()}()}}))}function A(e){return e?e.split(";").filter((function(e){return e})).reduce((function(e,t){var n=a(t.split(":"),2),r=n[0],o=n[1];return e[r.split("-").map((function(e,t){return 0===t?e:e.charAt(0).toUpperCase()+e.slice(1)})).join("")]=o,e}),{}):{}}c()((function(){document.querySelectorAll(".wp-block-prc-block-mailchimp-form").forEach((function(e){var t=e.getAttribute("class"),n=e.getAttribute("data-segment-id"),r=e.querySelector(".wp-block-prc-block-form-input-text"),a=r.getAttribute("style")||"",i=r.getAttribute("class")||"",c=e.querySelector(".wp-block-button"),s=e.querySelector(".wp-block-button__link"),p=c.getAttribute("class")||"",l=c.getAttribute("style")||"",u=s.getAttribute("style")||"",h=s.getAttribute("class")||"",d=document.createElement("div");e.parentNode.insertBefore(d,e),Object(o.render)(React.createElement(E,{className:t,input:{style:A(a),className:i,type:r.getAttribute("type"),placeholder:r.getAttribute("placeholder")},button:{wrapperClassName:p,wrapperStyle:A(l),style:A(u),className:h,text:s.innerText},form:{segmentId:n}}),d),e.parentNode.removeChild(e)}))}))}],[[9,1]]]);
//# sourceMappingURL=mailchimp-form-22913358.js.map