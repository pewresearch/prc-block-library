{"version":3,"sources":["webpack:///external [\"wp\",\"element\"]","webpack:///./node_modules/@babel/runtime/helpers/assertThisInitialized.js","webpack:///external \"React\"","webpack:///external [\"wp\",\"url\"]","webpack:///(webpack)/buildin/amd-options.js","webpack:///external [\"wp\",\"domReady\"]","webpack:///./node_modules/@babel/runtime/helpers/inheritsLoose.js","webpack:///./node_modules/classnames/index.js","webpack:///external [\"wp\",\"apiFetch\"]","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./node_modules/@hcaptcha/react-hcaptcha/dist/esm/index.js","webpack:///./node_modules/@hcaptcha/react-hcaptcha/dist/esm/utils.js","webpack:///./src/mailchimp-form/Form.jsx","webpack:///./src/mailchimp-form/view.js"],"names":["module","exports","window","self","ReferenceError","__esModule","__webpack_amd_options__","setPrototypeOf","subClass","superClass","prototype","Object","create","constructor","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","_typeof","push","Array","isArray","inner","apply","toString","includes","key","call","join","default","path","replace","concat","_setPrototypeOf","o","p","bind","__proto__","obj","Symbol","iterator","_arrayLikeToArray","arr","len","arr2","_slicedToArray","_i","_s","_e","_arr","_n","_d","next","done","value","err","minLen","n","slice","name","from","test","TypeError","_defineProperty","defineProperty","enumerable","configurable","writable","resolveFn","rejectFn","mountPromise","Promise","resolve","reject","params","document","getElementById","domain","apihost","script","createElement","id","src","async","onerror","event","query","entries","filter","_ref","map","_ref2","encodeURIComponent","generateQuery","head","appendChild","_React$Component","HCaptcha","props","_this","this","renderCaptcha","resetCaptcha","removeCaptcha","isReady","loadCaptcha","handleOnLoad","handleSubmit","handleExpire","handleError","handleOpen","handleClose","handleChallengeExpired","isApiReady","hcaptcha","ref","apiScriptRequested","state","isRemoved","elementId","captchaId","_proto","componentDidMount","componentWillUnmount","reset","remove","shouldComponentUpdate","nextProps","nextState","componentDidUpdate","prevProps","_this2","every","_this$props","assethost","endpoint","host","imghost","hl","languageOverride","reCaptchaCompat","reportapi","sentry","custom","recaptchacompat","then","onReady","renderParams","assign","undefined","render","current","setState","callback","_this3","onLoad","onVerify","_this$state","getResponse","getRespKey","onExpire","onError","_this$state2","onOpen","onClose","onChalExpired","execute","opts","setData","data","Form","className","input","style","type","placeholder","button","wrapperClassName","wrapperStyle","text","form","segmentId","useState","processing","setProcessing","disabled","setDisabled","error","setError","success","setSuccess","setValue","buttonText","setButtonText","displayCaptcha","setCaptchaDisplay","captchaRef","useRef","buttonClassNames","classnames","useEffect","console","log","onChange","e","target","opacity","onClick","preventDefault","sitekey","theme","t","onStart","onSuccess","emailAddress","captchaToken","closeCaptcha","interest","email","url","URL","isURL","buildQueryString","captcha_token","interests","api_key","origin_url","apiFetch","method","catch","submitHandler","hackCaptchaCheckboxStyle","querySelector","parentElement","checkbox","display","parseStylesString","stylesString","split","reduce","acc","word","index","charAt","toUpperCase","domReady","querySelectorAll","forEach","elm","getAttribute","inputStyles","inputClasses","buttonOuter","buttonWrapperClasses","buttonWrapperStyles","buttonStyles","buttonClasses","attachPoint","parentNode","insertBefore","innerText","removeChild"],"mappings":"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","file":"view/mailchimp-form-22913358.js","sourcesContent":["(function() { module.exports = window[\"wp\"][\"element\"]; }());","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nmodule.exports = _assertThisInitialized, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","(function() { module.exports = window[\"React\"]; }());","(function() { module.exports = window[\"wp\"][\"url\"]; }());","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","(function() { module.exports = window[\"wp\"][\"domReady\"]; }());","var setPrototypeOf = require(\"./setPrototypeOf.js\");\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  setPrototypeOf(subClass, superClass);\n}\nmodule.exports = _inheritsLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof=require(\"@babel/runtime/helpers/typeof\");/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/ /* global define */(function(){'use strict';var hasOwn={}.hasOwnProperty;var nativeCodeString='[native code]';function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=_typeof(arg);if(argType==='string'||argType==='number'){classes.push(arg);}else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner);}}}else if(argType==='object'){if(arg.toString!==Object.prototype.toString&&!arg.toString.toString().includes('[native code]')){classes.push(arg.toString());continue;}for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key);}}}}return classes.join(' ');}if(typeof module!=='undefined'&&module.exports){classNames.default=classNames;module.exports=classNames;}else if(typeof define==='function'&&_typeof(define.amd)==='object'&&define.amd){// register as 'classnames', consistent with npm package name\ndefine('classnames',[],function(){return classNames;});}else{window.classNames=classNames;}})();","(function() { module.exports = window[\"wp\"][\"apiFetch\"]; }());","/* eslint-disable camelcase */ /* eslint-disable babel/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  return _setPrototypeOf(o, p);\n}\nmodule.exports = _setPrototypeOf, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _s, _e;\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from\"@babel/runtime/helpers/esm/typeof\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _inheritsLoose from\"@babel/runtime/helpers/inheritsLoose\";import*as React from'react';import{generateQuery}from\"./utils.js\";var SCRIPT_ID='hcaptcha-api-script-id';var HCAPTCHA_LOAD_FN_NAME='hcaptchaOnLoad';// Prevent loading API script multiple times\nvar resolveFn;var rejectFn;var mountPromise=new Promise(function(resolve,reject){resolveFn=resolve;rejectFn=reject;});// Generate hCaptcha API script\nvar mountCaptchaScript=function mountCaptchaScript(params){if(params===void 0){params={};}if(document.getElementById(SCRIPT_ID)){// API was already requested\nreturn mountPromise;}// Create global onload callback\nwindow[HCAPTCHA_LOAD_FN_NAME]=resolveFn;var domain=params.apihost||\"https://js.hcaptcha.com\";delete params.apihost;var script=document.createElement(\"script\");script.id=SCRIPT_ID;script.src=domain+\"/1/api.js?render=explicit&onload=\"+HCAPTCHA_LOAD_FN_NAME;script.async=true;script.onerror=function(event){return rejectFn('script-error');};var query=generateQuery(params);script.src+=query!==\"\"?\"&\"+query:\"\";document.head.appendChild(script);return mountPromise;};var HCaptcha=/*#__PURE__*/function(_React$Component){_inheritsLoose(HCaptcha,_React$Component);function HCaptcha(props){var _this;_this=_React$Component.call(this,props)||this;// API Methods\n_this.renderCaptcha=_this.renderCaptcha.bind(_assertThisInitialized(_this));_this.resetCaptcha=_this.resetCaptcha.bind(_assertThisInitialized(_this));_this.removeCaptcha=_this.removeCaptcha.bind(_assertThisInitialized(_this));_this.isReady=_this.isReady.bind(_assertThisInitialized(_this));// Event Handlers\n_this.loadCaptcha=_this.loadCaptcha.bind(_assertThisInitialized(_this));_this.handleOnLoad=_this.handleOnLoad.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.handleExpire=_this.handleExpire.bind(_assertThisInitialized(_this));_this.handleError=_this.handleError.bind(_assertThisInitialized(_this));_this.handleOpen=_this.handleOpen.bind(_assertThisInitialized(_this));_this.handleClose=_this.handleClose.bind(_assertThisInitialized(_this));_this.handleChallengeExpired=_this.handleChallengeExpired.bind(_assertThisInitialized(_this));var isApiReady=typeof hcaptcha!=='undefined';_this.ref=/*#__PURE__*/React.createRef();_this.apiScriptRequested=false;_this.state={isApiReady:isApiReady,isRemoved:false,elementId:props.id,captchaId:''};return _this;}var _proto=HCaptcha.prototype;_proto.componentDidMount=function componentDidMount(){// Once captcha is mounted intialize hCaptcha - hCaptcha\nvar isApiReady=this.state.isApiReady;/*\n     * Check if hCaptcha has already been loaded,\n     * If Yes, render the captcha\n     * If No, create script tag and wait to render the captcha\n     */if(isApiReady){this.renderCaptcha();return;}this.loadCaptcha();};_proto.componentWillUnmount=function componentWillUnmount(){var captchaId=this.state.captchaId;if(!this.isReady()){return;}// Reset any stored variables / timers when unmounting\nhcaptcha.reset(captchaId);hcaptcha.remove(captchaId);};_proto.shouldComponentUpdate=function shouldComponentUpdate(nextProps,nextState){// Prevent component re-rendering when these internal state variables are updated\nif(this.state.isApiReady!==nextState.isApiReady||this.state.isRemoved!==nextState.isRemoved){return false;}return true;};_proto.componentDidUpdate=function componentDidUpdate(prevProps){var _this2=this;// Prop Keys that could change\nvar keys=['sitekey','size','theme','tabindex','languageOverride','endpoint'];// See if any props changed during component update\nvar match=keys.every(function(key){return prevProps[key]===_this2.props[key];});// If they have changed, remove current captcha and render a new one\nif(!match){this.removeCaptcha(function(){_this2.renderCaptcha();});}};_proto.loadCaptcha=function loadCaptcha(){if(this.apiScriptRequested){return;}var _this$props=this.props,apihost=_this$props.apihost,assethost=_this$props.assethost,endpoint=_this$props.endpoint,host=_this$props.host,imghost=_this$props.imghost,hl=_this$props.languageOverride,reCaptchaCompat=_this$props.reCaptchaCompat,reportapi=_this$props.reportapi,sentry=_this$props.sentry,custom=_this$props.custom;var mountParams={apihost:apihost,assethost:assethost,endpoint:endpoint,hl:hl,host:host,imghost:imghost,recaptchacompat:reCaptchaCompat===false?\"off\":null,reportapi:reportapi,sentry:sentry,custom:custom};mountCaptchaScript(mountParams).then(this.handleOnLoad)[\"catch\"](this.handleError);this.apiScriptRequested=true;};_proto.renderCaptcha=function renderCaptcha(onReady){var isApiReady=this.state.isApiReady;if(!isApiReady)return;var renderParams=Object.assign({\"open-callback\":this.handleOpen,\"close-callback\":this.handleClose,\"error-callback\":this.handleError,\"chalexpired-callback\":this.handleChallengeExpired,\"expired-callback\":this.handleExpire,\"callback\":this.handleSubmit},this.props,{hl:this.props.hl||this.props.languageOverride,languageOverride:undefined});//Render hCaptcha widget and provide necessary callbacks - hCaptcha\nvar captchaId=hcaptcha.render(this.ref.current,renderParams);this.setState({isRemoved:false,captchaId:captchaId},function(){onReady&&onReady();});};_proto.resetCaptcha=function resetCaptcha(){var captchaId=this.state.captchaId;if(!this.isReady()){return;}// Reset captcha state, removes stored token and unticks checkbox\nhcaptcha.reset(captchaId);};_proto.removeCaptcha=function removeCaptcha(callback){var captchaId=this.state.captchaId;if(!this.isReady()){return;}this.setState({isRemoved:true},function(){hcaptcha.remove(captchaId);callback&&callback();});};_proto.handleOnLoad=function handleOnLoad(){var _this3=this;this.setState({isApiReady:true},function(){// render captcha and wait for captcha id\n_this3.renderCaptcha(function(){// trigger onLoad if it exists\nvar onLoad=_this3.props.onLoad;if(onLoad)onLoad();});});};_proto.handleSubmit=function handleSubmit(event){var onVerify=this.props.onVerify;var _this$state=this.state,isRemoved=_this$state.isRemoved,captchaId=_this$state.captchaId;if(typeof hcaptcha==='undefined'||isRemoved)return;var token=hcaptcha.getResponse(captchaId);//Get response token from hCaptcha widget\nvar ekey=hcaptcha.getRespKey(captchaId);//Get current challenge session id from hCaptcha widget\nonVerify(token,ekey);//Dispatch event to verify user response\n};_proto.handleExpire=function handleExpire(){var onExpire=this.props.onExpire;var captchaId=this.state.captchaId;if(!this.isReady()){return;}hcaptcha.reset(captchaId);// If hCaptcha runs into error, reset captcha - hCaptcha\nif(onExpire)onExpire();};_proto.handleError=function handleError(event){var onError=this.props.onError;var captchaId=this.state.captchaId;if(this.isReady()){// If hCaptcha runs into error, reset captcha - hCaptcha\nhcaptcha.reset(captchaId);}if(onError)onError(event);};_proto.isReady=function isReady(){var _this$state2=this.state,isApiReady=_this$state2.isApiReady,isRemoved=_this$state2.isRemoved;return isApiReady&&!isRemoved;};_proto.handleOpen=function handleOpen(){if(!this.isReady()||!this.props.onOpen){return;}this.props.onOpen();};_proto.handleClose=function handleClose(){if(!this.isReady()||!this.props.onClose){return;}this.props.onClose();};_proto.handleChallengeExpired=function handleChallengeExpired(){if(!this.isReady()||!this.props.onChalExpired){return;}this.props.onChalExpired();};_proto.execute=function execute(opts){if(opts===void 0){opts=null;}var captchaId=this.state.captchaId;if(!this.isReady()){return;}if(opts&&_typeof(opts)!==\"object\"){opts=null;}return hcaptcha.execute(captchaId,opts);};_proto.setData=function setData(data){var captchaId=this.state.captchaId;if(!this.isReady()){return;}if(data&&_typeof(data)!==\"object\"){data=null;}hcaptcha.setData(captchaId,data);};_proto.getResponse=function getResponse(){return hcaptcha.getResponse(this.state.captchaId);};_proto.getRespKey=function getRespKey(){return hcaptcha.getRespKey(this.state.captchaId);};_proto.render=function render(){var elementId=this.state.elementId;return/*#__PURE__*/React.createElement(\"div\",{ref:this.ref,id:elementId});};return HCaptcha;}(React.Component);export default HCaptcha;","function generateQuery(params){return Object.entries(params).filter(function(_ref){var key=_ref[0],value=_ref[1];return value||value===false;}).map(function(_ref2){var key=_ref2[0],value=_ref2[1];return encodeURIComponent(key)+\"=\"+encodeURIComponent(value);}).join(\"&\");};export{generateQuery};","/**\n * External Dependencies\n */\nimport HCaptcha from '@hcaptcha/react-hcaptcha';\nimport classnames from 'classnames';\n\n/**\n * WordPress Dependencies\n */\nimport { Fragment, useEffect, useState, useRef } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { isURL, buildQueryString } from '@wordpress/url';\n\nconst CAPTCHA_SITE_KEY = '0fe85c0d-1c67-498a-9b51-eb9d3b473970';\n\nconst submitHandler = ({\n\tonStart,\n\tonSuccess,\n\tonError,\n\temailAddress,\n\tcaptchaToken = false,\n\tcloseCaptcha,\n\tinterest = false,\n}) => {\n\tif (!captchaToken) {\n\t\treturn onError(\"We couldn't verify you're not a robot. Please try again.\");\n\t}\n\n\tonStart();\n\n\tcloseCaptcha();\n\n\tconst email = emailAddress;\n\n\tconst url = document.URL;\n\tif (!isURL(url)) {\n\t\treturn onError('Invalid URL');\n\t}\n\n\tconst path = buildQueryString({\n\t\temail,\n\t\tcaptcha_token: captchaToken,\n\t\tinterests: interest,\n\t\tapi_key: 'mailchimp-form',\n\t\torigin_url: url,\n\t});\n\n\tconst apiPromise = apiFetch({\n\t\tpath: `/prc-api/v2/mailchimp/subscribe/?${path}`,\n\t\tmethod: 'POST',\n\t})\n\t\t.then(() => onSuccess())\n\t\t.catch((e) => onError(e));\n\n\treturn apiPromise;\n};\n\nconst hackCaptchaCheckboxStyle = () => {\n\tlet target = document.querySelector(\n\t\t'iframe[title=\"Main content of the hCaptcha challenge\"]',\n\t);\n\ttarget = target.parentElement.parentElement;\n\tif (target) {\n\t\tconst checkbox = target.querySelector('div:last-of-type');\n\t\tif (null !== checkbox) {\n\t\t\tcheckbox.style = {\n\t\t\t\t...checkbox.style,\n\t\t\t\tdisplay: 'none',\n\t\t\t};\n\t\t}\n\t} else {\n\t\thackCaptchaCheckboxStyle();\n\t}\n};\n\nexport default function Form({\n\tclassName,\n\tinput = {\n\t\tstyle: '',\n\t\tclassName: '',\n\t\ttype: 'email',\n\t\tplaceholder: '',\n\t},\n\tbutton = {\n\t\twrapperClassName: '',\n\t\twrapperStyle: '',\n\t\tstyle: '',\n\t\tclassName: '',\n\t\ttext: '',\n\t},\n\tform = {\n\t\tsegmentId: false,\n\t},\n}) {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [disabled, setDisabled] = useState(false);\n\tconst [error, setError] = useState(false);\n\tconst [success, setSuccess] = useState(false);\n\tconst [value, setValue] = useState(null);\n\tconst [buttonText, setButtonText] = useState(button.text);\n\n\t// Captcha:\n\tconst [displayCaptcha, setCaptchaDisplay] = useState(false);\n\tconst toggleCaptchaDisplay = () => setCaptchaDisplay(!displayCaptcha);\n\tconst captchaRef = useRef(null);\n\n\tconst buttonClassNames = classnames(button.className, {\n\t\t'is-processing': processing,\n\t\t'is-disabled': disabled,\n\t\t'has-error': error,\n\t\t'has-success': success,\n\t});\n\n\tuseEffect(() => {\n\t\tconsole.log('Form value...', value);\n\t\tif (value) {\n\t\t\tsetDisabled(false);\n\t\t} else {\n\t\t\tsetDisabled(true);\n\t\t}\n\t}, [value]);\n\n\treturn (\n\t\t<form className={className}>\n\t\t\t{!displayCaptcha && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype={input.type}\n\t\t\t\t\t\tplaceholder={input.placeholder}\n\t\t\t\t\t\tstyle={input.style}\n\t\t\t\t\t\tclassName={input.className}\n\t\t\t\t\t\tonChange={(e) => setValue(e.target.value)}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t/>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tclassName={button.wrapperClassName}\n\t\t\t\t\t\tdisabled={processing || disabled}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\topacity: processing ? 0.5 : 1,\n\t\t\t\t\t\t\t...button.wrapperStyle,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\tif (false === disabled) {\n\t\t\t\t\t\t\t\ttoggleCaptchaDisplay();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span style={button.style} className={buttonClassNames}>\n\t\t\t\t\t\t\t{buttonText}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</button>\n\t\t\t\t</Fragment>\n\t\t\t)}\n\t\t\t{displayCaptcha && (\n\t\t\t\t<HCaptcha\n\t\t\t\t\tsitekey={CAPTCHA_SITE_KEY}\n\t\t\t\t\ttheme=\"light\"\n\t\t\t\t\tref={captchaRef}\n\t\t\t\t\tonVerify={(t) => {\n\t\t\t\t\t\tif (false !== t && true !== processing) {\n\t\t\t\t\t\t\tsubmitHandler({\n\t\t\t\t\t\t\t\tonStart: () => {\n\t\t\t\t\t\t\t\t\tsetProcessing(true);\n\t\t\t\t\t\t\t\t\tsetButtonText('Processing...');\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tonSuccess: () => {\n\t\t\t\t\t\t\t\t\tsetButtonText('Success');\n\t\t\t\t\t\t\t\t\tsetSuccess(true);\n\t\t\t\t\t\t\t\t\tsetProcessing(false);\n\t\t\t\t\t\t\t\t\tsetValue('');\n\t\t\t\t\t\t\t\t\tsetError(false);\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tonError: (e) => {\n\t\t\t\t\t\t\t\t\tsetError(true);\n\t\t\t\t\t\t\t\t\tsetButtonText('Error');\n\t\t\t\t\t\t\t\t\tsetProcessing(false);\n\t\t\t\t\t\t\t\t\tconsole.log('Error!', e);\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcloseCaptcha: () => setCaptchaDisplay(false),\n\t\t\t\t\t\t\t\temailAddress: value,\n\t\t\t\t\t\t\t\tcaptchaToken: t,\n\t\t\t\t\t\t\t\tinterest: form.segmentId,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\tonOpen={() => {\n\t\t\t\t\t\thackCaptchaCheckboxStyle();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</form>\n\t);\n}\n","/**\n * WordPress Dependencies\n */\nimport { render } from '@wordpress/element';\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * Internal Dependencies\n */\nimport Form from './Form';\n\nfunction parseStylesString(stylesString) {\n\t// check if stylesString is empty.\n\tif (!stylesString) {\n\t\treturn {};\n\t}\n\treturn stylesString\n\t\t.split(';')\n\t\t.filter((style) => style)\n\t\t.reduce((acc, style) => {\n\t\t\tconst [key, value] = style.split(':');\n\t\t\t// convert key to camelCase.\n\t\t\tconst camelCaseKey = key\n\t\t\t\t.split('-')\n\t\t\t\t.map((word, index) => {\n\t\t\t\t\tif (0 === index) {\n\t\t\t\t\t\treturn word;\n\t\t\t\t\t}\n\t\t\t\t\treturn word.charAt(0).toUpperCase() + word.slice(1);\n\t\t\t\t})\n\t\t\t\t.join('');\n\t\t\tacc[camelCaseKey] = value;\n\t\t\treturn acc;\n\t\t}, {});\n}\n\ndomReady(() => {\n\tconst forms = document.querySelectorAll('.wp-block-prc-block-mailchimp-form');\n\tforms.forEach((elm) => {\n\t\t// Gather the classes and styles from the form element.\n\t\tconst classes = elm.getAttribute('class');\n\t\tconst segmentId = elm.getAttribute('data-segment-id');\n\n\t\t// Input\n\t\tconst input = elm.querySelector('.wp-block-prc-block-form-input-text');\n\t\tconst inputStyles = input.getAttribute('style') || '';\n\t\tconst inputClasses = input.getAttribute('class') || '';\n\t\t// Button\n\t\tconst buttonOuter = elm.querySelector('.wp-block-button');\n\t\tconst button = elm.querySelector('.wp-block-button__link');\n\t\tconst buttonWrapperClasses = buttonOuter.getAttribute('class') || '';\n\t\tconst buttonWrapperStyles = buttonOuter.getAttribute('style') || '';\n\t\tconst buttonStyles = button.getAttribute('style') || '';\n\t\tconst buttonClasses = button.getAttribute('class') || '';\n\n\t\t// Create an element to render the form into.\n\t\tconst attachPoint = document.createElement('div');\n\t\telm.parentNode.insertBefore(attachPoint, elm);\n\n\t\t// Render the Form component.\n\t\trender(\n\t\t\t<Form\n\t\t\t\t{...{\n\t\t\t\t\tclassName: classes,\n\t\t\t\t\tinput: {\n\t\t\t\t\t\tstyle: parseStylesString(inputStyles),\n\t\t\t\t\t\tclassName: inputClasses,\n\t\t\t\t\t\ttype: input.getAttribute('type'),\n\t\t\t\t\t\tplaceholder: input.getAttribute('placeholder'),\n\t\t\t\t\t},\n\t\t\t\t\tbutton: {\n\t\t\t\t\t\twrapperClassName: buttonWrapperClasses,\n\t\t\t\t\t\twrapperStyle: parseStylesString(buttonWrapperStyles),\n\t\t\t\t\t\tstyle: parseStylesString(buttonStyles),\n\t\t\t\t\t\tclassName: buttonClasses,\n\t\t\t\t\t\ttext: button.innerText,\n\t\t\t\t\t},\n\t\t\t\t\tform: {\n\t\t\t\t\t\tsegmentId,\n\t\t\t\t\t},\n\t\t\t\t}}\n\t\t\t/>,\n\t\t\tattachPoint,\n\t\t);\n\n\t\t// Remove the original element.\n\t\telm.parentNode.removeChild(elm);\n\t});\n});\n"],"sourceRoot":""}