/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 0.1.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2021 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window["wpackioprcBlocksLibrarytaxonomy-treeJsonp"]=window["wpackioprcBlocksLibrarytaxonomy-treeJsonp"]||[]).push([[0],{0:function(e,t){e.exports=React},107:function(e,t,n){n(108),e.exports=n(121)},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var a=n(36),c=n(52),r=n(86),o=n(73),i=n(74),l=n.n(i),s=n(7),u=n(20),p=(n(46),n(53)),m=n.n(p),d=(n(21),n(96),n(134),n(70),n(90),n(119),n(77)),f=function(e){var t=e.heading,n=e.chevron,a=e.placeholder,c=e.setAttributes,r=e.children;return React.createElement("div",{className:"prc-collapsible-list"},React.createElement("div",{className:"title"},React.createElement("div",null,React.createElement(d.a,{name:"caret down"})),!1!==c&&React.createElement(u.RichText,{tagName:"h2",value:t,onChange:function(e){return c({heading:e})},placeholder:a,formattingControls:["link"],keepPlaceholderOnFocus:!0,className:"sans-serif"}),!1===c&&React.createElement(u.RichText.Content,{tagName:"h2",value:t,className:"sans-serif"}),!0===n&&React.createElement("div",null,React.createElement(d.a,{name:"chevron right",size:"large"}))),React.createElement("div",{className:"content"},r))},h=n(93),g=n(64),b=n(94),x=n(97),O=(Object(b.withState)({termsData:[],excludeData:[],includeData:[]})((function(e){var t=e.termsData,n=e.excludeData,a=e.includeData,c=e.setState,r=e.exclude,o=e.include,i=(e.letter,e.taxonomy),l=e.setAttributes,u=e.isSelected,p=function(){(function(e,t){return new Promise((function(n){m()({path:"/prc-api/v2/blocks/helpers/get-taxonomy-by-letter/?taxonomy=".concat(e,"&letter=").concat(t)}).then((function(e){n(e)}))}))})(i,100).then((function(e){c({termsData:e}),function(e){var t={};if(0!==e.length&&0!==r.length&&(t.excludeData=JSON.parse(r)),0!==e.length&&0===o.length){var n=[];e.map((function(e){n.push({id:e.term_id,name:e.name,slug:e.slug})})),l({include:JSON.stringify(n)}),t.includeData=n}else 0!==e.length&&0!==o.length&&(t.includeData=JSON.parse(o));c(t)}(e)}))};!1!==l&&Object(x.a)((function(){0===t.length&&p()}));var d=0!==o.length&&!1===l&&JSON.parse(o);return React.createElement("div",{className:"ui link list"},!1!==d&&React.createElement(s.Fragment,null,d.map((function(e){return React.createElement("a",{className:"item",href:"/".concat(i.toLowerCase(),"/").concat(e.slug)},e.name)}))),!1!==l&&React.createElement(s.Fragment,null,t.map((function(e){var t=r.includes(e.term_id);return React.createElement("div",{className:"item"},React.createElement(g.CheckboxControl,{label:Object(h.decodeEntities)(e.name),checked:t,onChange:function(t){var c,r,o,i,s,u,p;c=t,r=e.term_id,o=e.name,i=e.slug,u=n,p=a,!0===c?(u.push(r),-1!==(s=p.findIndex((function(e){return e.id===r})))&&p.splice(s,1)):(p.push({id:r,name:o,slug:i}),function(){var e=u.indexOf(r);-1!==e&&u.splice(e,1)}()),l({exclude:JSON.stringify(u),include:JSON.stringify(p)})},"data-termid":e.term_id,"data-term":e.name}),React.createElement("div",{style:{height:"15px",marginTop:"-5px"}},!0===u&&React.createElement("pre",{style:{fontSize:"11px",margin:0}},"(",e.slug,")")))}))))})),n(95),["prc-block/menu-link"]),v=function(e){var t=e.attributes,n=e.className,a=e.setAttributes,c=t.heading,r=Object(u.useBlockProps)({className:l()(n)}),o=Object(u.__experimentalUseInnerBlocksProps)({className:l()("ui list")},{allowedBlocks:O,orientation:"vertical",templateLock:!1,renderAppender:u.InnerBlocks.ButtonBlockAppender});return React.createElement("div",r,React.createElement(f,{heading:c,placeholder:"Politics",chevron:!0,setAttributes:a},React.createElement("div",o)))},y=function(){return React.createElement(u.InnerBlocks.Content,null)};n(120);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=o.name,R={title:Object(c.__)("Tree List"),description:"A tree list that can be expanded.",category:"layout",icon:"networking",keywords:[Object(c.__)("Taxonomy Tree"),Object(c.__)("Taxonomies"),Object(c.__)("Tree")],edit:v,save:y};Object(r.registerBlockType)(E,k(k({},o),R))},20:function(e,t){e.exports=wp.blockEditor},46:function(e,t){e.exports=moment},51:function(e,t){e.exports=ReactDOM},52:function(e,t){e.exports=wp.i18n},53:function(e,t){e.exports=wp.apiFetch},64:function(e,t){e.exports=wp.components},7:function(e,t){e.exports=wp.element},73:function(e){e.exports=JSON.parse('{"apiVersion":2,"name":"prc-block/taxonomy-tree","category":"layout","attributes":{"heading":{"type":"string","source":"html","selector":"h2","default":""}},"supports":{"reusable":false,"html":false}}')},86:function(e,t){e.exports=wp.blocks},90:function(e,t){e.exports=wp.url},93:function(e,t){e.exports=wp.htmlEntities},94:function(e,t){e.exports=wp.compose},95:function(e,t){e.exports=wp.data}},[[107,1,2]]]);
//# sourceMappingURL=main-b4ccfa5b.js.map