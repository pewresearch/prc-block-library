/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 0.1.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2020 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window["wpackioprcBlocksLibrarytaxonomy-treeJsonp"]=window["wpackioprcBlocksLibrarytaxonomy-treeJsonp"]||[]).push([[0],{0:function(e,t){e.exports=React},120:function(e,t){e.exports=wp.blocks},121:function(e,t){e.exports=wp.blockEditor},141:function(e,t,n){n(142),e.exports=n(262)},18:function(e,t){e.exports=wp.element},262:function(e,t,n){"use strict";n.r(t);var a=n(131),o=n(120),r=n(61),c=n(18),l=n(271),m=n(84),i=n(121),u=(n(62),function(e){var t=new wp.api.collections[e];return void 0!==t&&new Promise((function(n){var a={};t.fetch({data:{hide_empty:!1,per_page:25}}).then((function(t){for(var o=0;o<t.length;o++){var r=t[o].slug.replace("".concat(e.toLowerCase(),"_"),"");a[t[o].id]={id:t[o].id,name:t[o].name,slug:r}}n(a)}))}))}),s=function(e){return new Promise((function(t){u(e).then((function(e){var n=[];Object.keys(e).forEach((function(t){var a=e[t];n.push({value:a.name,label:a.name})})),n.sort((function(e,t){return e.label>t.label?1:-1})),t(n)}))}))},p=n(269),d=n(270),f=function(e){var t=e.name,n=e.url,a=(e.termID,e.editMode);return React.createElement(c.Fragment,null,!0===a&&React.createElement(p.a,{label:t}),!1===a&&React.createElement("a",{href:n},t))},E=function(e){var t=e.label,n=e.term,a=e.taxonomy,o=e.editMode,r="100%",l="auto";return!0===o&&(r="5em",l="scroll"),Object(c.useEffect)((function(){console.log("Term Change"),s(a).then((function(e){return console.log(e)}))}),[n]),React.createElement(c.Fragment,null,React.createElement(d.a,null,React.createElement(d.a.Item,null,React.createElement(d.a.Header,null,t)),React.createElement(d.a.Item,null,React.createElement(d.a,{style:{maxHeight:r,overflowY:l}},React.createElement(d.a.Item,null,React.createElement(f,{name:"Term 1",url:"#",termID:1e3,editMode:o})),React.createElement(d.a.Item,null,React.createElement(f,{name:"Term 2",url:"#",termID:1e3,editMode:o})),React.createElement(d.a.Item,null,React.createElement(f,{name:"Term 3",url:"#",termID:1e3,editMode:o})),React.createElement(d.a.Item,null,React.createElement(f,{name:"Term 4",url:"#",termID:1e3,editMode:o})),React.createElement(d.a.Item,null,React.createElement(f,{name:"Term 5",url:"#",termID:1e3,editMode:o})),React.createElement(d.a.Item,null,React.createElement(f,{name:"Term 6",url:"#",termID:1e3,editMode:o}))))))},R=["core/heading"],g=Object(l.a)({terms:[]})((function(e){var t=e.attributes,n=e.setAttributes,a=e.isSelected,o=e.setState,r=e.terms,l=t.taxonomy,u=t.term;Object(c.useEffect)((function(){console.log("Taxonomy Change"),!1!==l&&s(l).then((function(e){return o({terms:e})}))}),[l]);var p=function(e){var t=e.tx;return React.createElement(m.SelectControl,{value:t,options:[{label:"Topics",value:"Topics"},{label:"Topic",value:"Topic"}],onChange:function(e){n({taxonomy:e})}})},d=function(e){var t=e.tm;return React.createElement(m.SelectControl,{value:t,options:r,onChange:function(e){n({term:e})}})};return console.log(l),React.createElement(c.Fragment,null,!1===u&&React.createElement(p,{tx:l}),!1!==l&&!1===u&&React.createElement(d,{tm:u}),!1!==u&&React.createElement("h2",null,u),!1!==l&&!1!==u&&React.createElement(c.Fragment,null,React.createElement(E,{label:"Key Topics",taxonomy:l,term:u,editMode:a})),!1!==n&&React.createElement(i.InnerBlocks,{allowedBlocks:R}))})),x=function(e){return console.log("Save Mode:"),console.log(e),React.createElement("div",null,"Hello World")},v=["prc-block/taxonomy-tree",{title:Object(r.__)("Taxonomy Tree"),description:"A tree view of a selected taxonomy and term.",category:"layout",icon:"networking",keywords:[Object(r.__)("Taxonomy Tree"),Object(r.__)("Taxonomies")],supports:{html:!1,align:!1},attributes:{taxonomy:{type:"string",default:!1},term:{type:"string",default:!1}},edit:g,save:x}];o.registerBlockType.apply(void 0,Object(a.a)(v))},42:function(e,t){e.exports=ReactDOM},61:function(e,t){e.exports=wp.i18n},62:function(e,t){e.exports=moment},84:function(e,t){e.exports=wp.components},87:function(e,t){e.exports=lodash}},[[141,1,2]]]);
//# sourceMappingURL=main-8769aecf.js.map