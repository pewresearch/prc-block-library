{"version":3,"sources":["webpack:///./src/taxonomy-tree/frontend.js","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js"],"names":["treeCollapseHandler","window","innerWidth","blocks","document","querySelectorAll","undefined","block","parentElement","classList","contains","title","querySelector","content","linkCheck","titleLink","getAttribute","innerHTML","newLink","createElement","setAttribute","add","prepend","remove","addEventListener","e","stopPropagation","display","style","caret","jQuery","transition","animation","setTimeout","path","replace","concat"],"mappings":";;;;;;;;;;;;;;;;;wpCAAA,IAAMA,EAAsB,WAExB,KAAK,KAAOC,OAAOC,YAAnB,CAGA,IACMC,EAASC,SAASC,iBAAiB,qCACzC,QAAKC,IAAcH,EAAnB,CAPmC,UAUjBA,GAViB,yBAU1BI,EAV0B,QAW/B,GAAKA,EAAMC,cAAcC,UAAUC,SAAS,kCACxC,iBAEJ,IAAMC,EAAQJ,EAAMK,cAAc,UAClC,QAAKN,IAAcK,EACf,iBAEJ,GAAK,OAASA,EACV,iBAGJ,IAAME,EAAUN,EAAMK,cAAc,YAE9BE,EAAYH,EAAMC,cAAc,KACtC,GAAK,OAASE,EAAY,CACtB,IAAIC,EAAYD,EAAUE,aAAa,QAC9BL,EAAMC,cAAc,MAE1BK,UAAYH,EAAUG,UAGzB,IAAIC,EAAUd,SAASe,cAAc,KACrCD,EAAQD,UAAY,YAAcH,EAAUG,UAAY,gBACxDC,EAAQE,aAAa,OAAQL,GAC7BG,EAAQT,UAAUY,IAAI,cACtBR,EAAQS,QAAQJ,GAEhBJ,EAAUS,SAEdZ,EAAMa,iBAAiB,SAAS,SAASC,GACrCA,EAAEC,kBADsC,IAEhCC,EAAYd,EAAQe,MAApBD,QACFE,EAAQlB,EAAMC,cAAc,eAC9B,UAAYe,GAEZG,OAAOjB,GAASkB,WAAWC,aACtBH,EAAMpB,UAAUC,SAAS,UAC1BmB,EAAMpB,UAAUY,IAAI,SACpBQ,EAAMpB,UAAUc,OAAO,WAI3BO,OAAOjB,GAASkB,WAAWC,WACtBH,EAAMpB,UAAUC,SAAS,WAC1BmB,EAAMpB,UAAUY,IAAI,QACpBQ,EAAMpB,UAAUc,OAAO,eA9CvC,2BAA0B,IAVS,kCA+DvCnB,SAASoB,iBAAiB,oBAAoB,WAC1CS,WAAWjC,EAAqB,S,gCCvDpB,IAAIkC,EAAK,uBAA6CC,QAAQ,kBAAkB,IAChG,IAAwBlC,OAAO,YAAYmC,OAAOF,M","file":"taxonomy-tree/frontend-72cf17b3.js","sourcesContent":["const treeCollapseHandler = function() {\n    // If viewport is greater than mobile threshold disable\n    if ( 541 <= window.innerWidth ) {\n        return;\n    }\n    const animation = 'fade';\n    const blocks = document.querySelectorAll('.wp-block-prc-block-taxonomy-tree');\n    if ( undefined === blocks ) {\n        return;\n    }\n    for (let block of blocks) {\n        if ( block.parentElement.classList.contains('block-editor-block-list__block') ) {\n            continue;\n        }\n        const title = block.querySelector('.title');\n        if ( undefined === title ) {\n            continue;\n        }\n        if ( null === title ) {\n            continue;\n        }\n\n        const content = block.querySelector('.content');\n       \n        const linkCheck = title.querySelector('a');\n        if ( null !== linkCheck ) {\n            let titleLink = linkCheck.getAttribute('href');\n            let h2 = title.querySelector('h2');\n            // Replace The Title\n            h2.innerHTML = linkCheck.innerHTML;\n\n            // Create New Link\n            let newLink = document.createElement(\"a\");\n            newLink.innerHTML = 'View all ' + linkCheck.innerHTML + ' publications';\n            newLink.setAttribute('href', titleLink);\n            newLink.classList.add('sans-serif');\n            content.prepend(newLink);  \n\n            linkCheck.remove();\n        }\n        title.addEventListener('click', function(e) {\n            e.stopPropagation(); // Short-circuit any links\n            const { display } = content.style;\n            const caret = title.querySelector('.icon.caret');\n            if ('block' !== display) {\n                // Closed State - Force Open\n                jQuery(content).transition(animation + ' down');\n                if ( caret.classList.contains('down') ) {\n                    caret.classList.add('right');\n                    caret.classList.remove('down');\n                }\n            } else {\n                // Open State - Force Closed\n                jQuery(content).transition(animation + ' up');\n                if ( caret.classList.contains('right') ) {\n                    caret.classList.add('down');\n                    caret.classList.remove('right');\n                }\n            }\n        });\n    }\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n    setTimeout(treeCollapseHandler, 1000);\n});","\"use strict\";/* eslint-disable @typescript-eslint/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}"],"sourceRoot":""}