{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.blocks\"","webpack:///./src/posts/index.js","webpack:///external \"wp.blockEditor\"","webpack:///external \"wp.components\"","webpack:///./src/_shared/get-posts/index.js","webpack:///./src/posts/styles/list.js","webpack:///external \"wp.element\"","webpack:///external \"moment\"","webpack:///external \"wp.url\"","webpack:///external \"wp.i18n\"","webpack:///./src/_shared/get-terms/index.js","webpack:///external \"ReactDOM\"","webpack:///./src/posts/styles/fact-tank-logo.svg","webpack:///./src/posts/styles/fact-tank.js","webpack:///./src/story-item/component.js","webpack:///./src/posts/styles/columns.js","webpack:///external \"wp.apiFetch\""],"names":["module","exports","React","wp","blocks","EditSidebar","props","setState","setAttributes","getTerms","then","data","formats","programs","push","value","label","attributes","posts","getPosts","per_page","format","program","taxonomyToDisplay","className","includes","blockClientID","item","index","console","log","parentID","window","select","getBlockHierarchyRootClientId","clientID","parentBlockOrder","getBlockOrder","parentBlock","getBlock","block","createBlock","title","image","excerpt","link","date","extra","postID","id","emphasis","isChartArt","imageSlot","horizontal","stacked","enableHeader","enableExcerpt","enableExtra","enableProgramsTaxonomy","headerSize","dispatch","insertBlocks","__","onChange","Number","options","state","help","dynamic","checked","colors","name","color","backgroundColor","bind","Component","registerBlockType","icon","category","keywords","styles","isDefault","supports","html","type","default","moreLink","tyle","edit","style","isFactTank","undefined","isList","isColumns","isSelected","clientId","disableLink","save","data-title","data-format","data-program","data-number","data-background","data-style","blockEditor","components","perPage","labelTaxonomy","Promise","resolve","reject","apiFetch","path","PostsList","loaded","relaxed","divided","map","Item","href","Posts","this","element","moment","url","i18n","taxonomy","returnTermID","collection","api","collections","fetch","hide_empty","terms","length","obj","ReactDOM","createElement","FactTankList","svgHeader","svg","width","height","margin","display","src","Logo","readMoreLink","addQueryArgs","siteURL","class","borderTop","ALLOWED_MEDIA_TYPES","MetaEditor","open","editLabel","labelOptions","getLabelOptions","alignItems","marginBottom","ImageEditor","mediaHandler","media","slot","imageID","onSelect","allowedTypes","render","img","controls","isActive","onClick","imgClass","size","imageSize","isPrimary","Image","isMedium","classes","classNames","ui","medium","bordered","appendImageWidth","imgURL","args","w","resize","Description","content","enabled","sansSerif","tagName","placeholder","multiline","Content","Extra","Kicker","labelSlug","replace","toLowerCase","PostTitle","as","Header","currentSize","Meta","active","StoryItem","attrs","isStacked","isBordered","PostsColumns","Grid","padded","stackable","columns","Row","storyItemArgs","Column","defaultOptions"],"mappings":";;;;;;;;;;;;;;;;;mHAAAA,EAAOC,QAAUC,O,kBCAjBF,EAAOC,QAAUE,GAAGC,Q,uNCadC,E,YACL,WAAYC,GAAQ,IAAD,6BAClB,4CAAMA,IADY,gDASC,WACnB,IAAMC,EAAW,EAAKA,SAChBC,EAAgB,EAAKF,MAAME,cAGjCC,YAAS,WAAW,GAAMC,MAAK,SAACC,GAE/BJ,EAAS,CAAEK,QADGD,OAIfF,YAAS,YAAY,GAAMC,MAAK,SAACC,GAChC,IAAIE,EAAWF,EACfE,EAASC,KAAK,CAAEC,MAAO,EAAGC,MAAO,QACjCT,EAAS,CAAEM,iBAIP,IAAU,EAAKP,MAAMW,WAAWC,QACpCC,YAAS,EAAKb,MAAMW,WAAWG,SAAU,EAAKd,MAAMW,WAAWI,OAAQ,EAAKf,MAAMW,WAAWK,QAAS,EAAKhB,MAAMW,WAAWM,mBAAmBb,MAAM,SAACQ,GACrJV,EAAc,CAACU,cAEX,IAAS,EAAKZ,MAAMkB,UAAUC,SAAS,wBAC3CjB,EAAc,CAACa,OAAQ,WACvBF,YAAS,EAAKb,MAAMW,WAAWG,SAAU,EAAKd,MAAMW,WAAWI,OAAQ,SAAU,EAAKf,MAAMW,WAAWM,mBAAmBb,MAAM,SAACQ,GAChIV,EAAc,CAACU,kBAjCA,+CAwCA,SAACQ,EAAeC,EAAMC,GACxCC,QAAQC,IAAI,sBAEZ,IAAMC,EAAWC,OAAO7B,GAAGQ,KAAKsB,OAAO,qBAAqBC,8BAA+BC,UACrFC,EAAmBJ,OAAO7B,GAAGQ,KAAKsB,OAAO,qBAAqBI,cAAcN,GAC5EO,EAAcN,OAAO7B,GAAGQ,KAAKsB,OAAO,qBAAqBM,SAASH,EAAiB,IAEzFP,QAAQC,IAAIM,EAAiB,IAC7BP,QAAQC,IAAIQ,GACZT,QAAQC,IAAIC,GAEZ,IAAIS,EAAQR,OAAO7B,GAAGC,OAAOqC,YAAa,uBAAwB,CACjEC,MAAOf,EAAKe,MACZC,MAAOhB,EAAKgB,MACZC,QAASjB,EAAKiB,QACdC,KAAMlB,EAAKkB,KACX7B,MAAOW,EAAKX,MACZ8B,KAAMnB,EAAKmB,KACXC,MAAO,GAEPC,OAAQrB,EAAKsB,GAEbC,UAAU,EACVC,YAAY,EACZC,UAAW,MACXC,YAAY,EACZC,SAAS,EACTC,cAAc,EACdC,eAAe,EACfC,aAAa,EACbC,wBAAwB,EACxBC,WAAY,WAGb3B,OAAO7B,GAAGQ,KAAKiD,SAAS,qBAAqBC,aAAarB,EAAOZ,EAAOF,MA1EtD,qCA6EV,WACR,IAAMlB,EAAgB,EAAKF,MAAME,cAMjC,OACC,oBAAC,oBAAD,KACC,oBAAC,YAAD,CAAWkC,MAAQoB,aAAI,wBACtB,oBAAC,cAAD,CACC9C,MAAM,QACND,MAAQ,EAAKT,MAAMW,WAAWyB,MAC9BqB,SAAW,SAAErB,GAAF,OAAalC,EAAe,CAAEkC,aAE1C,oBAAC,cAAD,CACC1B,MAAM,kBACND,MAAQiD,OAAO,EAAK1D,MAAMW,WAAWG,UACrC2C,SAAW,SAAE3C,GACZZ,EAAe,CAAEY,SAAU4C,OAAO5C,KAClCD,YAASC,EAAU,EAAKd,MAAMW,WAAWI,OAAQ,EAAKf,MAAMW,WAAWK,QAAS,EAAKhB,MAAMW,WAAWM,mBAAmBb,MAAM,SAACQ,GAC/HV,EAAc,CAACU,gBAIlB,oBAAC,gBAAD,CACCF,MAAM,SACND,MAAQ,EAAKT,MAAMW,WAAWI,OAC9B4C,QAAU,EAAKC,MAAMtD,QACrBmD,SAAW,SAAE1C,GACZb,EAAe,CAAEa,OAAQ2C,OAAO3C,KAChCF,YAAS,EAAKb,MAAMW,WAAWG,SAAUC,EAAQ,EAAKf,MAAMW,WAAWK,QAAS,EAAKhB,MAAMW,WAAWM,mBAAmBb,MAAM,SAACQ,GAC/HV,EAAc,CAACU,gBAIlB,oBAAC,gBAAD,CACCF,MAAM,mBACND,MAAQ,EAAKT,MAAMW,WAAWK,QAC9B2C,QAAU,EAAKC,MAAMrD,SACrBkD,SAAW,SAAEzC,GACZd,EAAe,CAAEc,QAAS0C,OAAO1C,KACjCH,YAAS,EAAKb,MAAMW,WAAWG,SAAU,EAAKd,MAAMW,WAAWI,OAAQC,EAAS,EAAKhB,MAAMW,WAAWM,mBAAmBb,MAAM,SAACQ,GAC/HV,EAAc,CAACU,gBAIlB,oBAAC,gBAAD,CACCF,MAAM,iBACND,MAAQ,EAAKT,MAAMW,WAAWM,kBAC9B0C,QAAU,CACT,CAAEjD,MAAO,UAAWD,MAAO,WAC3B,CAAEC,MAAO,WAAYD,MAAO,aAE7BgD,SAAW,SAAExC,GACZf,EAAe,CAAEe,sBACjBJ,YAAS,EAAKb,MAAMW,WAAWG,SAAU,EAAKd,MAAMW,WAAWI,OAAQ,EAAKf,MAAMW,WAAWK,QAASC,GAAmBb,MAAM,SAACQ,GAC/HV,EAAc,CAACU,gBAIlB,oBAAC,gBAAD,CACCF,MAAM,eACNmD,KAAO,EAAK7D,MAAMW,WAAWmD,QAAU,+CAAiD,6DACxFC,QAAU,EAAK/D,MAAMW,WAAWmD,QAChCL,SAAW,kBAAMvD,EAAc,CAAE4D,SAAW,EAAK9D,MAAMW,WAAWmD,aAEnE,uDAAkC,+BAClC,oBAAC,eAAD,CACCE,OAnEgB,CACnB,CAAEC,KAAM,QAASC,MAAO,QACxB,CAAED,KAAM,UAAWC,MAAO,YAkEvBzD,MAAQ,EAAKT,MAAMW,WAAWwD,gBAC9BV,SAAW,SAAES,GAAF,OAAahE,EAAe,CAAEiE,gBAAiBD,YAlJ9D,EAAKN,MAAQ,CACZtD,SAAS,EACTC,UAAU,GAEX,EAAKN,SAAW,EAAKA,SAASmE,KAAd,gBANE,E,2BADMC,aA0K1BC,4BAAmB,kBAAmB,CAErClC,MAAOoB,aAAI,eACXe,KAAM,aACNC,SAAU,UACVC,SAAU,CACTjB,aAAI,OACJA,aAAI,aACJA,aAAI,iBACJA,aAAI,SACJA,aAAI,gBACJA,aAAI,wBAELkB,OAAQ,CACP,CACCT,KAAM,OACNvD,MAAO,cACPiE,WAAW,GAEZ,CACCV,KAAM,YACNvD,MAAO,aAER,CACCuD,KAAM,UACNvD,MAAO,YAOTkE,SAAU,CACTC,MAAM,GAGPlE,WAAY,CACXyB,MAAO,CACN0C,KAAM,SACNC,QAAS,SAEVC,SAAU,CACTF,KAAM,SACNC,QAAS,IAEVhE,OAAQ,CACP+D,KAAM,UACNC,QAAS,UAEV/D,QAAS,CACR8D,KAAM,UACNC,QAAS,GAEVjE,SAAU,CACTgE,KAAM,UACNC,QAAS,GAEVZ,gBAAiB,CAChBc,KAAM,SACNF,QAAS,QAGVjB,QAAS,CACRgB,KAAM,UACNC,SAAS,GAEV9D,kBAAmB,CAClB6D,KAAM,SACNC,QAAS,WAEVnE,MAAO,CACNkE,KAAM,QACNC,SAAS,IAeXG,KAAM,SAAElF,GACP,IAAMK,EAAOL,EAAMW,WACfwE,EAAQnF,EAAMW,WAAWO,UACzBkE,GAAa,OACZC,IAAcF,GAASA,EAAMhE,SAAS,wBAC1CiE,GAAa,GAEd,IAAIE,GAAS,QACRD,IAAcF,GAASA,EAAMhE,SAAS,oBAC1CmE,GAAS,GAEV,IAAIC,GAAY,EAahB,YAZKF,IAAcF,GAASA,EAAMhE,SAAS,sBAC1CoE,GAAY,GAEblF,EAAKa,UAAYiE,GAEZ,IAASnF,EAAMwF,aACnBnF,EAAKH,cAAgBF,EAAME,eAG5BG,EAAKwB,SAAW7B,EAAMyF,SAEtBpF,EAAKqF,aAAc,EAElB,oBAAC,WAAD,MACG,IAAS1F,EAAMwF,YAChB,oBAACzF,EAAgBC,GAElB,2BAAKkB,UAAWb,EAAKa,YAClB,IAASkE,GACV,oBAAC,IAAiB/E,IAEjB,IAASiF,GACV,oBAAC,IAAcjF,IAEd,IAASkF,GACV,oBAAC,IAAiBlF,MAkBvBsF,KAAM,SAAE3F,GACP,IAAMK,EAAOL,EAAMW,WAEfwE,EAAQnF,EAAMW,WAAWO,UACzBkE,GAAa,OACZC,IAAcF,GAASA,EAAMhE,SAAS,wBAC1CiE,GAAa,GAEd,IAAIE,GAAS,OACRD,IAAcF,GAASA,EAAMhE,SAAS,mBAC1CmE,GAAS,GAEV,IAAIC,GAAY,EAOhB,YANKF,IAAcF,GAASA,EAAMhE,SAAS,sBAC1CoE,GAAY,GAEblF,EAAKa,UAAYiE,EAEjB9E,EAAKqF,aAAc,EAElB,2BAAKxE,UAAWb,EAAKa,YAClB,IAASlB,EAAMW,WAAWmD,UAAW,IAASsB,GAC/C,oBAAC,IAAiB/E,IAEjB,IAASL,EAAMW,WAAWmD,UAAW,IAASwB,GAC/C,oBAAC,IAAcjF,IAEd,IAASL,EAAMW,WAAWmD,UAAW,IAASyB,GAC/C,oBAAC,IAAiBlF,IAEjB,IAASL,EAAMW,WAAWmD,SAC3B,2BAAK5C,UAAU,uBACd0E,aAAY5F,EAAMW,WAAWyB,MAC7ByD,cAAa7F,EAAMW,WAAWI,OAC9B+E,eAAc9F,EAAMW,WAAWK,QAC/B+E,cAAa/F,EAAMW,WAAWG,SAC9BkF,kBAAiBhG,EAAMW,WAAWwD,gBAClC8B,aAAYd,S,iBC1WlBzF,EAAOC,QAAUE,GAAGqG,a,iBCApBxG,EAAOC,QAAUE,GAAGsG,Y,gCCApB,2BAwCetF,IArCE,SAACuF,EAASrF,EAAQC,EAASqF,GAkB3C,OALA9E,QAAQC,IAAI,UACZD,QAAQC,IAAIT,GACZQ,QAAQC,IAAI,WACZD,QAAQC,IAAIR,GAEL,IAAIsF,SAAS,SAACC,EAASC,GAC7B,IAAInG,EAAO,GACXoG,IAAU,CAAEC,KAAM,iDAAiDN,EAAQ,WAAarF,EAAS,YAAcC,EAAU,kBAAoBqF,IAAkBjG,MAAM,SAAAQ,GACpK,IAAM,IAAIU,EAAQ,EAAGA,EAAQ8E,EAAU9E,IACtCjB,EAAKG,KAAK,CACTmC,GAAI/B,EAAMU,GAAOqB,GACjBP,MAAOxB,EAAMU,GAAOc,MACpBE,QAAS1B,EAAMU,GAAOgB,QACtBE,KAAM5B,EAAMU,GAAOkB,KACnBD,KAAM3B,EAAMU,GAAOiB,KACnB7B,MAAOE,EAAMU,GAAOZ,MACpB2B,MAAOzB,EAAMU,GAAOe,QAGtBkE,EAAQlG,W,2FC/BLsG,E,YACL,WAAY3G,GAAQ,qEACbA,I,sEAG+C,EAA/C4G,OAA+C,EAAvC3G,SAAuC,EAA7B4B,SAA8B,IAApBxB,EAAmB,EAAnBA,KAAMqF,EAAa,EAAbA,YACxC,OACC,oBAAC,IAAD,CAAMmB,QAAQ,OAAOtE,MAAI,EAACuE,SAAO,IAC/B,IAAUzG,GAAQA,EAAK0G,KAAI,SAAC1F,EAAMC,GACnC,OAAK,IAASoE,EACN,oBAAC,IAAKsB,KAAN,KAAW,4BAAM9F,UAAU,aAAaG,EAAKmB,MAAY,oBAAC,UAAD,KAAUnB,EAAKe,QAExE,oBAAC,IAAK4E,KAAN,KAAW,4BAAM9F,UAAU,aAAaG,EAAKmB,MAAY,yBAAGyE,KAAM5F,EAAKkB,MAAM,oBAAC,UAAD,KAAUlB,EAAKe,e,+BAQtG,IAAM8E,EAAQC,KAAKvG,MACnB,OACC,oBAAC,WAAD,KACC,oBAACsG,EAAD,CAAO7G,KAAM8G,KAAKnH,MAAMY,MAAO8E,YAAayB,KAAKnH,MAAM0F,mB,GAvBnCrB,aA6BTsC,O,gBCjCfjH,EAAOC,QAAUE,GAAGuH,S,iBCApB1H,EAAOC,QAAU0H,Q,iBCAjB3H,EAAOC,QAAUE,GAAGyH,K,iBCApB5H,EAAOC,QAAUE,GAAG0H,M,gCC6BLpH,IA3BE,SAACqH,EAAUC,GAC3BlG,QAAQC,IAAI,qBAAqBgG,GAEjC,IAAME,EAAa,IAAI7H,GAAG8H,IAAIC,YAAYJ,GAC1C,YAAKnC,IAAcqC,GAGZ,IAAIpB,SAAS,SAACC,EAASC,GAC7B,IAAInG,EAAO,GACXqH,EAAWG,MAAO,CAACxH,KAAM,CAAEyH,YAAY,EAAOhH,SAAU,MAAQV,MAAM,SAAE2H,GACvE,IAAK,IAAIzG,EAAQ,EAAGA,EAAQyG,EAAMC,OAAQ1G,IAAS,CAClD,IAAI2G,EAAM,CACTvH,MAAOqH,EAAMzG,GAAO2C,MAGpBgE,EAAIxH,OADA,IAASgH,EACDM,EAAMzG,GAAOqB,GAEboF,EAAMzG,GAAO2C,KAE1B5D,EAAKG,KAAKyH,GAGX1B,EAAQlG,W,iBCxBXX,EAAOC,QAAUuI,U,0HCMiB,IAAMC,cAAc,QAAS,KAAM,4HAgDtD,IChDTC,E,YACL,WAAYpI,GAAQ,IAAD,8BAClB,4CAAMA,KACDqI,UAAY,EAAKA,UAAUjE,KAAf,gBAFC,E,0EAKM,IAAdkE,EAAa,EAAbA,IAAKC,EAAQ,EAARA,MACXC,EAASD,EAAQ,EACrB,OAAO,2BAAKpD,MAAO,CAACsD,OAAQ,OAAQC,QAAS,SAAUC,IAAKL,EAAKC,MAAOA,EAAM,KAAMC,OAAQA,EAAO,S,+BAInG,IAAMI,EAAOzB,KAAKkB,UAEZQ,EAAeC,uBAAapH,OAAOqH,QAD9B,CAAEhI,OAAQ,cAErB,OACC,2BAAK4B,GAAG,uBACP,oBAACiG,EAAD,CAAMN,ID+BK,ikFC/BWC,MAAM,QAC5B,2BAAKS,MAAM,4BAA4B7D,MAAO,CAAC8D,UAAW,sBACzD,yBAAG/H,UAAU,WAAb,uBACA,oBAAC,IAAciG,KAAKnH,OACpB,yBAAGiH,KAAM4B,EAAc3H,UAAU,aAAjC,6B,GArBsBmD,aA4BZ+D,O,6KCnBTc,EAAsB,CAAE,SAMxBC,E,YACL,WAAYnJ,GAAQ,IAAD,8BAClB,4CAAMA,KACD4D,MAAQ,CACZwF,MAAM,EACNC,WAAW,EACX7B,SAAU,UACV8B,aAAc,IAEf,EAAKrJ,SAAW,EAAKA,SAASmE,KAAd,gBAChB,EAAKmF,gBAAkB,EAAKA,gBAAgBnF,KAArB,gBATL,E,iFAalB+C,KAAKoC,oB,2CAIApC,KAAKvD,MAAM4D,WAAaL,KAAKnH,MAAMwH,UACvCL,KAAKoC,oB,wCAIY,IAAD,OACjB,QAAKlE,IAAcxF,GAAG8H,IAAIC,YAAYT,KAAKnH,MAAMwH,UAAjD,CAIA,IAAMvH,EAAWkH,KAAKlH,SAEtBE,YAASgH,KAAKnH,MAAMwH,UAAU,GAAOpH,MAAK,SAACC,GAC1C,IAAIiJ,EAAejJ,EACnBJ,EAAS,CAAEuH,SAAU,EAAKxH,MAAMwH,SAAU8B,aAAcA,U,+BAIhD,IAAD,OACR,OACC,oBAAC,WAAD,KACC,2BAAKnE,MAAO,CAACuD,QAAS,OAAQc,WAAY,WACzC,+BACC,oBAAC,gBAAD,CACC/I,MAAQ0G,KAAKnH,MAAMU,MACnBiD,QAASwD,KAAKvD,MAAM0F,aACpB7F,SAAW,SAAE/C,GAAa,EAAKV,MAAME,cAAc,CAACQ,WACpDyE,MAAO,CAACsE,aAAc,OACtBvI,UAAU,wBAGZ,sCACA,+BACC,oBAAC,cAAD,CACCT,MAAQ0G,KAAKnH,MAAMwC,KACnBiB,SAAW,SAAEjB,GACZ,EAAKxC,MAAME,cAAe,CAAEsC,KAAMA,c,GAtDjB6B,aAgEnBqF,E,YACL,WAAY1J,GAAQ,IAAD,8BAClB,4CAAMA,KACD2J,aAAe,EAAKA,aAAavF,KAAlB,gBAFF,E,0EAINwF,GACZrI,QAAQC,IAAIoI,GACP,aAAezC,KAAKnH,MAAM6J,KAC9B1C,KAAKnH,MAAME,cAAe,CAAEmC,MAAOuH,EAAMtC,IAAKwC,QAASF,EAAMjH,GAAIG,UAAW,YAE5EqE,KAAKnH,MAAME,cAAe,CAAEmC,MAAOuH,EAAMtC,IAAKwC,QAASF,EAAMjH,O,+BAGrD,IAAD,OACR,OACC,oBAAC,mBAAD,KACA,oBAAC,cAAD,CACCoH,SAAU5C,KAAKwC,aACfK,aAAed,EACfe,OAAS,gBAAIb,EAAJ,EAAIA,KAAJ,OACR,oBAAC,WAAD,KACG,KAAO,EAAKpJ,MAAMkK,KACnB,oBAAC,WAAD,KACI,YAAc,EAAKlK,MAAM6J,MAAQ,aAAe,EAAK7J,MAAM6J,MAC7D,oBAAC,gBAAD,KACC,oBAAC,UAAD,CAASM,SAAU,CAAC,CACnB5F,KAAM,MACNnC,MAAM,YACNgI,SAAU,EAAKpK,MAAM6C,WACrBwH,QAAS,WAAQ,EAAKrK,MAAME,cAAc,CAAE2C,YAAY,EAAK7C,MAAM6C,mBAItE,2BAAK3B,UAAW,EAAKlB,MAAMsK,UAC1B,2BAAKpJ,UAAW,YAAY,EAAKlB,MAAM2C,GAAIgG,IAAK,EAAK3I,MAAMkK,IAAKG,QAAUjB,IAC1E,2BAAKlI,UAAU,wBACd,+BACC,2BAAK8H,MAAM,cAAa,mEACxB,2BAAKA,MAAM,0BAA0BqB,QAAS,WAAM,EAAKrK,MAAME,cAAc,CAACmC,MAAM,GAAIS,UAAW,eAAnG,oBAAoI,oDAErI,+BACC,oBAAC,gBAAD,CACCpC,MAAM,aACND,MAAQ,EAAKT,MAAMuK,KACnB5G,QAAS,CACR,CAAElD,MAAO,KAAMC,MAAO,MACtB,CAAED,MAAO,KAAMC,MAAO,MACtB,CAAED,MAAO,KAAMC,MAAO,MACtB,CAAED,MAAO,KAAMC,MAAO,MACtB,CAAED,MAAO,aAAcC,MAAO,2BAC9B,CAAED,MAAO,iBAAkBC,MAAO,4BAEnC+C,SAAW,SAAE+G,GAAiB,EAAKxK,MAAME,cAAc,CAACsK,eACxDrF,MAAO,CAACsE,aAAc,aAO1B,KAAO,EAAKzJ,MAAMkK,KACnB,6BAAG,oBAAC,SAAD,CAAQO,WAAS,EAACJ,QAAUjB,GAA5B,0B,GA7DgB/E,aAuEpBqG,EAAQ,YAAoD,IAAzC7H,EAAwC,EAAxCA,WAAYqH,EAA4B,EAA5BA,IAAKhK,EAAuB,EAAvBA,cAAeqC,EAAQ,EAARA,KACpDoI,GAAW,EACV,SAAWT,EAAIL,MAAQ,UAAYK,EAAIL,OAC3Cc,GAAW,GAEZ,IAAIC,EAAUC,IAAW,CAAEC,IAAI,EAAMC,OAAQJ,EAAUtI,OAAO,EAAM2I,SAAUnI,IAExEoI,EAAmB,SAACC,EAAQrB,EAAMU,EAAMrK,GAC7C,GAAK,KAAOgL,IAAU,IAAUA,EAC/B,OAAOA,EAGR,IAQIC,EAAO,CAAEC,EARJ,SAqBT,MAZK,OAASb,EACbY,EAAO,CAAEC,EATD,SAUG,OAASb,EACpBY,EAAO,CAAEC,EAVD,SAWG,OAASb,EACpBY,EAAO,CAAEC,EAXD,SAYG,eAAiBb,EAC5BY,EAAO,CAAEE,OAZW,WAaT,mBAAqBd,IAChCY,EAAO,CAAEE,OAbW,YAgBdvC,uBAAcoC,EAAQC,IAG9B,OACC,oBAAC,WAAD,UACG9F,IAAc6E,GACf,oBAAC,WAAD,MACE,IAAUhK,GACX,oBAAC,WAAD,KACC,oBAAC,EAAD,CAAayC,GAAIuH,EAAIvH,GAAIkH,KAAMK,EAAIL,KAAMK,IAAKe,EAAiBf,EAAIvB,IAAKuB,EAAIL,KAAMK,EAAIK,MAAsBA,KAAML,EAAIK,KAAMD,SAAUM,EAAS/H,WAAYA,EAAY3C,cAAeA,MAGtL,IAAUA,GACX,2BAAKgB,UAAW0J,GACf,yBAAG3D,KAAM1E,GACR,2BAAKrB,UAAW,YAAcgJ,EAAIvH,GAAIgG,IAAKsC,EAAiBf,EAAIvB,IAAKuB,EAAIL,KAAMK,EAAIK,aAUpFe,EAAc,YAA0D,IAA/CC,EAA8C,EAA9CA,QAASC,EAAqC,EAArCA,QAAStL,EAA4B,EAA5BA,cAAeuL,EAAa,EAAbA,UAC3Db,EAAUC,IAAY,cAAe,CAAC,aAAcY,IACxD,OACC,oBAAC,WAAD,MACG,IAASD,GACV,oBAAC,WAAD,MACG,IAAUtL,GACX,oBAAC,WAAD,CACCwL,QAAQ,MACRjL,MAAQ8K,EACR9H,SAAW,SAAEnB,GAAF,OAAepC,EAAe,CAAEoC,aAC3CqJ,YAAcJ,EACdK,UAAU,IACV1K,UAAY0J,KAGZ,IAAU1K,GACX,oBAAC,WAAS2L,QAAV,CAAkBH,QAAQ,MAAMjL,MAAQ8K,EAAUrK,UAAY0J,OAQ9DkB,EAAQ,YAA+C,IAApCN,EAAmC,EAAnCA,QAASD,EAA0B,EAA1BA,QAASrL,EAAiB,EAAjBA,cACtC0K,EAAUC,IAAY,SAC1B,OACC,oBAAC,WAAD,MACG,IAAU3K,IAAiB,IAASsL,GACrC,oBAAC,WAAD,CACCE,QAAQ,KACRjL,MAAQ8K,EACR9H,SAAW,SAAEhB,GAAF,OAAavC,EAAe,CAAEuC,WACzCkJ,YAAcJ,EACdK,UAAU,KACV1K,UAAY0J,KAGZ,IAAU1K,IAAiB,IAASsL,GACrC,oBAAC,WAASK,QAAV,CAAkBH,QAAQ,KAAKjL,MAAQ8K,EAAUrK,UAAY0J,MAM3DmB,EAAS,SAAC,GAAqB,IAAnBrL,EAAkB,EAAlBA,MAAO8B,EAAW,EAAXA,UACnB6C,IAAc3E,IAClBA,EAAQ,UAET,IAAMsL,EAAYtL,EAAMuL,QAAQ,OAAQ,KAAKC,cACzCtB,EAAUC,IAAYmB,EAAW,SACrC,OACC,oBAAC,WAAD,KAAU,4BAAM9K,UAAW0J,GAAUlK,GAAgB,UAArD,MAzPM2G,EAyP8E7E,GAzP3DzB,OAAO,iBA6P5BoL,EAAY,SAAC,GAAqC,IAAnC/J,EAAkC,EAAlCA,MAAOG,EAA2B,EAA3BA,KAA2B,KAArBgI,KAAqB,EAAf6B,WAAe,MAAV,IAAU,EACtD,OACC,oBAAC,WAASP,QAAV,CAAkB5E,KAAM1E,EAAMmJ,QAASU,EAAI3L,MAAO2B,KAI9CiK,EAAS,YAAgF,IAArEjK,EAAoE,EAApEA,MAAO1B,EAA6D,EAA7DA,MAAO8B,EAAsD,EAAtDA,KAAMD,EAAgD,EAAhDA,KAAMiJ,EAA0C,EAA1CA,QAASjB,EAAiC,EAAjCA,KAAM/C,EAA2B,EAA3BA,SAAUtH,EAAiB,EAAjBA,cACtEoM,EAAc/B,EAapB,OACC,oBAAC,WAAD,MACG,IAASiB,GACV,oBAAC,WAAD,KACC,oBAACxE,EAAA,EAAKuF,KAAN,MACG,IAAUrM,GACX,oBAAC,EAAD,CAAYsC,KAAMA,EAAM9B,MAAOA,EAAO8G,SAAUA,EAAUtH,cAAeA,KAExE,IAAUA,GACX,oBAAC,EAAD,CAAQQ,MAAOA,EAAO8B,KAAMA,KAG9B,oBAACwE,EAAA,EAAKqF,OAAN,CAAanL,UAAWqJ,IACrB,IAAUrK,GACX,oBAAC,WAAD,KACC,oBAAC,gBAAD,KACC,oBAAC,UAAD,CAASiK,SAAW,CAAE,QAAS,SAAU,SAAUpD,KA5BhC,SAAUwD,GACpC,IAAIiC,GAAS,EAIP,OAHDjC,IAAS+B,IACbE,GAAS,GAEG,CACHjI,KAAM,mBACNnC,MAAM,SAAD,OAAYmI,GACjBH,SAAUoC,EACVnC,QAAS,WAAQnK,EAAc,CAAEmD,WAAYkH,YAqBjD,oBAAC,WAAD,CACCmB,QAAQ,MACRjL,MAAQ2B,EACRqB,SAAW,SAAErB,GAAF,OAAalC,EAAe,CAAEkC,WACzCuJ,YAAY,QACZC,UAAU,SAIX,IAAU1L,GACX,oBAAC,EAAD,CAAWkC,MAAOA,EAAOG,KAAMA,EAAM6J,GAAG,IAAI7B,KAAMA,QAmH1CkC,E,YAzGd,WAAYzM,GAAQ,IAAD,6BAClB,4CAAMA,IADY,mCASZ,SAAC0M,GACP,OACC,oBAAC1F,EAAA,EAAD,CAAMoF,GAAG,UAAUlL,UAAWwL,EAAM9B,UAC/B,QAAU8B,EAAM5J,WAAa,SAAW4J,EAAM5J,YACjD,oBAAC,EAAD,CACCoH,IAAK,CACJvB,IAAK+D,EAAMrK,MACXM,GAAI+J,EAAM5C,QACVD,KAAM6C,EAAM5J,UACZyH,KAAMmC,EAAMlC,WAEbjI,KAAMmK,EAAMnK,KACZrC,cAAe,EAAKF,MAAME,cAC1B2C,WAAY6J,EAAM7J,aAIpB,oBAACmE,EAAA,EAAK6E,QAAN,KACC,oBAAC,EAAD,CACCzJ,MAAOsK,EAAMtK,MACbI,KAAMkK,EAAMlK,KACZ9B,MAAOgM,EAAMhM,MACb6B,KAAMmK,EAAMnK,KACZrC,cAAe,EAAKF,MAAME,cAC1BsL,QAASkB,EAAMzJ,aACfsH,KAAMmC,EAAMrJ,WACZmE,SAAUkF,EAAMlF,WAGf,YAAckF,EAAM5J,WACrB,oBAAC,EAAD,CACCoH,IAAK,CACJvB,IAAK+D,EAAMrK,MACXM,GAAI+J,EAAM5C,QACVD,KAAM6C,EAAM5J,UACZyH,KAAMmC,EAAMlC,WAEbjI,KAAMmK,EAAMnK,KACZrC,cAAe,EAAKF,MAAME,cAC1B2C,WAAY6J,EAAM7J,aAIpB,oBAAC,EAAD,CAAa0I,QAASmB,EAAMpK,QAASkJ,QAASkB,EAAMxJ,cAAehD,cAAe,EAAKF,MAAME,cAAeuL,WAAYiB,EAAMzJ,eAE9H,oBAAC,EAAD,CAAOuI,QAASkB,EAAMvJ,YAAaoI,QAASmB,EAAMjK,MAAOvC,cAAe,EAAKF,MAAME,kBAGhF,WAAawM,EAAM5J,WAAa,UAAY4J,EAAM5J,YACrD,oBAAC,EAAD,CACCoH,IAAK,CACJvB,IAAK+D,EAAMrK,MACXM,GAAI+J,EAAM5C,QACVD,KAAM6C,EAAM5J,UACZyH,KAAMmC,EAAMlC,WAEbjI,KAAMmK,EAAMnK,KACZrC,cAAe,EAAKF,MAAME,cAC1B2C,WAAY6J,EAAM7J,iBAjEtB,EAAKxB,KAAO,EAAKA,KAAK+C,KAAV,gBAFM,E,iFAMlB7C,QAAQC,IAAI2F,KAAKnH,S,oCAsEZqF,IAAc8B,KAAKnH,MAAMwF,aAAc,IAAS2B,KAAKnH,MAAMwF,aAC/D2B,KAAKnH,MAAME,eAAgB,GAG5BiH,KAAKnH,MAAMW,WAAW6G,SAAW,WAC5B,IAASL,KAAKnH,MAAMW,WAAWyC,yBACnC+D,KAAKnH,MAAMW,WAAW6G,SAAW,YAGlC,IAAImF,GAAY,EACX,SAAWxF,KAAKnH,MAAMW,WAAWmC,WAAa,UAAYqE,KAAKnH,MAAMW,WAAWmC,YACpF6J,GAAY,GAGb,IAAIC,GAAa,EAOjB,OANK,IAASzF,KAAKnH,MAAMW,WAAWiC,WACnCgK,GAAa,GAGdzF,KAAKnH,MAAMW,WAAWiK,QAAUC,IAAY1D,KAAKnH,MAAMW,WAAWO,UAAW,aAAc,CAAC8B,QAAS2J,EAAW3B,SAAU4B,IAGzH,oBAAC,WAAD,KACC,yBAAMvL,KAAS8F,KAAKnH,MAAMW,iB,GApGN0D,aClUlBwI,E,YACL,WAAY7M,GAAQ,IAAD,6BAClB,4CAAMA,IADY,gDAYC,WACnBuB,QAAQC,IAAI,mBACZD,QAAQC,IAAI,EAAKxB,UAdC,qCAiBV,WACR,IAAMK,EAAO,EAAKL,MAAMY,MACxB,OACC,2BAAKuE,MAAO,CAACsE,aAAc,SAC3B,2BAAKvI,UAAU,gBAAgBiE,MAAO,CAACsE,aAAc,SAAU,EAAKzJ,MAAMoC,OAC1E,oBAAC0K,EAAA,EAAD,CAAMhG,SAAO,EAACiG,QAAM,EAACC,WAAS,EAACC,QAAQ,QAAQ9H,MAAO,CAAChB,gBAAiB,EAAKnE,MAAMmE,kBAClF,oBAAC2I,EAAA,EAAKI,IAAN,MACE,IAAU7M,GAAQA,EAAK0G,KAAI,SAAC1F,EAAMC,GACnC,IAAI6L,EAAgB,CACnBxM,WAAY,CACXyB,MAAOf,EAAKe,MACZC,MAAOhB,EAAKgB,MACZC,QAASjB,EAAKiB,QACdC,KAAMlB,EAAKkB,KACX7B,MAAOW,EAAKX,MACZ8B,KAAMnB,EAAKmB,KACXC,MAAO,GAEPC,OAAQrB,EAAKsB,GAEbC,UAAU,EACVC,YAAY,EACZC,UAAW,MACX0H,UAAW,aACXzH,YAAY,EACZC,SAAS,EACTC,cAAc,EACdC,eAAe,EACfC,aAAa,EACbC,wBAAwB,EACxBC,WAAY,SACZwH,WAAY,iBAGd,OAAO,oBAACiC,EAAA,EAAKM,OAAN,KAAa,oBAAC,EAAcD,aAjDtC,EAAKvJ,MAAQ,CACZyJ,eAAgB,CACfzK,UAAU,EACVK,cAAc,EACdC,eAAe,EACfG,WAAY,UAPI,E,2BADOgB,aA6DZwI,O,iBCnEfnN,EAAOC,QAAUE,GAAG4G,W","file":"posts/main-eb4761f6.js","sourcesContent":["module.exports = React;","module.exports = wp.blocks;","import { __ } from \"@wordpress/i18n\";\nimport { registerBlockType } from '@wordpress/blocks';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { PanelBody, ToggleControl, TextControl, SelectControl, ColorPalette } from '@wordpress/components';\nimport { Component, Fragment } from '@wordpress/element';\n\nimport getPosts from '../_shared/get-posts';\nimport getTerms from '../_shared/get-terms';\n\nimport PostsList from './styles/list';\nimport FactTankList from './styles/fact-tank';\nimport PostsColumns from './styles/columns';\n\nclass EditSidebar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tformats: false,\n\t\t\tprograms: false,\n\t\t}\n\t\tthis.setState = this.setState.bind(this);\n\t}\n\n\tcomponentDidMount = () => {\n\t\tconst setState = this.setState;\n\t\tconst setAttributes = this.props.setAttributes;\n\n\t\t// Build Select Fields Data:\n\t\tgetTerms('Formats', true).then((data)=>{\n\t\t\tlet formats = data;\n\t\t\tsetState({ formats: formats });\n\t\t});\n\t\t\n\t\tgetTerms('Programs', true).then((data)=>{\n\t\t\tlet programs = data;\n\t\t\tprograms.push({ value: 0, label: 'All' });\n\t\t\tsetState({ programs });\n\t\t});\n\n\t\t// Initial Fetch Posts:\n\t\tif ( false === this.props.attributes.posts ) {\n\t\t\tgetPosts(this.props.attributes.per_page, this.props.attributes.format, this.props.attributes.program, this.props.attributes.taxonomyToDisplay).then( (posts) => {\n\t\t\t\tsetAttributes({posts});\n\t\t\t});\n\t\t\tif ( true === this.props.className.includes('is-style-fact-tank') ) {\n\t\t\t\tsetAttributes({format: 10818955});\n\t\t\t\tgetPosts(this.props.attributes.per_page, this.props.attributes.format, 10818955, this.props.attributes.taxonomyToDisplay).then( (posts) => {\n\t\t\t\t\tsetAttributes({posts});\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\t// Insert a story block as a column \n\tinsertStoryBlock = (blockClientID, item, index) => {\n\t\tconsole.log('Insert Story Block');\n\n\t\tconst parentID = window.wp.data.select('core/block-editor').getBlockHierarchyRootClientId( clientID );\n\t\tconst parentBlockOrder = window.wp.data.select('core/block-editor').getBlockOrder(parentID);\n\t\tconst parentBlock = window.wp.data.select('core/block-editor').getBlock(parentBlockOrder[1]);\n\n\t\tconsole.log(parentBlockOrder[1]);\n\t\tconsole.log(parentBlock);\n\t\tconsole.log(parentID);\n\t\t\n\t\tlet block = window.wp.blocks.createBlock( 'prc-block/story-item', {\n\t\t\ttitle: item.title,\n\t\t\timage: item.image,\n\t\t\texcerpt: item.excerpt,\n\t\t\tlink: item.link,\n\t\t\tlabel: item.label,\n\t\t\tdate: item.date,\n\t\t\textra: '',\n\t\t\t// Post Meta Data:\n\t\t\tpostID: item.id,\n\t\t\t// Item Options\n\t\t\temphasis: false,\n\t\t\tisChartArt: false,\n\t\t\timageSlot: 'top',\n\t\t\thorizontal: false,\n\t\t\tstacked: true,\n\t\t\tenableHeader: true,\n\t\t\tenableExcerpt: false,\n\t\t\tenableExtra: false,\n\t\t\tenableProgramsTaxonomy: false,\n\t\t\theaderSize: 'normal',\n\t\t} );\n\n\t\twindow.wp.data.dispatch('core/block-editor').insertBlocks(block, index, blockClientID);\n\t}\n\n\trender = () => {\n\t\tconst setAttributes = this.props.setAttributes;\n\t\tconst backgrounds = [\n\t\t\t{ name: 'White', color: '#fff' },\n\t\t\t{ name: 'Oatmeal', color: '#f8f9f5' },\n\t\t];\n\t\t// If the style is fact-tank then the format should be set to fact-tank\n\t\treturn(\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Posts Block Options' ) }>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel=\"Title\"\n\t\t\t\t\t\tvalue={ this.props.attributes.title }\n\t\t\t\t\t\tonChange={ ( title ) => setAttributes( { title } ) }\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel=\"Number of Posts\"\n\t\t\t\t\t\tvalue={ Number(this.props.attributes.per_page) }\n\t\t\t\t\t\tonChange={ ( per_page ) => { \n\t\t\t\t\t\t\tsetAttributes( { per_page: Number(per_page) } );\n\t\t\t\t\t\t\tgetPosts(per_page, this.props.attributes.format, this.props.attributes.program, this.props.attributes.taxonomyToDisplay).then( (posts) => {\n\t\t\t\t\t\t\t\tsetAttributes({posts});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel=\"Format\"\n\t\t\t\t\t\tvalue={ this.props.attributes.format }\n\t\t\t\t\t\toptions={ this.state.formats }\n\t\t\t\t\t\tonChange={ ( format ) => { \n\t\t\t\t\t\t\tsetAttributes( { format: Number(format) } );\n\t\t\t\t\t\t\tgetPosts(this.props.attributes.per_page, format, this.props.attributes.program, this.props.attributes.taxonomyToDisplay).then( (posts) => {\n\t\t\t\t\t\t\t\tsetAttributes({posts});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel=\"Research Program\"\n\t\t\t\t\t\tvalue={ this.props.attributes.program }\n\t\t\t\t\t\toptions={ this.state.programs }\n\t\t\t\t\t\tonChange={ ( program ) => {\n\t\t\t\t\t\t\tsetAttributes( { program: Number(program) } );\n\t\t\t\t\t\t\tgetPosts(this.props.attributes.per_page, this.props.attributes.format, program, this.props.attributes.taxonomyToDisplay).then( (posts) => {\n\t\t\t\t\t\t\t\tsetAttributes({posts});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel=\"Label Taxonomy\"\n\t\t\t\t\t\tvalue={ this.props.attributes.taxonomyToDisplay }\n\t\t\t\t\t\toptions={ [\n\t\t\t\t\t\t\t{ label: 'Formats', value: 'formats' },\n\t\t\t\t\t\t\t{ label: 'Programs', value: 'programs' },\n\t\t\t\t\t\t] }\n\t\t\t\t\t\tonChange={ ( taxonomyToDisplay ) => { \n\t\t\t\t\t\t\tsetAttributes( { taxonomyToDisplay } );\n\t\t\t\t\t\t\tgetPosts(this.props.attributes.per_page, this.props.attributes.format, this.props.attributes.program, taxonomyToDisplay).then( (posts) => {\n\t\t\t\t\t\t\t\tsetAttributes({posts});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} }\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel=\"Dynamic Mode\"\n\t\t\t\t\t\thelp={ this.props.attributes.dynamic ? 'Updates posts in real time, every 5 minutes.' : 'Posts are saved statically (will not update in real time).' }\n\t\t\t\t\t\tchecked={ this.props.attributes.dynamic }\n\t\t\t\t\t\tonChange={ () => setAttributes({ dynamic: ! this.props.attributes.dynamic }) }\n\t\t\t\t\t/>\n\t\t\t\t\t<strong>Background Color:</strong><br/>\n\t\t\t\t\t<ColorPalette\n\t\t\t\t\t\tcolors={ backgrounds }\n\t\t\t\t\t\tvalue={ this.props.attributes.backgroundColor }\n\t\t\t\t\t\tonChange={ ( color ) => setAttributes( { backgroundColor: color } ) }\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t)\n\t}\n}\n\n/**\n * Register: aa Gutenberg Block.\n *\n * Registers a new block provided a unique name and an object defining its\n * behavior. Once registered, the block is made editor as an option to any\n * editor interface where blocks are implemented.\n *\n * @link https://wordpress.org/gutenberg/handbook/block-api/\n * @param  {string}   name     Block name.\n * @param  {Object}   settings Block settings.\n * @return {?WPBlock}          The block, if it has been successfully\n *                             registered; otherwise `undefined`.\n */\nregisterBlockType( 'prc-block/posts', {\n\t// Block name. Block names must be string that contains a namespace prefix. Example: my-plugin/my-custom-block.\n\ttitle: __( 'Posts Block' ), // Block title.\n\ticon: 'align-left', // Block icon from Dashicons → https://developer.wordpress.org/resource/dashicons/.\n\tcategory: 'widgets', // Block category — Group blocks together based on common traits E.g. common, formatting, layout, widgets, embed.\n\tkeywords: [\n\t\t__( 'prc' ),\n\t\t__( 'fact tank' ),\n\t\t__( 'posts listing' ),\n\t\t__( 'posts' ),\n\t\t__( 'posts widget' ),\n\t\t__( 'publication listing' ),\n\t],\n\tstyles: [\n\t\t{\n\t\t\tname: 'list',\n\t\t\tlabel: 'Simple List',\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'fact-tank',\n\t\t\tlabel: 'Fact Tank',\n\t\t},\n\t\t{\n\t\t\tname: 'columns',\n\t\t\tlabel: 'Columns',\n\t\t},\n\t\t// {\n\t\t// \tname: 'publication-listing',\n\t\t// \tlabel: 'Publication Listing',\n\t\t// },\n\t],\n\tsupports: {\n\t\thtml: false, // We do not want to give people the ability to edit the raw html of this block.\n\t},\n\t// Attributes are really react props. \n\tattributes: {\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Title',\n\t\t},\n\t\tmoreLink: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tformat: {\n\t\t\ttype: 'integer',\n\t\t\tdefault: 10818957, // Report\n\t\t},\n\t\tprogram: {\n\t\t\ttype: 'integer',\n\t\t\tdefault: 0,\n\t\t},\n\t\tper_page: {\n\t\t\ttype: 'integer',\n\t\t\tdefault: 5,\n\t\t},\n\t\tbackgroundColor: {\n\t\t\ttyle: 'string',\n\t\t\tdefault: '#fff',\n\t\t},\n\t\t// If static is true then we should output on save only a holder div that would contain the options and the style template to use and then the frontend loader will load the posts. This mean will be \n\t\tdynamic: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\ttaxonomyToDisplay: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'formats',\n\t\t},\n\t\tposts: {\n\t\t\ttype: 'array',\n\t\t\tdefault: false,\n\t\t}\n\t},\n\n\t/**\n\t * The edit function describes the structure of your block in the context of the editor.\n\t * This represents what the editor will render when the block is used.\n\t *\n\t * The \"edit\" property must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Component.\n\t */\n\tedit: ( props ) => {\n\t\tconst data = props.attributes;\n\t\tlet style = props.attributes.className;\n\t\tlet isFactTank = false;\n\t\tif ( undefined !== style && style.includes('is-style-fact-tank') ) {\n\t\t\tisFactTank = true;\n\t\t}\n\t\tlet isList = false;\n\t\tif ( undefined === style || style.includes('is-style-list') ) {\n\t\t\tisList = true;\n\t\t}\n\t\tlet isColumns = false;\n\t\tif ( undefined !== style && style.includes('is-style-columns') ) {\n\t\t\tisColumns = true;\n\t\t}\n\t\tdata.className = style;\n\n\t\tif ( true === props.isSelected ) {\n\t\t\tdata.setAttributes = props.setAttributes;\n\t\t}\n\n\t\tdata.clientID = props.clientId;\n\n\t\tdata.disableLink = true; // While editing we do not want users to accidentally click on a post.\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t{ true === props.isSelected && (\n\t\t\t\t\t<EditSidebar {...props}/>\n\t\t\t\t) }\n\t\t\t\t<div className={data.className}>\n\t\t\t\t\t{ true === isFactTank && (\n\t\t\t\t\t\t<FactTankList {...data}/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ true === isList && (\n\t\t\t\t\t\t<PostsList {...data}/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ true === isColumns && (\n\t\t\t\t\t\t<PostsColumns {...data}/>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t)\n\t},\n\t\n\t/**\n\t * The save function defines the way in which the different attributes should be combined\n\t * into the final markup, which is then serialized by Gutenberg into post_content.\n\t *\n\t * The \"save\" property must be specified and must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Frontend HTML.\n\t */\n\tsave: ( props ) => {\n\t\tconst data = props.attributes;\n\n\t\tlet style = props.attributes.className;\n\t\tlet isFactTank = false;\n\t\tif ( undefined !== style && style.includes('is-style-fact-tank') ) {\n\t\t\tisFactTank = true;\n\t\t}\n\t\tlet isList = false;\n\t\tif ( undefined !== style && style.includes('is-style-list') ) {\n\t\t\tisList = true;\n\t\t}\n\t\tlet isColumns = false;\n\t\tif ( undefined !== style && style.includes('is-style-columns') ) {\n\t\t\tisColumns = true;\n\t\t}\n\t\tdata.className = style;\n\n\t\tdata.disableLink = false;\n\t\treturn (\n\t\t\t<div className={data.className}>\n\t\t\t\t{ true !== props.attributes.dynamic && true === isFactTank && (\n\t\t\t\t\t<FactTankList {...data}/>\n\t\t\t\t) }\n\t\t\t\t{ true !== props.attributes.dynamic && true === isList && (\n\t\t\t\t\t<PostsList {...data}/>\n\t\t\t\t) }\n\t\t\t\t{ true !== props.attributes.dynamic && true === isColumns && (\n\t\t\t\t\t<PostsColumns {...data}/>\n\t\t\t\t) }\n\t\t\t\t{ true === props.attributes.dynamic && (\n\t\t\t\t\t<div className='js-react-posts-block'\n\t\t\t\t\t\tdata-title={props.attributes.title}\n\t\t\t\t\t\tdata-format={props.attributes.format}\n\t\t\t\t\t\tdata-program={props.attributes.program}\n\t\t\t\t\t\tdata-number={props.attributes.per_page}\n\t\t\t\t\t\tdata-background={props.attributes.backgroundColor}\n\t\t\t\t\t\tdata-style={style}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</div>\n\t\t);\n\t},\n} );\n","module.exports = wp.blockEditor;","module.exports = wp.components;","import * as moment from 'moment';\nimport apiFetch from '@wordpress/api-fetch';\n\nconst getPosts = (perPage, format, program, labelTaxonomy) => {\n\tconst formatDate = function( dateString ) {\n\t\t// $date_format = 'M j, Y';\n\t\t// $timestamp   = get_the_date( 'U', $post_id );\n\t\t// $date        = get_the_date( $date_format, $post_id );\n\n\t\t// // If today...\n\t\t// if ( date( 'M j', $timestamp ) == date( 'M j' ) ) {\n\t\t// \t$date = 'Today at ' . get_the_date( 'g:i a', $post_id );\n\t\t// }\n\t\treturn moment(dateString).format(\"MMM D, YYYY\");\n\t}\n\n\tconsole.log('format');\n\tconsole.log(format);\n\tconsole.log('program');\n\tconsole.log(program);\n\n\treturn new Promise( (resolve, reject) => {\n\t\tlet data = [];\n\t\tapiFetch( { path: '/prc-api/v2/blocks/helpers/get-posts/?perPage='+perPage+'&format=' + format + '&program=' + program + '&labelTaxonomy=' + labelTaxonomy } ).then( posts => {\n\t\t\tfor ( let index = 0; index < perPage ; index++ ) {\n\t\t\t\tdata.push({\n\t\t\t\t\tid: posts[index].id,\n\t\t\t\t\ttitle: posts[index].title,\n\t\t\t\t\texcerpt: posts[index].excerpt,\n\t\t\t\t\tdate: posts[index].date,\n\t\t\t\t\tlink: posts[index].link,\n\t\t\t\t\tlabel: posts[index].label,\n\t\t\t\t\timage: posts[index].image,\n\t\t\t\t});\n\t\t\t}\n\t\t\tresolve(data);\n\t\t} );\n\t} ) ;\n}\n\nexport default getPosts;","\nimport { Component, Fragment, RawHTML } from '@wordpress/element';\nimport { List } from 'semantic-ui-react';\n\nclass PostsList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tposts({loaded, setState, clientID, data, disableLink}){\n\t\treturn(\n\t\t\t<List relaxed=\"very\" link divided>\n\t\t\t{ false !== data && data.map((item, index) => {\n\t\t\t\tif ( true === disableLink ) {\n\t\t\t\t\treturn <List.Item><span className=\"meta date\">{item.date}</span><RawHTML>{item.title}</RawHTML></List.Item>\n\t\t\t\t} else {\n\t\t\t\t\treturn <List.Item><span className=\"meta date\">{item.date}</span><a href={item.link}><RawHTML>{item.title}</RawHTML></a></List.Item>\n\t\t\t\t}\n\t\t\t}) }\n\t\t\t</List>\n\t\t)\n\t}\n\n\trender() {\n\t\tconst Posts = this.posts;\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t<Posts data={this.props.posts} disableLink={this.props.disableLink}/>\n\t\t\t</Fragment>\n\t\t)\n\t}\t\n}\n\nexport default PostsList;","module.exports = wp.element;","module.exports = moment;","module.exports = wp.url;","module.exports = wp.i18n;","// @TODO: convert froomo wp api to apifetch https://www.npmjs.com/package/@wordpress/api-fetch\n\nconst getTerms = (taxonomy, returnTermID) => {\n\tconsole.log('getting terms for '+taxonomy);\n\t// Set up taxonomy collection:\n\tconst collection = new wp.api.collections[taxonomy];\n\tif ( undefined === collection ) {\n\t\treturn false;\n\t}\n\treturn new Promise( (resolve, reject) => {\n\t\tlet data = [];\n\t\tcollection.fetch( {data: { hide_empty: false, per_page: 25 }} ).then( ( terms ) => {\n\t\t\tfor (let index = 0; index < terms.length; index++) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tlabel: terms[index].name,\n\t\t\t\t}\n\t\t\t\tif ( true === returnTermID ) {\n\t\t\t\t\tobj.value = terms[index].id;\n\t\t\t\t} else {\n\t\t\t\t\tobj.value = terms[index].name;\n\t\t\t\t}\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\n\t\t\tresolve(data);\n\t\t} );\n\t} ) ;\n}\n\nexport default getTerms;","module.exports = ReactDOM;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"style\", null, \".fact-tank-logo_svg__cls-2{fill:#ddd9c7}.fact-tank-logo_svg__cls-3{fill:#808184}.fact-tank-logo_svg__cls-4{fill:#231f20}\"));\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"none\",\n  stroke: \"#ea9e2c\",\n  strokeMiterlimit: 10,\n  strokeWidth: 4.72,\n  d: \"M185.22 20.69l8.93-8.17 8.88 9.9 16.59-15.81\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"fact-tank-logo_svg__cls-2\",\n  d: \"M194.15 19.23v20.85h6.55V26.49l-6.55-7.26zM202.93 28.51v11.57h6.55V22.25l-6.55 6.26zM211.71 20.12v19.96h6.55V13.87l-6.55 6.25zM185.37 26.56v13.52h6.55V20.57l-6.55 5.99z\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"fact-tank-logo_svg__cls-3\",\n  d: \"M27.88 3.83v6.23H14.37v9.44h10.42v6.24H14.37V40H6.46V3.83zM43.48 3.83L53.78 40h-8.13l-1.79-7.43h-10.2L31.93 40h-7.32L35.45 3.83zm-4.77 7.75l-3.53 14.76h7.16zM79 27.31c-.65 8.19-5.42 13.23-12.64 13.23-8.68 0-13.61-6.78-13.61-18.6S57.63 3.28 66.42 3.28c4.5 0 7.92 1.79 10 5.27 1.42 2.27 2 4.61 2.34 8.73l-7.27.54c-.22-3.15-.43-4.39-1.14-5.64a4.28 4.28 0 00-3.9-2.44c-3.86 0-5.43 3.74-5.43 12.8 0 8.19 1.57 11.55 5.43 11.55 2.87 0 4.5-2.28 5.09-7.27zM91.51 40V3.83H78.95v6.78h7.21V40h5.35z\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  className: \"fact-tank-logo_svg__cls-4\",\n  d: \"M122 3.83L132.27 40h-8.13l-1.79-7.43h-10.2L110.42 40h-7.32l10.84-36.17zm-4.77 7.75l-3.53 14.76h7.16zM143.82 3.83L153 26.28V3.83h6.18V40h-7.1l-11-26.19V40H135V3.83zM170.94 3.83V18.9l8.79-15.07h8l-9.03 13.28L188.51 40h-8.18l-6.4-16.65-3 4.4V40H163V3.83zM92.92 3.83V40h5.25V10.61h7.37V3.83H92.92z\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  fill: \"#ea9e2c\",\n  d: \"M183.66 18.97l2.53 4.1 1.2-1.16-3.73-2.94z\"\n});\n\nfunction SvgFactTankLogo(props) {\n  return React.createElement(\"svg\", _extends({\n    id: \"fact-tank-logo_svg__Layer_1\",\n    \"data-name\": \"Layer 1\",\n    viewBox: \"0 0 225 40\"\n  }, props), _ref, _ref2, _ref3, _ref4, _ref5, _ref6);\n}\n\nexport default \"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMjUgNDAiPjxkZWZzPjxzdHlsZT4uY2xzLTF7ZmlsbDpub25lO3N0cm9rZTojZWE5ZTJjO3N0cm9rZS1taXRlcmxpbWl0OjEwO3N0cm9rZS13aWR0aDo0LjcycHg7fS5jbHMtMntmaWxsOiNkZGQ5Yzc7fS5jbHMtM3tmaWxsOiM4MDgxODQ7fS5jbHMtNHtmaWxsOiMyMzFmMjA7fS5jbHMtNXtmaWxsOiNlYTllMmM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5GYWN0VGFuay1sb2dvczwvdGl0bGU+PHBvbHlsaW5lIGNsYXNzPSJjbHMtMSIgcG9pbnRzPSIxODUuMjIgMjAuNjkgMTk0LjE1IDEyLjUyIDIwMy4wMyAyMi40MiAyMTkuNjIgNi42MSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIxOTQuMTUgMTkuMjMgMTk0LjE1IDQwLjA4IDIwMC43IDQwLjA4IDIwMC43IDI2LjQ5IDE5NC4xNSAxOS4yMyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtMiIgcG9pbnRzPSIyMDIuOTMgMjguNTEgMjAyLjkzIDQwLjA4IDIwOS40OCA0MC4wOCAyMDkuNDggMjIuMjUgMjAyLjkzIDI4LjUxIi8+PHBvbHlnb24gY2xhc3M9ImNscy0yIiBwb2ludHM9IjIxMS43MSAyMC4xMiAyMTEuNzEgNDAuMDggMjE4LjI2IDQwLjA4IDIxOC4yNiAxMy44NyAyMTEuNzEgMjAuMTIiLz48cG9seWdvbiBjbGFzcz0iY2xzLTIiIHBvaW50cz0iMTg1LjM3IDI2LjU2IDE4NS4zNyA0MC4wOCAxOTEuOTIgNDAuMDggMTkxLjkyIDIwLjU3IDE4NS4zNyAyNi41NiIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTI3Ljg4LDMuODN2Ni4yM0gxNC4zN1YxOS41SDI0Ljc5djYuMjRIMTQuMzdWNDBINi40NlYzLjgzWiIvPjxwYXRoIGNsYXNzPSJjbHMtMyIgZD0iTTQzLjQ4LDMuODMsNTMuNzgsNDBINDUuNjVsLTEuNzktNy40M0gzMy42NkwzMS45Myw0MEgyNC42MUwzNS40NSwzLjgzWm0tNC43Nyw3Ljc1TDM1LjE4LDI2LjM0aDcuMTZaIi8+PHBhdGggY2xhc3M9ImNscy0zIiBkPSJNNzksMjcuMzFjLS42NSw4LjE5LTUuNDIsMTMuMjMtMTIuNjQsMTMuMjMtOC42OCwwLTEzLjYxLTYuNzgtMTMuNjEtMTguNlM1Ny42MywzLjI4LDY2LjQyLDMuMjhjNC41LDAsNy45MiwxLjc5LDEwLDUuMjcsMS40MiwyLjI3LDIsNC42MSwyLjM0LDguNzNsLTcuMjcuNTRjLS4yMi0zLjE1LS40My00LjM5LTEuMTQtNS42NGE0LjI4LDQuMjgsMCwwLDAtMy45LTIuNDRjLTMuODYsMC01LjQzLDMuNzQtNS40MywxMi44LDAsOC4xOSwxLjU3LDExLjU1LDUuNDMsMTEuNTUsMi44NywwLDQuNS0yLjI4LDUuMDktNy4yN1oiLz48cG9seWdvbiBjbGFzcz0iY2xzLTMiIHBvaW50cz0iOTEuNTEgNDAgOTEuNTEgMy44MyA3OC45NSAzLjgzIDc4Ljk1IDEwLjYxIDg2LjE2IDEwLjYxIDg2LjE2IDQwIDkxLjUxIDQwIi8+PHBhdGggY2xhc3M9ImNscy00IiBkPSJNMTIyLDMuODMsMTMyLjI3LDQwaC04LjEzbC0xLjc5LTcuNDNoLTEwLjJMMTEwLjQyLDQwSDEwMy4xTDExMy45NCwzLjgzWm0tNC43Nyw3Ljc1LTMuNTMsMTQuNzZoNy4xNloiLz48cGF0aCBjbGFzcz0iY2xzLTQiIGQ9Ik0xNDMuODIsMy44MywxNTMsMjYuMjhWMy44M2g2LjE4VjQwaC03LjFsLTExLTI2LjE5VjQwSDEzNVYzLjgzWiIvPjxwYXRoIGNsYXNzPSJjbHMtNCIgZD0iTTE3MC45NCwzLjgzVjE4LjlsOC43OS0xNS4wN2g4TDE3OC43LDE3LjExLDE4OC41MSw0MGgtOC4xOGwtNi40LTE2LjY1LTMsNC40VjQwSDE2M1YzLjgzWiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNCIgcG9pbnRzPSI5Mi45MiAzLjgzIDkyLjkyIDQwIDk4LjE3IDQwIDk4LjE3IDEwLjYxIDEwNS41NCAxMC42MSAxMDUuNTQgMy44MyA5Mi45MiAzLjgzIi8+PHBvbHlnb24gY2xhc3M9ImNscy01IiBwb2ludHM9IjE4My42NiAxOC45NyAxODYuMTkgMjMuMDcgMTg3LjM5IDIxLjkxIDE4My42NiAxOC45NyIvPjwvc3ZnPg==\";\nexport { SvgFactTankLogo as ReactComponent };","import { Component, Fragment } from '@wordpress/element';\nimport { addQueryArgs } from '@wordpress/url';\nimport PostsList from './list';\n\nimport ftLogoURL, { ReactComponent as ftLogoSVG } from \"./fact-tank-logo.svg\"; \n\nclass FactTankList extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.svgHeader = this.svgHeader.bind(this);\n\t}\n\n\tsvgHeader({svg, width}) {\n\t\tlet height = width / 5;\n\t\treturn(<img style={{margin: 'auto', display: 'block'}} src={svg} width={width+'px'} height={height+'px'}/>)\n\t}\n\n\trender() {\n\t\tconst Logo = this.svgHeader;\n\t\tlet args = { format: 'fact-tank' };\n\t\tconst readMoreLink = addQueryArgs(window.siteURL, args);\n\t\treturn(\n\t\t\t<div id=\"js-fact-tank-widget\">\n\t\t\t\t<Logo svg={ftLogoURL} width=\"200\"/>\n\t\t\t\t<div class=\"ui segment inverted beige\" style={{borderTop: '1px solid #b2b3a5'}}>\n\t\t\t\t\t<p className=\"tagline\">NEWS IN THE NUMBERS</p>\n\t\t\t\t\t<PostsList {...this.props}/>\n\t\t\t\t\t<a href={readMoreLink} className=\"read-more\">More From Fact Tank</a>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\t\n}\n\nexport default FactTankList;","// WordPress Core\nimport { Component, Fragment, RawHTML } from '@wordpress/element';\nimport { RichText, BlockControls, MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { Button, SelectControl, TextControl, Popover, Toolbar } from '@wordpress/components';\n\n// Utilities\nimport { addQueryArgs } from '@wordpress/url';\nimport * as moment from 'moment';\nimport classNames from 'classnames/bind';\n\nimport getTerms from '../_shared/get-terms';\n\n// Elements\nimport { Item } from 'semantic-ui-react';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nconst formatDate = ( dateString ) => {\n\treturn moment(dateString).format(\"MMM D, YYYY\");\n}\n\nclass MetaEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\topen: false,\n\t\t\teditLabel: false,\n\t\t\ttaxonomy: 'Formats',\n\t\t\tlabelOptions: [],\n\t\t}\n\t\tthis.setState = this.setState.bind(this);\n\t\tthis.getLabelOptions = this.getLabelOptions.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getLabelOptions();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif ( this.state.taxonomy !== this.props.taxonomy ) {\n\t\t\tthis.getLabelOptions();\n\t\t}\n\t}\n\n\tgetLabelOptions() {\n\t\tif ( undefined === wp.api.collections[this.props.taxonomy] ) {\n\t\t\t// Exit early, critical error that we don't want to stop the block from loading.\n\t\t\treturn;\n\t\t}\n\t\tconst setState = this.setState;\n\t\t\n\t\tgetTerms(this.props.taxonomy, false).then((data)=>{\n\t\t\tlet labelOptions = data;\n\t\t\tsetState({ taxonomy: this.props.taxonomy, labelOptions: labelOptions });\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div style={{display: 'flex', alignItems: 'center'}}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tvalue={ this.props.label }\n\t\t\t\t\t\t\toptions={this.state.labelOptions}\n\t\t\t\t\t\t\tonChange={ ( label ) => { this.props.setAttributes({label}) } }\n\t\t\t\t\t\t\tstyle={{marginBottom: '0px'}}\n\t\t\t\t\t\t\tclassName='story-label-select'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>&nbsp;|&nbsp;</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tvalue={ this.props.date }\n\t\t\t\t\t\t\tonChange={ ( date ) => {\n\t\t\t\t\t\t\t\tthis.props.setAttributes( { date: date } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nclass ImageEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.mediaHandler = this.mediaHandler.bind(this);\n\t}\n\tmediaHandler(media) {\n\t\tconsole.log(media);\n\t\tif ( 'disabled' === this.props.slot ) {\n\t\t\tthis.props.setAttributes( { image: media.url, imageID: media.id, imageSlot: 'default' } )\n\t\t} else {\n\t\t\tthis.props.setAttributes( { image: media.url, imageID: media.id } )\n\t\t}\n\t}\n\trender() {\n\t\treturn(\n\t\t\t<MediaUploadCheck>\n\t\t\t<MediaUpload\n\t\t\t\tonSelect={this.mediaHandler}\n\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{ '' !== this.props.img && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t{ ('default' !== this.props.slot && 'disabled' !== this.props.slot) && (\n\t\t\t\t\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t\t\t\t\t<Toolbar controls={[{\n\t\t\t\t\t\t\t\t\t\t\ticon: 'art',\n\t\t\t\t\t\t\t\t\t\t\ttitle: `Chart Art`,\n\t\t\t\t\t\t\t\t\t\t\tisActive: this.props.isChartArt,\n\t\t\t\t\t\t\t\t\t\t\tonClick: () => { this.props.setAttributes({ isChartArt: this.props.isChartArt ? false : true  }) },\n\t\t\t\t\t\t\t\t\t\t}]} />\n\t\t\t\t\t\t\t\t\t</BlockControls>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<div className={this.props.imgClass}>\n\t\t\t\t\t\t\t\t\t<img className={'wp-image-'+this.props.id} src={this.props.img} onClick={ open }/>\n\t\t\t\t\t\t\t\t\t<div className=\"image-editor-options\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"sans-serif\"><i>Click image to open media library</i></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"sans-serif remove-image\" onClick={()=>{ this.props.setAttributes({image:'', imageSlot: 'disabled'}) }}>Or click here to <strong>REMOVE IMAGE</strong></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Image Size'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ this.props.size }\n\t\t\t\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ value: 'A1', label: 'A1' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ value: 'A2', label: 'A2' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ value: 'A3', label: 'A3' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ value: 'A4', label: 'A4' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ value: 'legacy-260', label: 'Legacy Homepage 260x260' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ value: 'legacy-260-173', label: 'Legacy Homepage 260x173' },\n\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( imageSize ) => { this.props.setAttributes({imageSize}); } }\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{marginBottom: '0px'}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ '' === this.props.img && (\n\t\t\t\t\t\t\t<p><Button isPrimary onClick={ open }>Insert Image</Button></p>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Fragment>\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t</MediaUploadCheck>\n\t\t)\n\t}\n}\n\nconst Image = function({ isChartArt, img, setAttributes, link }) {\n\tlet isMedium = false;\n\tif ( 'left' === img.slot || 'right' === img.slot ) {\n\t\tisMedium = true;\n\t}\n\tlet classes = classNames({ ui: true, medium: isMedium, image: true, bordered: isChartArt });\n\n\tconst appendImageWidth = (imgURL, slot, size, setAttributes) => {\n\t\tif ( '' === imgURL || false === imgURL ) {\n\t\t\treturn imgURL;\n\t\t}\n\n\t\tlet A1 = '564px';\n\t\tlet A2 = '268px';\n\t\tlet A3 = '194px';\n\t\tlet A4 = '268px';\n\t\tlet legacyFeatured = '260,260'\n\t\tlet legacyNewsWell = '260,173';\n\n\t\t// We're making A1 the default\n\t\tlet args = { w: A1 };\n\t\tif ( 'A2' === size ) {\n\t\t\targs = { w: A2 };\n\t\t} else if ( 'A3' === size ) {\n\t\t\targs = { w: A3 };\n\t\t} else if ( 'A4' === size ) {\n\t\t\targs = { w: A4 };\n\t\t} else if ( 'legacy-260' === size ) {\n\t\t\targs = { resize: legacyFeatured };\n\t\t} else if ( 'legacy-260-173' === size ) {\n\t\t\targs = { resize: legacyNewsWell };\n\t\t}\n\n\t\treturn addQueryArgs( imgURL, args );\n\t}\n\n\treturn(\n\t\t<Fragment>\n\t\t\t{ undefined !== img && (\n\t\t\t\t<Fragment>\n\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<ImageEditor id={img.id} slot={img.slot} img={appendImageWidth(img.src, img.slot, img.size, setAttributes)} size={img.size} imgClass={classes} isChartArt={isChartArt} setAttributes={setAttributes}/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t\t{ false === setAttributes && (\n\t\t\t\t\t<div className={classes}>\n\t\t\t\t\t\t<a href={link}>\n\t\t\t\t\t\t\t<img className={'wp-image-' + img.id} src={appendImageWidth(img.src, img.slot, img.size, null)}/>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t</Fragment>\n\t\t\t)}\n\t\t</Fragment>\n\t)\t\n}\n\nconst Description = function({ content, enabled, setAttributes, sansSerif }) {\n\tlet classes = classNames( 'description', {'sans-serif': sansSerif} );\n\treturn(\n\t\t<Fragment>\n\t\t\t{ true === enabled && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"div\" // The tag here is the element output and editable in the admin\n\t\t\t\t\t\t\tvalue={ content } // Any existing content, either from the database or an attribute default\n\t\t\t\t\t\t\tonChange={ ( excerpt ) => setAttributes( { excerpt } ) } // Store updated content as a block attribute\n\t\t\t\t\t\t\tplaceholder={ content } // Display this text before any content has been added by the user\n\t\t\t\t\t\t\tmultiline=\"p\"\n\t\t\t\t\t\t\tclassName={ classes }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ false === setAttributes && ( \n\t\t\t\t\t\t<RichText.Content tagName=\"div\" value={ content } className={ classes }/>\n\t\t\t\t\t) }\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nconst Extra = function({ enabled, content, setAttributes }) {\n\tlet classes = classNames( 'extra' );\n\treturn(\n\t\t<Fragment>\n\t\t\t{ false !== setAttributes && true === enabled && (\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"ul\" // The tag here is the element output and editable in the admin\n\t\t\t\t\tvalue={ content } // Any existing content, either from the database or an attribute default\n\t\t\t\t\tonChange={ ( extra ) => setAttributes( { extra } ) } // Store updated content as a block attribute\n\t\t\t\t\tplaceholder={ content } // Display this text before any content has been added by the user\n\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\tclassName={ classes }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ false === setAttributes && true === enabled && ( \n\t\t\t\t<RichText.Content tagName=\"ul\" value={ content } className={ classes }/>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nconst Kicker = ({ label, date }) => {\n\tif ( undefined === label ) {\n\t\tlabel = \"Report\";\n\t}\n\tconst labelSlug = label.replace(/\\s+/g, '-').toLowerCase();\n\tlet classes = classNames( labelSlug, 'label' );\n\treturn(\n\t\t<Fragment><span className={classes}>{label ? label : 'Report'}</span> | {formatDate(date)}</Fragment>\n\t)\n}\n\nconst PostTitle = ({ title, link, size, as = 'a' }) => {\n\treturn(\n\t\t<RichText.Content href={link} tagName={as} value={title}/>\n\t)\n}\n\nconst Header = function({ title, label, date, link, enabled, size, taxonomy, setAttributes }) {\n\tconst currentSize = size;\n\tconst createSizeControls = function( size ) {\n\t\tlet active = false;\n\t\tif ( size === currentSize ) {\n\t\t\tactive = true;\n\t\t}\n        return {\n            icon: 'editor-textcolor',\n            title: `Size: ${ size }`,\n            isActive: active,\n            onClick: () => { setAttributes({ headerSize: size }) },\n        };\n\t}\n\treturn(\n\t\t<Fragment>\n\t\t\t{ true === enabled && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Item.Meta>\n\t\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t\t<MetaEditor date={date} label={label} taxonomy={taxonomy} setAttributes={setAttributes}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ false === setAttributes && (             \n\t\t\t\t\t\t\t<Kicker label={label} date={date}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Item.Meta>\n\t\t\t\t\t<Item.Header className={size}>\n\t\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t\t\t\t<Toolbar controls={ [ 'small', 'normal', 'large' ].map( createSizeControls ) } />\n\t\t\t\t\t\t\t\t</BlockControls>\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"div\" // The tag here is the element output and editable in the admin\n\t\t\t\t\t\t\t\t\tvalue={ title } // Any existing content, either from the database or an attribute default\n\t\t\t\t\t\t\t\t\tonChange={ ( title ) => setAttributes( { title } ) } // Store updated content as a block attribute\n\t\t\t\t\t\t\t\t\tplaceholder='Title' // Display this text before any content has been added by the user\n\t\t\t\t\t\t\t\t\tmultiline=\"br\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ false === setAttributes && ( \n\t\t\t\t\t\t\t<PostTitle title={title} link={link} as='a' size={size}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Item.Header>\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nclass StoryItem extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.item = this.item.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tconsole.log(this.props);\n\t}\n\n\titem = (attrs) => {\n\t\treturn(\n\t\t\t<Item as=\"article\" className={attrs.classes}>\n\t\t\t\t{ ( 'top' === attrs.imageSlot || 'left' === attrs.imageSlot ) && (\n\t\t\t\t\t<Image \n\t\t\t\t\t\timg={{\n\t\t\t\t\t\t\tsrc: attrs.image, \n\t\t\t\t\t\t\tid: attrs.imageID,\n\t\t\t\t\t\t\tslot: attrs.imageSlot,\n\t\t\t\t\t\t\tsize: attrs.imageSize,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tsetAttributes={this.props.setAttributes}\n\t\t\t\t\t\tisChartArt={attrs.isChartArt}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t\n\t\t\t\t<Item.Content>\n\t\t\t\t\t<Header \n\t\t\t\t\t\ttitle={attrs.title}\n\t\t\t\t\t\tdate={attrs.date}\n\t\t\t\t\t\tlabel={attrs.label}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tsetAttributes={this.props.setAttributes}\n\t\t\t\t\t\tenabled={attrs.enableHeader}\n\t\t\t\t\t\tsize={attrs.headerSize}\n\t\t\t\t\t\ttaxonomy={attrs.taxonomy} // Where??\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ 'default' === attrs.imageSlot && (\n\t\t\t\t\t\t<Image \n\t\t\t\t\t\t\timg={{\n\t\t\t\t\t\t\t\tsrc: attrs.image, \n\t\t\t\t\t\t\t\tid: attrs.imageID,\n\t\t\t\t\t\t\t\tslot: attrs.imageSlot,\n\t\t\t\t\t\t\t\tsize: attrs.imageSize,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\t\tsetAttributes={this.props.setAttributes}\n\t\t\t\t\t\t\tisChartArt={attrs.isChartArt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<Description content={attrs.excerpt} enabled={attrs.enableExcerpt} setAttributes={this.props.setAttributes} sansSerif={!attrs.enableHeader}/>\n\n\t\t\t\t\t<Extra enabled={attrs.enableExtra} content={attrs.extra} setAttributes={this.props.setAttributes}/>\n\t\t\t\t</Item.Content>\n\n\t\t\t\t{ ( 'bottom' === attrs.imageSlot || 'right' === attrs.imageSlot ) && (\n\t\t\t\t\t<Image \n\t\t\t\t\t\timg={{\n\t\t\t\t\t\t\tsrc: attrs.image, \n\t\t\t\t\t\t\tid: attrs.imageID,\n\t\t\t\t\t\t\tslot: attrs.imageSlot,\n\t\t\t\t\t\t\tsize: attrs.imageSize,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tsetAttributes={this.props.setAttributes}\n\t\t\t\t\t\tisChartArt={attrs.isChartArt}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Item>\n\t\t)\n\t}\n\n\trender() {\n\t\t// If the block is not selected, it is not in edit mode, disable setAttributes.\n\t\tif ( undefined === this.props.isSelected || true !== this.props.isSelected ) {\n\t\t\tthis.props.setAttributes = false;\n\t\t}\n\t\t\n\t\tthis.props.attributes.taxonomy = 'Formats';\n\t\tif ( true === this.props.attributes.enableProgramsTaxonomy ) {\n\t\t\tthis.props.attributes.taxonomy = 'Programs';\n\t\t}\n\n\t\tlet isStacked = true;\n\t\tif ( 'left' === this.props.attributes.imageSlot || 'right' === this.props.attributes.imageSlot ) {\n\t\t\tisStacked = false;\n\t\t}\n\n\t\tlet isBordered = false;\n\t\tif ( true === this.props.attributes.emphasis ) {\n\t\t\tisBordered = true;\n\t\t}\n\n\t\tthis.props.attributes.classes = classNames( this.props.attributes.className, 'story-item', {stacked: isStacked, bordered: isBordered} );\n\t\t\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t<this.item {...this.props.attributes}/>\n\t\t\t</Fragment>\n\t\t)\n\t}\t\n}\n\nexport default StoryItem;","\nimport { Component, Fragment } from '@wordpress/element';\nimport { InnerBlocks } from '@wordpress/block-editor';\nimport { Grid } from 'semantic-ui-react';\nimport StoryItem from '../../story-item/component';\n\nclass PostsColumns extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tdefaultOptions: {\n\t\t\t\temphasis: false,\n\t\t\t\tenableHeader: true,\n\t\t\t\tenableExcerpt: true,\n\t\t\t\theaderSize: 'small',\n\t\t\t}\n\t\t}\n\t}\n\n\tcomponentDidMount = () => {\n\t\tconsole.log(\"Columns Mounted\");\n\t\tconsole.log(this.props);\n\t}\n\n\trender = () => {\n\t\tconst data = this.props.posts;\n\t\treturn(\n\t\t\t<div style={{marginBottom: '2rem'}}>\n\t\t\t<div className=\"ui sub header\" style={{marginBottom: '1rem'}}>{this.props.title}</div>\n\t\t\t<Grid divided padded stackable columns='equal' style={{backgroundColor: this.props.backgroundColor}}>\n\t\t\t\t<Grid.Row>\n\t\t\t\t{ false !== data && data.map((item, index) => {\n\t\t\t\t\tlet storyItemArgs = {\n\t\t\t\t\t\tattributes: {\n\t\t\t\t\t\t\ttitle: item.title,\n\t\t\t\t\t\t\timage: item.image,\n\t\t\t\t\t\t\texcerpt: item.excerpt,\n\t\t\t\t\t\t\tlink: item.link,\n\t\t\t\t\t\t\tlabel: item.label,\n\t\t\t\t\t\t\tdate: item.date,\n\t\t\t\t\t\t\textra: '',\n\t\t\t\t\t\t\t// Post Meta Data:\n\t\t\t\t\t\t\tpostID: item.id,\n\t\t\t\t\t\t\t// Item Options\n\t\t\t\t\t\t\temphasis: false,\n\t\t\t\t\t\t\tisChartArt: false,\n\t\t\t\t\t\t\timageSlot: 'top',\n\t\t\t\t\t\t\timageSize: 'legacy-260',\n\t\t\t\t\t\t\thorizontal: false,\n\t\t\t\t\t\t\tstacked: true,\n\t\t\t\t\t\t\tenableHeader: true,\n\t\t\t\t\t\t\tenableExcerpt: false,\n\t\t\t\t\t\t\tenableExtra: false,\n\t\t\t\t\t\t\tenableProgramsTaxonomy: false,\n\t\t\t\t\t\t\theaderSize: 'normal',\n\t\t\t\t\t\t\tclassNames: 'is-style-top',\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t\treturn <Grid.Column><StoryItem {...storyItemArgs}/></Grid.Column>\n\t\t\t\t}) }\n\t\t\t\t</Grid.Row>\n\t\t\t</Grid>\n\t\t\t</div>\n\t\t)\n\t}\t\n}\n\nexport default PostsColumns;","module.exports = wp.apiFetch;"],"sourceRoot":""}