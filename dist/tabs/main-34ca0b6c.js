/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 0.1.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2020 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprcBlocksLibrarytabsJsonp=window.wpackioprcBlocksLibrarytabsJsonp||[]).push([[2],{0:function(t,e){t.exports=React},106:function(t,e){t.exports=wp.element},119:function(t,e,a){a(48),t.exports=a(250)},120:function(t,e,a){},17:function(t,e){t.exports=wp.blockEditor},18:function(t,e){t.exports=wp.i18n},24:function(t,e){t.exports=wp.blocks},250:function(t,e,a){"use strict";a.r(e);a(120);var n=a(22),c=a(24),r=a(18),o=a(253),s=a(17),i=[["core/paragraph",{placeholder:"Enter content..."}]];var l=["prc-block/pane",{title:Object(r.__)("Pane"),parent:["prc-block/tabs"],description:Object(r.__)("A single pane within the tabs layout."),icon:"universal-access-alt",category:"widgets",supports:{inserter:!1,reusable:!1,html:!1,lightBlockWrapper:!1},attributes:{key:{type:"string",source:"attribute",selector:".segment",attribute:"data-tab"}},edit:function(t){return React.createElement(o.a.Pane,null,React.createElement(s.InnerBlocks,{template:i}))},save:function(t){var e=t.attributes.key;return React.createElement("div",{className:"ui bottom attached tab segment ".concat(0===e?"active":""),"data-tab":"".concat(Number(e))},React.createElement(s.InnerBlocks.Content,null))}}];c.registerBlockType.apply(void 0,Object(n.a)(l));var u=a(47),p=a(35),b=a(103),d=a(104),m=a(107),v=a(105),y=a(46),f=a(108),h=function(t){function e(t){var a;return Object(b.a)(this,e),(a=Object(m.a)(this,Object(v.a)(e).call(this,t))).handleChange=a.handleChange.bind(Object(y.a)(a)),a}return Object(f.a)(e,t),Object(d.a)(e,[{key:"handleChange",value:function(t,e){for(var a=document.querySelectorAll('[data-block="'.concat(this.props.clientId,'"] [data-type="prc-block/pane"]')),n=0;n<a.length;n++)a[n].style.display="none";a[e.activeIndex].style.display="block"}},{key:"render",value:function(){var t=this.props,e=t.panes,a=t.menu;return React.createElement(o.a,{panes:e,menu:a,renderActiveOnly:!1,onTabChange:this.handleChange})}}]),e}(a(106).Component);function k(t){return void 0!==t&&~t.indexOf("is-style-secondary")}var g=wp.element.useEffect;var O=["prc-block/tabs",{title:Object(r.__)("Tabs"),description:Object(r.__)("Create content organized in tabs."),icon:"universal-access-alt",category:"widgets",supports:{align:["wide","full"],html:!0,className:!0},styles:[{name:"default",label:"Default",isDefault:!0},{name:"secondary",label:"Secondary"}],attributes:{titles:{type:"array",source:"query",selector:".ui.menu > .item",query:{content:{type:"string",source:"text"}}}},example:{},edit:function(t){var e=t.attributes.className,a=t.setAttributes,o=k(e),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.attributes.panes.length,a=Object(c.createBlock)("prc-block/pane",{key:e});return Object(u.dispatch)("core/editor").insertBlock(a,e,t.clientId),{menuItem:"Tab ".concat(e+1),pane:{key:"".concat(e)}}};return g((function(){if(void 0!==t.attributes.panes&&t.attributes.panes.length<t.attributes.titles.length){var e=t.attributes.panes;a({panes:e.concat([i()])})}}),[t.attributes.titles]),void 0===t.attributes.titles?a({titles:Object(n.a)(Array(2)).map((function(t,e){return{content:"Tab ".concat(e+1)}})),panes:Object(n.a)(Array(2)).map((function(t,e){return i(e)}))}):void 0===t.attributes.panes&&function(){for(var e=t.attributes.titles,n=Array(),c=0;c<e.length;c++)n.push({menuItem:e[c].content,pane:{key:"tab".concat(c+1)}});a({panes:n})}(),[React.createElement(s.InspectorControls,null,React.createElement(p.PanelBody,{title:Object(r.__)("Menu Items"),initialOpen:!0},void 0!==t.attributes.panes?t.attributes.panes.map((function(e,n){return React.createElement(p.TextControl,{label:Object(r.__)("Menu text"),value:e.menuItem,onChange:function(e){var c=t.attributes,r=c.panes,o=c.titles;r[n].menuItem=e,o[n].content=e,a({panes:r.concat([]),titles:o.concat([])})},index:n})})):"",React.createElement(p.Button,{isPrimary:!0,onClick:function(e){var n=t.attributes.titles;a({titles:n.concat([{content:"Tab ".concat(n.length+1)}])})}},"Add tab"),"Â ",React.createElement(p.Button,{isPrimary:!0,onClick:function(e){var n=t.attributes,c=n.panes,r=n.titles,o=Object(u.select)("core/editor").getBlocksByClientId(t.clientId)[0].innerBlocks[c.length-1];Object(u.dispatch)("core/editor").removeBlock(o.clientId,!1),c.pop(),r.pop(),a({panes:c.concat([]),titles:r.concat([])})}},"Remove tab"))),React.createElement("div",{className:e},React.createElement("div",{className:"static"},React.createElement(h,{menu:{secondary:o,attached:!o,tabular:!o},panes:t.attributes.panes,clientId:t.clientId})),void 0!==t.insertBlocksAfter?React.createElement(s.InnerBlocks,{allowedBlocks:["prc-block/pane"]}):"")]},save:function(t){var e=t.attributes,a=e.className,n=e.titles,c=k(a);return React.createElement("div",{className:"".concat(void 0!==a?"".concat(a):""," prc-block-tabs")},React.createElement("div",{className:"ui menu ".concat(c?"secondary":"top attached tabular")},n.map((function(t,e){return React.createElement("a",{className:"item ".concat(0===e?"active":""),"data-tab":"".concat(e)},t.content)}))),React.createElement(s.InnerBlocks.Content,null))}}];c.registerBlockType.apply(void 0,Object(n.a)(O))},35:function(t,e){t.exports=wp.components},47:function(t,e){t.exports=wp.data}},[[119,0,3]]]);
//# sourceMappingURL=main-34ca0b6c.js.map