{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.element\"","webpack:///external \"wp.blockEditor\"","webpack:///external \"wp.i18n\"","webpack:///external \"wp.blocks\"","webpack:///./src/tabs/blocks/pane/edit.js","webpack:///./src/tabs/blocks/pane/settings.js","webpack:///./src/tabs/blocks/pane/save.js","webpack:///./src/tabs/blocks/pane/index.js","webpack:///./src/tabs/blocks/component.js","webpack:///./src/tabs/blocks/util.js","webpack:///./src/tabs/blocks/tabs/edit.js","webpack:///./src/tabs/blocks/tabs/settings.js","webpack:///./src/tabs/blocks/tabs/save.js","webpack:///./src/tabs/blocks/tabs/index.js","webpack:///external \"wp.components\"","webpack:///external \"wp.data\""],"names":["module","exports","React","wp","element","blockEditor","i18n","blocks","TEMPLATE","placeholder","settings","title","__","parent","description","icon","category","supports","inserter","reusable","html","lightBlockWrapper","attributes","key","type","source","selector","attribute","edit","props","Tab","Pane","template","save","className","data-tab","Number","Content","registerBlockType","Tabs","handleChange","bind","e","data","clientId","this","target","closest","dataset","block","panes","document","querySelectorAll","length","i","style","display","activeIndex","menu","renderActiveOnly","onTabChange","Component","isSecondary","indexOf","useEffect","align","styles","name","label","isDefault","titles","query","content","example","setAttributes","secondary","newPane","createBlock","dispatch","insertBlock","menuItem","pane","concat","Array","map","_","push","loadPanes","initialOpen","d","value","onChange","index","isPrimary","onClick","select","getBlocksByClientId","innerBlocks","removeBlock","pop","attached","tabular","insertBlocksAfter","allowedBlocks","components"],"mappings":"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","file":"tabs/main-ff7d4972.js","sourcesContent":["module.exports = React;","module.exports = wp.element;","module.exports = wp.blockEditor;","module.exports = wp.i18n;","module.exports = wp.blocks;","import { Tab } from 'semantic-ui-react';\nimport { InnerBlocks } from '@wordpress/block-editor';\n\nconst TEMPLATE  = [['core/paragraph', { placeholder: 'Enter content...' } ]];\n\nexport default function edit(props) {\n  return (\n   <Tab.Pane>\n     <InnerBlocks template={TEMPLATE} />\n   </Tab.Pane>\n );\n}\n","import { __ } from \"@wordpress/i18n\";\nimport edit from './edit';\nimport save from './save';\n\nconst settings = [ 'prc-block/pane', {\n  title: __('Pane'),\n  parent: [ 'prc-block/tabs' ],\n  description: __('A single pane within the tabs layout.'),\n  icon: 'universal-access-alt',\n  category: 'widgets',\n  supports: {\n   inserter: false,\n   reusable: false,\n   html: false,\n   lightBlockWrapper: false,\n },\n attributes: {\n   key: {\n       type: 'string',\n       source: 'attribute',\n       selector: '.segment',\n       attribute: 'data-tab',\n   }\n },\nedit,\nsave,\n} ];\n\nexport default settings;\n","import { InnerBlocks } from '@wordpress/block-editor';\n\nexport default function save(props) {\n  const {\n    attributes : {\n      key,\n    }\n  } = props;\n\n  return (\n    <div className={`ui bottom attached tab segment ${key === 0 ? `active` : ``}`} data-tab={`${Number(key)}`}>\n      <InnerBlocks.Content />\n    </div>\n  );\n}\n","import { registerBlockType } from '@wordpress/blocks';\nimport settings from './settings';\n\nregisterBlockType(...settings);\n","import { Component, Fragment } from '@wordpress/element';\nimport { Tab } from 'semantic-ui-react';\n\nclass Tabs extends Component {\n  constructor(props) {\n\t\tsuper(props);\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e, data) {\n    let clientId = typeof this.props.clientId !== 'undefined' ? this.props.clientId : e.target.closest('.wp-block').dataset.block;\n    let panes = document.querySelectorAll(`[data-block=\"${clientId}\"] [data-type=\"prc-block/pane\"]`);\n    if (panes.length > 0 ) {\n      for (let i = 0; i < panes.length; i++) {\n        panes[i].style.display = \"none\";\n      }\n      panes[data.activeIndex].style.display = \"block\";\n    }\n  }\n\n  render() {\n    const {panes, menu} = this.props;\n    return (\n      <Tab panes={panes} menu={menu} renderActiveOnly={false} onTabChange={this.handleChange} />\n    )\n  }\n}\n\nexport default Tabs;\n","export default function isSecondary (className) {\n  return typeof className !== 'undefined' ? ~className.indexOf('is-style-secondary') : false;\n}\n","import { __ } from \"@wordpress/i18n\";\nimport {\n  dispatch,\n  select,\n} from '@wordpress/data';\nimport { createBlock } from '@wordpress/blocks';\nimport {\n\tPanelBody,\n\tButton,\n  TextControl\n} from '@wordpress/components';\nimport {\n\tInspectorControls,\n\tInnerBlocks,\n} from '@wordpress/block-editor';\nimport  Tabs  from '../component';\nimport isSecondary from '../util';\nimport { Tab } from 'semantic-ui-react';\n\nconst PLACEHOLDER = `Click here to enter content.`;\nconst NUM_TABS = 2;\nconst useEffect = wp.element.useEffect;\n\nexport default function edit(props) {\n\tconst {\n    attributes: {\n      className,\n    },\n    setAttributes,\n  } = props;\n\n  const secondary = isSecondary(className);\n\n\tconst newPane = ( i = props.attributes.panes.length ) => {\n\t\tconst block = createBlock('prc-block/pane', {key: i});\n\t\tdispatch('core/editor').insertBlock(block, i, props.clientId);\n\t\treturn {\n        menuItem: `Tab ${i + 1}`,\n        pane: {\n          key:`${i}`,\n\t\t\t\t}\n    };\n\t}\n\n  const populate = () => {\n    setAttributes({\n      titles: [...Array(NUM_TABS)].map( ( _, i) => { return { content : `Tab ${i + 1}`};}),\n      panes: [...Array(NUM_TABS)].map( ( _, i) => newPane(i)),\n    });\n  };\n\n\n\tconst loadPanes = () => {\n    const {\n      attributes: {\n        titles,\n      }\n    } = props;\n\t\tlet panes = Array();\n\t\tfor( let i = 0; i < titles.length; i++ ) {\n\t\t    panes.push({\n\t\t\t\tmenuItem: titles[i].content,\n\t\t\t\tpane: {\n\t\t\t\t\tkey:`tab${i + 1}`,\n\t\t\t\t}\n      });\n\t\t}\n    setAttributes({panes: panes});\n\t};\n\n  const addTab = e => {\n    let {\n      attributes: {\n        titles,\n      }\n    } = props;\n\n\t\tsetAttributes({\n\t\t\ttitles: titles.concat([{content: `Tab ${titles.length + 1}`}]),\n\t\t});\n\t}\n\n\tconst removeTab = e => {\n    let {\n      attributes : {\n        panes,\n        titles,\n      }\n    } = props;\n\n\t \tconst block = select('core/editor').getBlocksByClientId(props.clientId)[0].innerBlocks[panes.length - 1];\n\t\tdispatch('core/editor').removeBlock(block.clientId, false);\n\t\tpanes.pop();\n\t\ttitles.pop();\n\t\tsetAttributes({\n\t\t\tpanes: panes.concat([]),\n\t\t\ttitles: titles.concat([])\n\t\t});\n\t}\n\n\tuseEffect(()=> {\n    if (typeof props.attributes.panes === 'undefined') return;\n\t\tif (props.attributes.panes.length < props.attributes.titles.length) {\n\t\t\tlet panes = props.attributes.panes;\n\t\t\tsetAttributes({\n\t\t\t\tpanes: panes.concat([newPane()])\n\t\t\t});\n\t\t}\n\t}, [props.attributes.titles]);\n\n\n\t// Creating a new block, or loading from attributes\n\tif ( typeof props.attributes.titles === 'undefined' ) {\n    populate();\n\t} else if ( typeof props.attributes.panes === 'undefined' ) {\n\t\tloadPanes();\n\t}\n\n\n  return [\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Menu Items' ) } initialOpen={true} >\n          { typeof props.attributes.panes !== 'undefined' ? props.attributes.panes.map((d,i)=>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t          label={ __('Menu text')}\n\t\t\t\t\t          value={ d.menuItem }\n\t\t\t\t\t\t\t\t\t\tonChange={(e)=> {\n                      let {\n                        attributes : {\n                          panes,\n                          titles,\n                        }\n                      } = props;\n\n\t\t\t\t\t\t\t\t\t\t\tpanes[i].menuItem = e;\n\t\t\t\t\t\t\t\t\t\t\ttitles[i].content = e;\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes({\n                        panes: panes.concat([]),\n                        titles: titles.concat([])\n                      });\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tindex={i}\n\t\t\t\t\t      />) : `` }\n          <Button isPrimary={true} onClick={addTab}>Add tab</Button>&nbsp;\n\t\t\t\t\t<Button isPrimary={true} onClick={removeTab}>Remove tab</Button>\n \t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>,\n\t\t\t<div className={className}>\n        <div className=\"static\">\n  \t      <Tabs menu={ { secondary : secondary, attached: !secondary, tabular: !secondary } } panes={props.attributes.panes} />\n        </div>\n\t\t\t\t{ 'undefined' !== typeof props.insertBlocksAfter ? <InnerBlocks allowedBlocks={['prc-block/pane']}/> : ``}\n\t\t\t</div>\n\n\t];\n}\n","import { __ } from \"@wordpress/i18n\";\nimport edit from './edit.js';\nimport save from './save.js';\n\nconst settings = ['prc-block/tabs', {\n    title: __('Tabs'),\n    description: __('Create content organized in tabs.'),\n    icon: 'universal-access-alt',\n    category: 'widgets',\n    supports: {\n      align: [ 'wide', 'full' ],\n      html: true,\n      className: true,\n    },\n    styles: [\n      {\n        name: 'default',\n        label: 'Default',\n        isDefault: true,\n      },\n      {\n        name: 'secondary',\n        label: 'Secondary',\n      }\n    ],\n    attributes: {\n      titles : {\n        type: \"array\",\n        source: \"query\",\n        selector: \".ui.menu > .item\",\n        query : {\n          content: {\n            type: \"string\",\n            source: \"text\"\n          }\n        }\n      },\n    },\n    example: {},\n    edit,\n    save\n}];\n\nexport default settings;\n","import isSecondary from '../util';\nimport { InnerBlocks } from '@wordpress/block-editor';\n\nexport default function save( props ) {\n\tconst {\n\t\tattributes : {\n\t\t\tclassName,\n\t\t\ttitles,\n\t\t},\n\t} = props;\n\n\tconst secondary = isSecondary(className);\n\n  return (\n    <div className={`${typeof className !== 'undefined' ? `${className}` : ``} prc-block-tabs`}>\n      <div className={`ui menu ${secondary ? `secondary` : `top attached tabular`}`}>\n        {\ttitles.map((d,i) =>\n          <a className={`item ${i === 0 ? `active` : ``}`} data-tab={`${i}`}>\n\t          {d.content}\n          </a>\n        )}\n      </div>\n      <InnerBlocks.Content />\n    </div>\n  );\n}\n","import { registerBlockType } from '@wordpress/blocks';\nimport settings from './settings';\n\nregisterBlockType(...settings);\n","module.exports = wp.components;","module.exports = wp.data;"],"sourceRoot":""}