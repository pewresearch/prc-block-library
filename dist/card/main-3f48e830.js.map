{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.blocks\"","webpack:///external \"wp.url\"","webpack:///external \"wp.element\"","webpack:///external \"wp.blockEditor\"","webpack:///external \"wp.components\"","webpack:///./src/_shared/components/image/index.js","webpack:///./src/card/component.js","webpack:///./src/card/index.js","webpack:///external \"wp.i18n\"","webpack:///external \"ReactDOM\"","webpack:///external \"moment\""],"names":["module","exports","React","wp","blocks","url","element","blockEditor","components","ALLOWED_MEDIA_TYPES","Image","props","isMedium","undefined","slot","chartArt","classNames","ui","medium","image","bordered","img","size","getImgURL","link","variant","legacy","default","small","hidpi","smallHidpi","args","resize","addQueryArgs","style","display","sources","threshold","srcSet","media","getImgSrcSet","dataHandler","console","log","Toolbar","open","flexWrap","alignItems","backgroundColor","icon","label","onClick","imageSlot","isChartArt","value","options","onChange","imageSize","marginBottom","ImgMarkup","imgMarkup","onSelect","allowedTypes","render","className","id","isPrimary","this","Edit","editMode","Component","Card","isBasic","classes","basic","edit","enabled","setAttributes","fluid","Header","tagName","title","placeholder","href","Content","multiline","excerpt","EditSidebar","__","registerBlockType","category","keywords","styles","name","isDefault","supports","html","attributes","type","data","isSelected","maxWidth","save","i18n","ReactDOM","moment"],"mappings":"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","file":"card/main-3f48e830.js","sourcesContent":["module.exports = React;","module.exports = wp.blocks;","module.exports = wp.url;","module.exports = wp.element;","module.exports = wp.blockEditor;","module.exports = wp.components;","import './imageEditor.scss';\n\nimport { Component, Fragment } from '@wordpress/element';\nimport { Picture } from 'react-responsive-picture';\nimport { addQueryArgs } from '@wordpress/url';\nimport classNames from 'classnames/bind';\n// Edit\nimport { Button, IconButton, SelectControl } from '@wordpress/components';\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\n/**\n * Props:\n * img:\n * size:\n * link:\n * slot: // if set to false then no image size chooser will be display\n * chartArt: // if undefined then no chart art button will appear\n * dataHandler: *When not in \"edit mode\" this prop should be false to signal that.*\n * \n * <Image id={} img={} size={} link={} slot={} chartArt={} dataHandler={}/>\n */\nclass Image extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tclassNames = () => {\n\t\tlet isMedium = false;\n\t\t\n\t\tif ( undefined !== this.props.slot ) {\n\t\t\tif ( 'left' === this.props.slot || 'right' === this.props.slot ) {\n\t\t\t\tisMedium = true;\n\t\t\t}\n\t\t}\n\n\t\tlet chartArt = false;\n\t\tif ( undefined !== this.props.chartArt ) {\n\t\t\tchartArt = this.props.chartArt;\n\t\t} \n\t\treturn classNames({ ui: true, medium: isMedium, image: true, bordered: chartArt });\n\t}\n\n\timgMarkup = ({img, size, link}) => {\n\t\tconst getImgURL = (url, size, variant) => {\n\t\t\tif ( '' === url || false === url ) {\n\t\t\t\treturn url;\n\t\t\t}\n\t\n\t\t\tconst A1 = {\n\t\t\t\tdefault: '564,317',\n\t\t\t\tsmall: '354,194',\n\t\t\t\thidpi: '1128,634',\n\t\t\t\tsmallHidpi: '708,388',\n\t\t\t}\n\t\n\t\t\tconst A2 = {\n\t\t\t\tdefault: '268,151',\n\t\t\t\tsmall: '354,194',\n\t\t\t\thidpi: '536,301',\n\t\t\t\tsmallHidpi: '708,388',\n\t\t\t}\n\t\n\t\t\tconst A3 = {\n\t\t\t\tdefault: '194,110',\n\t\t\t\tsmall: '148,84',\n\t\t\t\thidpi: '388,220',\n\t\t\t\tsmallHidpi: '296,168',\n\t\t\t}\n\t\n\t\t\tconst A4 = {\n\t\t\t\tdefault: '268,151',\n\t\t\t\tsmall: '354,194',\n\t\t\t\thidpi: '536,302',\n\t\t\t\tsmallHidpi: '708,388',\n\t\t\t}\n\n\t\t\tconst legacy = {\n\t\t\t\t'260': {\n\t\t\t\t\tdefault: '260,260',\n\t\t\t\t\tsmall: '260,260',\n\t\t\t\t\thidpi: '520,520',\n\t\t\t\t\tsmallHidpi: '520,520',\n\t\t\t\t},\n\t\t\t\t'260-173': {\n\t\t\t\t\tdefault: '260,173',\n\t\t\t\t\tsmall: '260,173',\n\t\t\t\t\thidpi: '520,346',\n\t\t\t\t\tsmallHidpi: '520,346',\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Default to A1\n\t\t\tlet args = { resize: A1[variant] };\n\t\t\tif ( 'A2' === size ) {\n\t\t\t\targs = { resize: A2[variant] };\n\t\t\t} else if ( 'A3' === size ) {\n\t\t\t\targs = { resize: A3[variant] };\n\t\t\t} else if ( 'A4' === size ) {\n\t\t\t\targs = { resize: A4[variant] };\n\t\t\t}\n\t\t\t\n\t\t\t// Temp legacy sizes for homepages\n\t\t\tif ( 'legacy-260' === size ) {\n\t\t\t\targs = { resize: legacy['260'][variant] };\n\t\t\t} else if ( 'legacy-260-173' === size ) {\n\t\t\t\targs = { resize: legacy['260-173'][variant] };\n\t\t\t}\n\t\n\t\t\treturn addQueryArgs( url, args );\n\t\t}\n\n\t\tconst getImgSrcSet = (url, size, threshold = 420) => {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tsrcSet: getImgURL(url, size, 'default') + ' 1x, ' + getImgURL(url, size, 'hidpi') + ' 2x',\n\t\t\t\t\tmedia: \"(min-width: \"+threshold+\"px)\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tsrcSet: getImgURL(url, size, 'small') + ' 1x, ' + getImgURL(url, size, 'smallHidpi') + ' 2x',\n\t\t\t\t\tmedia: \"(max-width: \"+threshold+\"px)\",\n\t\t\t\t},\n\t\t\t]\n\t\t}\n\n\t\treturn <Picture style={{display: 'block'}} sources={ getImgSrcSet(img, size) }/>\n\t}\n\n\teditMode = ({dataHandler}) => {\n\t\tconsole.log('Edit Mode');\n\t\tconsole.log(this.props);\n\t\t\n\t\tconst mediaHandler = (media) => {\n\t\t\tif ( undefined !== this.props.slot && 'disabled' === this.props.slot ) {\n\t\t\t\tdataHandler( { image: media.url, imageSlot: 'default' } );\n\t\t\t} else {\n\t\t\t\tdataHandler( { image: media.url } );\n\t\t\t}\n\t\t}\n\n\t\tconst Toolbar = ({open, dataHandler}) => {\n\t\t\treturn(\n\t\t\t\t<div style={{display: 'flex', flexWrap: 'wrap', alignItems: 'center', backgroundColor: '#f0f2f3'}}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div style={{display: 'flex', flexWrap: 'wrap'}}>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\ticon=\"upload\"\n\t\t\t\t\t\t\t\tlabel=\"Select/Upload New Image\"\n\t\t\t\t\t\t\t\tonClick={open}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\ticon=\"trash\"\n\t\t\t\t\t\t\t\tlabel=\"Remove Image\"\n\t\t\t\t\t\t\t\tonClick={ ()=>{ dataHandler({ image:'', imageSlot: 'disabled'}) }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{ undefined !== this.props.chartArt && (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\ticon=\"art\"\n\t\t\t\t\t\t\t\t\tlabel={ true === this.props.chartArt ? 'Disable Chart Art' : 'Enable Chart Art' }\n\t\t\t\t\t\t\t\t\tonClick={ ()=>{ dataHandler({ isChartArt: ! this.props.chartArt }) }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ undefined !== this.props.slot && (\n\t\t\t\t\t\t<div style={{display: 'flex', alignItems:'center'}}>\n\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\tlabel='Image Size'\n\t\t\t\t\t\t\t\tvalue={ this.props.size }\n\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t{ value: 'A1', label: 'A1' },\n\t\t\t\t\t\t\t\t\t{ value: 'A2', label: 'A2' },\n\t\t\t\t\t\t\t\t\t{ value: 'A3', label: 'A3' },\n\t\t\t\t\t\t\t\t\t{ value: 'A4', label: 'A4' },\n\t\t\t\t\t\t\t\t\t{ value: 'legacy-260', label: 'Legacy Homepage 260x260' },\n\t\t\t\t\t\t\t\t\t{ value: 'legacy-260-173', label: 'Legacy Homepage 260x173' },\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\tonChange={ ( imageSize ) => dataHandler({ imageSize }) }\n\t\t\t\t\t\t\t\tstyle={{marginBottom: '0px'}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\t\n\t\t// Internal JSX Tag:\n\t\tconst ImgMarkup = this.imgMarkup;\n\n\t\treturn(\n\t\t\t<MediaUploadCheck>\n\t\t\t\t<MediaUpload\n\t\t\t\t\tonSelect={mediaHandler}\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{ '' !== this.props.img && (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<div className={this.classNames()}>\n\t\t\t\t\t\t\t\t\t\t<ImgMarkup img={this.props.img} size={this.props.size} id={this.props.id} link={this.props.link}/>\n\t\t\t\t\t\t\t\t\t\t<Toolbar dataHandler={dataHandler} open={open}/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ '' === this.props.img && (\n\t\t\t\t\t\t\t\t<p><Button isPrimary onClick={ open }>Insert Image</Button></p>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</MediaUploadCheck>\n\t\t)\n\t}\n\n\trender() {\n\t\tconsole.log('Image Component:');\n\t\tconsole.log(this.props);\n\t\t/// Internal JSX Tags:\n\t\tconst Edit = this.editMode;\n\t\tconst ImgMarkup = this.imgMarkup;\n\t\t// We should also have a prop that will let you pass through setAttribute or setState something like onChange\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t{ (false === this.props.dataHandler || undefined === this.props.dataHandler) && (\n\t\t\t\t\t<div className={this.classNames()}>\n\t\t\t\t\t\t<ImgMarkup \n\t\t\t\t\t\t\timg={this.props.img}\n\t\t\t\t\t\t\tsize={this.props.size}\n\t\t\t\t\t\t\tlink={this.props.link}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t{ (false !== this.props.dataHandler && undefined !== this.props.dataHandler) && (\n\t\t\t\t\t<Edit dataHandler={this.props.dataHandler}/>\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\nexport default Image;","import './card.scss';\n\nimport { Component, Fragment, RawHTML } from '@wordpress/element';\nimport { RichText, InnerBlocks, MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { TextControl, Button } from '@wordpress/components';\n\nimport { Card as SemanticCard, Image as SemanticImage } from 'semantic-ui-react';\nimport { Image } from '../_shared';\n\nimport classNames from 'classnames/bind';\n\nclass Card extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\trender() {\n\t\tlet isBasic = false;\n\t\tif ( 'is-style-borderless' === this.props.className ) {\n\t\t\tisBasic = true;\n\t\t}\n\t\tlet classes = classNames(this.props.className, { basic: isBasic });\n\t\tlet dataHandler = false;\n\t\tif ( true === this.props.edit.enabled ) {\n\t\t\tdataHandler = this.props.edit.setAttributes;\n\t\t}\n\t\treturn(\n\t\t\t<SemanticCard fluid className={classes}>\n\t\t\t\t<SemanticCard.Header>\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{ true === this.props.edit.enabled && (\n\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\ttagName=\"div\" // The tag here is the element output and editable in the admin\n\t\t\t\t\t\t\t\tvalue={ this.props.title } // Any existing content, either from the database or an attribute default\n\t\t\t\t\t\t\t\tonChange={ ( title ) => this.props.edit.setAttributes( { title } ) } // Store updated content as a block attribute\n\t\t\t\t\t\t\t\tplaceholder='Card Title' // Display this text before any content has been added by the user\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) }\n\n\t\t\t\t\t\t{ true !== this.props.edit.enabled && '' === this.props.link && (\n\t\t\t\t\t\t\t<span>{this.props.title}</span>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ true !== this.props.edit.enabled && '' !== this.props.link && (\n\t\t\t\t\t\t\t<a href={this.props.link}>{this.props.title}</a>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Fragment>\n\t\t\t\t</SemanticCard.Header>\n\n\t\t\t\t<SemanticCard.Content>\n\t\t\t\t\t<Image\n\t\t\t\t\t\timg={this.props.image}\n\t\t\t\t\t\tsize='A2'\n\t\t\t\t\t\tlink={this.props.link}\n\t\t\t\t\t\tdataHandler={dataHandler}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ true === this.props.edit.enabled && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"div\" // The tag here is the element output and editable in the admin\n\t\t\t\t\t\t\tclassName=\"sans-serif\"\n\t\t\t\t\t\t\tmultiline=\"p\"\n\t\t\t\t\t\t\tvalue={ this.props.excerpt } // Any existing content, either from the database or an attribute default\n\t\t\t\t\t\t\tonChange={ ( excerpt ) => this.props.edit.setAttributes( { excerpt } ) } // Store updated content as a block attribute\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ true !== this.props.edit.enabled && '' !== this.props.excerpt && (\n\t\t\t\t\t\t<RichText.Content tagName=\"div\" className=\"sans-serif\" value={this.props.excerpt}/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<div className=\"ui relaxed items\">\n\t\t\t\t\t{ false === this.props.edit.display && (\n\t\t\t\t\t\t<InnerBlocks />\n\t\t\t\t\t) }\n\t\t\t\t\t{ true === this.props.edit.display && (\n\t\t\t\t\t\t<InnerBlocks.Content/>\n\t\t\t\t\t) }\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{ '' !== this.props.label && '' !== this.props.link && (\n\t\t\t\t\t\t<p><strong><a href={this.props.link} className=\"read-more\">{this.props.label}</a></strong></p>\n\t\t\t\t\t) }\n\t\t\t\t</SemanticCard.Content>\n\n\t\t\t</SemanticCard>\n\t\t)\n\t}\t\n}\n\nexport default Card;","import { __ } from \"@wordpress/i18n\";\nimport { Component, Fragment } from '@wordpress/element';\nimport { registerBlockType } from '@wordpress/blocks';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { Button, PanelBody, ToggleControl, TextControl } from '@wordpress/components';\n\nimport Card from './component';\n\nclass EditSidebar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\n\trender = () => {\n\t\tconst setAttributes = this.props.edit.setAttributes;\n\t\treturn(\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Card Options' ) }>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel=\"Link\"\n\t\t\t\t\t\t\tvalue={ this.props.link }\n\t\t\t\t\t\t\tonChange={ ( link ) => setAttributes({link}) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel=\"Read More Text\"\n\t\t\t\t\t\t\tvalue={ this.props.label }\n\t\t\t\t\t\t\tonChange={ ( label ) => setAttributes({label}) }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t)\n\t}\n}\n\n/**\n * Register: aa Gutenberg Block.\n *\n * Registers a new block provided a unique name and an object defining its\n * behavior. Once registered, the block is made editor as an option to any\n * editor interface where blocks are implemented.\n *\n * @link https://wordpress.org/gutenberg/handbook/block-api/\n * @param  {string}   name     Block name.\n * @param  {Object}   settings Block settings.\n * @return {?WPBlock}          The block, if it has been successfully\n *                             registered; otherwise `undefined`.\n */\nregisterBlockType( 'prc-block/card', {\n\t// Block name. Block names must be string that contains a namespace prefix. Example: my-plugin/my-custom-block.\n\ttitle: __( 'Card' ), // Block title.\n\ticon: 'format-aside', // Block icon from Dashicons → https://developer.wordpress.org/resource/dashicons/.\n\tcategory: 'widgets', // Block category — Group blocks together based on common traits E.g. common, formatting, layout, widgets, embed.\n\tkeywords: [\n\t\t__( 'prc' ),\n\t\t__( 'card' ),\n\t\t__( 'baseball card' ),\n\t\t__( 'packaged card' ),\n\t],\n\tstyles: [\n\t\t{\n\t\t\tname: 'default',\n\t\t\tlabel: 'Basic (Baseball Card)',\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'borderless',\n\t\t\tlabel: 'Basic Borderless',\n\t\t},\n\t\t{\n\t\t\tname: 'beige',\n\t\t\tlabel: 'Beige (Borderless)',\n\t\t},\n\t\t{\n\t\t\tname: 'oatmeal',\n\t\t\tlabel: 'Oatmeal (Borderless)',\n\t\t},\n\t],\n\tsupports: {\n\t\thtml: false, // We do not want to give people the ability to edit the raw html of this block.\n\t},\n\t// Attributes are really react props. \n\tattributes: {\n\t\tlink: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'https://www.pewresearch.org/page',\n\t\t},\n\t\tlabel: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Read More',\n\t\t},\n\t\t//\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Card Title',\n\t\t},\n\t\timage: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\t//\n\t\texcerpt: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit</p><p>Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>',\n\t\t}\n\t},\n\n\t/**\n\t * The edit function describes the structure of your block in the context of the editor.\n\t * This represents what the editor will render when the block is used.\n\t *\n\t * The \"edit\" property must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Component.\n\t */\n\tedit: (props) => {\n\t\tlet data = props.attributes; // Condense the attributes into props\n\t\tdata.className = props.attributes.className; // Push classNames\n\t\tdata.edit = {\n\t\t\tenabled: false,\n\t\t\tdisplay: false,\n\t\t\tsetAttributes: props.setAttributes,\n\t\t}\n\t\tif ( true === props.isSelected ) {\n\t\t\tdata.edit.enabled = true;\n\t\t}\n\t\t\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t{ true === props.isSelected && (\n\t\t\t\t\t<EditSidebar {...data}/>\n\t\t\t\t) }\n\t\t\t\t<div style={{maxWidth: '400px'}}>\n\t\t\t\t\t<Card {...data}/>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t)\n\t},\n\n\t// Seth Learning Note: SO save literally only transforms on post_content filter. You won't see this result inside the gutenberg editor, you will however see it if you look at code view.\n\t/**\n\t * The save function defines the way in which the different attributes should be combined\n\t * into the final markup, which is then serialized by Gutenberg into post_content.\n\t *\n\t * The \"save\" property must be specified and must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Frontend HTML.\n\t */\n\tsave: ( props ) => {\n\t\tlet data = props.attributes;\n\t\tdata.className = props.attributes.className;\n\t\tdata.edit = {\n\t\t\tenabled: false,\n\t\t\tdisplay: true,\n\t\t\tsetAttributes: props.setAttributes,\n\t\t};\n\t\treturn (\n\t\t\t<Card {...data}/>\n\t\t);\n\t},\n} );\n","module.exports = wp.i18n;","module.exports = ReactDOM;","module.exports = moment;"],"sourceRoot":""}