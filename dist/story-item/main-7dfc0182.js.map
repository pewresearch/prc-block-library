{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.element\"","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///external \"wp.blockEditor\"","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/_shared/helpers/get-terms/index.js","webpack:///./src/_shared/helpers/if-match-set-attribute/index.js","webpack:///./src/_shared/components/story-item/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack:///./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack:///./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack:///./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack:///./node_modules/@wordpress/compose/build-module/utils/create-higher-order-component/index.js","webpack:///./node_modules/@wordpress/compose/build-module/higher-order/with-state/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./src/_shared/components/taxonomy-select-list/index.js","webpack:///./node_modules/@daniakash/lifecycle-hooks/lib/index.m.js","webpack:///./src/_shared/components/wpQueryPinControl/index.js","webpack:///./src/story-item/edit/controls.js","webpack:///./src/story-item/edit/image.js","webpack:///./src/story-item/edit/description.js","webpack:///./src/story-item/edit/extra.js","webpack:///./src/story-item/edit/header.js","webpack:///./src/story-item/edit/index.js","webpack:///./src/story-item/save.js","webpack:///./src/story-item/transforms.js","webpack:///./src/story-item/index.js","webpack:///external \"wp.i18n\"","webpack:///./src/_shared/components/story-item/_shared/image/index.js","webpack:///./src/_shared/components/story-item/_shared/kicker/index.js","webpack:///external \"moment\"","webpack:///external \"wp.apiFetch\"","webpack:///external \"wp.url\"","webpack:///external \"ReactDOM\"","webpack:///external \"lodash\"","webpack:///external \"wp.data\"","webpack:///./src/_shared/components/story-item/display/image.js","webpack:///./src/_shared/components/story-item/display/description.js","webpack:///./src/_shared/components/story-item/display/extra.js","webpack:///./src/_shared/components/story-item/display/kicker.js","webpack:///./src/_shared/components/story-item/display/header.js","webpack:///./src/_shared/components/story-item/display/index.js","webpack:///external \"wp.blocks\"","webpack:///external \"wp.components\"","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///external \"wp.htmlEntities\""],"names":["module","exports","React","wp","element","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","blockEditor","_defineProperty","obj","key","value","defineProperty","enumerable","configurable","writable","window","getTerms","taxonomy","perPage","taxSlug","collection","api","collections","undefined","Promise","resolve","data","fetch","hide_empty","per_page","then","terms","index","length","slug","replace","toLowerCase","id","ifMatchSetAttribute","needle","haystack","attrKey","attrValue","setAttributes","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","descriptor","_createClass","protoProps","staticProps","_setPrototypeOf","p","setPrototypeOf","__proto__","_inherits","subClass","superClass","create","_possibleConstructorReturn","self","assertThisInitialized","_getPrototypeOf","getPrototypeOf","mapComponentToEnhancedComponent","modifierName","OriginalComponent","EnhancedComponent","_OriginalComponent$di","displayName","concat","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","e","_isNativeReflectConstruct","result","Super","NewTarget","this","arguments","apply","_slicedToArray","arr","isArray","Symbol","iterator","_arr","_n","_d","_e","_s","_i","next","done","push","err","unsupportedIterableToArray","initialState","_Component","WrappedComponent","_super","_this","setState","bind","state","withState","termsData","excludeData","includeData","exclude","include","letter","isSelected","loadTerms","apiFetch","path","getTermsByLetter","JSON","parse","includeArr","map","term","term_id","stringify","stateInit","r","useDidMount","staticData","className","href","checked","includes","label","decodeEntities","onChange","b","bool","termId","termName","termSlug","excludeState","includeState","findIndex","x","splice","indexOf","removeFromExclude","data-termid","data-term","style","height","marginTop","fontSize","margin","WpQueryPinControls","wpQueryContext","rootClientId","postId","console","log","isActive","controls","icon","title","onClick","newData","dispatch","updateBlockAttributes","pinned","setPostAsAttributes","post","storyItem","hasOwnProperty","rendered","excerpt","link","date","postID","extra","art","image","setPostByURL","url","method","catch","setPostByStubID","error","URLControl","useState","isLinkOpen","setIsLinkOpen","aria-expanded","aria-haspopup","__","showTooltip","position","onClose","showInitialSuggestions","suggestionsQuery","type","subtype","settings","POPOVER_PROPS","isAlternate","ToolbarDropdown","selected","options","iconPaths","prefixLabel","iconWidth","iconHeight","iconViewBox","Icon","isPressed","width","viewBox","xmlns","d","popoverProps","renderToggle","onToggle","isOpen","renderContent","isCollapsed","size","sprintf","ToolbarControls","attributes","imageSize","imageSlot","headerSize","isChartArt","newLevel","1","2","3","newSize","Controls","context","enableHeader","enableExcerpt","enableExcerptBelow","enableExtra","enableBreakingNews","enableEmphasis","enableProgramsTaxonomy","useEffect","isEmpty","prcBreakingNews","alert","isInteger","isSecondary","ALLOWED_MEDIA_TYPES","Edit","img","setArt","rawUrl","chartArt","onSelect","media","allowedTypes","render","open","placeholder","Img","slot","isXL","isA1","isA2","isA3","isA4","classNames","ui","XL","A1","A2","A3","A4","bordered","Description","content","sansSerif","enabled","classes","tagName","multiline","Content","Extra","breakingNews","KickerEditor","labelOptions","setLabelOptions","keys","forEach","termObj","sort","a","getTermsAsOptions","display","alignItems","l","marginBottom","Header","altHeaderWeight","large","medium","small","light","Item","Meta","t","allowedFormats","edit","clientId","useSelect","select","getBlockRootClientId","dataHandler","enableAltHeaderWeight","stacked","setImageSlotByClassName","TopAndLeftSlot","DefaultSlot","BottomAndRightSlot","as","save","transforms","isMatch","node","nodeName","textContent","transform","createBlock","trim","to","blocks","metadata","description","keywords","example","moment","format","registerBlockType","i18n","default","hidpi","smallHidpi","legacy","ImageDisplay","getImgURL","variant","args","resize","addQueryArgs","getImgSrcSet","threshold","srcSet","src","alt","sources","KickerDisplay","labelSlug","ReactDOM","lodash","Image","isStyleMobileLoop","parseInt","StoryItem","extraContent","inLoop","isSmall","useMediaQuery","isStacked","location","components","_arrayLikeToArray","len","arr2","htmlEntities"],"mappings":";;;;;;;;;;;;;;;;;mIAAAA,EAAOC,QAAUC,O,gBCAjBF,EAAOC,QAAUE,GAAGC,S,iCCApB,8CACe,SAASC,EAA4BC,EAAGC,GACrD,GAAKD,EAAL,CACA,GAAiB,iBAANA,EAAgB,OAAO,YAAiBA,EAAGC,GACtD,IAAIC,EAAIC,OAAOC,UAAUC,SAASC,KAAKN,GAAGO,MAAM,GAAI,GAEpD,MADU,WAANL,GAAkBF,EAAEQ,cAAaN,EAAIF,EAAEQ,YAAYC,MAC7C,QAANP,GAAqB,QAANA,EAAoBQ,MAAMC,KAAKX,GACxC,cAANE,GAAqB,2CAA2CU,KAAKV,GAAW,YAAiBF,EAAGC,QAAxG,K,iBCPFP,EAAOC,QAAUE,GAAGgB,a,mGCAL,SAASC,EAAgBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTZ,OAAOe,eAAeH,EAAKC,EAAK,CAC9BC,MAAOA,EACPE,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAIC,GAAOC,EAGNF,E,oGCTDlB,EAAOyB,OAAPzB,GAEF0B,EAAW,SAACC,GAA4B,IAAlBC,EAAiB,uDAAP,GAC5BC,EAAUF,EAEVG,EAAa,IAAI9B,EAAG+B,IAAIC,YAAYH,GAE1C,YAAII,IAAcH,GACP,IAAII,SAAQ,SAAAC,GACf,IAAMC,EAAO,GACbN,EACKO,MAAM,CACHD,KAAM,CAAEE,YAAY,EAAOC,SAAUX,KAExCY,MAAK,SAAAC,GACF,IAAK,IAAIC,EAAQ,EAAGA,EAAQD,EAAME,OAAQD,IAAS,CAC/C,IAAME,EAAOH,EAAMC,GAAOE,KAAKC,QAAlB,UACNhB,EAAQiB,cADF,KAET,IAEJV,EAAKK,EAAMC,GAAOK,IAAM,CACpBA,GAAIN,EAAMC,GAAOK,GACjBnC,KAAM6B,EAAMC,GAAO9B,KACnBgC,QAGRT,EAAQC,UCjBbY,EAZa,SACxBC,EACAC,EACAC,EACAC,EACAC,GAEIJ,IAAWC,GACXG,EAAc,KAAGF,EAAUC,K,SCNnC,E,4CCFe,SAASE,EAAgBC,EAAUC,GAChD,KAAMD,aAAoBC,GACxB,MAAM,IAAIC,UAAU,qCCFxB,SAASC,EAAkBC,EAAQC,GACjC,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAMjB,OAAQkB,IAAK,CACrC,IAAIC,EAAaF,EAAMC,GACvBC,EAAWxC,WAAawC,EAAWxC,aAAc,EACjDwC,EAAWvC,cAAe,EACtB,UAAWuC,IAAYA,EAAWtC,UAAW,GACjDlB,OAAOe,eAAesC,EAAQG,EAAW3C,IAAK2C,IAInC,SAASC,EAAaP,EAAaQ,EAAYC,GAG5D,OAFID,GAAYN,EAAkBF,EAAYjD,UAAWyD,GACrDC,GAAaP,EAAkBF,EAAaS,GACzCT,E,YCbM,SAASU,EAAgB/D,EAAGgE,GAMzC,OALAD,EAAkB5D,OAAO8D,gBAAkB,SAAyBjE,EAAGgE,GAErE,OADAhE,EAAEkE,UAAYF,EACPhE,IAGcA,EAAGgE,GCLb,SAASG,EAAUC,EAAUC,GAC1C,GAA0B,mBAAfA,GAA4C,OAAfA,EACtC,MAAM,IAAIf,UAAU,sDAGtBc,EAAShE,UAAYD,OAAOmE,OAAOD,GAAcA,EAAWjE,UAAW,CACrEI,YAAa,CACXS,MAAOmD,EACP/C,UAAU,EACVD,cAAc,KAGdiD,GAAY,EAAeD,EAAUC,G,WCX5B,SAASE,EAA2BC,EAAMlE,GACvD,OAAIA,GAA2B,WAAlB,YAAQA,IAAsC,mBAATA,EAI3C,OAAAmE,EAAA,GAAsBD,GAHpBlE,ECJI,SAASoE,EAAgB1E,GAItC,OAHA0E,EAAkBvE,OAAO8D,eAAiB9D,OAAOwE,eAAiB,SAAyB3E,GACzF,OAAOA,EAAEkE,WAAa/D,OAAOwE,eAAe3E,KAEvBA,G,YCQyd,MAA/e,SAAoC4E,EAAgCC,GAAc,OAAO,SAASC,GAAmB,IAAIC,EAAkBH,EAAgCE,GAAuBE,EAAsBF,EAAkBG,YAAYA,OAAoC,IAAxBD,EAA+BF,EAAkBrE,MAAM,YAAYuE,EAA+H,OAAzGD,EAAkBE,YAAY,GAAGC,OAAO,qBAAW,oBAAUL,IAAe,KAAKK,OAAOD,EAAY,KAAYF,ICZqF,SAASI,EAAaC,GAAS,IAAIC,EAAqW,WAAqC,GAAoB,oBAAVC,UAAwBA,QAAQC,UAAU,OAAO,EAAM,GAAGD,QAAQC,UAAUC,KAAK,OAAO,EAAM,GAAkB,mBAARC,MAAmB,OAAO,EAAK,IAA0E,OAAtEC,KAAKtF,UAAUC,SAASC,KAAKgF,QAAQC,UAAUG,KAAK,IAAG,iBAAsB,EAAM,MAAMC,GAAG,OAAO,GAAxmBC,GAA4B,OAAO,WAAgC,IAAmCC,EAA/BC,EAAMpB,EAAgBU,GAAgB,GAAGC,EAA0B,CAAC,IAAIU,EAAUrB,EAAgBsB,MAAMxF,YAAYqF,EAAOP,QAAQC,UAAUO,EAAMG,UAAUF,QAAiBF,EAAOC,EAAMI,MAAMF,KAAKC,WAAY,OAAO1B,EAA2ByB,KAAKH,I,aCIj5B,SAASM,EAAeC,EAAK1C,GAC1C,OCLa,SAAyB0C,GACtC,GAAI1F,MAAM2F,QAAQD,GAAM,OAAOA,EDIxB,CAAeA,IELT,SAA+BA,EAAK1C,GACjD,GAAsB,oBAAX4C,QAA4BA,OAAOC,YAAYpG,OAAOiG,GAAjE,CACA,IAAII,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAK7E,EAET,IACE,IAAK,IAAiC8E,EAA7BC,EAAKT,EAAIE,OAAOC,cAAmBE,GAAMG,EAAKC,EAAGC,QAAQC,QAChEP,EAAKQ,KAAKJ,EAAG3F,QAETyC,GAAK8C,EAAKhE,SAAWkB,GAH8C+C,GAAK,IAK9E,MAAOQ,GACPP,GAAK,EACLC,EAAKM,EACL,QACA,IACOR,GAAsB,MAAhBI,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIH,EAAI,MAAMC,GAIlB,OAAOH,GFnBuB,CAAqBJ,EAAK1C,IAAM,OAAAwD,EAAA,GAA2Bd,EAAK1C,IGLjF,WACb,MAAM,IAAIJ,UAAU,6IHIgF,G,YDMpF,WAAqB,IAAI6D,EAAalB,UAAUzD,OAAO,QAAkBV,IAAfmE,UAAU,GAAeA,UAAU,GAAG,GAAG,OAAO,GAA2B,SAASnB,GAAmB,OAAmB,SAASsC,GAAYjD,EAAUkD,EAAiBD,GAAY,IAAIE,EAAOnC,EAAakC,GAAkB,SAASA,IAAmB,IAAIE,EAA2K,OAArKpE,EAAgB6C,KAAKqB,IAAkBE,EAAMD,EAAOpB,MAAMF,KAAKC,YAAiBuB,SAASD,EAAMC,SAASC,KAAK,YAAuBF,IAAQA,EAAMG,MAAMP,EAAoBI,EAAqL,OAA9K3D,EAAayD,EAAiB,CAAC,CAACrG,IAAI,SAASC,MAAM,WAAkB,OAAO,wBAAc6D,EAAkB,YAAS,GAAGkB,KAAKvC,MAAMuC,KAAK0B,MAAM,CAACF,SAASxB,KAAKwB,gBAAwBH,EAApf,CAAugB,eAAa,cKJ/rBM,CAAU,CACjCC,UAAW,GACXC,YAAa,GACbC,YAAa,IAHUH,EAKvB,YAWO,IAVHC,EAUE,EAVFA,UACAC,EASE,EATFA,YACAC,EAQE,EARFA,YACAN,EAOE,EAPFA,SACAO,EAME,EANFA,QACAC,EAKE,EALFA,QAEAxG,GAGE,EAJFyG,OAIE,EAHFzG,UACA0B,EAEE,EAFFA,cACAgF,EACE,EADFA,WAqCMC,EAAY,YftBD,SAAC3G,EAAUyG,GAChC,OAAO,IAAIlG,SAAQ,SAAAC,GACfoG,IAAS,CACLC,KAAK,+DAAD,OAAiE7G,EAAjE,mBAAoFyG,KACzF5F,MAAK,SAAAC,GACJN,EAAQM,UekBRgG,CAAiB9G,EAAU,KAAaa,MAAK,SAAAC,GACzCkF,EAAS,CAAEI,UAAWtF,IArCZ,SAAAA,GACd,IAAMoF,EAAQ,GAQd,GALI,IAAMpF,EAAME,QAAU,IAAMuF,EAAQvF,SACpCkF,EAAMG,YAAcU,KAAKC,MAAMT,IAI/B,IAAMzF,EAAME,QAAU,IAAMwF,EAAQxF,OAAQ,CAC5C,IAAMiG,EAAa,GACnBnG,EAAMoG,KAAI,SAAAC,GACNF,EAAWzB,KAAK,CACZpE,GAAI+F,EAAKC,QACTnI,KAAMkI,EAAKlI,KACXgC,KAAMkG,EAAKlG,UAInBS,EAAc,CAAE8E,QAASO,KAAKM,UAAUJ,KACxCf,EAAMI,YAAcW,OACb,IAAMnG,EAAME,QAAU,IAAMwF,EAAQxF,SAC3CkF,EAAMI,YAAcS,KAAKC,MAAMR,IAGnCR,EAASE,GAaLoB,CAAUxG,QAKd,IAAUY,GCnE+oC,WAAa,IAAI6F,EAAE9C,UAAUzD,OAAO,QAAkBV,IAAfmE,UAAU,GAAeA,UAAU,GAAG,WAAW,OAAO,MAAO,oBAAE,uBAAE,WAAW8C,MAAM,CAACA,IAAI,IDoEzxCC,EAAY,WACJ,IAAMpB,EAAUpF,QAChB2F,OAKZ,IAqCMc,EA3DE,IAAMjB,EAAQxF,SAAU,IAAUU,GAC3BqF,KAAKC,MAAMR,GA2D1B,OACI,2BAAKkB,UAAU,iBACV,IAAUD,GACP,oBAAC,WAAD,KACKA,EAAWP,KAAI,SAAAC,GACZ,OACI,yBACIO,UAAU,OACVC,KAAI,WAAM3H,EAASmB,cAAf,YACAgG,EAAKlG,OAGRkG,EAAKlI,WAMzB,IAAUyC,GACP,oBAAC,WAAD,KACK0E,EAAUc,KAAI,SAAAC,GACX,IAAMS,EAAUrB,EAAQsB,SAASV,EAAKC,SAWtC,OACI,2BAAKM,UAAU,QACX,oBAAC,kBAAD,CACII,MAAOC,yBAAeZ,EAAKlI,MAC3B2I,QAASA,EACTI,SAdK,SAAAC,GA7Df,IAACC,EAAMC,EAAQC,EAAUC,EAKjCtH,EAJJuH,EACAC,EAFaL,EA+DKD,EA/DCE,EAgEDhB,EAAKC,QAhEIgB,EAiETjB,EAAKlI,KAjEcoJ,EAkEnBlB,EAAKlG,KAjEvBqH,EAAejC,EACfkC,EAAejC,GAYjB,IAAS4B,GAETI,EAAa9C,KAAK2C,IAVb,KADCpH,EAAQwH,EAAaC,WAAU,SAAAC,GAAC,OAAIA,EAAErH,KAAO+G,OACjCI,EAAaG,OAAO3H,EAAO,KAe7CwH,EAAa/C,KAAK,CACdpE,GAAI+G,EACJlJ,KAAMmJ,EACNnH,KAAMoH,IAfY,WACtB,IAAMtH,EAAQuH,EAAaK,QAAQR,IAC9B,IAAMpH,GAAOuH,EAAaI,OAAO3H,EAAO,GAgB7C6H,IAIJlH,EAAc,CACV6E,QAASQ,KAAKM,UAAUiB,GACxB9B,QAASO,KAAKM,UAAUkB,MA2CAM,cAAa1B,EAAKC,QAClB0B,YAAW3B,EAAKlI,OAEpB,2BACI8J,MAAO,CACHC,OAAQ,OACRC,UAAW,UAGd,IAASvC,GACN,2BACIqC,MAAO,CACHG,SAAU,OACVC,OAAQ,IAHhB,IAMMhC,EAAKlG,KANX,eCjK28B,ICyCx+BmI,EArCY,SAAC,GAA8C,IAA5CC,EAA2C,EAA3CA,eAAgBC,EAA2B,EAA3BA,aAAcC,EAAa,EAAbA,OACxDC,QAAQC,IAAI,oBAAqBJ,EAAgBC,EAAcC,GAC/D,IAAMG,EAAWL,EAAexB,SAAS0B,GAEzC,OADAC,QAAQC,IAAI,YAAaC,GAErB,oBAAC,gBAAD,KACI,oBAAC,UAAD,CACIC,SAAU,CACN,CACIC,KAAM,SACNC,MAAO,WACPH,WACAI,QAAS,WACL,IAAMC,EAAUV,EAEVnH,EAAI6H,EAAQvB,WAAU,SAAAC,GAAC,OAAIA,IAAMc,MAClC,IAAMrH,EACP6H,EAAQvE,KAAK+D,GAEbQ,EAAQrB,OAAOxG,EAAG,GAEtBsH,QAAQC,IAAI,iBAAkBF,GAC9BC,QAAQC,IAAIM,GACZC,mBAAS,qBAAqBC,sBAC1BX,EACA,CACIY,OAAQnD,KAAKM,UAAU0C,YCLrDI,G,MAAsB,SAACC,EAAM1I,GAC/B,IAAM2I,EAAY,CACdR,MAAOO,EAAKP,MAAMS,eAAe,YAAcF,EAAKP,MAAMU,SAAWH,EAAKP,MAC1EW,QAASJ,EAAKI,QAAQF,eAAe,YAAcF,EAAKI,QAAQD,SAAWH,EAAKI,QAChFC,KAAML,EAAKK,KACX3C,MAAOsC,EAAKE,eAAe,SAAWF,EAAKtC,MAAQ,SACnD4C,KAAMN,EAAKM,KACXC,OAAQP,EAAKhJ,GACbwJ,MAAO,IAILR,EAAKS,MACPR,EAAUS,MAAQV,EAAKU,OAE3BpJ,EAAc2I,KAQZU,EAAe,SAACC,EAAKtJ,QACnBpB,IAAcoB,QAAiBpB,IAAc0K,GAGjDpE,IAAS,CACLC,KAAM,6CACNoE,OAAQ,OACRxK,KAAM,CAAEuK,SACTnK,MAAK,SAAAuJ,GACJZ,QAAQC,IAAI,eAAgBW,IACxB,IAAUA,GACVD,EAAoBC,EAAM1I,MAE/BwJ,OAAO,kBAAMxJ,EAAc,CAAC+I,KAAMO,QAGnCG,EAAkB,SAAC5B,EAAQ7H,GAC7B8H,QAAQC,IAAI,kBAAmBF,GAC/B3C,IAAS,CACLC,KAAM,eAAiB0C,EACvB0B,OAAQ,QACTpK,MAAK,SAAAuJ,GACJZ,QAAQC,IAAI,kBAAmBW,IAC3B,IAAUA,GAEVD,EAAoBC,EAAM1I,MAE/BwJ,OAAO,SAAAzF,GAAG,OAAI+D,QAAQ4B,MAAM3F,OAG7B4F,EAAa,SAAC,GAA0B,IAAzBL,EAAwB,EAAxBA,IAAKtJ,EAAmB,EAAnBA,cAAmB,IACH4J,oBAAU,GADP,GACjCC,EADiC,KACrBC,EADqB,KAEzC,OACI,oBAAC,WAAD,KACI,oBAAC,gBAAD,CACIC,gBAAeF,EACfG,gBAAc,OACd5D,MAAO6D,aAAG,YACV/B,KAAK,cACLE,QAAS,kBAAI0B,GAAeD,IAC5BK,aAAW,KAEd,IAASL,GACN,oBAAC,UAAD,CACIM,SAAS,gBACTC,QAAU,kBAAMN,GAAe,KAE/B,oBAAC,4BAAD,CACI9D,UAAU,8CACVjI,MAAO,CAAEuL,OACTe,wBAAyB,EACzBC,iBAAmB,CAAEC,KAAM,OAAQC,QAAS,QAC5ClE,SAAU,SAACxF,GACDA,EAAE8H,eAAe,SAGvBd,QAAQC,IAAIjH,EAAGA,EAAE8H,eAAe,OAE3B9H,EAAE8H,eAAe,OAClBd,QAAQC,IAAI,QACZ0B,EAAgB3I,EAAEpB,GAAIM,KAEtB8H,QAAQC,IAAI,MACZsB,EAAavI,EAAEwI,IAAKtJ,MAG5ByK,SAAU,QAQ5BC,EAAgB,CAClB1E,UAAW,uCACX2E,aAAa,GAGXC,EAAkB,SAAC,GAA2I,IAAzIC,EAAwI,EAAxIA,SAAUC,EAA8H,EAA9HA,QAASC,EAAqH,EAArHA,UAAW3E,EAA0G,EAA1GA,MAA0G,IAAnG4E,mBAAmG,MAArF,KAAqF,EAA/E1E,EAA+E,EAA/EA,SAA+E,IAArE2E,iBAAqE,MAAzD,KAAyD,MAAnDC,kBAAmD,MAAtC,KAAsC,MAAhCC,mBAAgC,MAAlB,YAAkB,EACzJC,EAAO,SAAC,GAAqC,IAAnCP,EAAkC,EAAlCA,SAAkC,IAAxBQ,iBAAwB,SAC9C,OAAKN,EAAUnC,eAAeiC,GAK1B,oBAAC,MAAD,CACIS,MAAOL,EACP3D,OAAQ4D,EACRK,QAASJ,EACTK,MAAM,6BACNH,UAAWA,GAEX,oBAAC,OAAD,CAAMI,EAAGV,EAAUF,MAXhB,MAgBf,OACI,oBAAC,WAAD,CACIa,aAAchB,EACdiB,aAAc,YAA2B,IAAxBC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,OACvB,OACI,oBAAC,gBAAD,CACI9B,gBAAe8B,EACf7B,gBAAc,OACd9B,KAAM,oBAACkD,EAAD,CAAMP,SAAUA,IACtBzE,MAAOA,EACPgC,QAASwD,EACT1B,aAAW,KAIvB4B,cAAe,kBACX,oBAAC,UAAD,CACI9F,UAAU,sCACVI,MAAOA,GAEP,oBAAC,eAAD,CACI2F,aAAa,EACb9D,SAAU6C,EAAQtF,KAAI,SAACwG,EAAM3M,GACzB,IAAM2I,EAAW6C,IAAamB,EAC9B,MAAO,CACH9D,KACI,oBAACkD,EAAD,CAAMP,SAAUmB,EAAMX,UAAWrD,IAErCG,MAAO8D,kBAEHhC,aAAGe,GACHgB,GAEJhE,WACAI,QAVG,WAWC9B,EAAS0F,eAYvCE,EAAkB,SAAC,GAGlB,IAFHC,EAEE,EAFFA,WACAnM,EACE,EADFA,cAEQ+I,EAAuDoD,EAAvDpD,KAAMqD,EAAiDD,EAAjDC,UAAWC,EAAsCF,EAAtCE,UAAWC,EAA2BH,EAA3BG,WAAYC,EAAeJ,EAAfI,WAChD,OACI,oBAAC,gBAAD,KACI,oBAAC,eAAD,KACI,oBAAC,EAAD,CAAYjD,IAAKP,EAAM/I,cAAeA,KAE1C,oBAAC,eAAD,KACI,oBAAC,EAAD,CACIoG,MAAO6D,aAAG,wBACVY,SAAUyB,EACVxB,QAAS,CAAC,EAAG,EAAG,GAChBxE,SAAU,SAAAkG,GAAQ,OAAIxM,EAAc,CAAEsM,WAAYE,KAClDzB,UAAW,CACP0B,EAAG,4EACHC,EAAG,uYACHC,EAAG,ijBAEPzB,WAAW,KACXD,UAAU,KACVD,YAAY,aACZG,YAAY,eAGnB,aAAekB,GACZ,oBAAC,eAAD,KACI,oBAAC,EAAD,CACIjG,MAAO6D,aAAG,qBACVY,SAAUuB,EACVtB,QAAS,CAAE,KAAM,KAAM,KAAM,KAAM,KAAM,aAAc,kBACvDxE,SAAU,SAAAsG,GAAO,OAAI5M,EAAc,CAAEoM,UAAWQ,KAChD7B,UAAW,CACP,GAAM,sLACN,GAAM,wWACN,GAAM,whBACN,GAAM,qNACN,GAAM,gIACN,aAAc,gIACd,iBAAkB,iIAEtBC,YAAY,kBAEhB,oBAAC,gBAAD,CACI9C,KAAK,YACLmD,UAAWkB,EACXnG,MAAO6D,aAAG,oBACV7B,QAAS,WACLpI,EAAc,CACVuM,YAAaA,UAgJ9BM,EAtIE,SAAC,GAAwD,IAAvDV,EAAsD,EAAtDA,WAAYnM,EAA0C,EAA1CA,cAAe8M,EAA2B,EAA3BA,QAASlF,EAAkB,EAAlBA,aAE/CqB,EAUAkD,EAVAlD,OACAF,EASAoD,EATApD,KACAsD,EAQAF,EARAE,UACAU,EAOAZ,EAPAY,aACAC,EAMAb,EANAa,cACAC,EAKAd,EALAc,mBACAC,EAIAf,EAJAe,YACAC,EAGAhB,EAHAgB,mBACAC,EAEAjB,EAFAiB,eACAC,EACAlB,EADAkB,uBAGEjH,EAAQ6D,aAAG,sBAYjB,OAVAqD,qBAAU,WAEDC,kBAAQxE,SAASnK,IAAcqK,IAChCnB,QAAQC,IAAI,iCACZD,QAAQC,IAAIgB,GACZjB,QAAQC,IAAIkB,GACZI,EAAaN,EAAM/I,MAExB,CAAC+I,IAGA,oBAAC,WAAD,KACI,oBAAC,EAAoB,CAACoD,aAAYnM,mBAChC,IAAU8M,GACR,oBAAC,EAAD,CACInF,eAAgBmF,EAChBlF,aAAcA,EACdC,OAAQoB,IAGhB,oBAAC,oBAAD,KACI,oBAAC,YAAD,CAAWd,MAAO/B,GACd,oBAAC,gBAAD,CACIA,MACI2G,EAAe,iBAAmB,kBAEtC7G,QAAS6G,EACTzG,SAAU,WACNtG,EAAc,CAAE+M,cAAeA,OAGvC,oBAAC,gBAAD,CACI3G,MACI4G,EACM,kBACA,mBAEV9G,QAAS8G,EACT1G,SAAU,WACNtG,EAAc,CAAEgN,eAAgBA,QAGvC,IAASA,IAAkB,UAAYX,GAAa,SAAWA,IAC5D,oBAAC,gBAAD,CACIjG,MACI6G,EACM,4BACA,+BAEV/G,QAAS+G,EACT3G,SAAU,WACNtG,EAAc,CACViN,oBAAqBA,OAKrC,oBAAC,gBAAD,CACI7G,MACI8G,EAAc,iBAAmB,kBAErChH,QAASgH,EACT5G,SAAU,WACNtG,EAAc,CAAEkN,aAAcA,OAGtC,oBAAC,gBAAD,CACI9G,MACI+G,EACM,wBACA,yBAEVjH,QAASiH,EACT7G,SAAU,YACF,IAAUlI,OAAOoP,gBACjBxN,EAAc,CACVmN,oBAAqBA,KAIzBM,MACI,wHAEJzN,EAAc,CACVmN,oBAAoB,QAKpC,oBAAC,gBAAD,CACI/G,MAAOiH,EAAyB,WAAa,UAC7CnH,QAASmH,EACT/G,SAAU,WACNtG,EAAc,CACVqN,wBAAyBA,OAIrC,oBAAC,gBAAD,CACIjH,MACIgH,EACM,mBACA,oBAEVlH,QAASkH,EACT9G,SAAU,WACNtG,EAAc,CAAEoN,gBAAiBA,OAGxCM,oBAAUzE,IACP,oBAAC,SAAD,CAAQ0E,aAAW,EAACvF,QAAS,kBAAMqB,EAAgBR,EAAQjJ,IAAgBqH,MAAO,CAACE,UAAW,QAA9F,0B,QCrXlBqG,EAAsB,CAAC,SAEvBC,EAAO,SAAC,GAA0C,IAAxCC,EAAuC,EAAvCA,IAAK9B,EAAkC,EAAlCA,KAAMnE,EAA4B,EAA5BA,OAAQ7H,EAAoB,EAApBA,cAAoB,IAC7B4J,oBAAS,GADoB,GAC5CT,EAD4C,KACvC4E,EADuC,KAoCnD,OAhCAT,qBAAU,WACF,IAAMzF,IAAU,IAAU7H,GAC1BkF,IAAS,CACLC,KAAK,+BAAD,OAAiC0C,KACtC1I,MAAK,SAAAJ,IACA,IAAUA,GACVgP,EAAOhP,GACPiB,EAAc,CAAEoJ,MAAOrK,EAAKiN,GAAMgC,UAGlCD,GAAO,QAIpB,CAAClG,IAKJyF,qBAAU,YAEF,IAAUnE,QACVvK,IAAcuK,EAAI6C,KAClB,IAAUhM,GAEVA,EAAc,CACVoJ,MAAOD,EAAI6C,GAAMgC,OACjBzB,WAAYpD,EAAI6C,GAAMiC,aAG/B,CAAC9E,EAAK6C,IAGL,oBAAC,mBAAD,KACI,oBAAC,cAAD,CACIkC,SAAU,SAAAC,GAAK,OAAInO,EAAc,CAAEoJ,MAAO+E,EAAM7E,OAChD8E,aAAcR,EACdS,OAAQ,gBAAGC,EAAH,EAAGA,KAAH,OACJ,oBAAC,WAAD,UAIK1P,IAAckP,GAAO,IAAMA,EAAIxO,QAC5B,oBAAC,IAAD,CACIwO,IAAKA,EACL9B,KAAMA,EACNjD,KAAK,GACLX,QAASkG,UAGf1P,IAAckP,GAAO,IAAMA,EAAIxO,SAC7B,oBAAC,IAAD,CACIwO,IAAKA,EACL9B,KAAMA,EACNjD,KAAK,GACLX,QAASkG,EACTC,aAAW,UAqE5BC,EA/CH,SAAC,GAA0D,IAAxDV,EAAuD,EAAvDA,IAAK9B,EAAkD,EAAlDA,KAAMyC,EAA4C,EAA5CA,KAAMR,EAAsC,EAAtCA,SAAUpG,EAA4B,EAA5BA,OAAQ7H,EAAoB,EAApBA,cAC9C8H,QAAQC,IAAI,QAAS+F,GAErB,IACQY,EACAC,EACAC,EACAC,EACAC,EA2BR,OACI,2BAAK9I,WAhCD0I,GAAO,EACPC,GAAO,EACPC,GAAO,EACPC,GAAO,EACPC,GAAO,GACP,IAAUL,IACN,OAASzC,EACT0C,GAAO,EACA,OAAS1C,EAChB2C,GAAO,EACA,OAAS3C,EAChB4C,GAAO,EACA,OAAS5C,EAChB6C,GAAO,EACA,OAAS7C,IAChB8C,GAAO,IAIRC,IAAW,CACdC,IAAI,EACJC,GAAIP,EACJQ,GAAIP,EACJQ,GAAIP,EACJQ,GAAIP,EACJQ,GAAIP,EACJ1F,OAAO,EACPkG,SAAUrB,MAMV,oBAAC,EAAD,CACIH,IAAKA,EACL9B,KAAMA,EACNnE,OAAQA,EACR7H,cAAeA,MClGhBuP,EA7BK,SAAC,GAAoD,IAAlDC,EAAiD,EAAjDA,QAASC,EAAwC,EAAxCA,UAAWC,EAA6B,EAA7BA,QAAS1P,EAAoB,EAApBA,cAChD,IAAI,IAAS0P,EACT,OAAO,oBAAC,WAAD,MAGX,IAAMC,EAAUZ,IAAW,cAAe,CAAE,aAAcU,IAC1D,OACI,oBAAC,WAAD,MACK,IAAUzP,GACP,oBAAC,WAAD,CACI4P,QAAQ,MACR7R,MAAOyR,EACPlJ,SAAU,SAAAwC,GAAO,OAAI9I,EAAc,CAAE8I,aACrCyF,YAAaiB,EACbK,UAAU,IACV7J,UAAW2J,KAGlB,IAAU3P,GACP,oBAAC,WAAS8P,QAAV,CACIF,QAAQ,MACR7R,MAAOyR,EACPxJ,UAAW2J,MCahBI,EApCD,SAAC,GAAuD,IAArDP,EAAoD,EAApDA,QAASQ,EAA2C,EAA3CA,aAAcN,EAA6B,EAA7BA,QAAS1P,EAAoB,EAApBA,cAC7C,OACI,oBAAC,WAAD,MACK,IAAUA,IAAiB,IAAS0P,GACjC,oBAAC,WAAD,CACIE,QAAQ,KACR7R,MAAOyR,EACPlJ,SAAU,SAAA4C,GAAK,OAAIlJ,EAAc,CAAEkJ,WACnCqF,YAAaiB,EACbK,UAAU,KACV7J,UAAU,WAGjB,IAAUhG,IAAiB,IAAS0P,GACjC,oBAAC,WAASI,QAAV,CACIF,QAAQ,KACR7R,MAAOyR,EACPxJ,UAAU,WAGjB,IAASgK,IAAgB,IAAU5R,OAAOoP,iBACvC,0BAAIxH,UAAU,uBACV,8BACI,yBACIC,KAAM7H,OAAOoP,gBAAgBlE,IAC7BtD,UAAU,wBAET5H,OAAOoP,gBAAgBpH,WCtB9C6J,EAAe,SAAC,GAA8C,IAA5C7J,EAA2C,EAA3CA,MAAO4C,EAAoC,EAApCA,KAAM1K,EAA8B,EAA9BA,SAAU0B,EAAoB,EAApBA,cAAoB,IACvB4J,mBAAS,IADc,GACxDsG,EADwD,KAC1CC,EAD0C,KAS/D,OANA7C,qBAAU,YtBqCY,SAAChP,EAAUC,GACjC,OAAO,IAAIM,SAAQ,SAAAC,GACfT,EAASC,EAAUC,GAASY,MAAK,SAAAJ,GAC7B,IAAMmR,EAAe,GAErBjT,OAAOmT,KAAKrR,GAAMsR,SAAQ,SAAAvS,GACtB,IAAMwS,EAAUvR,EAAKjB,GACrBoS,EAAapM,KAAK,CACd/F,MAAOuS,EAAQ/S,KACf6I,MAAOkK,EAAQ/S,UAIvB2S,EAAaK,MAAK,SAACC,EAAGjK,GAAJ,OAAWiK,EAAEpK,MAAQG,EAAEH,MAAQ,GAAK,KAEtDtH,EAAQoR,UsBnDZO,CAAkBnS,GAAUa,MAAK,SAAA2L,GAC7BqF,EAAgBrF,QAErB,CAACxM,IAGA,2BAAK+I,MAAO,CAAEqJ,QAAS,OAAQC,WAAY,WACvC,+BACI,oBAAC,gBAAD,CACI5S,MAAOqI,EACP0E,QAASoF,EACT5J,SAAU,SAAAsK,GACN5Q,EAAc,CAAEoG,MAAOwK,KAE3BvJ,MAAO,CAAEwJ,aAAc,OACvB7K,UAAU,wBAGlB,sCACA,+BACI,oBAAC,cAAD,CACIjI,MAAOiL,EACP1C,SAAU,SAAAmF,GACNzL,EAAc,CAAEgJ,KAAMyC,KAE1BpE,MAAO,CAAEwJ,aAAc,OACvB7K,UAAU,0BAoDf8K,EA7CA,SAAC,GAST,IARH3I,EAQE,EARFA,MACA/B,EAOE,EAPFA,MACA4C,EAME,EANFA,KACAgD,EAKE,EALFA,KACA0D,EAIE,EAJFA,QACApR,EAGE,EAHFA,SACA0B,EAEE,EAFFA,cACA+Q,EACE,EADFA,gBAEA,IAAI,IAASrB,EACT,OAAO,oBAAC,WAAD,MAGX,IAAMC,EAAUZ,IAAW,CACvBiC,MAAQ,IAAMhF,EACdiF,OAAS,IAAMjF,EACfkF,MAAQ,IAAMlF,EACdmF,MAAOJ,IAGX,OACI,oBAAC,WAAD,KACI,oBAACK,EAAA,EAAKC,KAAN,KACI,oBAAC,EAAD,CACIrI,KAAMA,EACN5C,MAAOA,EACP9H,SAAUA,EACV0B,cAAeA,KAGvB,oBAACoR,EAAA,EAAKN,OAAN,CAAa9K,UAAW2J,GACpB,oBAAC,WAAD,CACIC,QAAQ,MACR7R,MAAOoK,EACP7B,SAAU,SAAAgL,GAAC,OAAItR,EAAc,CAAEmI,MAAOmJ,KACtCC,eAAgB,CAAC,UACjBhD,YAAY,QACZsB,UAAU,UCyHf2B,GAlJF,SAAC,GAAkE,IAAhErF,EAA+D,EAA/DA,WAAYnM,EAAmD,EAAnDA,cAAegF,EAAoC,EAApCA,WAAYyM,EAAwB,EAAxBA,SAAU3E,EAAc,EAAdA,QAEzD3E,EAoBAgE,EApBAhE,MACAW,EAmBAqD,EAnBArD,QACAI,EAkBAiD,EAlBAjD,MACAH,EAiBAoD,EAjBApD,KACA3C,EAgBA+F,EAhBA/F,MACA4C,EAeAmD,EAfAnD,KACAI,EAcA+C,EAdA/C,MACAiD,EAaAF,EAbAE,UACAD,EAYAD,EAZAC,UACAG,EAWAJ,EAXAI,WACAtD,EAUAkD,EAVAlD,OACAqD,EASAH,EATAG,WACAc,EAQAjB,EARAiB,eACAL,EAOAZ,EAPAY,aACAC,EAMAb,EANAa,cACAC,EAKAd,EALAc,mBACAC,EAIAf,EAJAe,YACAC,EAGAhB,EAHAgB,mBACAE,EAEAlB,EAFAkB,uBACArH,EACAmG,EADAnG,UAGI4B,EAAiB8J,qBACrB,SAAAC,GACI,MAAO,CACH/J,aAAc+J,EAAO,qBAAqBC,qBACtCH,MAIZ,CAACA,IARG7J,aAYJiK,EAAc7R,EACd8R,GAAyB9E,EACzB1O,EAAW+O,EAAyB,WAAa,UAE/CsC,EAAUZ,IAAW/I,EAAW,QAAS,CAC3C+L,QAAU,QAAU1F,GAAa,WAAaA,EAC9CiD,SAAUlC,EACV,kBAAmBH,KAzFK,SAACjH,EAAWhG,GACxCL,EACI,eACAqG,EACA,YACA,MACAhG,GAEJL,EACI,kBACAqG,EACA,YACA,SACAhG,GAEJL,EACI,gBACAqG,EACA,YACA,OACAhG,GAEJL,EACI,iBACAqG,EACA,YACA,QACAhG,GAEJL,EACI,oBACAqG,EACA,YACA,WACAhG,GAGJL,EACI,mBACAqG,EACA,YACA,UACAhG,GAkDJgS,CAAwBhM,EAAWhG,GAEnC,IAAMwO,EAAM,WACR,OACI,oBAAC,EAAD,CACIV,IAAK1E,EACL4C,KAAMI,EACNrD,KAAMA,EACN0F,KAAMpC,EACN4B,SAAU1B,EACV1E,OAAQoB,EACRjJ,cAAe6R,KAKrBI,EAAiB,WACnB,MAAI,QAAU5F,GAAa,SAAWA,EAC3B,oBAAC,WAAD,MAGJ,oBAACmC,EAAD,OAGL0D,EAAc,WAChB,MAAI,YAAc7F,EACP,oBAAC,WAAD,MAGJ,oBAACmC,EAAD,OAGL2D,EAAqB,WACvB,MAAI,WAAa9F,GAAa,UAAYA,EAC/B,oBAAC,WAAD,MAGJ,oBAACmC,EAAD,OAGX,OACI,oBAAC,WAAD,MACK,IAASxJ,GACN,oBAAC,EAAa,CACVmH,aACAnM,gBACA8M,UAASA,EAAQlE,eAAe,uBAAwBvD,KAAKC,MAAMwH,EAAQ,uBAC3ElF,iBAGR,oBAACwJ,EAAA,EAAD,CAAMgB,GAAG,UAAUpM,UAAW2J,GAC1B,oBAACsC,EAAD,MAEA,oBAACb,EAAA,EAAKtB,QAAN,KACI,oBAAC,EAAD,CACIJ,QAAS3C,EACT5E,MAAOA,EACPa,KAAMA,EACN5C,MAAOA,EACP2C,KAAMA,EACNiD,KAAMM,EACNhO,SAAUA,EACV0B,cAAe6R,EACfd,gBAAiBe,IAGrB,oBAACI,EAAD,OAEC,IAASjF,GACN,oBAAC,EAAD,CACIyC,QAAS1C,EACTwC,QAAS1G,EACT2G,WAAY1C,EACZ/M,cAAe6R,IAIvB,oBAAC,EAAD,CACInC,QAASxC,EACTsC,QAAStG,EACT8G,aAAc7C,EACdnN,cAAe6R,KAIvB,oBAACM,EAAD,OAEC,IAASlF,GACN,oBAAC,EAAD,CACIyC,QAAS1C,EACTwC,QAAS1G,EACT2G,WAAY1C,EACZ/M,cAAe6R,OC5LxBQ,GALF,SAAC,GAAmB,EAAjBlG,WAEZ,OAAO,oBAAC,WAAD,OCkCImG,GAnCI,CACf7U,KAAM,CACF,CACI8M,KAAM,MACNgI,QAAS,SAAAC,GAAI,MACT,MAAQA,EAAKC,UACb,gEAAgE/U,KAC5D8U,EAAKE,cAEbC,UAAW,SAAAH,GACP,OAAOI,sBAAY,uBAAwB,CACvC7J,KAAMyJ,EAAKE,YAAYG,OACvB7M,UAAW,mBACXoG,UAAW,KACXC,UAAW,eAK3ByG,GAAI,CACA,CACIvI,KAAM,QACNwI,OAAQ,CAAC,wBACTJ,UAAW,YAAc,IAAXrJ,EAAU,EAAVA,IACV,OAAOsJ,sBAAY,uBAAwB,CACvC7J,KAAMO,EACNtD,UAAW,mBACXoG,UAAW,KACXC,UAAW,gB,ukBClBvB9O,GAASyV,EAATzV,KAEFkN,GAAW,CAChBtC,MAAO8B,aAAI,cACX/B,KAAM,eACN+K,YAAahJ,aAAG,gFAChBiJ,SAAU,CAACjJ,aAAG,OAAQA,aAAG,SAAUA,aAAG,QAASA,aAAG,eAClDkJ,QAAS,CACFhH,WAAY,CACRhE,MAAO,qCACPW,QAAS,2OACTI,MAAO,YACPH,KAAM,IACN3C,MAAO,SACP4C,KAAMoK,IAASC,OAAO,cACtBjK,MAAO,oHACPiD,UAAW,MACXD,UAAW,OAGnBkG,cACHd,QACAa,SAGDiB,4BAAmB/V,GAAF,GAAC,MAAWyV,GAAavI,M,iBCxC1CjO,EAAOC,QAAUE,GAAG4W,M,+HCIdrE,EAAK,CACPsE,QAAS,UACTtC,MAAO,UACPuC,MAAO,WACPC,WAAY,YAGVvE,EAAK,CACPqE,QAAS,UACTtC,MAAO,UACPuC,MAAO,UACPC,WAAY,YAGVtE,EAAK,CACPoE,QAAS,UACTtC,MAAO,SACPuC,MAAO,UACPC,WAAY,WAGVrE,EAAK,CACPmE,QAAS,UACTtC,MAAO,UACPuC,MAAO,UACPC,WAAY,YAGVzE,EAAK,CACPuE,QAAS,UACTtC,MAAO,UACPuC,MAAO,WACPC,WAAY,YAGVC,EAAS,CACX,IAAO,CACHH,QAAS,UACTtC,MAAO,UACPuC,MAAO,UACPC,WAAY,WAEhB,UAAW,CACPF,QAAS,UACTtC,MAAO,UACPuC,MAAO,UACPC,WAAY,YA2FLE,EAvFM,SAAC,GAA+D,IAA7D9F,EAA4D,EAA5DA,IAAK9B,EAAuD,EAAvDA,KAAMjD,EAAiD,EAAjDA,KAAiD,IAA3CX,eAA2C,aAA1BmG,mBAA0B,SAE1EsF,EAAY,SAAAC,GACd,IAAI,IAASvF,EAAa,CActB,MAAM,+BAAN,OAZI,OAASvC,EACI,UACN,OAASA,EACH,UACN,OAASA,EACH,UACN,OAASA,EACH,WAGA,WAEjB,qBAA6DA,GAGjE,GAAI,KAAO8B,IAAO,IAAUA,EACxB,OAAOA,EAIX,IAAIiG,EAAO,CAAEC,OAAQ9E,EAAG4E,IAkBxB,MAjBI,OAAS9H,EACT+H,EAAO,CAAEC,OAAQ7E,EAAG2E,IACb,OAAS9H,EAChB+H,EAAO,CAAEC,OAAQ5E,EAAG0E,IACb,OAAS9H,EAChB+H,EAAO,CAAEC,OAAQ3E,EAAGyE,IACb,OAAS9H,IAChB+H,EAAO,CAAEC,OAAQ/E,EAAG6E,KAIpB,eAAiB9H,EACjB+H,EAAO,CAAEC,OAAQL,EAAO,KAAOG,IACxB,mBAAqB9H,IAC5B+H,EAAO,CAAEC,OAAQL,EAAO,WAAWG,KAGhCG,uBAAanG,EAAKiG,IAIvBG,EAAe,WAAsB,IAArBC,EAAoB,uDAAR,IAC9B,MAAO,CACH,CACIC,OAAO,GAAD,OAAKP,EAAU,WAAf,gBAAiCA,EAAU,SAA3C,OACN1F,MAAM,eAAD,OAAiBgG,EAAjB,QAET,CACIC,OAAO,GAAD,OAAKP,EAAU,SAAf,gBAA+BA,EACjC,cADE,OAGN1F,MAAM,eAAD,OAAiBgG,EAAjB,UAKjB,OAAI,IAAU/L,EAEN,2BAAKA,QAASA,IACT,IAASmG,GACN,2BAAK8F,IAAKR,IAAaS,IAAI,qBAE9B,IAAS/F,GACN,oBAAC,IAAD,CAASgG,QAASL,IAAgBI,IAAI,mBAOlD,oBAAC,WAAD,KACK,KAAOvL,GAAQ,oBAAC,IAAD,CAASwL,QAASL,MACjC,KAAOnL,GACJ,yBAAG9C,KAAM8C,GACL,oBAAC,IAAD,CAASwL,QAASL,S,wBC9GvBM,EApBO,SAAC,GAAgC,IAAD,IAA7BpO,aAA6B,MAArB,SAAqB,EAAX4C,EAAW,EAAXA,KAKjCyL,EAAYrO,EAAM5G,QAAQ,OAAQ,KAAKC,cAEvCkQ,EAAUZ,IAAW0F,EAAW,SAEhChJ,EAPK2H,EAOUpK,GAPSqK,OAAO,eASrC,OACI,oBAAC,WAAD,KACI,4BAAMrN,UAAW2J,GAAUvJ,GAAS,UACnC,MACD,4BAAMJ,UAAU,QAAQyF,M,iBCnBpCjP,EAAOC,QAAU2W,Q,iBCAjB5W,EAAOC,QAAUE,GAAGuI,U,iBCApB1I,EAAOC,QAAUE,GAAG2M,K,iBCApB9M,EAAOC,QAAUiY,U,iBCAjBlY,EAAOC,QAAUkY,Q,iBCAjBnY,EAAOC,QAAUE,GAAGoC,M,oFC2CL6V,EAxCD,SAAC,GAAyC,IAE5ClG,EACAC,EACAC,EACAC,EACAC,EANKhB,EAAsC,EAAtCA,IAAK/E,EAAiC,EAAjCA,KAAMiD,EAA2B,EAA3BA,KAAMyC,EAAqB,EAArBA,KAAMR,EAAe,EAAfA,SAiCpC,OACI,2BAAKjI,WAhCD0I,GAAO,EACPC,GAAO,EACPC,GAAO,EACPC,GAAO,EACPC,GAAO,GACP,IAAUL,IACN,OAASzC,EACT0C,GAAO,EACA,OAAS1C,EAChB2C,GAAO,EACA,OAAS3C,EAChB4C,GAAO,EACA,OAAS5C,EAChB6C,GAAO,EACA,OAAS7C,IAChB8C,GAAO,IAIRC,IAAW,CACdC,IAAI,EACJC,GAAIP,EACJQ,GAAIP,EACJQ,GAAIP,EACJQ,GAAIP,EACJQ,GAAIP,EACJ1F,OAAO,EACPkG,SAAUrB,MAMV,oBAAC,IAAD,CAAcH,IAAKA,EAAK9B,KAAMA,EAAMjD,KAAMA,MCrBvCwG,EAbK,SAAC,GAAqC,IAAnCC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,UAC5B,IAAI,IADiD,EAAdC,QAEnC,OAAO,oBAAC,WAAD,MAGX,IAAMC,EAAUZ,IAAW,cAAe,CAAE,aAAcU,IAC1D,OACI,2BAAKzJ,UAAW2J,GACZ,oBAAC,UAAD,KAAUH,KCgBPO,EAxBD,SAAC,GAAwC,IAAtCP,EAAqC,EAArCA,QAASQ,EAA4B,EAA5BA,aAAcN,EAAc,EAAdA,QACpC,OACI,oBAAC,WAAD,MACK,IAASA,GACN,oBAAC0B,EAAA,EAAKrB,MAAN,CAAYqC,GAAG,MACX,oBAAC,UAAD,KAAU5C,KAGjB,IAASQ,IAAgB,IAAU5R,OAAOoP,iBACvC,0BAAIxH,UAAU,uBACV,8BACI,yBACIC,KAAM7H,OAAOoP,gBAAgBlE,IAC7BtD,UAAU,wBAET5H,OAAOoP,gBAAgBpH,WCjBrCoO,IAAf,ECuDe1D,EAjDA,SAAC,GAYT,IAXH3I,EAWE,EAXFA,MACA/B,EAUE,EAVFA,MACA4C,EASE,EATFA,KACAD,EAQE,EARFA,KACAiD,EAOE,EAPFA,KACA0D,EAME,EANFA,QACAmF,EAKE,EALFA,kBACAzL,EAIE,EAJFA,MACAgD,EAGE,EAHFA,UACAG,EAEE,EAFFA,WACAwE,EACE,EADFA,gBAEA,IAAI,IAASrB,EACT,OAAO,oBAAC,WAAD,MAEX5H,QAAQC,IAAIiE,GACZ,IAAM2D,EAAUZ,IAAW,CACvBiC,MAAQ,IAAM8D,SAAS9I,GACvBiF,OAAS,IAAM6D,SAAS9I,GACxBkF,MAAQ,IAAM4D,SAAS9I,GACvBmF,MAAOJ,IAKX,OAFAjJ,QAAQC,IAAI,YAAaiE,EAAM2D,GAG3B,oBAAC,WAAD,KACI,oBAACyB,EAAA,EAAKC,KAAN,KACI,oBAAC,EAAD,CAAQjL,MAAOA,EAAO4C,KAAMA,KAEhC,oBAACoI,EAAA,EAAKN,OAAN,CAAa9K,UAAW2J,IACnB,IAASkF,GACN,oBAAC,EAAD,CACI/G,IAAK1E,EACL4C,KAAMI,EACNrD,KAAMA,EACN0F,KAAK,OACLR,SAAU1B,IAGlB,yBAAGtG,KAAM8C,GACL,oBAAC,UAAD,KAAUZ,OCwHf4M,IAhKG,SAAC,GAqBZ,IApBH5M,EAoBE,EApBFA,MACAW,EAmBE,EAnBFA,QACAI,EAkBE,EAlBFA,MACAH,EAiBE,EAjBFA,KACA3C,EAgBE,EAhBFA,MACA4C,EAeE,EAfFA,KACAI,EAcE,EAdFA,MACAiD,EAaE,EAbFA,UACAD,EAYE,EAZFA,UACAG,EAWE,EAXFA,WACAD,EAUE,EAVFA,WACAc,EASE,EATFA,eACAL,EAQE,EARFA,aACAC,EAOE,EAPFA,cACAC,EAME,EANFA,mBACAC,EAKE,EALFA,YACAC,EAIE,EAJFA,mBAIE,IAHF6H,oBAGE,SAFFhP,EAEE,EAFFA,UAEE,IADFiP,cACE,SACIC,EAAUC,YAAc,sBAE1BrD,GAAwB,GACxB,IAAU9E,IACV8E,GAAwB,GAG5B,IAAIsD,GAAY,EACZ,SAAW/I,GAAa,UAAYA,IACpC+I,GAAY,GAGhB,IAAIP,GAAoB,GACpB,IAASI,IAAU,IAASC,IAC5BL,GAAoB,IAGpB,IAAUI,IAAU,IAASC,GAAW,aAAe7I,IACvDA,EAAY,OAGhB,IAAMsD,EAAUZ,IAAW/I,EAAW,QAAS,CAC3C+L,QAASqD,EACT9F,SAAUlC,EACV,kBAAmBH,EACnB,uBAAwB4H,IAGtBrG,EAAM,WACR,OACI,oBAAC,EAAD,CACIV,IAAK1E,EACL4C,KAAMI,EACNrD,KAAMA,EACN0F,KAAMpC,EACN4B,SAAU1B,EACVnE,QAAS,WACLhK,OAAOiX,SAAWtM,MAM5BkJ,EAAiB,WACnB,MAAI,QAAU5F,GAAa,SAAWA,IAIlC,IAAS4I,IAAU,IAASC,EAHrB,oBAAC,WAAD,MAOJ,oBAAC1G,EAAD,OAGL0D,EAAc,WAChB,MAAI,YAAc7F,IAId,IAAS4I,IAAU,IAASC,EAHrB,oBAAC,WAAD,MAOJ,oBAAC1G,EAAD,OAGL2D,EAAqB,WACvB,MAAI,WAAa9F,GAAa,UAAYA,IAItC,IAAS4I,IAAU,IAASC,EAHrB,oBAAC,WAAD,MAOJ,oBAAC1G,EAAD,OAGX,OACI,oBAAC4C,EAAA,EAAD,CAAMgB,GAAG,UAAUpM,UAAW2J,GAC1B,oBAACsC,EAAD,MAEA,oBAACb,EAAA,EAAKtB,QAAN,KACI,oBAAC,EAAD,CACIJ,QAAS3C,EACT5E,MAAOA,EACPa,KAAMA,EACN5C,MAAOA,EACP2C,KAAMA,EACNiD,KAAMM,EACNuI,kBAAmBA,EACnBzL,MAAOA,EACPgD,UAAWA,EACX6B,SAAU1B,EACVwE,gBAAiBe,IAGrB,oBAACI,EAAD,OAEC,IAASjF,GACN,oBAAC,EAAD,CACIyC,QAAS1C,EACTwC,QAAS1G,EACT2G,WAAY1C,KAInB,IAASE,IAAsB,IAASiI,GACrC,oBAAC,EAAD,CACIxF,QAAS1C,EACTwC,QAAS1G,EACT2G,WAAY1C,IAIpB,oBAAC,EAAD,CACI2C,QAASxC,EACTsC,QAAStG,EACT8G,aAAc7C,KAGjB,IAAU6H,GAAgB,oBAAC,UAAD,KAAUA,IAGzC,oBAAC7C,EAAD,OAEC,IAASlF,IAAsB,IAAUiI,GACtC,oBAAC,EAAD,CACIxF,QAAS1C,EACTwC,QAAS1G,EACT2G,WAAY1C,O,iBCnKhCvQ,EAAOC,QAAUE,GAAGoW,Q,gBCApBvW,EAAOC,QAAUE,GAAG2Y,Y,04CCAL,SAASC,EAAkBrS,EAAKsS,IAClC,MAAPA,GAAeA,EAAMtS,EAAI5D,UAAQkW,EAAMtS,EAAI5D,QAE/C,IAAK,IAAIkB,EAAI,EAAGiV,EAAO,IAAIjY,MAAMgY,GAAMhV,EAAIgV,EAAKhV,IAC9CiV,EAAKjV,GAAK0C,EAAI1C,GAGhB,OAAOiV,EAPT,mC,iBCAAjZ,EAAOC,QAAUE,GAAG+Y,e","file":"story-item/main-7dfc0182.js","sourcesContent":["module.exports = React;","module.exports = wp.element;","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","module.exports = wp.blockEditor;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","// @TODO: convert froomo wp api to apifetch https://www.npmjs.com/package/@wordpress/api-fetch\nimport apiFetch from '@wordpress/api-fetch';\n\nconst { wp } = window;\n\nconst getTerms = (taxonomy, perPage = 25) => {\n    const taxSlug = taxonomy;\n    // strip dashes out of ataxonomy\n    const collection = new wp.api.collections[taxSlug]();\n\n    if (undefined !== collection) {\n        return new Promise(resolve => {\n            const data = {};\n            collection\n                .fetch({\n                    data: { hide_empty: false, per_page: perPage },\n                })\n                .then(terms => {\n                    for (let index = 0; index < terms.length; index++) {\n                        const slug = terms[index].slug.replace(\n                            `${taxSlug.toLowerCase()}_`,\n                            '',\n                        );\n                        data[terms[index].id] = {\n                            id: terms[index].id,\n                            name: terms[index].name,\n                            slug,\n                        };\n                    }\n                    resolve(data);\n                });\n        });\n    }\n\n    return false;\n};\n\nconst getTermsByLetter = (taxonomy, letter) => {\n    return new Promise(resolve => {\n        apiFetch({\n            path: `/prc-api/v2/blocks/helpers/get-taxonomy-by-letter/?taxonomy=${taxonomy}&letter=${letter}`,\n        }).then(terms => {\n            resolve(terms);\n        });\n    });\n\n    return false;\n};\n\nconst getTermsAsOptions = (taxonomy, perPage) => {\n    return new Promise(resolve => {\n        getTerms(taxonomy, perPage).then(data => {\n            const labelOptions = [];\n\n            Object.keys(data).forEach(key => {\n                const termObj = data[key];\n                labelOptions.push({\n                    value: termObj.name,\n                    label: termObj.name,\n                });\n            });\n\n            labelOptions.sort((a, b) => (a.label > b.label ? 1 : -1));\n\n            resolve(labelOptions);\n        });\n    });\n};\n\nexport default getTerms;\nexport { getTerms, getTermsByLetter, getTermsAsOptions };\n","const ifMatchSetAttribute = (\n    needle,\n    haystack,\n    attrKey,\n    attrValue,\n    setAttributes,\n) => {\n    if (needle === haystack) {\n        setAttributes({ [attrKey]: attrValue });\n    }\n};\n\nexport default ifMatchSetAttribute;\n","import Display from './display';\n\nexport default Display;\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","/**\n * External dependencies\n */import{camelCase,upperFirst}from'lodash';/**\n * Given a function mapping a component to an enhanced component and modifier\n * name, returns the enhanced component augmented with a generated displayName.\n *\n * @param {Function} mapComponentToEnhancedComponent Function mapping component\n *                                                   to enhanced component.\n * @param {string}   modifierName                    Seed name from which to\n *                                                   generated display name.\n *\n * @return {WPComponent} Component class with generated display name assigned.\n */function createHigherOrderComponent(mapComponentToEnhancedComponent,modifierName){return function(OriginalComponent){var EnhancedComponent=mapComponentToEnhancedComponent(OriginalComponent);var _OriginalComponent$di=OriginalComponent.displayName,displayName=_OriginalComponent$di===void 0?OriginalComponent.name||'Component':_OriginalComponent$di;EnhancedComponent.displayName=\"\".concat(upperFirst(camelCase(modifierName)),\"(\").concat(displayName,\")\");return EnhancedComponent;};}export default createHigherOrderComponent;","import _extends from\"@babel/runtime/helpers/esm/extends\";import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _possibleConstructorReturn from\"@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/esm/getPrototypeOf\";import{createElement}from\"@wordpress/element\";function _createSuper(Derived){var hasNativeReflectConstruct=_isNativeReflectConstruct();return function _createSuperInternal(){var Super=_getPrototypeOf(Derived),result;if(hasNativeReflectConstruct){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}/**\n * WordPress dependencies\n */import{Component}from'@wordpress/element';/**\n * Internal dependencies\n */import createHigherOrderComponent from'../../utils/create-higher-order-component';/**\n * A Higher Order Component used to provide and manage internal component state\n * via props.\n *\n * @param {?Object} initialState Optional initial state of the component.\n *\n * @return {WPComponent} Wrapped component.\n */export default function withState(){var initialState=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return createHigherOrderComponent(function(OriginalComponent){return/*#__PURE__*/function(_Component){_inherits(WrappedComponent,_Component);var _super=_createSuper(WrappedComponent);function WrappedComponent(){var _this;_classCallCheck(this,WrappedComponent);_this=_super.apply(this,arguments);_this.setState=_this.setState.bind(_assertThisInitialized(_this));_this.state=initialState;return _this;}_createClass(WrappedComponent,[{key:\"render\",value:function render(){return createElement(OriginalComponent,_extends({},this.props,this.state,{setState:this.setState}));}}]);return WrappedComponent;}(Component);},'withState');}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { getTermsByLetter } from 'shared';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { CheckboxControl } from '@wordpress/components';\nimport { withState } from '@wordpress/compose';\nimport { useDidMount } from '@daniakash/lifecycle-hooks';\nimport { Fragment } from '@wordpress/element';\n\nconst TaxonomySelectList = withState({\n    termsData: [],\n    excludeData: [],\n    includeData: [],\n})(\n    ({\n        termsData,\n        excludeData,\n        includeData,\n        setState,\n        exclude,\n        include,\n        letter,\n        taxonomy,\n        setAttributes,\n        isSelected,\n    }) => {\n        const stateInit = terms => {\n            const state = {};\n\n            // Initialize exclude data from exclude prop\n            if (0 !== terms.length && 0 !== exclude.length) {\n                state.excludeData = JSON.parse(exclude);\n            }\n\n            // Initialize include data from scratch OR the include data from the include prop\n            if (0 !== terms.length && 0 === include.length) {\n                const includeArr = [];\n                terms.map(term => {\n                    includeArr.push({\n                        id: term.term_id,\n                        name: term.name,\n                        slug: term.slug,\n                    });\n                });\n                // We need to take this array and object and json stringify it, we will also need a function to convert back to an array of objects.\n                setAttributes({ include: JSON.stringify(includeArr) });\n                state.includeData = includeArr;\n            } else if (0 !== terms.length && 0 !== include.length) {\n                state.includeData = JSON.parse(include);\n            }\n\n            setState(state);\n        };\n\n        const staticInit = () => {\n            if (0 !== include.length && false === setAttributes) {\n                return JSON.parse(include);\n            }\n            return false;\n        };\n\n        const loadTerms = () => {\n            getTermsByLetter(taxonomy, 100, letter).then(terms => {\n                setState({ termsData: terms });\n                stateInit(terms);\n            });\n        };\n\n        // NO HOOKS ON SAVE\n        if (false !== setAttributes) {\n            useDidMount(() => {\n                if (0 === termsData.length) {\n                    loadTerms();\n                }\n            });\n        }\n\n        const processChange = (bool, termId, termName, termSlug) => {\n            const excludeState = excludeData;\n            const includeState = includeData;\n\n            const removeFromInclude = () => {\n                const index = includeState.findIndex(x => x.id === termId);\n                if (-1 !== index) includeState.splice(index, 1);\n            };\n\n            const removeFromExclude = () => {\n                const index = excludeState.indexOf(termId);\n                if (-1 !== index) excludeState.splice(index, 1);\n            };\n\n            if (true === bool) {\n                // Add term to exclude array\n                excludeState.push(termId);\n                // Remove term from includ earray\n                removeFromInclude();\n            } else {\n                // Add term to include array\n                includeState.push({\n                    id: termId,\n                    name: termName,\n                    slug: termSlug,\n                });\n                // Remove term from exclude array\n                removeFromExclude();\n            }\n\n            // Convert excludes array to comma sepparated string for storing in attributes.\n            setAttributes({\n                exclude: JSON.stringify(excludeState),\n                include: JSON.stringify(includeState),\n            });\n        };\n\n        const staticData = staticInit();\n        return (\n            <div className=\"ui link list\">\n                {false !== staticData && (\n                    <Fragment>\n                        {staticData.map(term => {\n                            return (\n                                <a\n                                    className=\"item\"\n                                    href={`/${taxonomy.toLowerCase()}/${\n                                        term.slug\n                                    }`}\n                                >\n                                    {term.name}\n                                </a>\n                            );\n                        })}\n                    </Fragment>\n                )}\n                {false !== setAttributes && (\n                    <Fragment>\n                        {termsData.map(term => {\n                            const checked = exclude.includes(term.term_id);\n\n                            const onChange = b => {\n                                processChange(\n                                    b,\n                                    term.term_id,\n                                    term.name,\n                                    term.slug,\n                                );\n                            };\n\n                            return (\n                                <div className=\"item\">\n                                    <CheckboxControl\n                                        label={decodeEntities(term.name)}\n                                        checked={checked}\n                                        onChange={onChange}\n                                        data-termid={term.term_id}\n                                        data-term={term.name}\n                                    />\n                                    <div\n                                        style={{\n                                            height: '15px',\n                                            marginTop: '-5px',\n                                        }}\n                                    >\n                                        {true === isSelected && (\n                                            <pre\n                                                style={{\n                                                    fontSize: '11px',\n                                                    margin: 0,\n                                                }}\n                                            >\n                                                ({term.slug})\n                                            </pre>\n                                        )}\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </Fragment>\n                )}\n            </div>\n        );\n    },\n);\n\nexport default TaxonomySelectList;\n","import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{useRef as r,useCallback as n,useEffect as t,useReducer as c}from\"react\";var u=function u(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(){return null;};var c=r(!1);n(function(){c.current||t(),c.current=!0;},[t])();},l=function l(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(){return null;};t(n(function(){r();},[r]),[]);},e=function e(){var c=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(){return null;};var u=r(!1);t(n(function(){u.current&&c(),u.current=!0;},[c]));},o=function o(r){var _c=c(function(r,n){return _objectSpread(_objectSpread({},r),n);},r),_c2=_slicedToArray(_c,2),n=_c2[0],t=_c2[1];return[n,t];},s=function s(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:function(){return null;};t(n(function(){return function(){return r();};},[r]),[]);};export{u as useConstructor,l as useDidMount,e as useDidUpdate,o as useState,s as useWillUnmount};","import { dispatch } from '@wordpress/data';\nimport { Toolbar } from '@wordpress/components';\nimport { BlockControls } from '@wordpress/block-editor';\n\nconst WpQueryPinControls = ({ wpQueryContext, rootClientId, postId }) => {\n    console.log('<ContextControls>', wpQueryContext, rootClientId, postId);\n    const isActive = wpQueryContext.includes(postId);\n    console.log('isActive?', isActive);\n    return (\n        <BlockControls>\n            <Toolbar\n                controls={[\n                    {\n                        icon: 'sticky',\n                        title: 'Pin This',\n                        isActive,\n                        onClick: () => {\n                            const newData = wpQueryContext;\n                            // Check if already exists if not treat as new if so then remove.\n                            const i = newData.findIndex(x => x === postId);\n                            if (-1 === i) {\n                                newData.push(postId);\n                            } else {\n                                newData.splice(i, 1);\n                            }\n                            console.log('dispatching...', postId);\n                            console.log(newData);\n                            dispatch('core/block-editor').updateBlockAttributes(\n                                rootClientId,\n                                {\n                                    pinned: JSON.stringify(newData),\n                                },\n                            );\n                        },\n                    },\n                ]}\n            />\n        </BlockControls>\n    );\n};\n\nexport default WpQueryPinControls;\n","import { __, sprintf } from '@wordpress/i18n';\nimport { isEmpty, isInteger } from 'lodash';\nimport { dispatch } from '@wordpress/data';\nimport { InspectorControls, BlockControls, __experimentalLinkControl as LinkControl } from '@wordpress/block-editor';\nimport { Fragment, useEffect, useState } from '@wordpress/element';\nimport {\n    BaseControl,\n    Button,\n    PanelBody,\n    ToggleControl,\n    TextControl,\n    Dropdown, \n    Toolbar, \n    ToolbarButton, \n    ToolbarGroup, \n    Path, \n    SVG,\n    Popover,\n    TabPanel,\n    PanelRow,\n} from '@wordpress/components';\nimport apiFetch from '@wordpress/api-fetch';\nimport { isURL, prependHTTP } from '@wordpress/url';\nimport WpQueryPinControls from '../../_shared/components/wpQueryPinControl'; // Supports pinning items to the wpQuery block using block context.\n\nconst setPostAsAttributes = (post, setAttributes) => {\n    const storyItem = {\n        title: post.title.hasOwnProperty('rendered') ? post.title.rendered : post.title,\n        excerpt: post.excerpt.hasOwnProperty('rendered') ? post.excerpt.rendered : post.excerpt,\n        link: post.link,\n        label: post.hasOwnProperty('label') ? post.label : 'Report',\n        date: post.date,\n        postID: post.id,\n        extra: '', // We want to clear extra when pulling a new post\n    };\n    // If the post has art then let the image editor mounting effect handle setting it.\n    // Get art...\n    if ( !post.art ) {\n        storyItem.image = post.image;\n    }\n    setAttributes(storyItem);\n}\n\n/**\n * Set's post attributes by url, failover and set just link.\n * @param {string} url \n * @param {func} setAttributes \n */\nconst setPostByURL = (url, setAttributes) => {\n    if (undefined === setAttributes || undefined === url) {\n        return;\n    }\n    apiFetch({\n        path: '/prc-api/v2/blocks/helpers/get-post-by-url',\n        method: 'POST',\n        data: { url },\n    }).then(post => {\n        console.log('setPostbyURL', post);\n        if (false !== post) {\n            setPostAsAttributes(post, setAttributes);\n        }\n    }).catch( () => setAttributes({link: url}) );\n};\n\nconst setPostByStubID = (postId, setAttributes) => {\n    console.log('setPostByStubID', postId);\n    apiFetch({\n        path: '/wp/v2/stub/' + postId,\n        method: 'GET',\n    }).then(post => {\n        console.log('setPostByStubID', post);\n        if (false !== post) {\n            // We should lookup the meta link here real quick and apply that to the post.link object before posting attributes.\n            setPostAsAttributes(post, setAttributes);\n        }\n    }).catch( err => console.error(err) );\n}\n\nconst URLControl = ({url, setAttributes}) => {\n    const [ isLinkOpen, setIsLinkOpen ] = useState( false );\n    return(\n        <Fragment>\n            <ToolbarButton\n                aria-expanded={isLinkOpen}\n                aria-haspopup=\"true\"\n                label={__('Set Link')}\n                icon=\"admin-links\"\n                onClick={()=>setIsLinkOpen(!isLinkOpen)}\n                showTooltip\n            />\n            {true === isLinkOpen && (\n                <Popover\n                    position=\"bottom center\"\n                    onClose={ () => setIsLinkOpen( false ) }\n                >\n                    <LinkControl\n                        className=\"wp-block-navigation-link__inline-link-input\"\n                        value={{ url }}\n                        showInitialSuggestions={ true }\n                        suggestionsQuery={ { type: 'post', subtype: 'stub' } }\n                        onChange={(p) => {\n                            if ( !p.hasOwnProperty('url') ) {\n                                return;\n                            }\n                            console.log(p, p.hasOwnProperty('id'));\n                            // If this returns an  ID then its a stub id so we can go ahead and get info from wp api.\n                            if ( p.hasOwnProperty('id') ) {\n                                console.log(\"Yeah\");\n                                setPostByStubID(p.id, setAttributes);\n                            } else {\n                                console.log(\"No\");\n                                setPostByURL(p.url, setAttributes);\n                            }\n                        }} // Does return the post id so we could just go set that shit\n                        settings={[]}\n                    />\n                </Popover>\n            )}\n        </Fragment>\n    );\n}\n\nconst POPOVER_PROPS = {\n    className: 'block-library-heading-level-dropdown',\n    isAlternate: true,\n};\n\nconst ToolbarDropdown = ({ selected, options, iconPaths, label, prefixLabel = '%s', onChange, iconWidth = '24', iconHeight = '24', iconViewBox = '0 0 24 24' }) => {\n    const Icon = ({ selected, isPressed = false }) => {\n        if (!iconPaths.hasOwnProperty(selected)) {\n            return null;\n        }\n    \n        return (\n            <SVG\n                width={iconWidth}\n                height={iconHeight}\n                viewBox={iconViewBox}\n                xmlns=\"http://www.w3.org/2000/svg\"\n                isPressed={isPressed}\n            >\n                <Path d={iconPaths[selected]} />\n            </SVG>\n        );\n    };\n\n    return (\n        <Dropdown\n            popoverProps={POPOVER_PROPS}\n            renderToggle={({ onToggle, isOpen }) => {\n                return (\n                    <ToolbarButton\n                        aria-expanded={isOpen}\n                        aria-haspopup=\"true\"\n                        icon={<Icon selected={selected} />}\n                        label={label}\n                        onClick={onToggle}\n                        showTooltip\n                    />\n                );\n            }}\n            renderContent={() => (\n                <Toolbar\n                    className=\"block-library-heading-level-toolbar\"\n                    label={label}\n                >\n                    <ToolbarGroup\n                        isCollapsed={false}\n                        controls={options.map((size, index) => {\n                            const isActive = selected === size;\n                            return {\n                                icon: (\n                                    <Icon selected={size} isPressed={isActive}/>\n                                ),\n                                title: sprintf(\n                                    // translators: %s: heading level e.g: \"1\", \"2\", \"3\"\n                                    __(prefixLabel),\n                                    size,\n                                ),\n                                isActive,\n                                onClick() {\n                                    onChange(size);\n                                },\n                            };\n                        })}\n                    />\n                </Toolbar>\n            )}\n        />\n    );\n};\n\n\nconst ToolbarControls = ({\n    attributes,\n    setAttributes,\n}) => {\n    const { link, imageSize, imageSlot, headerSize, isChartArt } = attributes;\n    return(\n        <BlockControls>\n            <ToolbarGroup>\n                <URLControl url={link} setAttributes={setAttributes}/>\n            </ToolbarGroup>\n            <ToolbarGroup>\n                <ToolbarDropdown\n                    label={__('Change Heading Level')}\n                    selected={headerSize}\n                    options={[1, 2, 3]}\n                    onChange={newLevel => setAttributes({ headerSize: newLevel })}\n                    iconPaths={{\n                        1: 'M9 5h2v10H9v-4H5v4H3V5h2v4h4V5zm6.6 0c-.6.9-1.5 1.7-2.6 2v1h2v7h2V5h-1.4z',\n                        2: 'M7 5h2v10H7v-4H3v4H1V5h2v4h4V5zm8 8c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6V15h8v-2H15z',\n                        3: 'M12.1 12.2c.4.3.8.5 1.2.7.4.2.9.3 1.4.3.5 0 1-.1 1.4-.3.3-.1.5-.5.5-.8 0-.2 0-.4-.1-.6-.1-.2-.3-.3-.5-.4-.3-.1-.7-.2-1-.3-.5-.1-1-.1-1.5-.1V9.1c.7.1 1.5-.1 2.2-.4.4-.2.6-.5.6-.9 0-.3-.1-.6-.4-.8-.3-.2-.7-.3-1.1-.3-.4 0-.8.1-1.1.3-.4.2-.7.4-1.1.6l-1.2-1.4c.5-.4 1.1-.7 1.6-.9.5-.2 1.2-.3 1.8-.3.5 0 1 .1 1.6.2.4.1.8.3 1.2.5.3.2.6.5.8.8.2.3.3.7.3 1.1 0 .5-.2.9-.5 1.3-.4.4-.9.7-1.5.9v.1c.6.1 1.2.4 1.6.8.4.4.7.9.7 1.5 0 .4-.1.8-.3 1.2-.2.4-.5.7-.9.9-.4.3-.9.4-1.3.5-.5.1-1 .2-1.6.2-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1l1.1-1.4zM7 9H3V5H1v10h2v-4h4v4h2V5H7v4z',\n                    }}\n                    iconHeight=\"24\"\n                    iconWidth=\"24\"\n                    prefixLabel=\"Heading %d\"\n                    iconViewBox=\"0 0 20 20\"\n                />\n            </ToolbarGroup>\n            {'disabled' !== imageSlot && (\n                <ToolbarGroup>\n                    <ToolbarDropdown\n                        label={__('Change Image Size')}\n                        selected={imageSize}\n                        options={[ 'A1', 'A2', 'A3', 'A4', 'XL', 'legacy-260', 'legacy-260-173' ]}\n                        onChange={newSize => setAttributes({ imageSize: newSize })}\n                        iconPaths={{\n                            'A1': 'M12.13,18.09h-3l-.74-2.46H4.49l-.75,2.46H1.27l3.84-12H8.36ZM7.72,13.41,6.44,9.2,5.16,13.41Z M13.31,8.35a7,7,0,0,0,4-2.44h2v10h3.33v2.19H13V15.9h3.63V9a23.54,23.54,0,0,1-3.33,1.78Z',\n                            'A2': 'M12.5,18.09h-3l-.74-2.46H4.86l-.75,2.46H1.64l3.83-12H8.73ZM8.09,13.41,6.81,9.2,5.53,13.41Z M22.16,18.09h-9V15.75l.72-.52,1.46-1a31.07,31.07,0,0,0,3.1-2.6,2.74,2.74,0,0,0,.9-1.87,1.55,1.55,0,0,0-1.66-1.6c-1.19,0-1.86.76-2,2.3l-2.48-.55c.56-2.67,2.11-4,4.66-4a4.37,4.37,0,0,1,3,.91A3.5,3.5,0,0,1,22.2,9.69c0,1.51-.69,2.61-2.52,4a33.64,33.64,0,0,1-3.06,2h5.74Z',\n                            'A3': 'M12.52,18h-3l-.74-2.47H4.89L4.13,18H1.67L5.5,6H8.76ZM8.11,13.32,6.83,9.11,5.56,13.32Z M17.38,10.75a1.87,1.87,0,0,0,1.46-.47,1.36,1.36,0,0,0,.38-.94A1.5,1.5,0,0,0,17.6,7.89c-1,0-1.51.45-1.84,1.53L13.28,9a3.62,3.62,0,0,1,1.1-2,4.58,4.58,0,0,1,3.33-1.24C20.24,5.82,22,7.13,22,9a2.69,2.69,0,0,1-2,2.68,3.09,3.09,0,0,1,1.51.74,2.73,2.73,0,0,1,.9,2.11c0,2.19-1.82,3.61-4.64,3.61A4.67,4.67,0,0,1,14.23,17a3.88,3.88,0,0,1-1.31-2.45l2.55-.36A2,2,0,0,0,17.63,16a1.64,1.64,0,0,0,1.84-1.62,1.55,1.55,0,0,0-.61-1.27,3,3,0,0,0-1.66-.27H16.1V10.75Z',\n                            'A4': 'M12.31,18.09h-3l-.74-2.46H4.67l-.75,2.46H1.45l3.84-12H8.54ZM7.9,13.41,6.62,9.2,5.34,13.41Z M20.86,13.22h1.69v2.1H20.86v2.77H18.05V15.32H12.81v-2.1l4.84-7.31h3.21Zm-2.69,0V9.16c0-.09,0-.28,0-.57l0-.51-3.29,5.14Z',\n                            'XL': 'M9.23,11.58,12.94,18H9.7L7.28,13.65,4.87,18H2.21l3.71-6.38L2.62,6H5.9L7.84,9.65,9.88,6h2.63Z M21.79,15.63V18H14.18V6H17v9.64Z',\n                            'legacy-260': 'M9.23,11.58,12.94,18H9.7L7.28,13.65,4.87,18H2.21l3.71-6.38L2.62,6H5.9L7.84,9.65,9.88,6h2.63Z M21.79,15.63V18H14.18V6H17v9.64Z',\n                            'legacy-260-173': 'M9.23,11.58,12.94,18H9.7L7.28,13.65,4.87,18H2.21l3.71-6.38L2.62,6H5.9L7.84,9.65,9.88,6h2.63Z M21.79,15.63V18H14.18V6H17v9.64Z'\n                        }}\n                        prefixLabel=\"%s Image Size\"\n                    />\n                    <ToolbarButton\n                        icon='chart-pie'\n                        isPressed={isChartArt}\n                        label={__('Enable Chart Art')}\n                        onClick={() =>{\n                            setAttributes({\n                                isChartArt: !isChartArt,\n                            });\n                        }}\n                    />\n                </ToolbarGroup>\n            )}\n        </BlockControls>\n    );\n}\n\nconst Controls = ({attributes, setAttributes, context, rootClientId}) => {\n    const {\n        postID,\n        link,\n        imageSlot,\n        enableHeader,\n        enableExcerpt,\n        enableExcerptBelow,\n        enableExtra,\n        enableBreakingNews,\n        enableEmphasis,\n        enableProgramsTaxonomy,\n    } = attributes;\n\n    const label = __('Story Item Options');\n\n    useEffect(()=>{\n        // On mount load the latest post details from the url.\n        if (!isEmpty(link) && undefined === postID) {\n            console.log('Story Item Controls Did Mount');\n            console.log(link);\n            console.log(postID);\n            setPostByURL(link, setAttributes);\n        }\n    }, [link]);\n\n    return (\n        <Fragment>\n            <ToolbarControls {...{attributes, setAttributes}}/>\n            { false !== context && (\n                <WpQueryPinControls\n                    wpQueryContext={context}\n                    rootClientId={rootClientId}\n                    postId={postID}\n                />\n            )}\n            <InspectorControls>\n                <PanelBody title={label}>\n                    <ToggleControl\n                        label={\n                            enableHeader ? 'Header Enabled' : 'Header Disabled'\n                        }\n                        checked={enableHeader}\n                        onChange={() => {\n                            setAttributes({ enableHeader: !enableHeader });\n                        }}\n                    />\n                    <ToggleControl\n                        label={\n                            enableExcerpt\n                                ? 'Excerpt Enabled'\n                                : 'Excerpt Disabled'\n                        }\n                        checked={enableExcerpt}\n                        onChange={() => {\n                            setAttributes({ enableExcerpt: !enableExcerpt });\n                        }}\n                    />\n                    {true === enableExcerpt && ('right' === imageSlot || 'left' === imageSlot) && (\n                        <ToggleControl\n                            label={\n                                enableExcerptBelow\n                                    ? 'Excerpt Will Appear Below'\n                                    : 'Excerpt Will Appear Normally'\n                            }\n                            checked={enableExcerptBelow}\n                            onChange={() => {\n                                setAttributes({\n                                    enableExcerptBelow: !enableExcerptBelow,\n                                });\n                            }}\n                        />\n                    )}\n                    <ToggleControl\n                        label={\n                            enableExtra ? 'Extras Enabled' : 'Extras Disabled'\n                        }\n                        checked={enableExtra}\n                        onChange={() => {\n                            setAttributes({ enableExtra: !enableExtra });\n                        }}\n                    />\n                    <ToggleControl\n                        label={\n                            enableBreakingNews\n                                ? 'Breaking News Enabled'\n                                : 'Breaking News Disabled'\n                        }\n                        checked={enableBreakingNews}\n                        onChange={() => {\n                            if (false !== window.prcBreakingNews) {\n                                setAttributes({\n                                    enableBreakingNews: !enableBreakingNews,\n                                });\n                            } else {\n                                // eslint-disable-next-line no-alert\n                                alert(\n                                    'There are no currently active, authorized, breaking news events. The breaking news toggle will be set back to false.',\n                                );\n                                setAttributes({\n                                    enableBreakingNews: false,\n                                });\n                            }\n                        }}\n                    />\n                    <ToggleControl\n                        label={enableProgramsTaxonomy ? 'Programs' : 'Formats'}\n                        checked={enableProgramsTaxonomy}\n                        onChange={() => {\n                            setAttributes({\n                                enableProgramsTaxonomy: !enableProgramsTaxonomy,\n                            });\n                        }}\n                    />\n                    <ToggleControl\n                        label={\n                            enableEmphasis\n                                ? 'Emphasis Enabled'\n                                : 'Emphasis Disabled'\n                        }\n                        checked={enableEmphasis}\n                        onChange={() => {\n                            setAttributes({ enableEmphasis: !enableEmphasis });\n                        }}\n                    />\n                    {isInteger(postID) && (\n                        <Button isSecondary onClick={() => setPostByStubID(postID, setAttributes)} style={{marginTop: '1em'}}>Refresh Attributes</Button>\n                    )}\n                </PanelBody>\n            </InspectorControls>\n        </Fragment>\n    );\n};\n\nexport default Controls;\n","import { Fragment, useState, useEffect } from '@wordpress/element';\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport apiFetch from '@wordpress/api-fetch';\nimport classNames from 'classnames/bind';\n\nimport { ImageDisplay } from '../../_shared/components/story-item/_shared';\n\nconst ALLOWED_MEDIA_TYPES = ['image'];\n\nconst Edit = ({ img, size, postId, setAttributes }) => {\n    const [art, setArt] = useState(false);\n\n    // When the postId changes go fetch new art for this post and store it in state and also store the correct image url in attributes.\n    useEffect(() => {\n        if (0 !== postId && false !== setAttributes) {\n            apiFetch({\n                path: `/prc-api/v2/get-art/?postId=${postId}`,\n            }).then(data => {\n                if (false !== data) {\n                    setArt(data);\n                    setAttributes({ image: data[size].rawUrl });\n                } else {\n                    // If no art on any subsequent art fetches set to false\n                    setArt(false);\n                }\n            });\n        }\n    }, [postId]);\n\n    /**\n     * If the art or size changes then go check the art object and set the approrpiate image and chart art given the arts options.\n     */\n    useEffect(() => {\n        if (\n            false !== art &&\n            undefined !== art[size] &&\n            false !== setAttributes\n        ) {\n            setAttributes({\n                image: art[size].rawUrl,\n                isChartArt: art[size].chartArt,\n            });\n        }\n    }, [art, size]);\n\n    return (\n        <MediaUploadCheck>\n            <MediaUpload\n                onSelect={media => setAttributes({ image: media.url })}\n                allowedTypes={ALLOWED_MEDIA_TYPES}\n                render={({ open }) => (\n                    <Fragment>\n                        {\n                            // If we have an actual image here then display it otherwise give us the placeholder\n                        }\n                        {undefined !== img && 0 !== img.length && (\n                            <ImageDisplay\n                                img={img}\n                                size={size}\n                                link=\"\"\n                                onClick={open}\n                            />\n                        )}\n                        {(undefined === img || 0 === img.length) && (\n                            <ImageDisplay\n                                img={img}\n                                size={size}\n                                link=\"\"\n                                onClick={open}\n                                placeholder\n                            />\n                        )}\n                    </Fragment>\n                )}\n            />\n        </MediaUploadCheck>\n    );\n};\n\n/**\n * Props:\n * img: string url of image to display\n * size: string of image/slot size (A1,A2,A3,A4)\n * link: string of url to go to when image is clicked on front end\n * slot: if set to null then no image size chooser will be display\n * chartArt: if set to null then no chart art button will appear\n * setAttributes: defaults to false unless otherwise provided a function to pass data back up to a HOC state.\n *\n * <Img id={} img={} size={} slot={} chartArt={} postId={} setAttributes={}/>\n */\n\nconst Img = ({ img, size, slot, chartArt, postId, setAttributes }) => {\n    console.log('<Img>', img);\n\n    const classes = () => {\n        let isXL = false;\n        let isA1 = false;\n        let isA2 = false;\n        let isA3 = false;\n        let isA4 = false;\n        if (false !== slot) {\n            if ('XL' === size) {\n                isXL = true;\n            } else if ('A1' === size) {\n                isA1 = true;\n            } else if ('A2' === size) {\n                isA2 = true;\n            } else if ('A3' === size) {\n                isA3 = true;\n            } else if ('A4' === size) {\n                isA4 = true;\n            }\n        }\n\n        return classNames({\n            ui: true,\n            XL: isXL,\n            A1: isA1,\n            A2: isA2,\n            A3: isA3,\n            A4: isA4,\n            image: true,\n            bordered: chartArt,\n        });\n    };\n\n    return (\n        <div className={classes()}>\n            <Edit\n                img={img}\n                size={size}\n                postId={postId}\n                setAttributes={setAttributes}\n            />\n        </div>\n    );\n};\n\nexport default Img;\n","// WordPress Core\nimport { Fragment } from '@wordpress/element';\nimport { RichText } from '@wordpress/block-editor';\nimport classNames from 'classnames/bind';\n\nconst Description = ({ content, sansSerif, enabled, setAttributes }) => {\n    if (true !== enabled) {\n        return <Fragment />;\n    }\n\n    const classes = classNames('description', { 'sans-serif': sansSerif });\n    return (\n        <Fragment>\n            {false !== setAttributes && (\n                <RichText\n                    tagName=\"div\"\n                    value={content}\n                    onChange={excerpt => setAttributes({ excerpt })}\n                    placeholder={content}\n                    multiline=\"p\"\n                    className={classes}\n                />\n            )}\n            {false === setAttributes && (\n                <RichText.Content\n                    tagName=\"div\"\n                    value={content}\n                    className={classes}\n                />\n            )}\n        </Fragment>\n    );\n};\n\nexport default Description;\n","// WordPress Core\nimport { Fragment } from '@wordpress/element';\nimport { RichText } from '@wordpress/block-editor';\n\nconst Extra = ({ content, breakingNews, enabled, setAttributes }) => {\n    return (\n        <Fragment>\n            {false !== setAttributes && true === enabled && (\n                <RichText\n                    tagName=\"ul\"\n                    value={content}\n                    onChange={extra => setAttributes({ extra })}\n                    placeholder={content}\n                    multiline=\"li\"\n                    className=\"extra\"\n                />\n            )}\n            {false === setAttributes && true === enabled && (\n                <RichText.Content\n                    tagName=\"ul\"\n                    value={content}\n                    className=\"extra\"\n                />\n            )}\n            {true === breakingNews && false !== window.prcBreakingNews && (\n                <ul className=\"extra-breaking-news\">\n                    <li>\n                        <a\n                            href={window.prcBreakingNews.url}\n                            className=\"kicker-breaking-news\"\n                        >\n                            {window.prcBreakingNews.label}\n                        </a>\n                    </li>\n                </ul>\n            )}\n        </Fragment>\n    );\n};\n\nexport default Extra;\n","// WordPress Core\nimport { Fragment, useState, useEffect } from '@wordpress/element';\nimport { SelectControl, TextControl } from '@wordpress/components';\nimport { RichText } from '@wordpress/block-editor';\nimport classNames from 'classnames/bind';\nimport { Item } from 'semantic-ui-react';\n\nimport { getTermsAsOptions } from 'shared';\n\nconst KickerEditor = ({ label, date, taxonomy, setAttributes }) => {\n    const [labelOptions, setLabelOptions] = useState([]);\n\n    useEffect(() => {\n        getTermsAsOptions(taxonomy).then(options => {\n            setLabelOptions(options);\n        });\n    }, [taxonomy]);\n\n    return (\n        <div style={{ display: 'flex', alignItems: 'center' }}>\n            <div>\n                <SelectControl\n                    value={label}\n                    options={labelOptions}\n                    onChange={l => {\n                        setAttributes({ label: l });\n                    }}\n                    style={{ marginBottom: '0px' }}\n                    className=\"story-label-select\"\n                />\n            </div>\n            <div>&nbsp;|&nbsp;</div>\n            <div>\n                <TextControl\n                    value={date}\n                    onChange={d => {\n                        setAttributes({ date: d });\n                    }}\n                    style={{ marginBottom: '0px' }}\n                    className=\"story-label-select\"\n                />\n            </div>\n        </div>\n    );\n}\n\nconst Header = ({\n    title,\n    label,\n    date,\n    size,\n    enabled,\n    taxonomy,\n    setAttributes,\n    altHeaderWeight,\n}) => {\n    if (true !== enabled) {\n        return <Fragment />;\n    }\n\n    const classes = classNames({\n        large: (1 === size),\n        medium: (2 === size),\n        small: (3 === size),\n        light: altHeaderWeight,\n    });\n\n    return (\n        <Fragment>\n            <Item.Meta>\n                <KickerEditor\n                    date={date}\n                    label={label}\n                    taxonomy={taxonomy}\n                    setAttributes={setAttributes}\n                />\n            </Item.Meta>\n            <Item.Header className={classes}>\n                <RichText\n                    tagName=\"div\"\n                    value={title}\n                    onChange={t => setAttributes({ title: t })}\n                    allowedFormats={['italic']}\n                    placeholder=\"Title\"\n                    multiline=\"br\"\n                />\n            </Item.Header>\n        </Fragment>\n    );\n};\n\nexport default Header;\n","import classNames from 'classnames/bind';\nimport { Fragment } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { Item } from 'semantic-ui-react';\nimport { ifMatchSetAttribute } from 'shared';\n\nimport Controls from './controls';\nimport Image from './image';\nimport Description from './description';\nimport Extra from './extra';\nimport Header from './header';\n\n// Sets the image slot based on the style classname selected.\nconst setImageSlotByClassName = (className, setAttributes) => {\n    ifMatchSetAttribute(\n        'is-style-top',\n        className,\n        'imageSlot',\n        'top',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-bottom',\n        className,\n        'imageSlot',\n        'bottom',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-left',\n        className,\n        'imageSlot',\n        'left',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-right',\n        className,\n        'imageSlot',\n        'right',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-disabled',\n        className,\n        'imageSlot',\n        'disabled',\n        setAttributes,\n    );\n    // Default\n    ifMatchSetAttribute(\n        'is-style-default',\n        className,\n        'imageSlot',\n        'default',\n        setAttributes,\n    );\n};\n\nconst edit = ({ attributes, setAttributes, isSelected, clientId, context }) => {\n    const {\n        title,\n        excerpt,\n        extra,\n        link,\n        label,\n        date,\n        image,\n        imageSlot,\n        imageSize,\n        isChartArt,\n        postID,\n        headerSize,\n        enableEmphasis,\n        enableHeader,\n        enableExcerpt,\n        enableExcerptBelow,\n        enableExtra,\n        enableBreakingNews,\n        enableProgramsTaxonomy,\n        className,\n    } = attributes;\n\n    const { rootClientId } = useSelect(\n        select => {\n            return {\n                rootClientId: select('core/block-editor').getBlockRootClientId(\n                    clientId,\n                ),\n            };\n        },\n        [clientId],\n    );\n\n\n    let dataHandler = setAttributes;\n    let enableAltHeaderWeight = !enableExcerpt;\n    let taxonomy = enableProgramsTaxonomy ? 'Programs' : 'Formats';\n\n    const classes = classNames(className, 'story', {\n        stacked: ('top' === imageSlot || 'bottom' === imageSlot),\n        bordered: enableEmphasis,\n        'alt-description': enableExcerptBelow,\n    });\n\n    setImageSlotByClassName(className, setAttributes);\n\n    const Img = () => {\n        return (\n            <Image\n                img={image}\n                size={imageSize}\n                link={link}\n                slot={imageSlot}\n                chartArt={isChartArt}\n                postId={postID}\n                setAttributes={dataHandler}\n            />\n        );\n    };\n\n    const TopAndLeftSlot = () => {\n        if ('top' !== imageSlot && 'left' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    const DefaultSlot = () => {\n        if ('default' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    const BottomAndRightSlot = () => {\n        if ('bottom' !== imageSlot && 'right' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    return(\n        <Fragment>\n            {true === isSelected && (\n                <Controls {...{\n                    attributes,\n                    setAttributes,\n                    context: context.hasOwnProperty('prc-block/wp-query') ? JSON.parse(context['prc-block/wp-query']) : false,\n                    rootClientId,\n                }}/>\n            )}\n            <Item as=\"article\" className={classes}>\n                <TopAndLeftSlot />\n\n                <Item.Content>\n                    <Header\n                        enabled={enableHeader}\n                        title={title}\n                        date={date}\n                        label={label}\n                        link={link}\n                        size={headerSize}\n                        taxonomy={taxonomy}\n                        setAttributes={dataHandler}\n                        altHeaderWeight={enableAltHeaderWeight}\n                    />\n\n                    <DefaultSlot />\n\n                    {true !== enableExcerptBelow && (\n                        <Description\n                            enabled={enableExcerpt}\n                            content={excerpt}\n                            sansSerif={!enableHeader}\n                            setAttributes={dataHandler}\n                        />\n                    )}\n\n                    <Extra\n                        enabled={enableExtra}\n                        content={extra}\n                        breakingNews={enableBreakingNews}\n                        setAttributes={dataHandler}\n                    />\n                </Item.Content>\n\n                <BottomAndRightSlot />\n\n                {true === enableExcerptBelow && (\n                    <Description\n                        enabled={enableExcerpt}\n                        content={excerpt}\n                        sansSerif={!enableHeader}\n                        setAttributes={dataHandler}\n                    />\n                )}\n            </Item>\n        </Fragment>\n    );\n};\n\nexport default edit;","// eslint-disable-next-line import/no-unresolved\nimport { Fragment } from '@wordpress/element';\n\n/** Returns a server side block callback */\nconst save = ({ attributes }) => {\n    const props = attributes;\n    return <Fragment></Fragment>;\n};\n\nexport default save;\n","import { createBlock } from '@wordpress/blocks';\n\n/**\n * Match pewresearch.org post links (not staff links) and insert story items with only the url and base image options selected, this will then let the story item fetch the details (but shouldnt we actually do that as part of the transform?)\n */\nconst transforms = {\n    from: [\n        {\n            type: 'raw',\n            isMatch: node =>\n                'P' === node.nodeName &&\n                /^https?:\\/\\/(www\\.)?pewresearch\\.(org|local)\\/((?!staff).)*$/i.test(\n                    node.textContent,\n                ),\n            transform: node => {\n                return createBlock('prc-block/story-item', {\n                    link: node.textContent.trim(),\n                    className: 'is-style-default',\n                    imageSize: 'A1',\n                    imageSlot: 'default',\n                });\n            },\n        },\n    ],\n    to: [\n        {\n            type: 'block',\n            blocks: ['prc-block/story-item'],\n            transform: ({ url }) => {\n                return createBlock('prc-block/story-item', {\n                    link: url,\n                    className: 'is-style-default',\n                    imageSize: 'A1',\n                    imageSlot: 'default',\n                });\n            },\n        },\n    ],\n};\n\nexport default transforms;\n","/**\n * WordPress dependencies\n */\nimport * as moment from 'moment';\nimport { __ } from '@wordpress/i18n';\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport metadata from './block.json';\nimport edit from './edit';\nimport save from './save';\nimport transforms from './transforms';\n\nconst { name } = metadata;\n\nconst settings = {\n\ttitle: __( 'Story Item' ),\n\ticon: 'format-aside',\n\tdescription: __('A story item is a visual display of a post, usually referencing a stub post.'),\n\tkeywords: [__('prc'), __('story'), __('post'), __('story item')],\n\texample: {\n        attributes: {\n            title: 'Ultricies Ipsum Nibh Egestas Purus',\n            excerpt: '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec id elit non mi porta gravida at eget metus. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>',\n            extra: '<li></li>',\n            link: '#',\n            label: 'Report',\n            date: moment().format('MM-DD-YYYY'),\n            image: 'https://www.pewresearch.org/global/wp-content/uploads/sites/2/2020/04/PG_2020.04.21_U.S.-Views-China_featured.jpg',\n            imageSlot: 'top',\n            imageSize: 'A2',\n        },\n    },\n    transforms,\n\tedit,\n\tsave,\n};\n\nregisterBlockType( name, {...metadata, ...settings});","module.exports = wp.i18n;","import { Fragment } from '@wordpress/element';\nimport { Picture } from 'react-responsive-picture';\nimport { addQueryArgs } from '@wordpress/url';\n\nconst A1 = {\n    default: '564,317',\n    small: '690,388',\n    hidpi: '1128,634',\n    smallHidpi: '1380,776',\n};\n\nconst A2 = {\n    default: '268,151',\n    small: '690,388',\n    hidpi: '536,301',\n    smallHidpi: '1380,776',\n};\n\nconst A3 = {\n    default: '194,110',\n    small: '148,84',\n    hidpi: '388,220',\n    smallHidpi: '296,168',\n};\n\nconst A4 = {\n    default: '268,151',\n    small: '690,388',\n    hidpi: '536,302',\n    smallHidpi: '1380,776',\n};\n\nconst XL = {\n    default: '720,405',\n    small: '690,388',\n    hidpi: '1440,810',\n    smallHidpi: '1380,776',\n};\n\nconst legacy = {\n    '260': {\n        default: '260,260',\n        small: '260,260',\n        hidpi: '520,520',\n        smallHidpi: '520,520',\n    },\n    '260-173': {\n        default: '260,173',\n        small: '260,173',\n        hidpi: '520,346',\n        smallHidpi: '520,346',\n    },\n};\n\nconst ImageDisplay = ({ img, size, link, onClick = false, placeholder = false }) => {\n    // eslint-disable-next-line no-shadow\n    const getImgURL = variant => {\n        if (true === placeholder) {\n            let dimensions = '';\n            if ('A2' === size) {\n                dimensions = '536x301';\n            } else if ('A3' === size) {\n                dimensions = '388x220';\n            } else if ('A4' === size) {\n                dimensions = '536x302';\n            } else if ('XL' === size) {\n                dimensions = '1440x810';\n            } else {\n                // Default to A1\n                dimensions = '1128x634';\n            }\n            return `https://via.placeholder.com/${dimensions}.png?text=${size}`;\n        }\n\n        if ('' === img || false === img) {\n            return img;\n        }\n\n        // Default to A1\n        let args = { resize: A1[variant] };\n        if ('A2' === size) {\n            args = { resize: A2[variant] };\n        } else if ('A3' === size) {\n            args = { resize: A3[variant] };\n        } else if ('A4' === size) {\n            args = { resize: A4[variant] };\n        } else if ('XL' === size) {\n            args = { resize: XL[variant] };\n        }\n\n        // Temp legacy sizes for homepages\n        if ('legacy-260' === size) {\n            args = { resize: legacy['260'][variant] };\n        } else if ('legacy-260-173' === size) {\n            args = { resize: legacy['260-173'][variant] };\n        }\n\n        return addQueryArgs(img, args);\n    };\n\n    // eslint-disable-next-line no-shadow\n    const getImgSrcSet = (threshold = 767) => {\n        return [\n            {\n                srcSet: `${getImgURL('default')} 1x, ${getImgURL('hidpi')} 2x`,\n                media: `(min-width: ${threshold}px)`,\n            },\n            {\n                srcSet: `${getImgURL('small')} 1x, ${getImgURL(\n                    'smallHidpi',\n                )} 2x`,\n                media: `(max-width: ${threshold}px)`,\n            },\n        ];\n    };\n\n    if (false !== onClick) {\n        return (\n            <div onClick={onClick}>\n                {true === placeholder && (\n                    <img src={getImgURL()} alt=\"Click to insert\" />\n                )}\n                {true !== placeholder && (\n                    <Picture sources={getImgSrcSet()} alt=\"Click to edit\" />\n                )}\n            </div>\n        );\n    }\n\n    return (\n        <Fragment>\n            {'' === link && <Picture sources={getImgSrcSet()} />}\n            {'' !== link && (\n                <a href={link}>\n                    <Picture sources={getImgSrcSet()} />\n                </a>\n            )}\n        </Fragment>\n    );\n};\n\nexport default ImageDisplay;","import { Fragment } from '@wordpress/element';\nimport classNames from 'classnames/bind';\nimport * as moment from 'moment';\n\nconst KickerDisplay = ({ label = 'Report', date }) => {\n    const formatDate = dateString => {\n        return moment(dateString).format('MMM D, YYYY');\n    };\n\n    const labelSlug = label.replace(/\\s+/g, '-').toLowerCase();\n\n    const classes = classNames(labelSlug, 'label');\n\n    const d = formatDate(date);\n\n    return (\n        <Fragment>\n            <span className={classes}>{label || 'Report'}</span>\n            {' | '}\n            <span className=\"date\">{d}</span>\n        </Fragment>\n    );\n}\n\nexport default KickerDisplay;","module.exports = moment;","module.exports = wp.apiFetch;","module.exports = wp.url;","module.exports = ReactDOM;","module.exports = lodash;","module.exports = wp.data;","import classNames from 'classnames/bind';\nimport { ImageDisplay } from '../_shared';\n\nconst Image = ({ img, link, size, slot, chartArt }) => {\n    const classes = () => {\n        let isXL = false;\n        let isA1 = false;\n        let isA2 = false;\n        let isA3 = false;\n        let isA4 = false;\n        if (false !== slot) {\n            if ('XL' === size) {\n                isXL = true;\n            } else if ('A1' === size) {\n                isA1 = true;\n            } else if ('A2' === size) {\n                isA2 = true;\n            } else if ('A3' === size) {\n                isA3 = true;\n            } else if ('A4' === size) {\n                isA4 = true;\n            }\n        }\n\n        return classNames({\n            ui: true,\n            XL: isXL,\n            A1: isA1,\n            A2: isA2,\n            A3: isA3,\n            A4: isA4,\n            image: true,\n            bordered: chartArt,\n        });\n    };\n\n    return (\n        <div className={classes()}>\n            <ImageDisplay img={img} size={size} link={link} />\n        </div>\n    );\n};\n\nexport default Image;\n","// WordPress Core\nimport { Fragment, RawHTML } from '@wordpress/element';\nimport classNames from 'classnames/bind';\n\nconst Description = ({ content, sansSerif, enabled }) => {\n    if (true !== enabled) {\n        return <Fragment />;\n    }\n\n    const classes = classNames('description', { 'sans-serif': sansSerif });\n    return (\n        <div className={classes}>\n            <RawHTML>{content}</RawHTML>\n        </div>\n    );\n};\n\nexport default Description;\n","// WordPress Core\nimport { Fragment, RawHTML } from '@wordpress/element';\nimport { Item } from 'semantic-ui-react';\n\nconst Extra = ({ content, breakingNews, enabled }) => {\n    return (\n        <Fragment>\n            {true === enabled && (\n                <Item.Extra as=\"ul\">\n                    <RawHTML>{content}</RawHTML>\n                </Item.Extra>\n            )}\n            {true === breakingNews && false !== window.prcBreakingNews && (\n                <ul className=\"extra-breaking-news\">\n                    <li>\n                        <a\n                            href={window.prcBreakingNews.url}\n                            className=\"kicker-breaking-news\"\n                        >\n                            {window.prcBreakingNews.label}\n                        </a>\n                    </li>\n                </ul>\n            )}\n        </Fragment>\n    );\n};\n\nexport default Extra;\n","import { KickerDisplay } from '../_shared';\n// Moved this component into _shared so that the form component can also use the display version of <Kicker/>\nexport default KickerDisplay;","// WordPress Core\nimport { Fragment, RawHTML } from '@wordpress/element';\nimport { Item } from 'semantic-ui-react';\nimport classNames from 'classnames/bind';\n\nimport Image from './image';\nimport Kicker from './kicker';\n\nconst Header = ({\n    title,\n    label,\n    date,\n    link,\n    size,\n    enabled,\n    isStyleMobileLoop,\n    image,\n    imageSize,\n    isChartArt,\n    altHeaderWeight,\n}) => {\n    if (true !== enabled) {\n        return <Fragment />;\n    }\n    console.log(size);\n    const classes = classNames({\n        large: (1 === parseInt(size)),\n        medium: (2 === parseInt(size)),\n        small: (3 === parseInt(size)),\n        light: altHeaderWeight,\n    });\n\n    console.log(\"<Header/>\", size, classes);\n    \n    return (\n        <Fragment>\n            <Item.Meta>\n                <Kicker label={label} date={date} />\n            </Item.Meta>\n            <Item.Header className={classes}>\n                {true === isStyleMobileLoop && (\n                    <Image\n                        img={image}\n                        size={imageSize}\n                        link={link}\n                        slot=\"left\"\n                        chartArt={isChartArt}\n                    />\n                )}\n                <a href={link}>\n                    <RawHTML>{title}</RawHTML>\n                </a>\n            </Item.Header>\n        </Fragment>\n    );\n};\n\nexport default Header;\n","import classNames from 'classnames/bind';\nimport { Fragment, RawHTML } from '@wordpress/element';\nimport { useMediaQuery } from 'beautiful-react-hooks';\nimport { Item } from 'semantic-ui-react';\n\nimport Image from './image';\nimport Description from './description';\nimport Extra from './extra';\nimport Header from './header';\n\nconst StoryItem = ({\n    title,\n    excerpt,\n    extra,\n    link,\n    label,\n    date,\n    image,\n    imageSlot,\n    imageSize,\n    isChartArt,\n    headerSize,\n    enableEmphasis,\n    enableHeader,\n    enableExcerpt,\n    enableExcerptBelow,\n    enableExtra,\n    enableBreakingNews,\n    extraContent = false,\n    className,\n    inLoop = false,\n}) => {\n    const isSmall = useMediaQuery('(max-width: 767px)');\n\n    let enableAltHeaderWeight = false;\n    if (false === enableExcerpt) {\n        enableAltHeaderWeight = true;\n    }\n\n    let isStacked = true;\n    if ('left' === imageSlot || 'right' === imageSlot) {\n        isStacked = false;\n    }\n\n    let isStyleMobileLoop = false;\n    if (true === inLoop && true === isSmall) {\n        isStyleMobileLoop = true;\n    }\n    // On mobile, outside the loop, force image alignment top.\n    if (false === inLoop && true === isSmall && 'disabled' !== imageSlot) {\n        imageSlot = 'top';\n    }\n\n    const classes = classNames(className, 'story', {\n        stacked: isStacked,\n        bordered: enableEmphasis,\n        'alt-description': enableExcerptBelow,\n        'is-style-mobile-loop': isStyleMobileLoop,\n    });\n\n    const Img = () => {\n        return (\n            <Image\n                img={image}\n                size={imageSize}\n                link={link}\n                slot={imageSlot}\n                chartArt={isChartArt}\n                onClick={() => {\n                    window.location = link;\n                }}\n            />\n        );\n    };\n\n    const TopAndLeftSlot = () => {\n        if ('top' !== imageSlot && 'left' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        if (true === inLoop && true === isSmall) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    const DefaultSlot = () => {\n        if ('default' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        if (true === inLoop && true === isSmall) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    const BottomAndRightSlot = () => {\n        if ('bottom' !== imageSlot && 'right' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        if (true === inLoop && true === isSmall) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    return (\n        <Item as=\"article\" className={classes}>\n            <TopAndLeftSlot />\n\n            <Item.Content>\n                <Header\n                    enabled={enableHeader}\n                    title={title}\n                    date={date}\n                    label={label}\n                    link={link}\n                    size={headerSize}\n                    isStyleMobileLoop={isStyleMobileLoop}\n                    image={image}\n                    imageSize={imageSize}\n                    chartArt={isChartArt}\n                    altHeaderWeight={enableAltHeaderWeight}\n                />\n\n                <DefaultSlot />\n\n                {true !== enableExcerptBelow && (\n                    <Description\n                        enabled={enableExcerpt}\n                        content={excerpt}\n                        sansSerif={!enableHeader}\n                    />\n                )}\n\n                {true === enableExcerptBelow && true === isSmall && (\n                    <Description\n                        enabled={enableExcerpt}\n                        content={excerpt}\n                        sansSerif={!enableHeader}\n                    />\n                )}\n\n                <Extra\n                    enabled={enableExtra}\n                    content={extra}\n                    breakingNews={enableBreakingNews}\n                />\n\n                {false !== extraContent && <RawHTML>{extraContent}</RawHTML>}\n            </Item.Content>\n\n            <BottomAndRightSlot />\n\n            {true === enableExcerptBelow && false === isSmall && (\n                <Description\n                    enabled={enableExcerpt}\n                    content={excerpt}\n                    sansSerif={!enableHeader}\n                />\n            )}\n        </Item>\n    );\n};\n\nexport default StoryItem;\n","module.exports = wp.blocks;","module.exports = wp.components;","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","module.exports = wp.htmlEntities;"],"sourceRoot":""}