{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.element\"","webpack:///external \"wp.blocks\"","webpack:///external \"wp.apiFetch\"","webpack:///external \"wp.url\"","webpack:///external \"wp.blockEditor\"","webpack:///./src/_shared/get-terms/index.js","webpack:///./src/_shared/components/image/index.js","webpack:///./src/story-item/component.js","webpack:///./src/story-item/index.js","webpack:///external \"moment\"","webpack:///external \"wp.i18n\"","webpack:///external \"ReactDOM\"","webpack:///external \"wp.components\""],"names":["module","exports","React","wp","element","blocks","apiFetch","url","blockEditor","getTerms","taxonomy","console","log","collection","api","collections","undefined","Promise","resolve","reject","data","fetch","hide_empty","per_page","then","terms","index","length","slug","replace","toLowerCase","id","name","ALLOWED_MEDIA_TYPES","Image","props","slot","chartArt","isMedium","classNames","ui","medium","image","bordered","img","size","getImgURL","link","variant","args","resize","default","small","hidpi","smallHidpi","addQueryArgs","className","sources","threshold","srcSet","media","getImgSrcSet","dataHandler","Toolbar","open","isChartArt","style","display","flexWrap","isPrimary","onClick","imageSlot","label","value","options","onChange","imageSize","marginBottom","ImgMarkup","imgMarkup","onSelect","imageID","allowedTypes","render","this","Edit","editMode","Component","MetaEditor","state","editLabel","labelOptions","setState","bind","getLabelOptions","termID","hasOwnProperty","termObj","push","sort","a","b","alignItems","setAttributes","date","Description","content","enabled","sansSerif","classes","tagName","excerpt","placeholder","multiline","Content","Extra","extra","Kicker","labelSlug","moment","format","PostTitle","title","as","href","Header","currentSize","Item","Meta","controls","map","active","icon","isActive","headerSize","StoryItem","attrs","enableHeader","enableExcerpt","enableExtra","item","isSelected","attributes","enableProgramsTaxonomy","isStacked","isBordered","emphasis","stacked","EditSidebar","path","siteID","includes","window","siteDomain","getSiteIDFromURL","post","info","postID","__","disabled","setPostByURL","checked","registerBlockType","category","keywords","styles","isDefault","supports","html","type","source","selector","horizontal","edit","save","i18n","ReactDOM","components"],"mappings":"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","file":"story-item/main-ff1a5251.js","sourcesContent":["module.exports = React;","module.exports = wp.element;","module.exports = wp.blocks;","module.exports = wp.apiFetch;","module.exports = wp.url;","module.exports = wp.blockEditor;","// @TODO: convert froomo wp api to apifetch https://www.npmjs.com/package/@wordpress/api-fetch\n\nconst getTerms = (taxonomy) => {\n\tconsole.log('getting terms for '+taxonomy);\n\t// Set up taxonomy collection:\n\tconst collection = new wp.api.collections[taxonomy];\n\tif ( undefined === collection ) {\n\t\treturn false;\n\t}\n\treturn new Promise( (resolve, reject) => {\n\t\tlet data = {};\n\t\tcollection.fetch( {\n\t\t\tdata: { hide_empty: false, per_page: 25 } \n\t\t} ).then( ( terms ) => {\n\t\t\tfor (let index = 0; index < terms.length; index++) {\n\t\t\t\tlet slug = terms[index].slug.replace(taxonomy.toLowerCase() + '_', '');\n\t\t\t\tdata[terms[index].id] = {\n\t\t\t\t\tid: terms[index].id,\n\t\t\t\t\tname: terms[index].name,\n\t\t\t\t\tslug: slug,\n\t\t\t\t}\n\t\t\t}\n\t\t\tresolve(data);\n\t\t} );\n\t} ) ;\n}\n\nexport default getTerms;","import { Component, Fragment } from '@wordpress/element';\nimport { Picture } from 'react-responsive-picture';\nimport { addQueryArgs } from '@wordpress/url';\nimport classNames from 'classnames/bind';\n// Edit\nimport { Button, ButtonGroup, SelectControl } from '@wordpress/components';\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\n/**\n * Props:\n * id:\n * img:\n * size:\n * link:\n * slot:\n * chartArt:\n * dataHandler: *When not in \"edit mode\" this prop should be false to signal that.*\n * \n * <Image id={} img={} size={} link={} slot={} chartArt={} dataHandler={}/>\n */\nclass Image extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tclassNames = (slot, chartArt) => {\n\t\tlet isMedium = false;\n\t\tif ( 'left' === slot || 'right' === slot ) {\n\t\t\tisMedium = true;\n\t\t}\n\t\treturn classNames({ ui: true, medium: isMedium, image: true, bordered: chartArt });\n\t}\n\n\timgMarkup = ({img, size, id, link}) => {\n\t\tconst getImgURL = (url, size, variant) => {\n\t\t\tif ( '' === url || false === url ) {\n\t\t\t\treturn url;\n\t\t\t}\n\t\n\t\t\tconst A1 = {\n\t\t\t\tdefault: '564,317',\n\t\t\t\tsmall: '354,194',\n\t\t\t\thidpi: '1128,634',\n\t\t\t\tsmallHidpi: '708,388',\n\t\t\t}\n\t\n\t\t\tconst A2 = {\n\t\t\t\tdefault: '268,151',\n\t\t\t\tsmall: '354,194',\n\t\t\t\thidpi: '536,301',\n\t\t\t\tsmallHidpi: '708,388',\n\t\t\t}\n\t\n\t\t\tconst A3 = {\n\t\t\t\tdefault: '194,110',\n\t\t\t\tsmall: '148,84',\n\t\t\t\thidpi: '388,220',\n\t\t\t\tsmallHidpi: '296,168',\n\t\t\t}\n\t\n\t\t\tconst A4 = {\n\t\t\t\tdefault: '268,151',\n\t\t\t\tsmall: '354,194',\n\t\t\t\thidpi: '536,302',\n\t\t\t\tsmallHidpi: '708,388',\n\t\t\t}\n\t\n\t\t\t// Default to A1\n\t\t\tlet args = { resize: A1[variant] };\n\t\t\tif ( 'A2' === size ) {\n\t\t\t\targs = { resize: A2[variant] };\n\t\t\t} else if ( 'A3' === size ) {\n\t\t\t\targs = { resize: A3[variant] };\n\t\t\t} else if ( 'A4' === size ) {\n\t\t\t\targs = { resize: A4[variant] };\n\t\t\t}\n\t\t\t\n\t\t\t// Temp legacy sizes for homepages\n\t\t\tif ( 'legacy-260' === size ) {\n\t\t\t\targs = { resize: '260,260' };\n\t\t\t} else if ( 'legacy-260-173' === size ) {\n\t\t\t\targs = { resize: '260,173' };\n\t\t\t}\n\t\n\t\t\treturn addQueryArgs( url, args );\n\t\t}\n\n\t\tconst getImgSrcSet = (url, size, threshold = 420) => {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tsrcSet: getImgURL(url, size, 'default') + ' 1x, ' + getImgURL(url, size, 'hidpi') + ' 2x',\n\t\t\t\t\tmedia: \"(min-width: \"+threshold+\"px)\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tsrcSet: getImgURL(url, size, 'small') + ' 1x, ' + getImgURL(url, size, 'smallHidpi') + ' 2x',\n\t\t\t\t\tmedia: \"(max-width: \"+threshold+\"px)\",\n\t\t\t\t},\n\t\t\t]\n\t\t}\n\n\t\treturn <Picture className={'wp-image-' + id} sources={ getImgSrcSet(img, size) }/>\n\t}\n\n\teditMode = ({dataHandler, size, slot}) => {\n\t\tconsole.log('Edit Mode');\n\t\tconsole.log(this.props);\n\t\tconsole.log(dataHandler);\n\t\tconsole.log(size);\n\t\t\n\t\tconst mediaHandler = (media) => {\n\t\t\tconsole.log(media);\n\t\t\tif ( 'disabled' === slot ) {\n\t\t\t\tdataHandler( { image: media.url, imageID: media.id, imageSlot: 'default' } );\n\t\t\t} else {\n\t\t\t\tdataHandler( { image: media.url, imageID: media.id } );\n\t\t\t}\n\t\t}\n\n\t\tconst Toolbar = ({open, dataHandler, isChartArt}) => {\n\t\t\treturn(\n\t\t\t\t<div style={{display: 'flex', flexWrap: 'wrap'}}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t\t<Button isPrimary onClick={open}>Select Image</Button>\n\t\t\t\t\t\t\t<Button onClick={ ()=>{ dataHandler({ image:'', imageSlot: 'disabled'}) }}>Remove</Button>\n\t\t\t\t\t\t\t<Button onClick={ () => { dataHandler({ isChartArt: ! isChartArt }) } }>Enable Chart Art</Button>\n\t\t\t\t\t\t</ButtonGroup>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel='Image Size'\n\t\t\t\t\t\t\tvalue={ size }\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{ value: 'A1', label: 'A1' },\n\t\t\t\t\t\t\t\t{ value: 'A2', label: 'A2' },\n\t\t\t\t\t\t\t\t{ value: 'A3', label: 'A3' },\n\t\t\t\t\t\t\t\t{ value: 'A4', label: 'A4' },\n\t\t\t\t\t\t\t\t{ value: 'legacy-260', label: 'Legacy Homepage 260x260' },\n\t\t\t\t\t\t\t\t{ value: 'legacy-260-173', label: 'Legacy Homepage 260x173' },\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tonChange={ ( imageSize ) => dataHandler({ imageSize }) }\n\t\t\t\t\t\t\tstyle={{marginBottom: '0px'}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\t\n\t\t// Internal JSX Tag:\n\t\tconst ImgMarkup = this.imgMarkup;\n\n\t\treturn(\n\t\t\t<MediaUploadCheck>\n\t\t\t\t<MediaUpload\n\t\t\t\t\tonSelect={mediaHandler}\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{ '' !== this.props.img && (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<div className={this.classNames()}>\n\t\t\t\t\t\t\t\t\t\t<ImgMarkup img={this.props.img} size={this.props.size} id={this.props.id} link={this.props.link} slot={this.props.slot}/>\n\t\t\t\t\t\t\t\t\t\t<Toolbar dataHandler={dataHandler} open={open} isChartArt={this.props.chartArt}/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ '' === this.props.img && (\n\t\t\t\t\t\t\t\t<p><Button isPrimary onClick={ open }>Insert Image</Button></p>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</MediaUploadCheck>\n\t\t)\n\t}\n\n\trender() {\n\t\tconsole.log('Image Component:');\n\t\tconsole.log(this.props);\n\t\t/// Internal JSX Tags:\n\t\tconst Edit = this.editMode;\n\t\tconst ImgMarkup = this.imgMarkup;\n\t\t// We should also have a prop that will let you pass through setAttribute or setState something like onChange\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t{ false === this.props.dataHandler && (\n\t\t\t\t\t<div className={this.classNames(this.props.slot)}>\n\t\t\t\t\t\t<ImgMarkup \n\t\t\t\t\t\tid={this.props.id}\n\t\t\t\t\t\timg={this.props.img}\n\t\t\t\t\t\tsize={this.props.size}\n\t\t\t\t\t\tlink={this.props.link}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t{ false !== this.props.dataHandler && (\n\t\t\t\t\t<Edit dataHandler={this.props.dataHandler} size={this.props.size} slot={this.props.slot}/>\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\nexport default Image;","// WordPress Core\nimport { Component, Fragment } from '@wordpress/element';\nimport { RichText, BlockControls, MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { SelectControl, TextControl, Toolbar } from '@wordpress/components';\n\n// Utilities\nimport * as moment from 'moment';\nimport classNames from 'classnames/bind';\n\nimport { getTerms, Image } from \"../_shared\";\n\n// Elements\nimport { Item } from 'semantic-ui-react';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nconst formatDate = ( dateString ) => {\n\treturn moment(dateString).format(\"MMM D, YYYY\");\n}\n\nclass MetaEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\topen: false,\n\t\t\teditLabel: false,\n\t\t\ttaxonomy: 'Formats',\n\t\t\tlabelOptions: [],\n\t\t}\n\t\tthis.setState = this.setState.bind(this);\n\t\tthis.getLabelOptions = this.getLabelOptions.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getLabelOptions();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif ( this.state.taxonomy !== this.props.taxonomy ) {\n\t\t\tthis.getLabelOptions();\n\t\t}\n\t}\n\n\tgetLabelOptions() {\n\t\tif ( undefined === wp.api.collections[this.props.taxonomy] ) {\n\t\t\t// Exit early, critical error that we don't want to stop the block from loading.\n\t\t\treturn;\n\t\t}\n\t\tconst setState = this.setState;\n\t\t\n\t\tgetTerms(this.props.taxonomy).then((data)=>{\n\t\t\tlet labelOptions = [];\n\n\t\t\tfor (let termID in data) {\n\t\t\t\t// skip loop if the property is from prototype\n\t\t\t\tif (!data.hasOwnProperty(termID)) continue;\n\t\t\t\n\t\t\t\tlet termObj = data[termID];\n\t\t\t\tlabelOptions.push({\n\t\t\t\t\tvalue: termObj.name,\n\t\t\t\t\tlabel: termObj.name,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlabelOptions.sort((a, b) =>(a.label > b.label) ? 1: -1);\n\n\t\t\tsetState({ taxonomy: this.props.taxonomy, labelOptions: labelOptions });\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div style={{display: 'flex', alignItems: 'center'}}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tvalue={ this.props.label }\n\t\t\t\t\t\t\toptions={this.state.labelOptions}\n\t\t\t\t\t\t\tonChange={ ( label ) => { this.props.setAttributes({label}) } }\n\t\t\t\t\t\t\tstyle={{marginBottom: '0px'}}\n\t\t\t\t\t\t\tclassName='story-label-select'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>&nbsp;|&nbsp;</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tvalue={ this.props.date }\n\t\t\t\t\t\t\tonChange={ ( date ) => {\n\t\t\t\t\t\t\t\tthis.props.setAttributes( { date: date } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nconst Description = function({ content, enabled, setAttributes, sansSerif }) {\n\tlet classes = classNames( 'description', {'sans-serif': sansSerif} );\n\treturn(\n\t\t<Fragment>\n\t\t\t{ true === enabled && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\tonChange={ ( excerpt ) => setAttributes( { excerpt } ) } \n\t\t\t\t\t\t\tplaceholder={ content }\n\t\t\t\t\t\t\tmultiline=\"p\"\n\t\t\t\t\t\t\tclassName={ classes }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ false === setAttributes && ( \n\t\t\t\t\t\t<RichText.Content tagName=\"div\" value={ content } className={ classes }/>\n\t\t\t\t\t) }\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nconst Extra = function({ enabled, content, setAttributes }) {\n\tlet classes = classNames( 'extra' );\n\treturn(\n\t\t<Fragment>\n\t\t\t{ false !== setAttributes && true === enabled && (\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"ul\" // The tag here is the element output and editable in the admin\n\t\t\t\t\tvalue={ content } // Any existing content, either from the database or an attribute default\n\t\t\t\t\tonChange={ ( extra ) => setAttributes( { extra } ) } // Store updated content as a block attribute\n\t\t\t\t\tplaceholder={ content } // Display this text before any content has been added by the user\n\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\tclassName={ classes }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ false === setAttributes && true === enabled && ( \n\t\t\t\t<RichText.Content tagName=\"ul\" value={ content } className={ classes }/>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nconst Kicker = ({ label, date }) => {\n\tif ( undefined === label ) {\n\t\tlabel = \"Report\";\n\t}\n\tconst labelSlug = label.replace(/\\s+/g, '-').toLowerCase();\n\n\tlet classes = classNames( labelSlug, 'label' );\n\treturn(\n\t\t<Fragment><span className={classes}>{label ? label : 'Report'}</span> | {formatDate(date)}</Fragment>\n\t)\n}\n\nconst PostTitle = ({ title, link, size, as = 'a' }) => {\n\treturn(\n\t\t<RichText.Content href={link} tagName={as} value={title}/>\n\t)\n}\n\nconst Header = function({ title, label, date, link, enabled, size, taxonomy, setAttributes }) {\n\tconst currentSize = size;\n\tconst createSizeControls = function( size ) {\n\t\tlet active = false;\n\t\tif ( size === currentSize ) {\n\t\t\tactive = true;\n\t\t}\n        return {\n            icon: 'editor-textcolor',\n            title: `Size: ${ size }`,\n            isActive: active,\n            onClick: () => { setAttributes({ headerSize: size }) },\n        };\n\t}\n\treturn(\n\t\t<Fragment>\n\t\t\t{ true === enabled && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Item.Meta>\n\t\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t\t<MetaEditor date={date} label={label} taxonomy={taxonomy} setAttributes={setAttributes}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ false === setAttributes && (             \n\t\t\t\t\t\t\t<Kicker label={label} date={date}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Item.Meta>\n\t\t\t\t\t<Item.Header className={size}>\n\t\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t\t\t\t<Toolbar controls={ [ 'small', 'normal', 'large' ].map( createSizeControls ) } />\n\t\t\t\t\t\t\t\t</BlockControls>\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"div\" // The tag here is the element output and editable in the admin\n\t\t\t\t\t\t\t\t\tvalue={ title } // Any existing content, either from the database or an attribute default\n\t\t\t\t\t\t\t\t\tonChange={ ( title ) => setAttributes( { title } ) } // Store updated content as a block attribute\n\t\t\t\t\t\t\t\t\tplaceholder='Title' // Display this text before any content has been added by the user\n\t\t\t\t\t\t\t\t\tmultiline=\"br\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ false === setAttributes && ( \n\t\t\t\t\t\t\t<PostTitle title={title} link={link} as='a' size={size}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Item.Header>\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nclass StoryItem extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.item = this.item.bind(this);\n\t}\n\n\titem = (attrs) => {\n\t\treturn(\n\t\t\t<Item as=\"article\" className={attrs.classes}>\n\t\t\t\t{ ( 'top' === attrs.imageSlot || 'left' === attrs.imageSlot ) && (\n\t\t\t\t\t<Image \n\t\t\t\t\t\tid={attrs.imageID}\n\t\t\t\t\t\timg={attrs.image}\n\t\t\t\t\t\tsize={attrs.imageSize}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tslot={attrs.imageSlot}\n\t\t\t\t\t\tchartArt={attrs.isChartArt}\n\t\t\t\t\t\tdataHandler={this.props.setAttributes}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t\n\t\t\t\t<Item.Content>\n\t\t\t\t\t<Header \n\t\t\t\t\t\ttitle={attrs.title}\n\t\t\t\t\t\tdate={attrs.date}\n\t\t\t\t\t\tlabel={attrs.label}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tsetAttributes={this.props.setAttributes}\n\t\t\t\t\t\tenabled={attrs.enableHeader}\n\t\t\t\t\t\tsize={attrs.headerSize}\n\t\t\t\t\t\ttaxonomy={attrs.taxonomy} // Where??\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ 'default' === attrs.imageSlot && (\n\t\t\t\t\t\t<Image \n\t\t\t\t\t\t\tid={attrs.imageID}\n\t\t\t\t\t\t\timg={attrs.image}\n\t\t\t\t\t\t\tsize={attrs.imageSize}\n\t\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\t\tslot={attrs.imageSlot}\n\t\t\t\t\t\t\tchartArt={attrs.isChartArt}\n\t\t\t\t\t\t\tdataHandler={this.props.setAttributes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<Description content={attrs.excerpt} enabled={attrs.enableExcerpt} setAttributes={this.props.setAttributes} sansSerif={!attrs.enableHeader}/>\n\n\t\t\t\t\t<Extra enabled={attrs.enableExtra} content={attrs.extra} setAttributes={this.props.setAttributes}/>\n\t\t\t\t</Item.Content>\n\n\t\t\t\t{ ( 'bottom' === attrs.imageSlot || 'right' === attrs.imageSlot ) && (\n\t\t\t\t\t<Image \n\t\t\t\t\t\tid={attrs.imageID}\n\t\t\t\t\t\timg={attrs.image}\n\t\t\t\t\t\tsize={attrs.imageSize}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tslot={attrs.imageSlot}\n\t\t\t\t\t\tchartArt={attrs.isChartArt}\n\t\t\t\t\t\tdataHandler={this.props.setAttributes}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Item>\n\t\t)\n\t}\n\n\trender() {\n\t\t// If the block is not selected, it is not in edit mode, disable setAttributes.\n\t\tif ( undefined === this.props.isSelected || true !== this.props.isSelected ) {\n\t\t\tthis.props.setAttributes = false;\n\t\t}\n\t\t\n\t\tthis.props.attributes.taxonomy = 'Formats';\n\t\tif ( true === this.props.attributes.enableProgramsTaxonomy ) {\n\t\t\tthis.props.attributes.taxonomy = 'Programs';\n\t\t}\n\n\t\tlet isStacked = true;\n\t\tif ( 'left' === this.props.attributes.imageSlot || 'right' === this.props.attributes.imageSlot ) {\n\t\t\tisStacked = false;\n\t\t}\n\n\t\tlet isBordered = false;\n\t\tif ( true === this.props.attributes.emphasis ) {\n\t\t\tisBordered = true;\n\t\t}\n\n\t\tthis.props.attributes.classes = classNames( this.props.attributes.className, 'story-item', {stacked: isStacked, bordered: isBordered} );\n\t\t\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t<this.item {...this.props.attributes}/>\n\t\t\t</Fragment>\n\t\t)\n\t}\t\n}\n\nexport default StoryItem;","/**\n * BLOCK: prc-blocks\n *\n * Registering a basic block with Gutenberg.\n * Simple block, renders and saves the same content without any interactivity.\n */\n\n//  Import CSS.\nimport './editor.scss';\n// Our front end styles are included in our theme\n\nimport { __ } from \"@wordpress/i18n\";\nimport { registerBlockType } from '@wordpress/blocks';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { Button, PanelBody, ToggleControl, TextControl } from '@wordpress/components';\nimport { Component, Fragment } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport * as moment from 'moment';\n\nimport StoryItem from './component';\n\nclass EditSidebar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\turl: '',\n\t\t}\n\t\tthis.setPostByURL = this.setPostByURL.bind(this);\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.setState({ url: this.props.attributes.link });\n\t}\n\n\t/**\n\t * Loading Posts\n\t */\n\tsetPostByURL = () => {\n\t\tconst setAttributes = this.props.setAttributes;\n\t\tlet url = this.props.attributes.link;\n\n\t\tconst getSiteIDFromURL = (url) => {\n\t\t\tconsole.log(url);\n\t\t\tlet siteID = 1;\n\t\t\tif ( url.includes(window.siteDomain + '/global/' ) ) {\n\t\t\t\tsiteID = 2;\n\t\t\t} else if ( url.includes(window.siteDomain + '/hispanic/' ) ) {\n\t\t\t\tsiteID = 5;\n\t\t\t} else if ( url.includes(window.siteDomain + '/science/' ) ) {\n\t\t\t\tsiteID = 16;\n\t\t\t} else if ( url.includes(window.siteDomain + '/methods/' ) ) {\n\t\t\t\tsiteID = 10;\n\t\t\t} else if ( url.includes(window.siteDomain + '/internet/' ) ) {\n\t\t\t\tsiteID = 9;\n\t\t\t} else if ( url.includes('https://www.people-press.org/' ) ) {\n\t\t\t\tsiteID = 4;\n\t\t\t} else if ( url.includes('https://www.pewforum.org/' ) ) {\n\t\t\t\tsiteID = 7;\n\t\t\t} else if ( url.includes('https://www.journalism.org/' ) ) {\n\t\t\t\tsiteID = 8;\n\t\t\t} else if ( url.includes('https://www.pewsocialtrends.org/' ) ) {\n\t\t\t\tsiteID = 3;\n\t\t\t} else if ( url.includes('https://www.pewresearch.org/' ) || url.includes(window.siteDomain) ) {\n\t\t\t\tsiteID = 1;\n\t\t\t}\n\t\t\treturn siteID;\n\t\t}\n\n\t\tif ( undefined === setAttributes || undefined === url ) {\n\t\t\treturn;\n\t\t}\n\n\t\tapiFetch( { path: '/prc-api/v2/blocks/helpers/get-post-by-url/?url=' + url + '&siteID=' + getSiteIDFromURL(url) } ).then( post => {\n\t\t\tconsole.info('Post Returned:');\n\t\t\tconsole.log(post);\n\t\t\tif ( false !== post ) {\n\t\t\t\tsetAttributes({\n\t\t\t\t\ttitle: post.title,\n\t\t\t\t\timage: post.image,\n\t\t\t\t\timageID: post.imageID,\n\t\t\t\t\texcerpt: post.excerpt,\n\t\t\t\t\tlink: post.link,\n\t\t\t\t\tlabel: post.label,\n\t\t\t\t\tdate: post.date,\n\t\t\t\t\tpostID: post.id,\n\t\t\t\t\textra: '', // We want to clear extra when pulling a new post\n\t\t\t\t});\n\t\t\t}\n        } );\n\t} \n\n\trender = () => {\n\t\tconst setAttributes = this.props.setAttributes;\n\t\treturn(\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Story Item Options' ) }>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel=\"Post ID\"\n\t\t\t\t\t\t\tvalue={ this.props.attributes.postID }\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='story-item-link'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel=\"Link\"\n\t\t\t\t\t\t\t\tvalue={ this.props.attributes.link }\n\t\t\t\t\t\t\t\tonChange={ ( link ) => setAttributes({link}) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button onClick={this.setPostByURL} isPrimary>Fetch</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p><strong>Content Options:</strong></p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableHeader ? 'Header Enabled' : 'Header Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableHeader }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ enableHeader: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableExcerpt ? 'Excerpt Enabled' : 'Excerpt Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableExcerpt }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ enableExcerpt: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableExtra ? 'Extras Enabled' : 'Extras Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableExtra }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ enableExtra: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.emphasis ? 'Emphasis Enabled' : 'Emphasis Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.emphasis }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ emphasis: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableProgramsTaxonomy ? 'Programs' : 'Formats' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableProgramsTaxonomy }\n\t\t\t\t\t\t\tonChange={ (value) => { \n\t\t\t\t\t\t\t\tsetAttributes({ enableProgramsTaxonomy: value });\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t)\n\t}\n}\n\nconst todaysDate = () => {\n\treturn moment().format(\"MMM D, YYYY\");\n}\n\n/**\n * Register: aa Gutenberg Block.\n *\n * Registers a new block provided a unique name and an object defining its\n * behavior. Once registered, the block is made editor as an option to any\n * editor interface where blocks are implemented.\n *\n * @link https://wordpress.org/gutenberg/handbook/block-api/\n * @param  {string}   name     Block name.\n * @param  {Object}   settings Block settings.\n * @return {?WPBlock}          The block, if it has been successfully\n *                             registered; otherwise `undefined`.\n */\nregisterBlockType( 'prc-block/story-item', {\n\t// Block name. Block names must be string that contains a namespace prefix. Example: my-plugin/my-custom-block.\n\ttitle: __( 'Story Item' ), // Block title.\n\ticon: 'format-aside', // Block icon from Dashicons → https://developer.wordpress.org/resource/dashicons/.\n\tcategory: 'widgets', // Block category — Group blocks together based on common traits E.g. common, formatting, layout widgets, embed.\n\tkeywords: [\n\t\t__( 'prc' ),\n\t\t__( 'story' ),\n\t\t__( 'post' ),\n\t\t__( 'story item' ),\n\t],\n\tstyles: [\n\t\t{\n\t\t\tname: 'disabled',\n\t\t\tlabel: 'Image Disabled',\n\t\t},\n\t\t{\n\t\t\tname: 'default',\n\t\t\tlabel: 'Default Image Alignment',\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'top',\n\t\t\tlabel: 'Image Aligned Top',\n\t\t},\n\t\t{\n\t\t\tname: 'bottom',\n\t\t\tlabel: 'Image Aligned Bottom',\n\t\t},\n\t\t{\n\t\t\tname: 'left',\n\t\t\tlabel: 'Image Aligned Left',\n\t\t},\n\t\t{\n\t\t\tname: 'right',\n\t\t\tlabel: 'Image Aligned Right',\n\t\t}\n\t],\n\tsupports: {\n\t\thtml: false, // We do not want to give people the ability to edit the raw html of this block.\n\t},\n\t// Attributes are really react props. \n\tattributes: {\n\t\t// Item Content\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Title',\n\t\t},\n\t\texcerpt: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tmultiline: 'p',\n\t\t\tselector: '.description',\n\t\t\tdefault: '<p>Excerpt</p>',\n\t\t},\n\t\textra: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tmultiline: 'li',\n\t\t\tselector: '.extra',\n\t\t\tdefault: '',\n\t\t},\n\t\t// Item Meta\n\t\tlink: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tlabel: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Report',\n\t\t},\n\t\tdate: {\n\t\t\ttype: 'string',\n\t\t\tdefault: todaysDate(),\n\t\t},\n\t\t// Images\n\t\timage: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\timageID: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\timageSlot: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'disabled',\n\t\t},\n\t\timageSize: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'A1',\n\t\t},\n\t\tisChartArt: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\t// Post Meta Data:\n\t\tpostID: {\n\t\t\ttype: 'integer',\n\t\t},\n\t\t// Item Options\n\t\temphasis: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\thorizontal: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tstacked: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tenableHeader: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tenableExcerpt: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tenableExtra: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tenableProgramsTaxonomy: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\theaderSize: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'normal',\n\t\t},\n\t},\n\n\t/**\n\t * The edit function describes the structure of your block in the context of the editor.\n\t * This represents what the editor will render when the block is used.\n\t *\n\t * The \"edit\" property must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Component.\n\t */\n\tedit: ( props ) => {\n\t\t// Set Image Slot by Style\n\t\tif ( 'is-style-default' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'default' });\n\t\t} else if ( 'is-style-top' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'top' });\n\t\t} else if ( 'is-style-bottom' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'bottom' });\n\t\t} else if ( 'is-style-left' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'left' });\n\t\t} else if ( 'is-style-right' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'right' });\n\t\t} else if ( 'is-style-disabled' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'disabled' });\n\t\t}\n\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t{ true === props.isSelected && (\n\t\t\t\t\t<EditSidebar {...props}/>\n\t\t\t\t) }\n\t\t\t\t<StoryItem {...props}/>\n\t\t\t</Fragment>\n\t\t)\n\t},\n\n\t// Seth Learning Note: SO save literally only transforms on post_content filter. You won't see this result inside the gutenberg editor, you will however see it if you look at code view.\n\t/**\n\t * The save function defines the way in which the different attributes should be combined\n\t * into the final markup, which is then serialized by Gutenberg into post_content.\n\t *\n\t * The \"save\" property must be specified and must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Frontend HTML.\n\t */\n\tsave: ( props ) => {\n\t\treturn (\n\t\t\t<StoryItem {...props}/>\n\t\t);\n\t},\n} );\n","module.exports = moment;","module.exports = wp.i18n;","module.exports = ReactDOM;","module.exports = wp.components;"],"sourceRoot":""}