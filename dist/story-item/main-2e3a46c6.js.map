{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.element\"","webpack:///external \"wp.htmlEntities\"","webpack:///external \"wp.blockEditor\"","webpack:///external \"moment\"","webpack:///external \"wp.apiFetch\"","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/story-item/controls.js","webpack:///./src/story-item/edit.js","webpack:///./src/story-item/save.js","webpack:///./src/story-item/transforms.js","webpack:///./src/story-item/settings.js","webpack:///./src/story-item/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///external \"wp.i18n\"","webpack:///external \"ReactDOM\"","webpack:///external \"lodash\"","webpack:///external \"wp.data\"","webpack:///external \"wp.blocks\"","webpack:///external \"wp.components\"","webpack:///external \"wp.url\""],"names":["module","exports","React","wp","element","htmlEntities","blockEditor","moment","apiFetch","arr","setPostByURL","url","setAttributes","undefined","u","siteDomain","siteID","path","window","includes","then","post","console","log","storyItem","title","excerpt","link","label","date","postID","id","extra","art","image","Controls","imageSlot","enableHeader","enableExcerpt","enableExcerptBelow","enableExtra","enableBreakingNews","enableEmphasis","enableProgramsTaxonomy","useState","setUrl","useDidMount","isEmpty","__","value","disabled","className","onChange","onClick","isPrimary","style","height","checked","prcBreakingNews","alert","edit","attributes","isSelected","clientId","context","rootClientId","useSelect","select","getBlockRootClientId","ifMatchSetAttribute","setImageSlotByClassName","props","wpQueryContext","hasOwnProperty","JSON","parse","save","transforms","from","type","isMatch","node","nodeName","test","textContent","transform","createBlock","trim","imageSize","to","blocks","settings","icon","category","keywords","styles","name","isDefault","example","format","supports","html","default","source","multiline","selector","isChartArt","headerSize","enableAltHeaderWeight","usesContext","registerBlockType","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","unsupportedIterableToArray","TypeError","i18n","ReactDOM","lodash","data","components"],"mappings":"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","file":"story-item/main-2e3a46c6.js","sourcesContent":["module.exports = React;","module.exports = wp.element;","module.exports = wp.htmlEntities;","module.exports = wp.blockEditor;","module.exports = moment;","module.exports = wp.apiFetch;","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import { __ } from '@wordpress/i18n';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport {\n    Button,\n    PanelBody,\n    ToggleControl,\n    TextControl,\n} from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { useDidMount } from 'beautiful-react-hooks';\nimport apiFetch from '@wordpress/api-fetch';\nimport { isEmpty } from 'lodash';\n\nconst setPostByURL = (url, setAttributes) => {\n    if (undefined === setAttributes || undefined === url) {\n        return;\n    }\n\n    const getSiteIDFromURL = u => {\n        const { siteDomain } = window;\n        let siteID = 1;\n        if (u.includes(`${siteDomain}/global/`)) {\n            siteID = 2;\n        } else if (u.includes(`${siteDomain}/hispanic/`)) {\n            siteID = 5;\n        } else if (u.includes(`${siteDomain}/science/`)) {\n            siteID = 16;\n        } else if (u.includes(`${siteDomain}/methods/`)) {\n            siteID = 10;\n        } else if (u.includes(`${siteDomain}/internet/`)) {\n            siteID = 9;\n        } else if (u.includes(`${siteDomain}/politics/`)) {\n            siteID = 4;\n        } else if (u.includes('https://www.pewforum.org/')) {\n            siteID = 7;\n        } else if (u.includes('https://www.journalism.org/')) {\n            siteID = 8;\n        } else if (u.includes('https://www.pewsocialtrends.org/')) {\n            siteID = 3;\n        } else if (\n            u.includes('https://www.pewresearch.org/') ||\n            u.includes(siteDomain)\n        ) {\n            siteID = 1;\n        }\n        return siteID;\n    };\n\n    apiFetch({\n        path: `/prc-api/v2/blocks/helpers/get-post-by-url/?url=${url}&siteID=${getSiteIDFromURL(\n            url,\n        )}`,\n    }).then(post => {\n        console.log('setPostbyURL', post);\n        if (false !== post) {\n            const storyItem = {\n                title: post.title,\n                excerpt: post.excerpt,\n                link: post.link,\n                label: post.label,\n                date: post.date,\n                postID: post.id,\n                extra: '', // We want to clear extra when pulling a new post\n            };\n            // If the post has art then let the image editor mounting effect handle setting it.\n            if (!post.art) {\n                storyItem.image = post.image;\n            }\n            setAttributes(storyItem);\n        }\n    });\n};\n\nconst Controls = ({\n    postID,\n    link,\n    imageSlot,\n    enableHeader,\n    enableExcerpt,\n    enableExcerptBelow,\n    enableExtra,\n    enableBreakingNews,\n    enableEmphasis,\n    enableProgramsTaxonomy,\n    setAttributes,\n}) => {\n    const [url, setUrl] = useState(link);\n    useDidMount(() => {\n        if (!isEmpty(link) && undefined === postID) {\n            console.log('Story Item Controls Did Mount');\n            console.log(link);\n            console.log(postID);\n            setPostByURL(link, setAttributes);\n        }\n    });\n    return (\n        <InspectorControls>\n            <PanelBody title={__('Story Item Options')}>\n                <div>\n                    <TextControl label=\"Post ID\" value={postID} disabled />\n                </div>\n                <div className=\"story-item-link\">\n                    <div>\n                        <TextControl\n                            label=\"Link\"\n                            value={url}\n                            onChange={u => {\n                                setUrl(u);\n                                setAttributes({ link: u });\n                            }}\n                        />\n                    </div>\n                    <div>\n                        <Button\n                            onClick={() => setPostByURL(link, setAttributes)}\n                            isPrimary\n                            style={{\n                                height: '30px',\n                            }}\n                        >\n                            Fetch\n                        </Button>\n                    </div>\n                </div>\n                <div>\n                    <p>\n                        <strong>Content Options:</strong>\n                    </p>\n                </div>\n                <div>\n                    <ToggleControl\n                        label={\n                            enableHeader ? 'Header Enabled' : 'Header Disabled'\n                        }\n                        checked={enableHeader}\n                        onChange={() => {\n                            setAttributes({ enableHeader: !enableHeader });\n                        }}\n                    />\n                </div>\n                <div>\n                    <ToggleControl\n                        label={\n                            enableExcerpt\n                                ? 'Excerpt Enabled'\n                                : 'Excerpt Disabled'\n                        }\n                        checked={enableExcerpt}\n                        onChange={() => {\n                            setAttributes({ enableExcerpt: !enableExcerpt });\n                        }}\n                    />\n                </div>\n                <div>\n                    <ToggleControl\n                        label={\n                            enableExtra ? 'Extras Enabled' : 'Extras Disabled'\n                        }\n                        checked={enableExtra}\n                        onChange={() => {\n                            setAttributes({ enableExtra: !enableExtra });\n                        }}\n                    />\n                </div>\n                <div>\n                    <ToggleControl\n                        label={\n                            enableBreakingNews\n                                ? 'Breaking News Enabled'\n                                : 'Breaking News Disabled'\n                        }\n                        checked={enableBreakingNews}\n                        onChange={() => {\n                            if (false !== window.prcBreakingNews) {\n                                setAttributes({\n                                    enableBreakingNews: !enableBreakingNews,\n                                });\n                            } else {\n                                // eslint-disable-next-line no-alert\n                                alert(\n                                    'There are no currently active, authorized, breaking news events. The breaking news toggle will be set back to false.',\n                                );\n                                setAttributes({\n                                    enableBreakingNews: false,\n                                });\n                            }\n                        }}\n                    />\n                </div>\n                <div>\n                    <ToggleControl\n                        label={enableProgramsTaxonomy ? 'Programs' : 'Formats'}\n                        checked={enableProgramsTaxonomy}\n                        onChange={() => {\n                            setAttributes({\n                                enableProgramsTaxonomy: !enableProgramsTaxonomy,\n                            });\n                        }}\n                    />\n                </div>\n                <div>\n                    <p>\n                        <strong>Style Options:</strong>\n                    </p>\n                </div>\n                <div>\n                    <ToggleControl\n                        label={\n                            enableEmphasis\n                                ? 'Emphasis Enabled'\n                                : 'Emphasis Disabled'\n                        }\n                        checked={enableEmphasis}\n                        onChange={() => {\n                            setAttributes({ enableEmphasis: !enableEmphasis });\n                        }}\n                    />\n                </div>\n                <div>\n                    {true === enableExcerpt &&\n                        ('right' === imageSlot || 'left' === imageSlot) && (\n                            <div>\n                                <ToggleControl\n                                    label={\n                                        enableExcerptBelow\n                                            ? 'Excerpt Will Appear Below'\n                                            : 'Excerpt Will Appear Normally'\n                                    }\n                                    checked={enableExcerptBelow}\n                                    onChange={() => {\n                                        setAttributes({\n                                            enableExcerptBelow: !enableExcerptBelow,\n                                        });\n                                    }}\n                                />\n                            </div>\n                        )}\n                </div>\n            </PanelBody>\n        </InspectorControls>\n    );\n};\n\nexport default Controls;\n","import { Fragment } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { StoryItemEdit, ifMatchSetAttribute } from 'shared';\nimport Controls from './controls';\n\nconst setImageSlotByClassName = (className, setAttributes) => {\n    ifMatchSetAttribute(\n        'is-style-top',\n        className,\n        'imageSlot',\n        'top',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-bottom',\n        className,\n        'imageSlot',\n        'bottom',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-left',\n        className,\n        'imageSlot',\n        'left',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-right',\n        className,\n        'imageSlot',\n        'right',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-disabled',\n        className,\n        'imageSlot',\n        'disabled',\n        setAttributes,\n    );\n    // Default\n    ifMatchSetAttribute(\n        'is-style-default',\n        className,\n        'imageSlot',\n        'default',\n        setAttributes,\n    );\n};\n\nconst edit = ({ attributes, setAttributes, isSelected, clientId, context }) => {\n    const { rootClientId } = useSelect(\n        select => {\n            return {\n                rootClientId: select('core/block-editor').getBlockRootClientId(\n                    clientId,\n                ),\n            };\n        },\n        [clientId],\n    );\n\n    const { className } = attributes;\n    setImageSlotByClassName(className, setAttributes);\n\n    const props = attributes;\n    props.isSelected = isSelected;\n    props.setAttributes = setAttributes;\n    props.wpQueryContext = false;\n    props.rootClientId = rootClientId;\n    if (context.hasOwnProperty('prc-block/wp-query')) {\n        props.wpQueryContext = JSON.parse(context['prc-block/wp-query']);\n    }\n\n    console.log('StoryItem Context?', context);\n    console.log(props);\n\n    return (\n        <Fragment>\n            {true === isSelected && <Controls {...props} />}\n            <StoryItemEdit {...props} />\n        </Fragment>\n    );\n};\n\nexport default edit;\n","// eslint-disable-next-line import/no-unresolved\nimport { StoryItemStatic as StoryItem } from 'shared';\n\nconst save = ({ attributes }) => {\n    const props = attributes;\n    return <StoryItem {...props} />;\n};\n\nexport default save;\n","import { createBlock } from '@wordpress/blocks';\n\n/**\n * Default transforms for generic embeds.\n * http://pewresearch.local/fact-tank/2020/06/18/maecenas-sed-diam-eget-risus-varius-blandit-sit-amet-non-magna/\n */\nconst transforms = {\n    from: [\n        {\n            type: 'raw',\n            isMatch: node =>\n                'P' === node.nodeName &&\n                /^https?:\\/\\/(www\\.)?pewresearch\\.(org|local)\\/((?!staff).)*$/i.test(\n                    node.textContent,\n                ),\n            transform: node => {\n                return createBlock('prc-block/story-item', {\n                    link: node.textContent.trim(),\n                    className: 'is-style-default',\n                    imageSize: 'A1',\n                    imageSlot: 'default',\n                });\n            },\n        },\n    ],\n    to: [\n        {\n            type: 'block',\n            blocks: ['prc-block/story-item'],\n            transform: ({ url }) => {\n                return createBlock('prc-block/story-item', {\n                    link: url,\n                    className: 'is-style-default',\n                    imageSize: 'A1',\n                    imageSlot: 'default',\n                });\n            },\n        },\n    ],\n};\n\nexport default transforms;\n","import { __ } from '@wordpress/i18n';\nimport * as moment from 'moment';\nimport edit from './edit';\nimport save from './save';\nimport transforms from './transforms';\n\nconst todaysDate = () => {\n    return moment().format('MM-DD-YYYY');\n};\n\nconst attributes = {\n    title: {\n        type: 'string',\n        default: 'Title',\n    },\n    excerpt: {\n        type: 'string',\n        source: 'html',\n        multiline: 'p',\n        selector: '.description',\n        default: '<p>Excerpt</p>',\n    },\n    extra: {\n        type: 'string',\n        source: 'html',\n        multiline: 'li',\n        selector: '.extra',\n        default: '',\n    },\n    link: {\n        type: 'string',\n        default: '',\n    },\n    label: {\n        type: 'string',\n        default: 'Report',\n    },\n    date: {\n        type: 'string',\n    },\n    // Images\n    image: {\n        type: 'string',\n        default: '',\n    },\n    imageSlot: {\n        type: 'string',\n        default: 'default',\n    },\n    imageSize: {\n        type: 'string',\n        default: 'A1',\n    },\n    isChartArt: {\n        type: 'boolean',\n        default: false,\n    },\n    // Post Meta Data:\n    postID: {\n        type: 'integer',\n    },\n    // Item Options\n    headerSize: {\n        type: 'string',\n        default: 'normal',\n    },\n    enableAltHeaderWeight: {\n        type: 'boolean',\n        default: false,\n    },\n    enableEmphasis: {\n        type: 'boolean',\n        default: false,\n    },\n    enableHeader: {\n        type: 'boolean',\n        default: true,\n    },\n    enableExcerpt: {\n        type: 'boolean',\n        default: true,\n    },\n    enableExcerptBelow: {\n        type: 'boolean',\n        default: false,\n    },\n    enableExtra: {\n        type: 'boolean',\n        default: false,\n    },\n    enableBreakingNews: {\n        type: 'boolean',\n        default: false,\n    },\n    enableProgramsTaxonomy: {\n        type: 'boolean',\n        default: false,\n    },\n};\n\n// Version: 2.0\nconst settings = [\n    'prc-block/story-item',\n    {\n        title: __('Story Item'),\n        icon: 'format-aside',\n        category: 'widgets',\n        keywords: [__('prc'), __('story'), __('post'), __('story item')],\n        styles: [\n            {\n                name: 'disabled',\n                label: 'Image Disabled',\n            },\n            {\n                name: 'default',\n                label: 'Default Image Alignment',\n                isDefault: true,\n            },\n            {\n                name: 'top',\n                label: 'Image Aligned Top',\n            },\n            {\n                name: 'bottom',\n                label: 'Image Aligned Bottom',\n            },\n            {\n                name: 'left',\n                label: 'Image Aligned Left',\n            },\n            {\n                name: 'right',\n                label: 'Image Aligned Right',\n            },\n        ],\n        example: {\n            attributes: {\n                title: 'Ultricies Ipsum Nibh Egestas Purus',\n                excerpt:\n                    '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec id elit non mi porta gravida at eget metus. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>',\n                extra: '<li></li>',\n                link: '#',\n                label: 'Report',\n                date: todaysDate(),\n                image:\n                    'https://www.pewresearch.org/global/wp-content/uploads/sites/2/2020/04/PG_2020.04.21_U.S.-Views-China_featured.jpg',\n                imageSlot: 'top',\n                imageSize: 'A2',\n            },\n        },\n        supports: {\n            html: false, // We do not want to give people the ability to edit the raw html of this block.\n        },\n        attributes,\n        usesContext: ['prc-block/wp-query'],\n        transforms,\n        edit,\n        save,\n    },\n];\n\nexport default settings;\n","import { registerBlockType } from '@wordpress/blocks';\nimport settings from './settings';\n\nregisterBlockType(...settings);\n","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","module.exports = wp.i18n;","module.exports = ReactDOM;","module.exports = lodash;","module.exports = wp.data;","module.exports = wp.blocks;","module.exports = wp.components;","module.exports = wp.url;"],"sourceRoot":""}