{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.blocks\"","webpack:///external \"wp.apiFetch\"","webpack:///external \"wp.url\"","webpack:///external \"wp.components\"","webpack:///external \"wp.blockEditor\"","webpack:///./src/_shared/get-terms/index.js","webpack:///./src/story-item/component.js","webpack:///./src/story-item/index.js","webpack:///external \"wp.i18n\"","webpack:///external \"ReactDOM\"","webpack:///external \"moment\"","webpack:///external \"wp.element\""],"names":["module","exports","React","wp","blocks","apiFetch","url","components","blockEditor","getTerms","taxonomy","returnTermID","console","log","collection","api","collections","undefined","Promise","resolve","reject","data","fetch","hide_empty","per_page","then","terms","index","length","obj","label","name","value","id","push","ALLOWED_MEDIA_TYPES","MetaEditor","props","state","open","editLabel","labelOptions","setState","bind","getLabelOptions","this","style","display","alignItems","options","onChange","setAttributes","marginBottom","className","date","Component","ImageEditor","mediaHandler","media","slot","image","imageID","imageSlot","onSelect","allowedTypes","render","img","controls","icon","title","isActive","isChartArt","onClick","imgClass","src","class","size","imageSize","isPrimary","Image","link","isMedium","classes","classNames","ui","medium","bordered","appendImageWidth","imgURL","width","addQueryArgs","w","href","Description","content","enabled","sansSerif","tagName","excerpt","placeholder","multiline","Content","Extra","extra","Kicker","labelSlug","replace","toLowerCase","moment","format","PostTitle","as","Header","currentSize","Item","Meta","map","active","headerSize","StoryItem","attrs","enableHeader","enableExcerpt","enableExtra","item","isSelected","attributes","enableProgramsTaxonomy","isStacked","isBordered","emphasis","stacked","EditSidebar","path","siteID","includes","window","siteDomain","getSiteIDFromURL","post","info","postID","__","disabled","setPostByURL","checked","registerBlockType","category","keywords","styles","isDefault","supports","html","type","default","source","selector","horizontal","edit","save","i18n","ReactDOM","element"],"mappings":";;;;;;;;;;;;;;;;;mIAAAA,EAAOC,QAAUC,O,kBCAjBF,EAAOC,QAAUE,GAAGC,Q,kBCApBJ,EAAOC,QAAUE,GAAGE,U,kBCApBL,EAAOC,QAAUE,GAAGG,K,iBCApBN,EAAOC,QAAUE,GAAGI,Y,oFCApBP,EAAOC,QAAUE,GAAGK,a,wMC6BLC,EA3BE,SAACC,EAAUC,GAC3BC,QAAQC,IAAI,qBAAqBH,GAEjC,IAAMI,EAAa,IAAIX,GAAGY,IAAIC,YAAYN,GAC1C,YAAKO,IAAcH,GAGZ,IAAII,SAAS,SAACC,EAASC,GAC7B,IAAIC,EAAO,GACXP,EAAWQ,MAAO,CAACD,KAAM,CAAEE,YAAY,EAAOC,SAAU,MAAQC,MAAM,SAAEC,GACvE,IAAK,IAAIC,EAAQ,EAAGA,EAAQD,EAAME,OAAQD,IAAS,CAClD,IAAIE,EAAM,CACTC,MAAOJ,EAAMC,GAAOI,MAGpBF,EAAIG,OADA,IAASrB,EACDe,EAAMC,GAAOM,GAEbP,EAAMC,GAAOI,KAE1BV,EAAKa,KAAKL,GAGXV,EAAQE,U,SCTLc,EAAsB,CAAE,SAMxBC,E,YACL,WAAYC,GAAQ,IAAD,8BAClB,4CAAMA,KACDC,MAAQ,CACZC,MAAM,EACNC,WAAW,EACX9B,SAAU,UACV+B,aAAc,IAEf,EAAKC,SAAW,EAAKA,SAASC,KAAd,gBAChB,EAAKC,gBAAkB,EAAKA,gBAAgBD,KAArB,gBATL,E,iFAalBE,KAAKD,oB,2CAIAC,KAAKP,MAAM5B,WAAamC,KAAKR,MAAM3B,UACvCmC,KAAKD,oB,wCAIY,IAAD,OACjB,QAAK3B,IAAcd,GAAGY,IAAIC,YAAY6B,KAAKR,MAAM3B,UAAjD,CAIA,IAAMgC,EAAWG,KAAKH,SAEtBjC,EAASoC,KAAKR,MAAM3B,UAAU,GAAOe,MAAK,SAACJ,GAC1C,IAAIoB,EAAepB,EACnBqB,EAAS,CAAEhC,SAAU,EAAK2B,MAAM3B,SAAU+B,aAAcA,U,+BAIhD,IAAD,OACR,OACC,oBAAC,WAAD,KACC,2BAAKK,MAAO,CAACC,QAAS,OAAQC,WAAY,WACzC,+BACC,oBAAC,gBAAD,CACChB,MAAQa,KAAKR,MAAMP,MACnBmB,QAASJ,KAAKP,MAAMG,aACpBS,SAAW,SAAEpB,GAAa,EAAKO,MAAMc,cAAc,CAACrB,WACpDgB,MAAO,CAACM,aAAc,OACtBC,UAAU,wBAGZ,sCACA,+BACC,oBAAC,cAAD,CACCrB,MAAQa,KAAKR,MAAMiB,KACnBJ,SAAW,SAAEI,GACZ,EAAKjB,MAAMc,cAAe,CAAEG,KAAMA,c,GAtDjBC,aAgEnBC,E,YACL,WAAYnB,GAAQ,IAAD,8BAClB,4CAAMA,KACDoB,aAAe,EAAKA,aAAad,KAAlB,gBAFF,E,0EAINe,GACZ9C,QAAQC,IAAI6C,GACP,aAAeb,KAAKR,MAAMsB,KAC9Bd,KAAKR,MAAMc,cAAe,CAAES,MAAOF,EAAMpD,IAAKuD,QAASH,EAAMzB,GAAI6B,UAAW,YAE5EjB,KAAKR,MAAMc,cAAe,CAAES,MAAOF,EAAMpD,IAAKuD,QAASH,EAAMzB,O,+BAGrD,IAAD,OACR,OACC,oBAAC,mBAAD,KACA,oBAAC,cAAD,CACC8B,SAAUlB,KAAKY,aACfO,aAAe7B,EACf8B,OAAS,gBAAI1B,EAAJ,EAAIA,KAAJ,OACR,oBAAC,WAAD,KACG,KAAO,EAAKF,MAAM6B,KACnB,oBAAC,WAAD,KACI,YAAc,EAAK7B,MAAMsB,MAAQ,aAAe,EAAKtB,MAAMsB,MAC7D,oBAAC,gBAAD,KACC,oBAAC,UAAD,CAASQ,SAAU,CAAC,CACnBC,KAAM,MACNC,MAAM,YACNC,SAAU,EAAKjC,MAAMkC,WACrBC,QAAS,WAAQ,EAAKnC,MAAMc,cAAc,CAAEoB,YAAY,EAAKlC,MAAMkC,mBAItE,2BAAKlB,UAAW,EAAKhB,MAAMoC,UAC1B,2BAAKpB,UAAW,YAAY,EAAKhB,MAAMJ,GAAIyC,IAAK,EAAKrC,MAAM6B,IAAKM,QAAUjC,IAC1E,2BAAKc,UAAU,wBACd,+BACC,2BAAKsB,MAAM,cAAa,mEACxB,2BAAKA,MAAM,0BAA0BH,QAAS,WAAM,EAAKnC,MAAMc,cAAc,CAACS,MAAM,GAAIE,UAAW,eAAnG,oBAAoI,oDAErI,+BACC,oBAAC,gBAAD,CACChC,MAAM,aACNE,MAAQ,EAAKK,MAAMuC,KACnB3B,QAAS,CACR,CAAEjB,MAAO,KAAMF,MAAO,MACtB,CAAEE,MAAO,KAAMF,MAAO,MACtB,CAAEE,MAAO,KAAMF,MAAO,MACtB,CAAEE,MAAO,KAAMF,MAAO,OAEvBoB,SAAW,SAAE2B,GAAiB,EAAKxC,MAAMc,cAAc,CAAC0B,eACxD/B,MAAO,CAACM,aAAc,aAO1B,KAAO,EAAKf,MAAM6B,KACnB,6BAAG,oBAAC,SAAD,CAAQY,WAAS,EAACN,QAAUjC,GAA5B,0B,GA3DgBgB,aAqEpBwB,EAAQ,YAAoD,IAAzCR,EAAwC,EAAxCA,WAAYL,EAA4B,EAA5BA,IAAKf,EAAuB,EAAvBA,cAAe6B,EAAQ,EAARA,KACpDC,GAAW,EACV,SAAWf,EAAIP,MAAQ,UAAYO,EAAIP,OAC3CsB,GAAW,GAEZ,IAAIC,EAAUC,IAAW,CAAEC,IAAI,EAAMC,OAAQJ,EAAUrB,OAAO,EAAM0B,SAAUf,IAExEgB,EAAmB,SAACC,EAAQ7B,EAAMiB,EAAMzB,GAC7C,GAAK,KAAOqC,IAAU,IAAUA,EAC/B,OAAOA,EASH,SAAW7B,GAAQ,UAAYA,IACnCiB,EAAO,KACF,OAASzB,GACbA,EAAc,CAAE0B,UAAWD,KAK7B,IAAIa,EAdK,QAuBT,MARK,OAASb,EACba,EAfQ,QAgBG,OAASb,EACpBa,EAhBQ,QAiBG,OAASb,IACpBa,EAjBQ,SAoBFC,uBAAcF,EAAQ,CAAEG,EAAGF,KAGnC,OACC,oBAAC,WAAD,UACGxE,IAAciD,GACf,oBAAC,WAAD,MACE,IAAUf,GACX,oBAAC,WAAD,KACC,oBAAC,EAAD,CAAalB,GAAIiC,EAAIjC,GAAI0B,KAAMO,EAAIP,KAAMO,IAAKqB,EAAiBrB,EAAIQ,IAAKR,EAAIP,KAAMO,EAAIU,KAAMzB,GAAgByB,KAAMV,EAAIU,KAAMH,SAAUS,EAASX,WAAYA,EAAYpB,cAAeA,MAGtL,IAAUA,GACX,2BAAKE,UAAW6B,GACf,yBAAGU,KAAMZ,GACR,2BAAK3B,UAAW,YAAca,EAAIjC,GAAIyC,IAAKa,EAAiBrB,EAAIQ,IAAKR,EAAIP,KAAMO,EAAIU,KAAM,aAU1FiB,EAAc,YAA0D,IAA/CC,EAA8C,EAA9CA,QAASC,EAAqC,EAArCA,QAAS5C,EAA4B,EAA5BA,cAAe6C,EAAa,EAAbA,UAC3Dd,EAAUC,IAAY,cAAe,CAAC,aAAca,IACxD,OACC,oBAAC,WAAD,MACG,IAASD,GACV,oBAAC,WAAD,MACG,IAAU5C,GACX,oBAAC,WAAD,CACC8C,QAAQ,MACRjE,MAAQ8D,EACR5C,SAAW,SAAEgD,GAAF,OAAe/C,EAAe,CAAE+C,aAC3CC,YAAcL,EACdM,UAAU,IACV/C,UAAY6B,KAGZ,IAAU/B,GACX,oBAAC,WAASkD,QAAV,CAAkBJ,QAAQ,MAAMjE,MAAQ8D,EAAUzC,UAAY6B,OAQ9DoB,EAAQ,YAA+C,IAApCP,EAAmC,EAAnCA,QAASD,EAA0B,EAA1BA,QAAS3C,EAAiB,EAAjBA,cACtC+B,EAAUC,IAAY,SAC1B,OACC,oBAAC,WAAD,MACG,IAAUhC,IAAiB,IAAS4C,GACrC,oBAAC,WAAD,CACCE,QAAQ,KACRjE,MAAQ8D,EACR5C,SAAW,SAAEqD,GAAF,OAAapD,EAAe,CAAEoD,WACzCJ,YAAcL,EACdM,UAAU,KACV/C,UAAY6B,KAGZ,IAAU/B,IAAiB,IAAS4C,GACrC,oBAAC,WAASM,QAAV,CAAkBJ,QAAQ,KAAKjE,MAAQ8D,EAAUzC,UAAY6B,MAM3DsB,EAAS,SAAC,GAAqB,IAAnB1E,EAAkB,EAAlBA,MAAOwB,EAAW,EAAXA,KAClBmD,EAAY3E,EAAM4E,QAAQ,OAAQ,KAAKC,cACzCzB,EAAUC,IAAYsB,EAAW,SACrC,OACC,oBAAC,WAAD,KAAU,4BAAMpD,UAAW6B,GAAUpD,GAAgB,UAArD,MAtPM8E,EAsP8EtD,GAtP3DuD,OAAO,iBA0P5BC,EAAY,SAAC,GAAqC,IAAnCzC,EAAkC,EAAlCA,MAAOW,EAA2B,EAA3BA,KAA2B,KAArBJ,KAAqB,EAAfmC,WAAe,MAAV,IAAU,EACtD,OACC,oBAAC,WAASV,QAAV,CAAkBT,KAAMZ,EAAMiB,QAASc,EAAI/E,MAAOqC,KAI9C2C,EAAS,YAAgF,IAArE3C,EAAoE,EAApEA,MAAOvC,EAA6D,EAA7DA,MAAOwB,EAAsD,EAAtDA,KAAM0B,EAAgD,EAAhDA,KAAMe,EAA0C,EAA1CA,QAASnB,EAAiC,EAAjCA,KAAMlE,EAA2B,EAA3BA,SAAUyC,EAAiB,EAAjBA,cACtE8D,EAAcrC,EAapB,OACC,oBAAC,WAAD,MACG,IAASmB,GACV,oBAAC,WAAD,KACC,oBAACmB,EAAA,EAAKC,KAAN,MACG,IAAUhE,GACX,oBAAC,EAAD,CAAYG,KAAMA,EAAMxB,MAAOA,EAAOpB,SAAUA,EAAUyC,cAAeA,KAExE,IAAUA,GACX,oBAAC,EAAD,CAAQrB,MAAOA,EAAOwB,KAAMA,KAG9B,oBAAC4D,EAAA,EAAKF,OAAN,CAAa3D,UAAWuB,IACrB,IAAUzB,GACX,oBAAC,WAAD,KACC,oBAAC,gBAAD,KACC,oBAAC,UAAD,CAASgB,SAAW,CAAE,QAAS,SAAU,SAAUiD,KA5BhC,SAAUxC,GACpC,IAAIyC,GAAS,EAIP,OAHDzC,IAASqC,IACbI,GAAS,GAEG,CACHjD,KAAM,mBACNC,MAAM,SAAD,OAAYO,GACjBN,SAAU+C,EACV7C,QAAS,WAAQrB,EAAc,CAAEmE,WAAY1C,YAqBjD,oBAAC,WAAD,CACCqB,QAAQ,MACRjE,MAAQqC,EACRnB,SAAW,SAAEmB,GAAF,OAAalB,EAAe,CAAEkB,WACzC8B,YAAY,QACZC,UAAU,SAIX,IAAUjD,GACX,oBAAC,EAAD,CAAWkB,MAAOA,EAAOW,KAAMA,EAAM+B,GAAG,IAAInC,KAAMA,QAmH1C2C,E,YAzGd,WAAYlF,GAAQ,IAAD,6BAClB,4CAAMA,IADY,mCASZ,SAACmF,GACP,OACC,oBAACN,EAAA,EAAD,CAAMH,GAAG,UAAU1D,UAAWmE,EAAMtC,UAC/B,QAAUsC,EAAM1D,WAAa,SAAW0D,EAAM1D,YACjD,oBAAC,EAAD,CACCI,IAAK,CACJQ,IAAK8C,EAAM5D,MACX3B,GAAIuF,EAAM3D,QACVF,KAAM6D,EAAM1D,UACZc,KAAM4C,EAAM3C,WAEbG,KAAMwC,EAAMxC,KACZ7B,cAAe,EAAKd,MAAMc,cAC1BoB,WAAYiD,EAAMjD,aAIpB,oBAAC2C,EAAA,EAAKb,QAAN,KACC,oBAAC,EAAD,CACChC,MAAOmD,EAAMnD,MACbf,KAAMkE,EAAMlE,KACZxB,MAAO0F,EAAM1F,MACbkD,KAAMwC,EAAMxC,KACZ7B,cAAe,EAAKd,MAAMc,cAC1B4C,QAASyB,EAAMC,aACf7C,KAAM4C,EAAMF,WACZ5G,SAAU8G,EAAM9G,WAGf,YAAc8G,EAAM1D,WACrB,oBAAC,EAAD,CACCI,IAAK,CACJQ,IAAK8C,EAAM5D,MACX3B,GAAIuF,EAAM3D,QACVF,KAAM6D,EAAM1D,UACZc,KAAM4C,EAAM3C,WAEbG,KAAMwC,EAAMxC,KACZ7B,cAAe,EAAKd,MAAMc,cAC1BoB,WAAYiD,EAAMjD,aAIpB,oBAAC,EAAD,CAAauB,QAAS0B,EAAMtB,QAASH,QAASyB,EAAME,cAAevE,cAAe,EAAKd,MAAMc,cAAe6C,WAAYwB,EAAMC,eAE9H,oBAAC,EAAD,CAAO1B,QAASyB,EAAMG,YAAa7B,QAAS0B,EAAMjB,MAAOpD,cAAe,EAAKd,MAAMc,kBAGhF,WAAaqE,EAAM1D,WAAa,UAAY0D,EAAM1D,YACrD,oBAAC,EAAD,CACCI,IAAK,CACJQ,IAAK8C,EAAM5D,MACX3B,GAAIuF,EAAM3D,QACVF,KAAM6D,EAAM1D,UACZc,KAAM4C,EAAM3C,WAEbG,KAAMwC,EAAMxC,KACZ7B,cAAe,EAAKd,MAAMc,cAC1BoB,WAAYiD,EAAMjD,iBAjEtB,EAAKqD,KAAO,EAAKA,KAAKjF,KAAV,gBAFM,E,iFAMlB/B,QAAQC,IAAIgC,KAAKR,S,oCAsEZpB,IAAc4B,KAAKR,MAAMwF,aAAc,IAAShF,KAAKR,MAAMwF,aAC/DhF,KAAKR,MAAMc,eAAgB,GAG5BN,KAAKR,MAAMyF,WAAWpH,SAAW,WAC5B,IAASmC,KAAKR,MAAMyF,WAAWC,yBACnClF,KAAKR,MAAMyF,WAAWpH,SAAW,YAGlC,IAAIsH,GAAY,EACX,SAAWnF,KAAKR,MAAMyF,WAAWhE,WAAa,UAAYjB,KAAKR,MAAMyF,WAAWhE,YACpFkE,GAAY,GAGb,IAAIC,GAAa,EAOjB,OANK,IAASpF,KAAKR,MAAMyF,WAAWI,WACnCD,GAAa,GAGdpF,KAAKR,MAAMyF,WAAW5C,QAAUC,IAAYtC,KAAKR,MAAMyF,WAAWzE,UAAW,aAAc,CAAC8E,QAASH,EAAW1C,SAAU2C,IAGzH,oBAAC,WAAD,KACC,yBAAML,KAAS/E,KAAKR,MAAMyF,iB,GApGNvE,aChTlB6E,E,YACL,WAAY/F,GAAQ,IAAD,6BAClB,4CAAMA,IADY,gDAQC,WACnB,EAAKK,SAAS,CAAEpC,IAAK,EAAK+B,MAAMyF,WAAW9C,UATzB,2CAeJ,WACd,IAAM7B,EAAgB,EAAKd,MAAMc,cAC7B7C,EAAM,EAAK+B,MAAMyF,WAAW9C,UA6B3B/D,IAAckC,QAAiBlC,IAAcX,GAIlDD,IAAU,CAAEgI,KAAM,mDAAqD/H,EAAM,WA/BpD,SAACA,GACzBM,QAAQC,IAAIP,GACZ,IAAIgI,EAAS,EAsBb,OArBKhI,EAAIiI,SAASC,OAAOC,WAAa,YACrCH,EAAS,EACEhI,EAAIiI,SAASC,OAAOC,WAAa,cAC5CH,EAAS,EACEhI,EAAIiI,SAASC,OAAOC,WAAa,aAC5CH,EAAS,GACEhI,EAAIiI,SAASC,OAAOC,WAAa,aAC5CH,EAAS,GACEhI,EAAIiI,SAASC,OAAOC,WAAa,cAC5CH,EAAS,EACEhI,EAAIiI,SAAS,iCACxBD,EAAS,EACEhI,EAAIiI,SAAS,6BACxBD,EAAS,EACEhI,EAAIiI,SAAS,+BACxBD,EAAS,EACEhI,EAAIiI,SAAS,oCACxBD,EAAS,GACEhI,EAAIiI,SAAS,iCAAoCjI,EAAIiI,SAASC,OAAOC,eAChFH,EAAS,GAEHA,EAOkFI,CAAiBpI,KAASmB,MAAM,SAAAkH,GACzH/H,QAAQgI,KAAK,kBACbhI,QAAQC,IAAI8H,IACP,IAAUA,GACdxF,EAAc,CACbkB,MAAOsE,EAAKtE,MACZT,MAAO+E,EAAK/E,MACZC,QAAS8E,EAAK9E,QACdqC,QAASyC,EAAKzC,QACdlB,KAAM2D,EAAK3D,KACXlD,MAAO6G,EAAK7G,MACZwB,KAAMqF,EAAKrF,KACXuF,OAAQF,EAAK1G,GACbsE,MAAO,WA/DQ,qCAqEV,WACR,IAAMpD,EAAgB,EAAKd,MAAMc,cACjC,OACC,oBAAC,oBAAD,KACC,oBAAC,YAAD,CAAWkB,MAAQyE,aAAI,uBACtB,+BACC,oBAAC,cAAD,CACChH,MAAM,UACNE,MAAQ,EAAKK,MAAMyF,WAAWe,OAC9BE,UAAQ,KAGV,2BAAK1F,UAAU,mBACd,+BACC,oBAAC,cAAD,CACCvB,MAAM,OACNE,MAAQ,EAAKK,MAAMyF,WAAW9C,KAC9B9B,SAAW,SAAE8B,GAAF,OAAY7B,EAAc,CAAC6B,aAGxC,+BACC,oBAAC,SAAD,CAAQR,QAAS,EAAKwE,aAAclE,WAAS,GAA7C,WAGF,6BAAG,uDACH,+BACC,oBAAC,gBAAD,CACChD,MAAQ,EAAKO,MAAMyF,WAAWL,aAAe,iBAAmB,kBAChEwB,QAAU,EAAK5G,MAAMyF,WAAWL,aAChCvE,SAAW,SAAClB,GAAYmB,EAAc,CAAEsE,aAAczF,QAGxD,+BACC,oBAAC,gBAAD,CACCF,MAAQ,EAAKO,MAAMyF,WAAWJ,cAAgB,kBAAoB,mBAClEuB,QAAU,EAAK5G,MAAMyF,WAAWJ,cAChCxE,SAAW,SAAClB,GAAYmB,EAAc,CAAEuE,cAAe1F,QAGzD,+BACC,oBAAC,gBAAD,CACCF,MAAQ,EAAKO,MAAMyF,WAAWH,YAAc,iBAAmB,kBAC/DsB,QAAU,EAAK5G,MAAMyF,WAAWH,YAChCzE,SAAW,SAAClB,GAAYmB,EAAc,CAAEwE,YAAa3F,QAGvD,+BACC,oBAAC,gBAAD,CACCF,MAAQ,EAAKO,MAAMyF,WAAWI,SAAW,mBAAqB,oBAC9De,QAAU,EAAK5G,MAAMyF,WAAWI,SAChChF,SAAW,SAAClB,GAAYmB,EAAc,CAAE+E,SAAUlG,QAGpD,+BACC,oBAAC,gBAAD,CACCF,MAAQ,EAAKO,MAAMyF,WAAWC,uBAAyB,WAAa,UACpEkB,QAAU,EAAK5G,MAAMyF,WAAWC,uBAChC7E,SAAW,SAAClB,GACXmB,EAAc,CAAE4E,uBAAwB/F,aA7H9C,EAAKM,MAAQ,CACZhC,IAAK,IAEN,EAAK0I,aAAe,EAAKA,aAAarG,KAAlB,gBALF,E,2BADMY,aA2J1B2F,4BAAmB,uBAAwB,CAE1C7E,MAAOyE,aAAI,cACX1E,KAAM,eACN+E,SAAU,UACVC,SAAU,CACTN,aAAI,OACJA,aAAI,SACJA,aAAI,QACJA,aAAI,eAELO,OAAQ,CACP,CACCtH,KAAM,WACND,MAAO,kBAER,CACCC,KAAM,UACND,MAAO,0BACPwH,WAAW,GAEZ,CACCvH,KAAM,MACND,MAAO,qBAER,CACCC,KAAM,SACND,MAAO,wBAER,CACCC,KAAM,OACND,MAAO,sBAER,CACCC,KAAM,QACND,MAAO,wBAGTyH,SAAU,CACTC,MAAM,GAGP1B,WAAY,CAEXzD,MAAO,CACNoF,KAAM,SACNC,QAAS,SAEVxD,QAAS,CACRuD,KAAM,SACNE,OAAQ,OACRvD,UAAW,IACXwD,SAAU,eACVF,QAAS,kBAEVnD,MAAO,CACNkD,KAAM,SACNE,OAAQ,OACRvD,UAAW,KACXwD,SAAU,SACVF,QAAS,IAGV1E,KAAM,CACLyE,KAAM,SACNC,QAAS,IAEV5H,MAAO,CACN2H,KAAM,SACNC,QAAS,UAEVpG,KAAM,CACLmG,KAAM,SACNC,QAzFK9C,IAASC,OAAO,gBA4FtBjD,MAAO,CACN6F,KAAM,SACNC,QAAS,IAEV7F,QAAS,CACR4F,KAAM,SACNC,QAAS,IAEV5F,UAAW,CACV2F,KAAM,SACNC,QAAS,YAEV7E,UAAW,CACV4E,KAAM,SACNC,QAAS,MAEVnF,WAAY,CACXkF,KAAM,UACNC,SAAS,GAGVb,OAAQ,CACPY,KAAM,WAGPvB,SAAU,CACTuB,KAAM,UACNC,SAAS,GAEVG,WAAY,CACXJ,KAAM,UACNC,SAAS,GAEVvB,QAAS,CACRsB,KAAM,UACNC,SAAS,GAEVjC,aAAc,CACbgC,KAAM,UACNC,SAAS,GAEVhC,cAAe,CACd+B,KAAM,UACNC,SAAS,GAEV/B,YAAa,CACZ8B,KAAM,UACNC,SAAS,GAEV3B,uBAAwB,CACvB0B,KAAM,UACNC,SAAS,GAEVpC,WAAY,CACXmC,KAAM,SACNC,QAAS,WAeXI,KAAM,SAAEzH,GAgBP,MAdK,qBAAuBA,EAAMyF,WAAWzE,UAC5ChB,EAAMc,cAAc,CAAEW,UAAW,YACtB,iBAAmBzB,EAAMyF,WAAWzE,UAC/ChB,EAAMc,cAAc,CAAEW,UAAW,QACtB,oBAAsBzB,EAAMyF,WAAWzE,UAClDhB,EAAMc,cAAc,CAAEW,UAAW,WACtB,kBAAoBzB,EAAMyF,WAAWzE,UAChDhB,EAAMc,cAAc,CAAEW,UAAW,SACtB,mBAAqBzB,EAAMyF,WAAWzE,UACjDhB,EAAMc,cAAc,CAAEW,UAAW,UACtB,sBAAwBzB,EAAMyF,WAAWzE,WACpDhB,EAAMc,cAAc,CAAEW,UAAW,aAIjC,oBAAC,WAAD,MACG,IAASzB,EAAMwF,YAChB,oBAAC,EAAgBxF,GAElB,oBAAC,EAAcA,KAiBlB0H,KAAM,SAAE1H,GACP,OACC,oBAAC,EAAcA,O,iBC1WlBrC,EAAOC,QAAUE,GAAG6J,M,iBCApBhK,EAAOC,QAAUgK,U,iBCAjBjK,EAAOC,QAAU2G,Q,gBCAjB5G,EAAOC,QAAUE,GAAG+J,U","file":"story-item/main-5f92c8fc.js","sourcesContent":["module.exports = React;","module.exports = wp.blocks;","module.exports = wp.apiFetch;","module.exports = wp.url;","module.exports = wp.components;","module.exports = wp.blockEditor;","// @TODO: convert froomo wp api to apifetch https://www.npmjs.com/package/@wordpress/api-fetch\n\nconst getTerms = (taxonomy, returnTermID) => {\n\tconsole.log('getting terms for '+taxonomy);\n\t// Set up taxonomy collection:\n\tconst collection = new wp.api.collections[taxonomy];\n\tif ( undefined === collection ) {\n\t\treturn false;\n\t}\n\treturn new Promise( (resolve, reject) => {\n\t\tlet data = [];\n\t\tcollection.fetch( {data: { hide_empty: false, per_page: 25 }} ).then( ( terms ) => {\n\t\t\tfor (let index = 0; index < terms.length; index++) {\n\t\t\t\tlet obj = {\n\t\t\t\t\tlabel: terms[index].name,\n\t\t\t\t}\n\t\t\t\tif ( true === returnTermID ) {\n\t\t\t\t\tobj.value = terms[index].id;\n\t\t\t\t} else {\n\t\t\t\t\tobj.value = terms[index].name;\n\t\t\t\t}\n\t\t\t\tdata.push(obj);\n\t\t\t}\n\t\n\t\t\tresolve(data);\n\t\t} );\n\t} ) ;\n}\n\nexport default getTerms;","// WordPress Core\nimport { Component, Fragment, RawHTML } from '@wordpress/element';\nimport { RichText, BlockControls, MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { Button, SelectControl, TextControl, Popover, Toolbar } from '@wordpress/components';\n\n// Utilities\nimport { addQueryArgs } from '@wordpress/url';\nimport * as moment from 'moment';\nimport classNames from 'classnames/bind';\n\nimport getTerms from '../_shared/get-terms';\n\n// Elements\nimport { Item } from 'semantic-ui-react';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nconst formatDate = ( dateString ) => {\n\treturn moment(dateString).format(\"MMM D, YYYY\");\n}\n\nclass MetaEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\topen: false,\n\t\t\teditLabel: false,\n\t\t\ttaxonomy: 'Formats',\n\t\t\tlabelOptions: [],\n\t\t}\n\t\tthis.setState = this.setState.bind(this);\n\t\tthis.getLabelOptions = this.getLabelOptions.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getLabelOptions();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif ( this.state.taxonomy !== this.props.taxonomy ) {\n\t\t\tthis.getLabelOptions();\n\t\t}\n\t}\n\n\tgetLabelOptions() {\n\t\tif ( undefined === wp.api.collections[this.props.taxonomy] ) {\n\t\t\t// Exit early, critical error that we don't want to stop the block from loading.\n\t\t\treturn;\n\t\t}\n\t\tconst setState = this.setState;\n\t\t\n\t\tgetTerms(this.props.taxonomy, false).then((data)=>{\n\t\t\tlet labelOptions = data;\n\t\t\tsetState({ taxonomy: this.props.taxonomy, labelOptions: labelOptions });\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div style={{display: 'flex', alignItems: 'center'}}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tvalue={ this.props.label }\n\t\t\t\t\t\t\toptions={this.state.labelOptions}\n\t\t\t\t\t\t\tonChange={ ( label ) => { this.props.setAttributes({label}) } }\n\t\t\t\t\t\t\tstyle={{marginBottom: '0px'}}\n\t\t\t\t\t\t\tclassName='story-label-select'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>&nbsp;|&nbsp;</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tvalue={ this.props.date }\n\t\t\t\t\t\t\tonChange={ ( date ) => {\n\t\t\t\t\t\t\t\tthis.props.setAttributes( { date: date } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nclass ImageEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.mediaHandler = this.mediaHandler.bind(this);\n\t}\n\tmediaHandler(media) {\n\t\tconsole.log(media);\n\t\tif ( 'disabled' === this.props.slot ) {\n\t\t\tthis.props.setAttributes( { image: media.url, imageID: media.id, imageSlot: 'default' } )\n\t\t} else {\n\t\t\tthis.props.setAttributes( { image: media.url, imageID: media.id } )\n\t\t}\n\t}\n\trender() {\n\t\treturn(\n\t\t\t<MediaUploadCheck>\n\t\t\t<MediaUpload\n\t\t\t\tonSelect={this.mediaHandler}\n\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{ '' !== this.props.img && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t{ ('default' !== this.props.slot && 'disabled' !== this.props.slot) && (\n\t\t\t\t\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t\t\t\t\t<Toolbar controls={[{\n\t\t\t\t\t\t\t\t\t\t\ticon: 'art',\n\t\t\t\t\t\t\t\t\t\t\ttitle: `Chart Art`,\n\t\t\t\t\t\t\t\t\t\t\tisActive: this.props.isChartArt,\n\t\t\t\t\t\t\t\t\t\t\tonClick: () => { this.props.setAttributes({ isChartArt: this.props.isChartArt ? false : true  }) },\n\t\t\t\t\t\t\t\t\t\t}]} />\n\t\t\t\t\t\t\t\t\t</BlockControls>\n\t\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t\t<div className={this.props.imgClass}>\n\t\t\t\t\t\t\t\t\t<img className={'wp-image-'+this.props.id} src={this.props.img} onClick={ open }/>\n\t\t\t\t\t\t\t\t\t<div className=\"image-editor-options\">\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"sans-serif\"><i>Click image to open media library</i></div>\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"sans-serif remove-image\" onClick={()=>{ this.props.setAttributes({image:'', imageSlot: 'disabled'}) }}>Or click here to <strong>REMOVE IMAGE</strong></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\t\t\t\t\tlabel='Image Size'\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={ this.props.size }\n\t\t\t\t\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ value: 'A1', label: 'A1' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ value: 'A2', label: 'A2' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ value: 'A3', label: 'A3' },\n\t\t\t\t\t\t\t\t\t\t\t\t\t{ value: 'A4', label: 'A4' },\n\t\t\t\t\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={ ( imageSize ) => { this.props.setAttributes({imageSize}); } }\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{marginBottom: '0px'}}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ '' === this.props.img && (\n\t\t\t\t\t\t\t<p><Button isPrimary onClick={ open }>Insert Image</Button></p>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Fragment>\n\t\t\t\t) }\n\t\t\t/>\n\t\t\t</MediaUploadCheck>\n\t\t)\n\t}\n}\n\nconst Image = function({ isChartArt, img, setAttributes, link }) {\n\tlet isMedium = false;\n\tif ( 'left' === img.slot || 'right' === img.slot ) {\n\t\tisMedium = true;\n\t}\n\tlet classes = classNames({ ui: true, medium: isMedium, image: true, bordered: isChartArt });\n\n\tconst appendImageWidth = (imgURL, slot, size, setAttributes) => {\n\t\tif ( '' === imgURL || false === imgURL ) {\n\t\t\treturn imgURL;\n\t\t}\n\n\t\tlet A1 = '564px';\n\t\tlet A2 = '268px';\n\t\tlet A3 = '194px';\n\t\tlet A4 = '268px';\n\n\t\t// If left or right slot we know we have a set image size for that, so change accordingly.\n\t\tif ( 'left' === slot || 'right' === slot ) {\n\t\t\tsize = 'A2';\n\t\t\tif ( null !== setAttributes ) {\n\t\t\t\tsetAttributes({ imageSize: size });\n\t\t\t}\n\t\t}\n\n\t\t// We're making A1 the default\n\t\tlet width = A1;\n\t\tif ( 'A2' === size ) {\n\t\t\twidth = A2;\n\t\t} else if ( 'A3' === size ) {\n\t\t\twidth = A3;\n\t\t} else if ( 'A4' === size ) {\n\t\t\twidth = A4;\n\t\t}\n\n\t\treturn addQueryArgs( imgURL, { w: width } );\n\t}\n\n\treturn(\n\t\t<Fragment>\n\t\t\t{ undefined !== img && (\n\t\t\t\t<Fragment>\n\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<ImageEditor id={img.id} slot={img.slot} img={appendImageWidth(img.src, img.slot, img.size, setAttributes)} size={img.size} imgClass={classes} isChartArt={isChartArt} setAttributes={setAttributes}/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t\t{ false === setAttributes && (\n\t\t\t\t\t<div className={classes}>\n\t\t\t\t\t\t<a href={link}>\n\t\t\t\t\t\t\t<img className={'wp-image-' + img.id} src={appendImageWidth(img.src, img.slot, img.size, null)}/>\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t</Fragment>\n\t\t\t)}\n\t\t</Fragment>\n\t)\t\n}\n\nconst Description = function({ content, enabled, setAttributes, sansSerif }) {\n\tlet classes = classNames( 'description', {'sans-serif': sansSerif} );\n\treturn(\n\t\t<Fragment>\n\t\t\t{ true === enabled && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"div\" // The tag here is the element output and editable in the admin\n\t\t\t\t\t\t\tvalue={ content } // Any existing content, either from the database or an attribute default\n\t\t\t\t\t\t\tonChange={ ( excerpt ) => setAttributes( { excerpt } ) } // Store updated content as a block attribute\n\t\t\t\t\t\t\tplaceholder={ content } // Display this text before any content has been added by the user\n\t\t\t\t\t\t\tmultiline=\"p\"\n\t\t\t\t\t\t\tclassName={ classes }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ false === setAttributes && ( \n\t\t\t\t\t\t<RichText.Content tagName=\"div\" value={ content } className={ classes }/>\n\t\t\t\t\t) }\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nconst Extra = function({ enabled, content, setAttributes }) {\n\tlet classes = classNames( 'extra' );\n\treturn(\n\t\t<Fragment>\n\t\t\t{ false !== setAttributes && true === enabled && (\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"ul\" // The tag here is the element output and editable in the admin\n\t\t\t\t\tvalue={ content } // Any existing content, either from the database or an attribute default\n\t\t\t\t\tonChange={ ( extra ) => setAttributes( { extra } ) } // Store updated content as a block attribute\n\t\t\t\t\tplaceholder={ content } // Display this text before any content has been added by the user\n\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\tclassName={ classes }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ false === setAttributes && true === enabled && ( \n\t\t\t\t<RichText.Content tagName=\"ul\" value={ content } className={ classes }/>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nconst Kicker = ({ label, date }) => {\n\tconst labelSlug = label.replace(/\\s+/g, '-').toLowerCase();\n\tlet classes = classNames( labelSlug, 'label' );\n\treturn(\n\t\t<Fragment><span className={classes}>{label ? label : 'Report'}</span> | {formatDate(date)}</Fragment>\n\t)\n}\n\nconst PostTitle = ({ title, link, size, as = 'a' }) => {\n\treturn(\n\t\t<RichText.Content href={link} tagName={as} value={title}/>\n\t)\n}\n\nconst Header = function({ title, label, date, link, enabled, size, taxonomy, setAttributes }) {\n\tconst currentSize = size;\n\tconst createSizeControls = function( size ) {\n\t\tlet active = false;\n\t\tif ( size === currentSize ) {\n\t\t\tactive = true;\n\t\t}\n        return {\n            icon: 'editor-textcolor',\n            title: `Size: ${ size }`,\n            isActive: active,\n            onClick: () => { setAttributes({ headerSize: size }) },\n        };\n\t}\n\treturn(\n\t\t<Fragment>\n\t\t\t{ true === enabled && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Item.Meta>\n\t\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t\t<MetaEditor date={date} label={label} taxonomy={taxonomy} setAttributes={setAttributes}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ false === setAttributes && (             \n\t\t\t\t\t\t\t<Kicker label={label} date={date}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Item.Meta>\n\t\t\t\t\t<Item.Header className={size}>\n\t\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t\t\t\t<Toolbar controls={ [ 'small', 'normal', 'large' ].map( createSizeControls ) } />\n\t\t\t\t\t\t\t\t</BlockControls>\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"div\" // The tag here is the element output and editable in the admin\n\t\t\t\t\t\t\t\t\tvalue={ title } // Any existing content, either from the database or an attribute default\n\t\t\t\t\t\t\t\t\tonChange={ ( title ) => setAttributes( { title } ) } // Store updated content as a block attribute\n\t\t\t\t\t\t\t\t\tplaceholder='Title' // Display this text before any content has been added by the user\n\t\t\t\t\t\t\t\t\tmultiline=\"br\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ false === setAttributes && ( \n\t\t\t\t\t\t\t<PostTitle title={title} link={link} as='a' size={size}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Item.Header>\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nclass StoryItem extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.item = this.item.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tconsole.log(this.props);\n\t}\n\n\titem = (attrs) => {\n\t\treturn(\n\t\t\t<Item as=\"article\" className={attrs.classes}>\n\t\t\t\t{ ( 'top' === attrs.imageSlot || 'left' === attrs.imageSlot ) && (\n\t\t\t\t\t<Image \n\t\t\t\t\t\timg={{\n\t\t\t\t\t\t\tsrc: attrs.image, \n\t\t\t\t\t\t\tid: attrs.imageID,\n\t\t\t\t\t\t\tslot: attrs.imageSlot,\n\t\t\t\t\t\t\tsize: attrs.imageSize,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tsetAttributes={this.props.setAttributes}\n\t\t\t\t\t\tisChartArt={attrs.isChartArt}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t\n\t\t\t\t<Item.Content>\n\t\t\t\t\t<Header \n\t\t\t\t\t\ttitle={attrs.title}\n\t\t\t\t\t\tdate={attrs.date}\n\t\t\t\t\t\tlabel={attrs.label}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tsetAttributes={this.props.setAttributes}\n\t\t\t\t\t\tenabled={attrs.enableHeader}\n\t\t\t\t\t\tsize={attrs.headerSize}\n\t\t\t\t\t\ttaxonomy={attrs.taxonomy} // Where??\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ 'default' === attrs.imageSlot && (\n\t\t\t\t\t\t<Image \n\t\t\t\t\t\t\timg={{\n\t\t\t\t\t\t\t\tsrc: attrs.image, \n\t\t\t\t\t\t\t\tid: attrs.imageID,\n\t\t\t\t\t\t\t\tslot: attrs.imageSlot,\n\t\t\t\t\t\t\t\tsize: attrs.imageSize,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\t\tsetAttributes={this.props.setAttributes}\n\t\t\t\t\t\t\tisChartArt={attrs.isChartArt}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<Description content={attrs.excerpt} enabled={attrs.enableExcerpt} setAttributes={this.props.setAttributes} sansSerif={!attrs.enableHeader}/>\n\n\t\t\t\t\t<Extra enabled={attrs.enableExtra} content={attrs.extra} setAttributes={this.props.setAttributes}/>\n\t\t\t\t</Item.Content>\n\n\t\t\t\t{ ( 'bottom' === attrs.imageSlot || 'right' === attrs.imageSlot ) && (\n\t\t\t\t\t<Image \n\t\t\t\t\t\timg={{\n\t\t\t\t\t\t\tsrc: attrs.image, \n\t\t\t\t\t\t\tid: attrs.imageID,\n\t\t\t\t\t\t\tslot: attrs.imageSlot,\n\t\t\t\t\t\t\tsize: attrs.imageSize,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tsetAttributes={this.props.setAttributes}\n\t\t\t\t\t\tisChartArt={attrs.isChartArt}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Item>\n\t\t)\n\t}\n\n\trender() {\n\t\t// If the block is not selected, it is not in edit mode, disable setAttributes.\n\t\tif ( undefined === this.props.isSelected || true !== this.props.isSelected ) {\n\t\t\tthis.props.setAttributes = false;\n\t\t}\n\t\t\n\t\tthis.props.attributes.taxonomy = 'Formats';\n\t\tif ( true === this.props.attributes.enableProgramsTaxonomy ) {\n\t\t\tthis.props.attributes.taxonomy = 'Programs';\n\t\t}\n\n\t\tlet isStacked = true;\n\t\tif ( 'left' === this.props.attributes.imageSlot || 'right' === this.props.attributes.imageSlot ) {\n\t\t\tisStacked = false;\n\t\t}\n\n\t\tlet isBordered = false;\n\t\tif ( true === this.props.attributes.emphasis ) {\n\t\t\tisBordered = true;\n\t\t}\n\n\t\tthis.props.attributes.classes = classNames( this.props.attributes.className, 'story-item', {stacked: isStacked, bordered: isBordered} );\n\t\t\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t<this.item {...this.props.attributes}/>\n\t\t\t</Fragment>\n\t\t)\n\t}\t\n}\n\nexport default StoryItem;","/**\n * BLOCK: prc-blocks\n *\n * Registering a basic block with Gutenberg.\n * Simple block, renders and saves the same content without any interactivity.\n */\n\n//  Import CSS.\nimport './editor.scss';\n// Our front end styles are included in our theme\n\nimport { __ } from \"@wordpress/i18n\";\nimport { registerBlockType } from '@wordpress/blocks';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { Button, PanelBody, ToggleControl, TextControl } from '@wordpress/components';\nimport { Component, Fragment } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport * as moment from 'moment';\n\nimport StoryItem from './component';\n\nclass EditSidebar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\turl: '',\n\t\t}\n\t\tthis.setPostByURL = this.setPostByURL.bind(this);\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.setState({ url: this.props.attributes.link });\n\t}\n\n\t/**\n\t * Loading Posts\n\t */\n\tsetPostByURL = () => {\n\t\tconst setAttributes = this.props.setAttributes;\n\t\tlet url = this.props.attributes.link;\n\n\t\tconst getSiteIDFromURL = (url) => {\n\t\t\tconsole.log(url);\n\t\t\tlet siteID = 1;\n\t\t\tif ( url.includes(window.siteDomain + '/global/' ) ) {\n\t\t\t\tsiteID = 2;\n\t\t\t} else if ( url.includes(window.siteDomain + '/hispanic/' ) ) {\n\t\t\t\tsiteID = 5;\n\t\t\t} else if ( url.includes(window.siteDomain + '/science/' ) ) {\n\t\t\t\tsiteID = 16;\n\t\t\t} else if ( url.includes(window.siteDomain + '/methods/' ) ) {\n\t\t\t\tsiteID = 10;\n\t\t\t} else if ( url.includes(window.siteDomain + '/internet/' ) ) {\n\t\t\t\tsiteID = 9;\n\t\t\t} else if ( url.includes('https://www.people-press.org/' ) ) {\n\t\t\t\tsiteID = 4;\n\t\t\t} else if ( url.includes('https://www.pewforum.org/' ) ) {\n\t\t\t\tsiteID = 7;\n\t\t\t} else if ( url.includes('https://www.journalism.org/' ) ) {\n\t\t\t\tsiteID = 8;\n\t\t\t} else if ( url.includes('https://www.pewsocialtrends.org/' ) ) {\n\t\t\t\tsiteID = 3;\n\t\t\t} else if ( url.includes('https://www.pewresearch.org/' ) || url.includes(window.siteDomain) ) {\n\t\t\t\tsiteID = 1;\n\t\t\t}\n\t\t\treturn siteID;\n\t\t}\n\n\t\tif ( undefined === setAttributes || undefined === url ) {\n\t\t\treturn;\n\t\t}\n\n\t\tapiFetch( { path: '/prc-api/v2/blocks/helpers/get-post-by-url/?url=' + url + '&siteID=' + getSiteIDFromURL(url) } ).then( post => {\n\t\t\tconsole.info('Post Returned:');\n\t\t\tconsole.log(post);\n\t\t\tif ( false !== post ) {\n\t\t\t\tsetAttributes({\n\t\t\t\t\ttitle: post.title,\n\t\t\t\t\timage: post.image,\n\t\t\t\t\timageID: post.imageID,\n\t\t\t\t\texcerpt: post.excerpt,\n\t\t\t\t\tlink: post.link,\n\t\t\t\t\tlabel: post.label,\n\t\t\t\t\tdate: post.date,\n\t\t\t\t\tpostID: post.id,\n\t\t\t\t\textra: '', // We want to clear extra when pulling a new post\n\t\t\t\t});\n\t\t\t}\n        } );\n\t} \n\n\trender = () => {\n\t\tconst setAttributes = this.props.setAttributes;\n\t\treturn(\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Story Item Options' ) }>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel=\"Post ID\"\n\t\t\t\t\t\t\tvalue={ this.props.attributes.postID }\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='story-item-link'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel=\"Link\"\n\t\t\t\t\t\t\t\tvalue={ this.props.attributes.link }\n\t\t\t\t\t\t\t\tonChange={ ( link ) => setAttributes({link}) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button onClick={this.setPostByURL} isPrimary>Fetch</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p><strong>Content Options:</strong></p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableHeader ? 'Header Enabled' : 'Header Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableHeader }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ enableHeader: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableExcerpt ? 'Excerpt Enabled' : 'Excerpt Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableExcerpt }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ enableExcerpt: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableExtra ? 'Extras Enabled' : 'Extras Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableExtra }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ enableExtra: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.emphasis ? 'Emphasis Enabled' : 'Emphasis Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.emphasis }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ emphasis: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableProgramsTaxonomy ? 'Programs' : 'Formats' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableProgramsTaxonomy }\n\t\t\t\t\t\t\tonChange={ (value) => { \n\t\t\t\t\t\t\t\tsetAttributes({ enableProgramsTaxonomy: value });\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t)\n\t}\n}\n\nconst todaysDate = () => {\n\treturn moment().format(\"MMM D, YYYY\");\n}\n\n/**\n * Register: aa Gutenberg Block.\n *\n * Registers a new block provided a unique name and an object defining its\n * behavior. Once registered, the block is made editor as an option to any\n * editor interface where blocks are implemented.\n *\n * @link https://wordpress.org/gutenberg/handbook/block-api/\n * @param  {string}   name     Block name.\n * @param  {Object}   settings Block settings.\n * @return {?WPBlock}          The block, if it has been successfully\n *                             registered; otherwise `undefined`.\n */\nregisterBlockType( 'prc-block/story-item', {\n\t// Block name. Block names must be string that contains a namespace prefix. Example: my-plugin/my-custom-block.\n\ttitle: __( 'Story Item' ), // Block title.\n\ticon: 'format-aside', // Block icon from Dashicons → https://developer.wordpress.org/resource/dashicons/.\n\tcategory: 'widgets', // Block category — Group blocks together based on common traits E.g. common, formatting, layout widgets, embed.\n\tkeywords: [\n\t\t__( 'prc' ),\n\t\t__( 'story' ),\n\t\t__( 'post' ),\n\t\t__( 'story item' ),\n\t],\n\tstyles: [\n\t\t{\n\t\t\tname: 'disabled',\n\t\t\tlabel: 'Image Disabled',\n\t\t},\n\t\t{\n\t\t\tname: 'default',\n\t\t\tlabel: 'Default Image Alignment',\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'top',\n\t\t\tlabel: 'Image Aligned Top',\n\t\t},\n\t\t{\n\t\t\tname: 'bottom',\n\t\t\tlabel: 'Image Aligned Bottom',\n\t\t},\n\t\t{\n\t\t\tname: 'left',\n\t\t\tlabel: 'Image Aligned Left',\n\t\t},\n\t\t{\n\t\t\tname: 'right',\n\t\t\tlabel: 'Image Aligned Right',\n\t\t}\n\t],\n\tsupports: {\n\t\thtml: false, // We do not want to give people the ability to edit the raw html of this block.\n\t},\n\t// Attributes are really react props. \n\tattributes: {\n\t\t// Item Content\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Title',\n\t\t},\n\t\texcerpt: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tmultiline: 'p',\n\t\t\tselector: '.description',\n\t\t\tdefault: '<p>Excerpt</p>',\n\t\t},\n\t\textra: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tmultiline: 'li',\n\t\t\tselector: '.extra',\n\t\t\tdefault: '',\n\t\t},\n\t\t// Item Meta\n\t\tlink: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tlabel: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Report',\n\t\t},\n\t\tdate: {\n\t\t\ttype: 'string',\n\t\t\tdefault: todaysDate(),\n\t\t},\n\t\t// Images\n\t\timage: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\timageID: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\timageSlot: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'disabled',\n\t\t},\n\t\timageSize: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'A1',\n\t\t},\n\t\tisChartArt: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\t// Post Meta Data:\n\t\tpostID: {\n\t\t\ttype: 'integer',\n\t\t},\n\t\t// Item Options\n\t\temphasis: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\thorizontal: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tstacked: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tenableHeader: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tenableExcerpt: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tenableExtra: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tenableProgramsTaxonomy: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\theaderSize: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'normal',\n\t\t},\n\t},\n\n\t/**\n\t * The edit function describes the structure of your block in the context of the editor.\n\t * This represents what the editor will render when the block is used.\n\t *\n\t * The \"edit\" property must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Component.\n\t */\n\tedit: ( props ) => {\n\t\t// Set Image Slot by Style\n\t\tif ( 'is-style-default' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'default' });\n\t\t} else if ( 'is-style-top' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'top' });\n\t\t} else if ( 'is-style-bottom' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'bottom' });\n\t\t} else if ( 'is-style-left' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'left' });\n\t\t} else if ( 'is-style-right' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'right' });\n\t\t} else if ( 'is-style-disabled' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'disabled' });\n\t\t}\n\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t{ true === props.isSelected && (\n\t\t\t\t\t<EditSidebar {...props}/>\n\t\t\t\t) }\n\t\t\t\t<StoryItem {...props}/>\n\t\t\t</Fragment>\n\t\t)\n\t},\n\n\t// Seth Learning Note: SO save literally only transforms on post_content filter. You won't see this result inside the gutenberg editor, you will however see it if you look at code view.\n\t/**\n\t * The save function defines the way in which the different attributes should be combined\n\t * into the final markup, which is then serialized by Gutenberg into post_content.\n\t *\n\t * The \"save\" property must be specified and must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Frontend HTML.\n\t */\n\tsave: ( props ) => {\n\t\treturn (\n\t\t\t<StoryItem {...props}/>\n\t\t);\n\t},\n} );\n","module.exports = wp.i18n;","module.exports = ReactDOM;","module.exports = moment;","module.exports = wp.element;"],"sourceRoot":""}