/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 0.1.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2020 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window["wpackioprcBlocksLibrarystory-itemJsonp"]=window["wpackioprcBlocksLibrarystory-itemJsonp"]||[]).push([[4],{0:function(e,t){e.exports=React},1:function(e,t){e.exports=wp.element},12:function(e,t){e.exports=wp.blockEditor},163:function(e,t,a){a(106),e.exports=a(290)},25:function(e,t){e.exports=moment},29:function(e,t){e.exports=wp.apiFetch},290:function(e,t,a){"use strict";a.r(t);var l=a(56);var n=a(68);var o,r=a(57),i=a(31),c=a(25),s=a(1),u=a(21),p=a(45),m=a(12),d=a(9),b=a(72),g=a(29),f=a.n(g),y=a(44),E=function(e,t){if(void 0!==t&&void 0!==e){var a,l,n;f()({path:"/prc-api/v2/blocks/helpers/get-post-by-url/?url=".concat(e,"&siteID=").concat((a=e,l=window.siteDomain,n=1,a.includes("".concat(l,"/global/"))?n=2:a.includes("".concat(l,"/hispanic/"))?n=5:a.includes("".concat(l,"/science/"))?n=16:a.includes("".concat(l,"/methods/"))?n=10:a.includes("".concat(l,"/internet/"))?n=9:a.includes("".concat(l,"/politics/"))?n=4:a.includes("https://www.pewforum.org/")?n=7:a.includes("https://www.journalism.org/")?n=8:a.includes("https://www.pewsocialtrends.org/")?n=3:(a.includes("https://www.pewresearch.org/")||a.includes(l))&&(n=1),n))}).then((function(e){if(!1!==e){var a={title:e.title,excerpt:e.excerpt,link:e.link,label:e.label,date:e.date,postID:e.id,extra:""};e.art||(a.image=e.image),t(a)}}))}},w=function(e){var t=e.postID,a=e.link,l=e.imageSlot,n=e.enableHeader,o=e.enableExcerpt,r=e.enableExcerptBelow,c=e.enableExtra,u=e.enableBreakingNews,g=e.enableEmphasis,f=e.enableProgramsTaxonomy,w=e.setAttributes,h=Object(s.useState)(a),x=Object(p.a)(h,2),k=x[0],R=x[1];return Object(b.a)((function(){Object(y.isEmpty)(a)||void 0!==t||(console.log("Story Item Controls Did Mount"),console.log(a),console.log(t),E(a,w))})),React.createElement(m.InspectorControls,null,React.createElement(d.PanelBody,{title:Object(i.__)("Story Item Options")},React.createElement("div",null,React.createElement(d.TextControl,{label:"Post ID",value:t,disabled:!0})),React.createElement("div",{className:"story-item-link"},React.createElement("div",null,React.createElement(d.TextControl,{label:"Link",value:k,onChange:function(e){R(e),w({link:e})}})),React.createElement("div",null,React.createElement(d.Button,{onClick:function(){return E(a,w)},isPrimary:!0,style:{height:"30px"}},"Fetch"))),React.createElement("div",null,React.createElement("p",null,React.createElement("strong",null,"Content Options:"))),React.createElement("div",null,React.createElement(d.ToggleControl,{label:n?"Header Enabled":"Header Disabled",checked:n,onChange:function(){w({enableHeader:!n})}})),React.createElement("div",null,React.createElement(d.ToggleControl,{label:o?"Excerpt Enabled":"Excerpt Disabled",checked:o,onChange:function(){w({enableExcerpt:!o})}})),React.createElement("div",null,React.createElement(d.ToggleControl,{label:c?"Extras Enabled":"Extras Disabled",checked:c,onChange:function(){w({enableExtra:!c})}})),React.createElement("div",null,React.createElement(d.ToggleControl,{label:u?"Breaking News Enabled":"Breaking News Disabled",checked:u,onChange:function(){!1!==window.prcBreakingNews?w({enableBreakingNews:!u}):(alert("There are no currently active, authorized, breaking news events. The breaking news toggle will be set back to false."),w({enableBreakingNews:!1}))}})),React.createElement("div",null,React.createElement(d.ToggleControl,{label:f?"Programs":"Formats",checked:f,onChange:function(){w({enableProgramsTaxonomy:!f})}})),React.createElement("div",null,React.createElement("p",null,React.createElement("strong",null,"Style Options:"))),React.createElement("div",null,React.createElement(d.ToggleControl,{label:g?"Emphasis Enabled":"Emphasis Disabled",checked:g,onChange:function(){w({enableEmphasis:!g})}})),React.createElement("div",null,!0===o&&("right"===l||"left"===l)&&React.createElement("div",null,React.createElement(d.ToggleControl,{label:r?"Excerpt Will Appear Below":"Excerpt Will Appear Normally",checked:r,onChange:function(){w({enableExcerptBelow:!r})}})))))},h=function(e){var t=e.attributes,a=e.setAttributes,l=e.isSelected;!function(e,t){Object(u.e)("is-style-top",e,"imageSlot","top",t),Object(u.e)("is-style-bottom",e,"imageSlot","bottom",t),Object(u.e)("is-style-left",e,"imageSlot","left",t),Object(u.e)("is-style-right",e,"imageSlot","right",t),Object(u.e)("is-style-disabled",e,"imageSlot","disabled",t),Object(u.e)("is-style-default",e,"imageSlot","default",t)}(t.className,a);var n=t;return n.isSelected=l,n.setAttributes=a,React.createElement(s.Fragment,null,!0===l&&React.createElement(w,n),React.createElement(u.a,n))},x=function(e){var t=e.attributes;return React.createElement(u.b,t)},k={from:[{type:"raw",isMatch:function(e){return"P"===e.nodeName&&/^https?:\/\/(www\.)?pewresearch\.(org|local)\/.+/i.test(e.textContent)},transform:function(e){return Object(r.createBlock)("prc-block/story-item",{link:e.textContent.trim(),className:"is-style-default",imageSize:"A1",imageSlot:"default"})}}],to:[{type:"block",blocks:["prc-block/story-item"],transform:function(e){var t=e.url;return Object(r.createBlock)("prc-block/story-item",{link:t,className:"is-style-default",imageSize:"A1",imageSlot:"default"})}}]},R=["prc-block/story-item",{title:Object(i.__)("Story Item"),icon:"format-aside",category:"widgets",keywords:[Object(i.__)("prc"),Object(i.__)("story"),Object(i.__)("post"),Object(i.__)("story item")],styles:[{name:"disabled",label:"Image Disabled"},{name:"default",label:"Default Image Alignment",isDefault:!0},{name:"top",label:"Image Aligned Top"},{name:"bottom",label:"Image Aligned Bottom"},{name:"left",label:"Image Aligned Left"},{name:"right",label:"Image Aligned Right"}],example:{attributes:{title:"Ultricies Ipsum Nibh Egestas Purus",excerpt:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec id elit non mi porta gravida at eget metus. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>",extra:"<li></li>",link:"#",label:"Report",date:c().format("MM-DD-YYYY"),image:"https://www.pewresearch.org/global/wp-content/uploads/sites/2/2020/04/PG_2020.04.21_U.S.-Views-China_featured.jpg",imageSlot:"top",imageSize:"A2"}},supports:{html:!1},attributes:{title:{type:"string",default:"Title"},excerpt:{type:"string",source:"html",multiline:"p",selector:".description",default:"<p>Excerpt</p>"},extra:{type:"string",source:"html",multiline:"li",selector:".extra",default:""},link:{type:"string",default:""},label:{type:"string",default:"Report"},date:{type:"string"},image:{type:"string",default:""},imageSlot:{type:"string",default:"default"},imageSize:{type:"string",default:"A1"},isChartArt:{type:"boolean",default:!1},postID:{type:"integer"},headerSize:{type:"string",default:"normal"},enableAltHeaderWeight:{type:"boolean",default:!1},enableEmphasis:{type:"boolean",default:!1},enableHeader:{type:"boolean",default:!0},enableExcerpt:{type:"boolean",default:!0},enableExcerptBelow:{type:"boolean",default:!1},enableExtra:{type:"boolean",default:!1},enableBreakingNews:{type:"boolean",default:!1},enableProgramsTaxonomy:{type:"boolean",default:!1}},transforms:k,edit:h,save:x}];r.registerBlockType.apply(void 0,function(e){if(Array.isArray(e))return Object(l.a)(e)}(o=R)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(o)||Object(n.a)(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())},31:function(e,t){e.exports=wp.i18n},40:function(e,t){e.exports=ReactDOM},44:function(e,t){e.exports=lodash},57:function(e,t){e.exports=wp.blocks},9:function(e,t){e.exports=wp.components},96:function(e,t){e.exports=wp.url},99:function(e,t){e.exports=wp.htmlEntities}},[[163,1,2,0]]]);
//# sourceMappingURL=main-05cc7f69.js.map