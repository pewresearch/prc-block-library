{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.components\"","webpack:///external \"wp.blocks\"","webpack:///external \"wp.apiFetch\"","webpack:///external \"wp.url\"","webpack:///external \"wp.blockEditor\"","webpack:///./src/_shared/get-terms/index.js","webpack:///./src/_shared/components/image/index.js","webpack:///./src/story-item/component.js","webpack:///./src/story-item/index.js","webpack:///external \"moment\"","webpack:///external \"wp.i18n\"","webpack:///external \"ReactDOM\"","webpack:///external \"wp.element\""],"names":["module","exports","React","wp","components","blocks","apiFetch","url","blockEditor","getTerms","taxonomy","console","log","collection","api","collections","undefined","Promise","resolve","reject","data","fetch","hide_empty","per_page","then","terms","index","length","slug","replace","toLowerCase","id","name","ALLOWED_MEDIA_TYPES","Image","props","isMedium","slot","chartArt","classNames","ui","medium","image","bordered","img","size","link","getImgURL","variant","legacy","default","small","hidpi","smallHidpi","args","resize","addQueryArgs","getImgSrcSet","threshold","srcSet","media","style","display","sources","href","dataHandler","Toolbar","open","flexWrap","alignItems","backgroundColor","icon","label","onClick","imageSlot","isChartArt","value","options","onChange","imageSize","marginBottom","ImgMarkup","imgMarkup","onSelect","allowedTypes","render","className","isPrimary","this","Edit","editMode","Component","MetaEditor","state","editLabel","labelOptions","setState","bind","getLabelOptions","termID","hasOwnProperty","termObj","push","sort","a","b","setAttributes","date","Description","content","enabled","sansSerif","classes","tagName","excerpt","placeholder","multiline","Content","Extra","extra","Kicker","labelSlug","moment","format","PostTitle","title","as","Header","currentSize","Item","Meta","controls","map","active","isActive","headerSize","StoryItem","attrs","enableHeader","enableExcerpt","enableExtra","item","isSelected","attributes","enableProgramsTaxonomy","isStacked","isBordered","emphasis","stacked","EditSidebar","path","siteID","includes","window","siteDomain","getSiteIDFromURL","post","info","postID","__","disabled","setPostByURL","checked","registerBlockType","category","keywords","styles","isDefault","supports","html","type","source","selector","horizontal","edit","save","i18n","ReactDOM","element"],"mappings":"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","file":"story-item/main-e1256359.js","sourcesContent":["module.exports = React;","module.exports = wp.components;","module.exports = wp.blocks;","module.exports = wp.apiFetch;","module.exports = wp.url;","module.exports = wp.blockEditor;","// @TODO: convert froomo wp api to apifetch https://www.npmjs.com/package/@wordpress/api-fetch\n\nconst getTerms = (taxonomy) => {\n\tconsole.log('getting terms for '+taxonomy);\n\t// Set up taxonomy collection:\n\tconst collection = new wp.api.collections[taxonomy];\n\tif ( undefined === collection ) {\n\t\treturn false;\n\t}\n\treturn new Promise( (resolve, reject) => {\n\t\tlet data = {};\n\t\tcollection.fetch( {\n\t\t\tdata: { hide_empty: false, per_page: 25 } \n\t\t} ).then( ( terms ) => {\n\t\t\tfor (let index = 0; index < terms.length; index++) {\n\t\t\t\tlet slug = terms[index].slug.replace(taxonomy.toLowerCase() + '_', '');\n\t\t\t\tdata[terms[index].id] = {\n\t\t\t\t\tid: terms[index].id,\n\t\t\t\t\tname: terms[index].name,\n\t\t\t\t\tslug: slug,\n\t\t\t\t}\n\t\t\t}\n\t\t\tresolve(data);\n\t\t} );\n\t} ) ;\n}\n\nexport default getTerms;","import './imageEditor.scss';\n\nimport { Component, Fragment, RawHTML } from '@wordpress/element';\nimport { Picture } from 'react-responsive-picture';\nimport { addQueryArgs } from '@wordpress/url';\nimport classNames from 'classnames/bind';\n// Edit\nimport { Button, IconButton, SelectControl } from '@wordpress/components';\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\n/**\n * Props:\n * img:\n * size:\n * link:\n * slot: // if set to false then no image size chooser will be display\n * chartArt: // if undefined then no chart art button will appear\n * dataHandler: *When not in \"edit mode\" this prop should be false to signal that.*\n * \n * <Image id={} img={} size={} link={} slot={} chartArt={} dataHandler={}/>\n */\nclass Image extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tclassNames = () => {\n\t\tlet isMedium = false;\n\t\t\n\t\tif ( undefined !== this.props.slot ) {\n\t\t\tif ( 'left' === this.props.slot || 'right' === this.props.slot ) {\n\t\t\t\tisMedium = true;\n\t\t\t}\n\t\t}\n\n\t\tlet chartArt = false;\n\t\tif ( undefined !== this.props.chartArt ) {\n\t\t\tchartArt = this.props.chartArt;\n\t\t} \n\t\treturn classNames({ ui: true, medium: isMedium, image: true, bordered: chartArt });\n\t}\n\n\timgMarkup = ({img, size, link}) => {\n\t\tconst getImgURL = (url, size, variant) => {\n\t\t\tif ( '' === url || false === url ) {\n\t\t\t\treturn url;\n\t\t\t}\n\t\n\t\t\tconst A1 = {\n\t\t\t\tdefault: '564,317',\n\t\t\t\tsmall: '354,194',\n\t\t\t\thidpi: '1128,634',\n\t\t\t\tsmallHidpi: '708,388',\n\t\t\t}\n\t\n\t\t\tconst A2 = {\n\t\t\t\tdefault: '268,151',\n\t\t\t\tsmall: '354,194',\n\t\t\t\thidpi: '536,301',\n\t\t\t\tsmallHidpi: '708,388',\n\t\t\t}\n\t\n\t\t\tconst A3 = {\n\t\t\t\tdefault: '194,110',\n\t\t\t\tsmall: '148,84',\n\t\t\t\thidpi: '388,220',\n\t\t\t\tsmallHidpi: '296,168',\n\t\t\t}\n\t\n\t\t\tconst A4 = {\n\t\t\t\tdefault: '268,151',\n\t\t\t\tsmall: '354,194',\n\t\t\t\thidpi: '536,302',\n\t\t\t\tsmallHidpi: '708,388',\n\t\t\t}\n\n\t\t\tconst legacy = {\n\t\t\t\t'260': {\n\t\t\t\t\tdefault: '260,260',\n\t\t\t\t\tsmall: '260,260',\n\t\t\t\t\thidpi: '520,520',\n\t\t\t\t\tsmallHidpi: '520,520',\n\t\t\t\t},\n\t\t\t\t'260-173': {\n\t\t\t\t\tdefault: '260,173',\n\t\t\t\t\tsmall: '260,173',\n\t\t\t\t\thidpi: '520,346',\n\t\t\t\t\tsmallHidpi: '520,346',\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// Default to A1\n\t\t\tlet args = { resize: A1[variant] };\n\t\t\tif ( 'A2' === size ) {\n\t\t\t\targs = { resize: A2[variant] };\n\t\t\t} else if ( 'A3' === size ) {\n\t\t\t\targs = { resize: A3[variant] };\n\t\t\t} else if ( 'A4' === size ) {\n\t\t\t\targs = { resize: A4[variant] };\n\t\t\t}\n\t\t\t\n\t\t\t// Temp legacy sizes for homepages\n\t\t\tif ( 'legacy-260' === size ) {\n\t\t\t\targs = { resize: legacy['260'][variant] };\n\t\t\t} else if ( 'legacy-260-173' === size ) {\n\t\t\t\targs = { resize: legacy['260-173'][variant] };\n\t\t\t}\n\t\n\t\t\treturn addQueryArgs( url, args );\n\t\t}\n\n\t\tconst getImgSrcSet = (url, size, threshold = 420) => {\n\t\t\treturn [\n\t\t\t\t{\n\t\t\t\t\tsrcSet: getImgURL(url, size, 'default') + ' 1x, ' + getImgURL(url, size, 'hidpi') + ' 2x',\n\t\t\t\t\tmedia: \"(min-width: \"+threshold+\"px)\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tsrcSet: getImgURL(url, size, 'small') + ' 1x, ' + getImgURL(url, size, 'smallHidpi') + ' 2x',\n\t\t\t\t\tmedia: \"(max-width: \"+threshold+\"px)\",\n\t\t\t\t},\n\t\t\t]\n\t\t}\n\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t{ '' === link && ( <Picture style={{display: 'block'}} sources={ getImgSrcSet(img, size) }/> ) }\n\t\t\t\t{ '' !== link && ( <a href={link}><Picture style={{display: 'block'}} sources={ getImgSrcSet(img, size) }/></a> ) }\n\t\t\t</Fragment>\n\t\t)\n\t}\n\n\teditMode = ({dataHandler}) => {\n\t\tconst mediaHandler = (media) => {\n\t\t\tif ( undefined !== this.props.slot && 'disabled' === this.props.slot ) {\n\t\t\t\tdataHandler( { image: media.url, imageSlot: 'default' } );\n\t\t\t} else {\n\t\t\t\tdataHandler( { image: media.url } );\n\t\t\t}\n\t\t}\n\n\t\tconst Toolbar = ({open, dataHandler}) => {\n\t\t\treturn(\n\t\t\t\t<div style={{display: 'flex', flexWrap: 'wrap', alignItems: 'center', backgroundColor: '#f0f2f3'}}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div style={{display: 'flex', flexWrap: 'wrap'}}>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\ticon=\"upload\"\n\t\t\t\t\t\t\t\tlabel=\"Select/Upload New Image\"\n\t\t\t\t\t\t\t\tonClick={open}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\ticon=\"trash\"\n\t\t\t\t\t\t\t\tlabel=\"Remove Image\"\n\t\t\t\t\t\t\t\tonClick={ ()=>{ dataHandler({ image:'', imageSlot: 'disabled'}) }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{ undefined !== this.props.chartArt && (\n\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\ticon=\"art\"\n\t\t\t\t\t\t\t\t\tlabel={ true === this.props.chartArt ? 'Disable Chart Art' : 'Enable Chart Art' }\n\t\t\t\t\t\t\t\t\tonClick={ ()=>{ dataHandler({ isChartArt: ! this.props.chartArt }) }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{ undefined !== this.props.slot && (\n\t\t\t\t\t\t<div style={{display: 'flex', alignItems:'center'}}>\n\t\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\t\tlabel='Image Size'\n\t\t\t\t\t\t\t\tvalue={ this.props.size }\n\t\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t\t{ value: 'A1', label: 'A1' },\n\t\t\t\t\t\t\t\t\t{ value: 'A2', label: 'A2' },\n\t\t\t\t\t\t\t\t\t{ value: 'A3', label: 'A3' },\n\t\t\t\t\t\t\t\t\t{ value: 'A4', label: 'A4' },\n\t\t\t\t\t\t\t\t\t{ value: 'legacy-260', label: 'Legacy Homepage 260x260' },\n\t\t\t\t\t\t\t\t\t{ value: 'legacy-260-173', label: 'Legacy Homepage 260x173' },\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t\tonChange={ ( imageSize ) => dataHandler({ imageSize }) }\n\t\t\t\t\t\t\t\tstyle={{ marginBottom: '0px' }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) }\n\t\t\t\t</div>\n\t\t\t)\n\t\t}\n\t\t\n\t\t// Internal JSX Tag:\n\t\tconst ImgMarkup = this.imgMarkup;\n\n\t\treturn(\n\t\t\t<MediaUploadCheck>\n\t\t\t\t<MediaUpload\n\t\t\t\t\tonSelect={mediaHandler}\n\t\t\t\t\tallowedTypes={ ALLOWED_MEDIA_TYPES }\n\t\t\t\t\trender={ ( { open } ) => (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t{ '' !== this.props.img && (\n\t\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t\t<div className={this.classNames()}>\n\t\t\t\t\t\t\t\t\t\t<ImgMarkup img={this.props.img} size={this.props.size} id={this.props.id} link=''/>\n\t\t\t\t\t\t\t\t\t\t<Toolbar dataHandler={dataHandler} open={open}/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t\t{ '' === this.props.img && (\n\t\t\t\t\t\t\t\t<p><Button isPrimary onClick={ open }>Insert Image</Button></p>\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t) }\n\t\t\t\t/>\n\t\t\t</MediaUploadCheck>\n\t\t)\n\t}\n\n\trender() {\n\t\tconsole.log('Image Component:');\n\t\tconsole.log(this.props);\n\t\t/// Internal JSX Tags:\n\t\tconst Edit = this.editMode;\n\t\tconst ImgMarkup = this.imgMarkup;\n\t\t// We should also have a prop that will let you pass through setAttribute or setState something like onChange\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t{ (false === this.props.dataHandler || undefined === this.props.dataHandler) && (\n\t\t\t\t\t<div className={this.classNames()}>\n\t\t\t\t\t\t<ImgMarkup \n\t\t\t\t\t\t\timg={this.props.img}\n\t\t\t\t\t\t\tsize={this.props.size}\n\t\t\t\t\t\t\tlink={this.props.link}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t) }\n\t\t\t\t{ (false !== this.props.dataHandler && undefined !== this.props.dataHandler) && (\n\t\t\t\t\t<Edit dataHandler={this.props.dataHandler}/>\n\t\t\t\t) }\n\t\t\t</Fragment>\n\t\t)\n\t}\n}\n\nexport default Image;","// WordPress Core\nimport { Component, Fragment } from '@wordpress/element';\nimport { RichText, BlockControls, MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { SelectControl, TextControl, Toolbar } from '@wordpress/components';\n\n// Utilities\nimport * as moment from 'moment';\nimport classNames from 'classnames/bind';\n\nimport { getTerms, Image } from \"../_shared\";\n\n// Elements\nimport { Item } from 'semantic-ui-react';\n\nconst ALLOWED_MEDIA_TYPES = [ 'image' ];\n\nconst formatDate = ( dateString ) => {\n\treturn moment(dateString).format(\"MMM D, YYYY\");\n}\n\nclass MetaEditor extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\topen: false,\n\t\t\teditLabel: false,\n\t\t\ttaxonomy: 'Formats',\n\t\t\tlabelOptions: [],\n\t\t}\n\t\tthis.setState = this.setState.bind(this);\n\t\tthis.getLabelOptions = this.getLabelOptions.bind(this);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.getLabelOptions();\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif ( this.state.taxonomy !== this.props.taxonomy ) {\n\t\t\tthis.getLabelOptions();\n\t\t}\n\t}\n\n\tgetLabelOptions() {\n\t\tif ( undefined === wp.api.collections[this.props.taxonomy] ) {\n\t\t\t// Exit early, critical error that we don't want to stop the block from loading.\n\t\t\treturn;\n\t\t}\n\t\tconst setState = this.setState;\n\t\t\n\t\tgetTerms(this.props.taxonomy).then((data)=>{\n\t\t\tlet labelOptions = [];\n\n\t\t\tfor (let termID in data) {\n\t\t\t\t// skip loop if the property is from prototype\n\t\t\t\tif (!data.hasOwnProperty(termID)) continue;\n\t\t\t\n\t\t\t\tlet termObj = data[termID];\n\t\t\t\tlabelOptions.push({\n\t\t\t\t\tvalue: termObj.name,\n\t\t\t\t\tlabel: termObj.name,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tlabelOptions.sort((a, b) =>(a.label > b.label) ? 1: -1);\n\n\t\t\tsetState({ taxonomy: this.props.taxonomy, labelOptions: labelOptions });\n\t\t});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<div style={{display: 'flex', alignItems: 'center'}}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tvalue={ this.props.label }\n\t\t\t\t\t\t\toptions={this.state.labelOptions}\n\t\t\t\t\t\t\tonChange={ ( label ) => { this.props.setAttributes({label}) } }\n\t\t\t\t\t\t\tstyle={{marginBottom: '0px'}}\n\t\t\t\t\t\t\tclassName='story-label-select'\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>&nbsp;|&nbsp;</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tvalue={ this.props.date }\n\t\t\t\t\t\t\tonChange={ ( date ) => {\n\t\t\t\t\t\t\t\tthis.props.setAttributes( { date: date } );\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Fragment>\n\t\t);\n\t}\n}\n\nconst Description = function({ content, enabled, setAttributes, sansSerif }) {\n\tlet classes = classNames( 'description', {'sans-serif': sansSerif} );\n\treturn(\n\t\t<Fragment>\n\t\t\t{ true === enabled && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\tonChange={ ( excerpt ) => setAttributes( { excerpt } ) } \n\t\t\t\t\t\t\tplaceholder={ content }\n\t\t\t\t\t\t\tmultiline=\"p\"\n\t\t\t\t\t\t\tclassName={ classes }\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\t\t\t\t\t{ false === setAttributes && ( \n\t\t\t\t\t\t<RichText.Content tagName=\"div\" value={ content } className={ classes }/>\n\t\t\t\t\t) }\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nconst Extra = function({ enabled, content, setAttributes }) {\n\tlet classes = classNames( 'extra' );\n\treturn(\n\t\t<Fragment>\n\t\t\t{ false !== setAttributes && true === enabled && (\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"ul\" // The tag here is the element output and editable in the admin\n\t\t\t\t\tvalue={ content } // Any existing content, either from the database or an attribute default\n\t\t\t\t\tonChange={ ( extra ) => setAttributes( { extra } ) } // Store updated content as a block attribute\n\t\t\t\t\tplaceholder={ content } // Display this text before any content has been added by the user\n\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\tclassName={ classes }\n\t\t\t\t/>\n\t\t\t) }\n\t\t\t{ false === setAttributes && true === enabled && ( \n\t\t\t\t<RichText.Content tagName=\"ul\" value={ content } className={ classes }/>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nconst Kicker = ({ label, date }) => {\n\tif ( undefined === label ) {\n\t\tlabel = \"Report\";\n\t}\n\tconst labelSlug = label.replace(/\\s+/g, '-').toLowerCase();\n\n\tlet classes = classNames( labelSlug, 'label' );\n\treturn(\n\t\t<Fragment><span className={classes}>{label ? label : 'Report'}</span> | {formatDate(date)}</Fragment>\n\t)\n}\n\nconst PostTitle = ({ title, link, size, as = 'a' }) => {\n\treturn(\n\t\t<RichText.Content href={link} tagName={as} value={title}/>\n\t)\n}\n\nconst Header = function({ title, label, date, link, enabled, size, taxonomy, setAttributes }) {\n\tconst currentSize = size;\n\tconst createSizeControls = function( size ) {\n\t\tlet active = false;\n\t\tif ( size === currentSize ) {\n\t\t\tactive = true;\n\t\t}\n        return {\n            icon: 'editor-textcolor',\n            title: `Size: ${ size }`,\n            isActive: active,\n            onClick: () => { setAttributes({ headerSize: size }) },\n        };\n\t}\n\treturn(\n\t\t<Fragment>\n\t\t\t{ true === enabled && (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Item.Meta>\n\t\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t\t<MetaEditor date={date} label={label} taxonomy={taxonomy} setAttributes={setAttributes}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ false === setAttributes && (             \n\t\t\t\t\t\t\t<Kicker label={label} date={date}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Item.Meta>\n\t\t\t\t\t<Item.Header className={size}>\n\t\t\t\t\t\t{ false !== setAttributes && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t\t\t\t<Toolbar controls={ [ 'small', 'normal', 'large' ].map( createSizeControls ) } />\n\t\t\t\t\t\t\t\t</BlockControls>\n\t\t\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\t\t\ttagName=\"div\" // The tag here is the element output and editable in the admin\n\t\t\t\t\t\t\t\t\tvalue={ title } // Any existing content, either from the database or an attribute default\n\t\t\t\t\t\t\t\t\tonChange={ ( title ) => setAttributes( { title } ) } // Store updated content as a block attribute\n\t\t\t\t\t\t\t\t\tplaceholder='Title' // Display this text before any content has been added by the user\n\t\t\t\t\t\t\t\t\tmultiline=\"br\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t) }\n\t\t\t\t\t\t{ false === setAttributes && ( \n\t\t\t\t\t\t\t<PostTitle title={title} link={link} as='a' size={size}/>\n\t\t\t\t\t\t) }\n\t\t\t\t\t</Item.Header>\n\t\t\t\t</Fragment>\n\t\t\t) }\n\t\t</Fragment>\n\t)\n}\n\nclass StoryItem extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.item = this.item.bind(this);\n\t}\n\n\titem = (attrs) => {\n\t\treturn(\n\t\t\t<Item as=\"article\" className={attrs.classes}>\n\t\t\t\t{ ( 'top' === attrs.imageSlot || 'left' === attrs.imageSlot ) && (\n\t\t\t\t\t<Image\n\t\t\t\t\t\timg={attrs.image}\n\t\t\t\t\t\tsize={attrs.imageSize}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tslot={attrs.imageSlot}\n\t\t\t\t\t\tchartArt={attrs.isChartArt}\n\t\t\t\t\t\tdataHandler={this.props.setAttributes}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t\t\n\t\t\t\t<Item.Content>\n\t\t\t\t\t<Header \n\t\t\t\t\t\ttitle={attrs.title}\n\t\t\t\t\t\tdate={attrs.date}\n\t\t\t\t\t\tlabel={attrs.label}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tsetAttributes={this.props.setAttributes}\n\t\t\t\t\t\tenabled={attrs.enableHeader}\n\t\t\t\t\t\tsize={attrs.headerSize}\n\t\t\t\t\t\ttaxonomy={attrs.taxonomy} // Where??\n\t\t\t\t\t/>\n\n\t\t\t\t\t{ 'default' === attrs.imageSlot && (\n\t\t\t\t\t\t<Image\n\t\t\t\t\t\t\timg={attrs.image}\n\t\t\t\t\t\t\tsize={attrs.imageSize}\n\t\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\t\tslot={attrs.imageSlot}\n\t\t\t\t\t\t\tchartArt={attrs.isChartArt}\n\t\t\t\t\t\t\tdataHandler={this.props.setAttributes}\n\t\t\t\t\t\t/>\n\t\t\t\t\t) }\n\n\t\t\t\t\t<Description content={attrs.excerpt} enabled={attrs.enableExcerpt} setAttributes={this.props.setAttributes} sansSerif={!attrs.enableHeader}/>\n\n\t\t\t\t\t<Extra enabled={attrs.enableExtra} content={attrs.extra} setAttributes={this.props.setAttributes}/>\n\t\t\t\t</Item.Content>\n\n\t\t\t\t{ ( 'bottom' === attrs.imageSlot || 'right' === attrs.imageSlot ) && (\n\t\t\t\t\t<Image\n\t\t\t\t\t\timg={attrs.image}\n\t\t\t\t\t\tsize={attrs.imageSize}\n\t\t\t\t\t\tlink={attrs.link}\n\t\t\t\t\t\tslot={attrs.imageSlot}\n\t\t\t\t\t\tchartArt={attrs.isChartArt}\n\t\t\t\t\t\tdataHandler={this.props.setAttributes}\n\t\t\t\t\t/>\n\t\t\t\t) }\n\t\t\t</Item>\n\t\t)\n\t}\n\n\trender() {\n\t\t// If the block is not selected, it is not in edit mode, disable setAttributes.\n\t\tif ( undefined === this.props.isSelected || true !== this.props.isSelected ) {\n\t\t\tthis.props.setAttributes = false;\n\t\t}\n\t\t\n\t\tthis.props.attributes.taxonomy = 'Formats';\n\t\tif ( true === this.props.attributes.enableProgramsTaxonomy ) {\n\t\t\tthis.props.attributes.taxonomy = 'Programs';\n\t\t}\n\n\t\tlet isStacked = true;\n\t\tif ( 'left' === this.props.attributes.imageSlot || 'right' === this.props.attributes.imageSlot ) {\n\t\t\tisStacked = false;\n\t\t}\n\n\t\tlet isBordered = false;\n\t\tif ( true === this.props.attributes.emphasis ) {\n\t\t\tisBordered = true;\n\t\t}\n\n\t\tthis.props.attributes.classes = classNames( this.props.attributes.className, 'story-item', {stacked: isStacked, bordered: isBordered} );\n\t\t\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t<this.item {...this.props.attributes}/>\n\t\t\t</Fragment>\n\t\t)\n\t}\t\n}\n\nexport default StoryItem;","/**\n * BLOCK: prc-blocks\n *\n * Registering a basic block with Gutenberg.\n * Simple block, renders and saves the same content without any interactivity.\n */\n\n//  Import CSS.\nimport './editor.scss';\n// Our front end styles are included in our theme\n\nimport { __ } from \"@wordpress/i18n\";\nimport { registerBlockType } from '@wordpress/blocks';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { Button, PanelBody, ToggleControl, TextControl } from '@wordpress/components';\nimport { Component, Fragment } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport * as moment from 'moment';\n\nimport StoryItem from './component';\n\nclass EditSidebar extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\turl: '',\n\t\t}\n\t\tthis.setPostByURL = this.setPostByURL.bind(this);\n\t}\n\n\tcomponentDidMount = () => {\n\t\tthis.setState({ url: this.props.attributes.link });\n\t}\n\n\t/**\n\t * Loading Posts\n\t */\n\tsetPostByURL = () => {\n\t\tconst setAttributes = this.props.setAttributes;\n\t\tlet url = this.props.attributes.link;\n\n\t\tconst getSiteIDFromURL = (url) => {\n\t\t\tconsole.log(url);\n\t\t\tlet siteID = 1;\n\t\t\tif ( url.includes(window.siteDomain + '/global/' ) ) {\n\t\t\t\tsiteID = 2;\n\t\t\t} else if ( url.includes(window.siteDomain + '/hispanic/' ) ) {\n\t\t\t\tsiteID = 5;\n\t\t\t} else if ( url.includes(window.siteDomain + '/science/' ) ) {\n\t\t\t\tsiteID = 16;\n\t\t\t} else if ( url.includes(window.siteDomain + '/methods/' ) ) {\n\t\t\t\tsiteID = 10;\n\t\t\t} else if ( url.includes(window.siteDomain + '/internet/' ) ) {\n\t\t\t\tsiteID = 9;\n\t\t\t} else if ( url.includes('https://www.people-press.org/' ) ) {\n\t\t\t\tsiteID = 4;\n\t\t\t} else if ( url.includes('https://www.pewforum.org/' ) ) {\n\t\t\t\tsiteID = 7;\n\t\t\t} else if ( url.includes('https://www.journalism.org/' ) ) {\n\t\t\t\tsiteID = 8;\n\t\t\t} else if ( url.includes('https://www.pewsocialtrends.org/' ) ) {\n\t\t\t\tsiteID = 3;\n\t\t\t} else if ( url.includes('https://www.pewresearch.org/' ) || url.includes(window.siteDomain) ) {\n\t\t\t\tsiteID = 1;\n\t\t\t}\n\t\t\treturn siteID;\n\t\t}\n\n\t\tif ( undefined === setAttributes || undefined === url ) {\n\t\t\treturn;\n\t\t}\n\n\t\tapiFetch( { path: '/prc-api/v2/blocks/helpers/get-post-by-url/?url=' + url + '&siteID=' + getSiteIDFromURL(url) } ).then( post => {\n\t\t\tconsole.info('Post Returned:');\n\t\t\tconsole.log(post);\n\t\t\tif ( false !== post ) {\n\t\t\t\tsetAttributes({\n\t\t\t\t\ttitle: post.title,\n\t\t\t\t\timage: post.image,\n\t\t\t\t\texcerpt: post.excerpt,\n\t\t\t\t\tlink: post.link,\n\t\t\t\t\tlabel: post.label,\n\t\t\t\t\tdate: post.date,\n\t\t\t\t\tpostID: post.id,\n\t\t\t\t\textra: '', // We want to clear extra when pulling a new post\n\t\t\t\t});\n\t\t\t}\n        } );\n\t} \n\n\trender = () => {\n\t\tconst setAttributes = this.props.setAttributes;\n\t\treturn(\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={ __( 'Story Item Options' ) }>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel=\"Post ID\"\n\t\t\t\t\t\t\tvalue={ this.props.attributes.postID }\n\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className='story-item-link'>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel=\"Link\"\n\t\t\t\t\t\t\t\tvalue={ this.props.attributes.link }\n\t\t\t\t\t\t\t\tonChange={ ( link ) => setAttributes({link}) }\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Button onClick={this.setPostByURL} isPrimary>Fetch</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<p><strong>Content Options:</strong></p>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableHeader ? 'Header Enabled' : 'Header Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableHeader }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ enableHeader: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableExcerpt ? 'Excerpt Enabled' : 'Excerpt Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableExcerpt }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ enableExcerpt: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableExtra ? 'Extras Enabled' : 'Extras Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableExtra }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ enableExtra: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.emphasis ? 'Emphasis Enabled' : 'Emphasis Disabled' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.emphasis }\n\t\t\t\t\t\t\tonChange={ (value) => { setAttributes({ emphasis: value }); } }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={ this.props.attributes.enableProgramsTaxonomy ? 'Programs' : 'Formats' }\n\t\t\t\t\t\t\tchecked={ this.props.attributes.enableProgramsTaxonomy }\n\t\t\t\t\t\t\tonChange={ (value) => { \n\t\t\t\t\t\t\t\tsetAttributes({ enableProgramsTaxonomy: value });\n\t\t\t\t\t\t\t} }\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t)\n\t}\n}\n\nconst todaysDate = () => {\n\treturn moment().format(\"MMM D, YYYY\");\n}\n\n/**\n * Register: aa Gutenberg Block.\n *\n * Registers a new block provided a unique name and an object defining its\n * behavior. Once registered, the block is made editor as an option to any\n * editor interface where blocks are implemented.\n *\n * @link https://wordpress.org/gutenberg/handbook/block-api/\n * @param  {string}   name     Block name.\n * @param  {Object}   settings Block settings.\n * @return {?WPBlock}          The block, if it has been successfully\n *                             registered; otherwise `undefined`.\n */\nregisterBlockType( 'prc-block/story-item', {\n\t// Block name. Block names must be string that contains a namespace prefix. Example: my-plugin/my-custom-block.\n\ttitle: __( 'Story Item' ), // Block title.\n\ticon: 'format-aside', // Block icon from Dashicons → https://developer.wordpress.org/resource/dashicons/.\n\tcategory: 'widgets', // Block category — Group blocks together based on common traits E.g. common, formatting, layout widgets, embed.\n\tkeywords: [\n\t\t__( 'prc' ),\n\t\t__( 'story' ),\n\t\t__( 'post' ),\n\t\t__( 'story item' ),\n\t],\n\tstyles: [\n\t\t{\n\t\t\tname: 'disabled',\n\t\t\tlabel: 'Image Disabled',\n\t\t},\n\t\t{\n\t\t\tname: 'default',\n\t\t\tlabel: 'Default Image Alignment',\n\t\t\tisDefault: true,\n\t\t},\n\t\t{\n\t\t\tname: 'top',\n\t\t\tlabel: 'Image Aligned Top',\n\t\t},\n\t\t{\n\t\t\tname: 'bottom',\n\t\t\tlabel: 'Image Aligned Bottom',\n\t\t},\n\t\t{\n\t\t\tname: 'left',\n\t\t\tlabel: 'Image Aligned Left',\n\t\t},\n\t\t{\n\t\t\tname: 'right',\n\t\t\tlabel: 'Image Aligned Right',\n\t\t}\n\t],\n\tsupports: {\n\t\thtml: false, // We do not want to give people the ability to edit the raw html of this block.\n\t},\n\t// Attributes are really react props. \n\tattributes: {\n\t\t// Item Content\n\t\ttitle: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Title',\n\t\t},\n\t\texcerpt: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tmultiline: 'p',\n\t\t\tselector: '.description',\n\t\t\tdefault: '<p>Excerpt</p>',\n\t\t},\n\t\textra: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tmultiline: 'li',\n\t\t\tselector: '.extra',\n\t\t\tdefault: '',\n\t\t},\n\t\t// Item Meta\n\t\tlink: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\tlabel: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'Report',\n\t\t},\n\t\tdate: {\n\t\t\ttype: 'string',\n\t\t\tdefault: todaysDate(),\n\t\t},\n\t\t// Images\n\t\timage: {\n\t\t\ttype: 'string',\n\t\t\tdefault: '',\n\t\t},\n\t\timageSlot: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'disabled',\n\t\t},\n\t\timageSize: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'A1',\n\t\t},\n\t\tisChartArt: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\t// Post Meta Data:\n\t\tpostID: {\n\t\t\ttype: 'integer',\n\t\t},\n\t\t// Item Options\n\t\temphasis: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\thorizontal: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tstacked: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tenableHeader: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tenableExcerpt: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tenableExtra: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tenableProgramsTaxonomy: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\theaderSize: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'normal',\n\t\t},\n\t},\n\n\t/**\n\t * The edit function describes the structure of your block in the context of the editor.\n\t * This represents what the editor will render when the block is used.\n\t *\n\t * The \"edit\" property must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Component.\n\t */\n\tedit: ( props ) => {\n\t\t// Set Image Slot by Style\n\t\tif ( 'is-style-default' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'default' });\n\t\t} else if ( 'is-style-top' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'top' });\n\t\t} else if ( 'is-style-bottom' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'bottom' });\n\t\t} else if ( 'is-style-left' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'left' });\n\t\t} else if ( 'is-style-right' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'right' });\n\t\t} else if ( 'is-style-disabled' === props.attributes.className ) {\n\t\t\tprops.setAttributes({ imageSlot: 'disabled' });\n\t\t}\n\t\tconsole.log('StoryItem');\n\t\tconsole.log(props);\n\t\treturn(\n\t\t\t<Fragment>\n\t\t\t\t{ true === props.isSelected && (\n\t\t\t\t\t<EditSidebar {...props}/>\n\t\t\t\t) }\n\t\t\t\t<StoryItem {...props}/>\n\t\t\t</Fragment>\n\t\t)\n\t},\n\n\t// Seth Learning Note: SO save literally only transforms on post_content filter. You won't see this result inside the gutenberg editor, you will however see it if you look at code view.\n\t/**\n\t * The save function defines the way in which the different attributes should be combined\n\t * into the final markup, which is then serialized by Gutenberg into post_content.\n\t *\n\t * The \"save\" property must be specified and must be a valid function.\n\t *\n\t * @link https://wordpress.org/gutenberg/handbook/block-api/block-edit-save/\n\t *\n\t * @param {Object} props Props.\n\t * @returns {Mixed} JSX Frontend HTML.\n\t */\n\tsave: ( props ) => {\n\t\treturn (\n\t\t\t<StoryItem {...props}/>\n\t\t);\n\t},\n} );\n","module.exports = moment;","module.exports = wp.i18n;","module.exports = ReactDOM;","module.exports = wp.element;"],"sourceRoot":""}