{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.element\"","webpack:///external \"wp.blockEditor\"","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/_shared/helpers/get-terms/index.js","webpack:///./src/_shared/helpers/if-match-set-attribute/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@wordpress/keycodes/build-module/platform.js","webpack:///./node_modules/@wordpress/keycodes/build-module/index.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./src/_shared/components/story-item/index.js","webpack:///./src/_shared/components/link-toolbar-button/index.js","webpack:///./src/_shared/components/wpQueryPinControl/index.js","webpack:///./src/story-item/edit/controls.js","webpack:///./src/story-item/edit/image.js","webpack:///./src/story-item/edit/description.js","webpack:///./src/story-item/edit/extra.js","webpack:///./src/story-item/edit/header.js","webpack:///./src/story-item/edit/index.js","webpack:///./src/story-item/save.js","webpack:///./src/story-item/deprecated.js","webpack:///./src/story-item/transforms.js","webpack:///./src/story-item/index.js","webpack:///external \"lodash\"","webpack:///./src/_shared/components/story-item/_shared/image/index.js","webpack:///./src/_shared/components/story-item/_shared/kicker/index.js","webpack:///external \"moment\"","webpack:///external \"wp.apiFetch\"","webpack:///external \"wp.components\"","webpack:///external \"wp.data\"","webpack:///external \"wp.blocks\"","webpack:///external \"wp.url\"","webpack:///external \"ReactDOM\"","webpack:///./src/_shared/components/story-item/display/image.js","webpack:///./src/_shared/components/story-item/display/description.js","webpack:///./src/_shared/components/story-item/display/extra.js","webpack:///./src/_shared/components/story-item/display/kicker.js","webpack:///./src/_shared/components/story-item/display/header.js","webpack:///./src/_shared/components/story-item/display/index.js","webpack:///external \"wp.i18n\""],"names":["module","exports","React","wp","element","blockEditor","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","getTerms","taxonomy","perPage","Promise","resolve","data","apiFetch","path","then","terms","index","length","slug","replace","toLowerCase","id","name","parent","ifMatchSetAttribute","needle","haystack","attrKey","attrValue","setAttributes","_arrayLikeToArray","arr","len","i","arr2","Array","_unsupportedIterableToArray","o","minLen","n","prototype","toString","call","slice","constructor","from","test","_toConsumableArray","isArray","iter","Symbol","iterator","TypeError","isAppleOS","_window","arguments","undefined","window","platform","navigator","indexOf","ALT","CTRL","COMMAND","SHIFT","modifiers","primary","_isApple","primaryShift","primaryAlt","secondary","access","ctrl","alt","ctrlShift","shift","shiftAlt","displayShortcutList","modifier","character","concat","join","_replacementKeyMap","isApple","replacementKeyMap","modifierKeys","reduce","accumulator","replacementKey","capitalizedCharacter","shortcutList","_replacementKeyMap2","map","getEventModifiers","event","filter","getModifiers","mods","eventMods","_slicedToArray","_arr","_n","_d","_e","_s","_i","next","done","push","err","WpQueryPinControls","wpQueryContext","rootClientId","postId","console","log","isActive","includes","controls","icon","title","onClick","newData","findIndex","x","splice","dispatch","updateBlockAttributes","pinned","JSON","stringify","setPostAsAttributes","post","storyItem","hasOwnProperty","rendered","excerpt","link","label","date","postID","extra","art","image","setPostByURL","url","method","catch","error","setPostByStubID","refresh","URLControl","useState","isLinkOpen","setIsLinkOpen","aria-expanded","aria-haspopup","__","showTooltip","position","onClose","className","showInitialSuggestions","suggestionsQuery","type","subtype","onChange","p","settings","POPOVER_PROPS","isAlternate","ToolbarDropdown","selected","options","iconPaths","prefixLabel","iconWidth","iconHeight","iconViewBox","Icon","isPressed","width","height","viewBox","xmlns","d","popoverProps","renderToggle","onToggle","isOpen","renderContent","isCollapsed","size","sprintf","ToolbarControls","attributes","imageSize","imageSlot","headerSize","isChartArt","newLevel","1","2","3","newSize","A1","A2","A3","A4","XL","Controls","context","isRefreshing","enableHeader","enableExcerpt","enableExcerptBelow","enableExtra","enableBreakingNews","enableEmphasis","enableProgramsTaxonomy","useEffect","isEmpty","isInteger","isSecondary","isBusy","style","marginBottom","checked","prcBreakingNews","alert","ALLOWED_MEDIA_TYPES","Edit","img","setArt","rawUrl","chartArt","onSelect","media","allowedTypes","render","openFn","open","placeholder","Img","slot","isXL","isA1","isA2","isA3","isA4","classNames","ui","bordered","Description","content","sansSerif","enabled","classes","tagName","multiline","Content","Extra","breakingNews","href","KickerEditor","labelOptions","setLabelOptions","termValue","sortByLabel","keys","forEach","termObj","sort","a","b","getTermsAsOptions","display","alignItems","l","Header","altHeaderWeight","large","medium","small","light","Item","Meta","t","allowedFormats","edit","isSelected","clientId","useSelect","select","getBlockRootClientId","dataHandler","enableAltHeaderWeight","stacked","setImageSlotByClassName","TopAndLeftSlot","DefaultSlot","BottomAndRightSlot","parse","as","save","supports","metadata","LegacyStoryItem","data-label","data-date","data-link","data-image","data-imageSlot","data-imageSize","data-headerSize","data-className","data-emphasis","data-breakingNews","data-excerptbelow","data-chartArt","deprecated","default","source","selector","migrate","props","isEligible","transforms","isMatch","node","nodeName","textContent","transform","createBlock","trim","to","blocks","description","keywords","example","moment","format","variations","isDefault","registerBlockType","lodash","hidpi","smallHidpi","legacy","ImageDisplay","getImgURL","variant","args","resize","addQueryArgs","getImgSrcSet","threshold","srcSet","src","sources","KickerDisplay","labelSlug","components","ReactDOM","Image","isStyleMobileLoop","parseInt","StoryItem","extraContent","inLoop","isSmall","useMediaQuery","isStacked","location","i18n"],"mappings":"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","file":"story-item/main-8b942369.js","sourcesContent":["module.exports = React;","module.exports = wp.element;","module.exports = wp.blockEditor;","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","// @TODO: convert froomo wp api to apifetch https://www.npmjs.com/package/@wordpress/api-fetch\nimport apiFetch from '@wordpress/api-fetch';\n\nconst getTermsByLetter = (taxonomy, letter) => {\n    return new Promise(resolve => {\n        apiFetch({\n            path: `/prc-api/v2/blocks/helpers/get-taxonomy-by-letter/?taxonomy=${taxonomy}&letter=${letter}`,\n        }).then(terms => {\n            resolve(terms);\n        });\n    });\n};\n\nconst getTerms = (taxonomy, perPage = 25) => {\n    return new Promise(resolve => {\n        const data = {};\n        apiFetch({\n            path: `/wp/v2/${taxonomy}?per_page=${perPage}`,\n        }).then(terms => {\n            for (let index = 0; index < terms.length; index++) {\n                const slug = terms[index].slug.replace(\n                    `${taxonomy.toLowerCase()}_`,\n                    '',\n                );\n                data[terms[index].id] = {\n                    id: terms[index].id,\n                    name: terms[index].name,\n                    parent: terms[index].parent,\n                    slug,\n                };\n            }\n            resolve(data);\n        });\n    });\n};\n\nconst getTermsAsOptions = (\n    taxonomy,\n    perPage,\n    termValue = 'name',\n    sortByLabel = true,\n) => {\n    return new Promise(resolve => {\n        getTerms(taxonomy, perPage).then(data => {\n            const labelOptions = [];\n\n            Object.keys(data).forEach(key => {\n                const termObj = data[key];\n\n                let value = termObj.name;\n                if ('termid' === termValue) {\n                    value = termObj.id;\n                }\n\n                let label = termObj.name;\n                if (undefined !== termObj.parent && 0 !== termObj.parent) {\n                    label = ` -- ${label}`;\n                }\n\n                labelOptions.push({\n                    value,\n                    label,\n                });\n            });\n\n            if (false !== sortByLabel) {\n                labelOptions.sort((a, b) => (a.label > b.label ? 1 : -1));\n            }\n\n            resolve(labelOptions);\n        });\n    });\n};\n\nconst getTermsAsTree = taxonomy => {\n    return new Promise(resolve => {\n        getTerms(taxonomy).then(data => {\n            const treeData = [];\n            // Convert data from object of objects to array of objects.\n            const convertedData = Object.keys(data).map(i => data[i]);\n            // Filter out the parent terms first\n            const parentTerms = convertedData.filter(e => 0 === e.parent);\n            parentTerms.forEach(e => {\n                // Get children by filtering for terms with parent matching this id in loop.\n                const c = convertedData.filter(f => f.parent === e.id);\n                const children = [];\n                // Construct children array.\n                c.forEach(cT => {\n                    children.push({\n                        name: cT.name,\n                        id: cT.id,\n                    });\n                });\n                // Finally, push the fully structured parent -> child relationship to the tree data.\n                treeData.push({\n                    name: e.name,\n                    id: e.id,\n                    children,\n                });\n            });\n\n            resolve(treeData);\n        });\n    });\n};\n\nexport default getTerms;\nexport { getTerms, getTermsByLetter, getTermsAsOptions, getTermsAsTree };\n","const ifMatchSetAttribute = (\n    needle,\n    haystack,\n    attrKey,\n    attrValue,\n    setAttributes,\n) => {\n    if (needle === haystack) {\n        setAttributes({ [attrKey]: attrValue });\n    }\n};\n\nexport default ifMatchSetAttribute;\n","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","/**\n * External dependencies\n */import{includes}from'lodash';/**\n * Return true if platform is MacOS.\n *\n * @param {Object} _window   window object by default; used for DI testing.\n *\n * @return {boolean}         True if MacOS; false otherwise.\n */export function isAppleOS(){var _window=arguments.length>0&&arguments[0]!==undefined?arguments[0]:window;var platform=_window.navigator.platform;return platform.indexOf('Mac')!==-1||includes(['iPad','iPhone'],platform);}","import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";/**\n * Note: The order of the modifier keys in many of the [foo]Shortcut()\n * functions in this file are intentional and should not be changed. They're\n * designed to fit with the standard menu keyboard shortcuts shown in the\n * user's platform.\n *\n * For example, on MacOS menu shortcuts will place Shift before Command, but\n * on Windows Control will usually come first. So don't provide your own\n * shortcut combos directly to keyboardShortcut().\n */ /**\n * External dependencies\n */import{get,mapValues,includes,capitalize,xor}from'lodash';/**\n * WordPress dependencies\n */import{__}from'@wordpress/i18n';/**\n * Internal dependencies\n */import{isAppleOS}from'./platform';/**\n * @typedef {'primary'|'primaryShift'|'primaryAlt'|'secondary'|'access'|'ctrl'|'alt'|'ctrlShift'|'shift'|'shiftAlt'} WPKeycodeModifier\n */ /**\n * An object of handler functions for each of the possible modifier\n * combinations. A handler will return a value for a given key.\n *\n * @typedef {Record<WPKeycodeModifier, (key:string)=>any>} WPKeycodeHandlerByModifier\n */ /**\n * Keycode for BACKSPACE key.\n */export var BACKSPACE=8;/**\n * Keycode for TAB key.\n */export var TAB=9;/**\n * Keycode for ENTER key.\n */export var ENTER=13;/**\n * Keycode for ESCAPE key.\n */export var ESCAPE=27;/**\n * Keycode for SPACE key.\n */export var SPACE=32;/**\n * Keycode for LEFT key.\n */export var LEFT=37;/**\n * Keycode for UP key.\n */export var UP=38;/**\n * Keycode for RIGHT key.\n */export var RIGHT=39;/**\n * Keycode for DOWN key.\n */export var DOWN=40;/**\n * Keycode for DELETE key.\n */export var DELETE=46;/**\n * Keycode for F10 key.\n */export var F10=121;/**\n * Keycode for ALT key.\n */export var ALT='alt';/**\n * Keycode for CTRL key.\n */export var CTRL='ctrl';/**\n * Keycode for COMMAND/META key.\n */export var COMMAND='meta';/**\n * Keycode for SHIFT key.\n */export var SHIFT='shift';/**\n * Keycode for ZERO key.\n */export var ZERO=48;/**\n * Object that contains functions that return the available modifier\n * depending on platform.\n *\n * - `primary`: takes a isApple function as a parameter.\n * - `primaryShift`: takes a isApple function as a parameter.\n * - `primaryAlt`: takes a isApple function as a parameter.\n * - `secondary`: takes a isApple function as a parameter.\n * - `access`: takes a isApple function as a parameter.\n * - `ctrl`\n * - `alt`\n * - `ctrlShift`\n * - `shift`\n * - `shiftAlt`\n */export var modifiers={primary:function primary(_isApple){return _isApple()?[COMMAND]:[CTRL];},primaryShift:function primaryShift(_isApple){return _isApple()?[SHIFT,COMMAND]:[CTRL,SHIFT];},primaryAlt:function primaryAlt(_isApple){return _isApple()?[ALT,COMMAND]:[CTRL,ALT];},secondary:function secondary(_isApple){return _isApple()?[SHIFT,ALT,COMMAND]:[CTRL,SHIFT,ALT];},access:function access(_isApple){return _isApple()?[CTRL,ALT]:[SHIFT,ALT];},ctrl:function ctrl(){return[CTRL];},alt:function alt(){return[ALT];},ctrlShift:function ctrlShift(){return[CTRL,SHIFT];},shift:function shift(){return[SHIFT];},shiftAlt:function shiftAlt(){return[SHIFT,ALT];}};/**\n * An object that contains functions to get raw shortcuts.\n * E.g. rawShortcut.primary( 'm' ) will return 'meta+m' on Mac.\n * These are intended for user with the KeyboardShortcuts component or TinyMCE.\n *\n * @type {WPKeycodeHandlerByModifier} Keyed map of functions to raw shortcuts.\n */export var rawShortcut=mapValues(modifiers,function(modifier){return function(character){var _isApple=arguments.length>1&&arguments[1]!==undefined?arguments[1]:isAppleOS;return[].concat(_toConsumableArray(modifier(_isApple)),[character.toLowerCase()]).join('+');};});/**\n * Return an array of the parts of a keyboard shortcut chord for display\n * E.g displayShortcutList.primary( 'm' ) will return [ '⌘', 'M' ] on Mac.\n *\n * @type {WPKeycodeHandlerByModifier} Keyed map of functions to shortcut\n *                                    sequences.\n */export var displayShortcutList=mapValues(modifiers,function(modifier){return function(character){var _replacementKeyMap;var _isApple=arguments.length>1&&arguments[1]!==undefined?arguments[1]:isAppleOS;var isApple=_isApple();var replacementKeyMap=(_replacementKeyMap={},_defineProperty(_replacementKeyMap,ALT,isApple?'⌥':'Alt'),_defineProperty(_replacementKeyMap,CTRL,isApple?'⌃':'Ctrl'),_defineProperty(_replacementKeyMap,COMMAND,'⌘'),_defineProperty(_replacementKeyMap,SHIFT,isApple?'⇧':'Shift'),_replacementKeyMap);var modifierKeys=modifier(_isApple).reduce(function(accumulator,key){var replacementKey=get(replacementKeyMap,key,key);// If on the Mac, adhere to platform convention and don't show plus between keys.\nif(isApple){return[].concat(_toConsumableArray(accumulator),[replacementKey]);}return[].concat(_toConsumableArray(accumulator),[replacementKey,'+']);},[]);var capitalizedCharacter=capitalize(character);return[].concat(_toConsumableArray(modifierKeys),[capitalizedCharacter]);};});/**\n * An object that contains functions to display shortcuts.\n * E.g. displayShortcut.primary( 'm' ) will return '⌘M' on Mac.\n *\n * @type {WPKeycodeHandlerByModifier} Keyed map of functions to display\n *                                    shortcuts.\n */export var displayShortcut=mapValues(displayShortcutList,function(shortcutList){return function(character){var _isApple=arguments.length>1&&arguments[1]!==undefined?arguments[1]:isAppleOS;return shortcutList(character,_isApple).join('');};});/**\n * An object that contains functions to return an aria label for a keyboard shortcut.\n * E.g. shortcutAriaLabel.primary( '.' ) will return 'Command + Period' on Mac.\n *\n * @type {WPKeycodeHandlerByModifier} Keyed map of functions to shortcut ARIA\n *                                    labels.\n */export var shortcutAriaLabel=mapValues(modifiers,function(modifier){return function(character){var _replacementKeyMap2;var _isApple=arguments.length>1&&arguments[1]!==undefined?arguments[1]:isAppleOS;var isApple=_isApple();var replacementKeyMap=(_replacementKeyMap2={},_defineProperty(_replacementKeyMap2,SHIFT,'Shift'),_defineProperty(_replacementKeyMap2,COMMAND,isApple?'Command':'Control'),_defineProperty(_replacementKeyMap2,CTRL,'Control'),_defineProperty(_replacementKeyMap2,ALT,isApple?'Option':'Alt'),_defineProperty(_replacementKeyMap2,',',__('Comma')),_defineProperty(_replacementKeyMap2,'.',__('Period')),_defineProperty(_replacementKeyMap2,'`',__('Backtick')),_replacementKeyMap2);return[].concat(_toConsumableArray(modifier(_isApple)),[character]).map(function(key){return capitalize(get(replacementKeyMap,key,key));}).join(isApple?' ':' + ');};});/**\n * From a given KeyboardEvent, returns an array of active modifier constants for\n * the event.\n *\n * @param {KeyboardEvent} event Keyboard event.\n *\n * @return {Array<ALT|CTRL|COMMAND|SHIFT>} Active modifier constants.\n */function getEventModifiers(event){return[ALT,CTRL,COMMAND,SHIFT].filter(function(key){return event[\"\".concat(key,\"Key\")];});}/**\n * An object that contains functions to check if a keyboard event matches a\n * predefined shortcut combination.\n * E.g. isKeyboardEvent.primary( event, 'm' ) will return true if the event\n * signals pressing ⌘M.\n *\n * @type {WPKeycodeHandlerByModifier} Keyed map of functions to match events.\n */export var isKeyboardEvent=mapValues(modifiers,function(getModifiers){return function(event,character){var _isApple=arguments.length>2&&arguments[2]!==undefined?arguments[2]:isAppleOS;var mods=getModifiers(_isApple);var eventMods=getEventModifiers(event);if(xor(mods,eventMods).length){return false;}if(!character){return includes(mods,event.key.toLowerCase());}return event.key===character;};});","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import Display from './display';\n\nexport default Display;\n","import { __ } from '@wordpress/i18n';\nimport { __experimentalLinkControl as LinkControl } from '@wordpress/block-editor';\nimport { Fragment, useEffect, useState } from '@wordpress/element';\nimport { ToolbarButton, Popover } from '@wordpress/components';\n\n/**\n * Link control in a toolbar button that defaults to searching for topic terms\n */\nconst LinkToolbarButton = ({\n    url,\n    onChange,\n    query = { type: 'term', subtype: 'topic' },\n}) => {\n    const [isLinkOpen, setIsLinkOpen] = useState(false);\n    return (\n        <Fragment>\n            <ToolbarButton\n                aria-expanded={isLinkOpen}\n                aria-haspopup=\"true\"\n                label={__('Set Link')}\n                icon=\"admin-links\"\n                onClick={() => setIsLinkOpen(!isLinkOpen)}\n                showTooltip\n            />\n            {true === isLinkOpen && (\n                <Popover\n                    position=\"bottom center\"\n                    onClose={() => setIsLinkOpen(false)}\n                >\n                    <LinkControl\n                        className=\"wp-block-navigation-link__inline-link-input\"\n                        value={{ url }}\n                        showInitialSuggestions\n                        suggestionsQuery={query}\n                        onChange={p => onChange(p)}\n                        settings={[]}\n                    />\n                </Popover>\n            )}\n        </Fragment>\n    );\n};\n\nexport default LinkToolbarButton;\n","import { dispatch } from '@wordpress/data';\nimport { Toolbar } from '@wordpress/components';\nimport { BlockControls } from '@wordpress/block-editor';\n\nconst WpQueryPinControls = ({ wpQueryContext, rootClientId, postId }) => {\n    console.log('<ContextControls>', wpQueryContext, rootClientId, postId);\n    const isActive = wpQueryContext.includes(postId);\n    console.log('isActive?', isActive);\n    return (\n        <BlockControls>\n            <Toolbar\n                controls={[\n                    {\n                        icon: 'sticky',\n                        title: 'Pin This',\n                        isActive,\n                        onClick: () => {\n                            const newData = wpQueryContext;\n                            // Check if already exists if not treat as new if so then remove.\n                            const i = newData.findIndex(x => x === postId);\n                            if (-1 === i) {\n                                newData.push(postId);\n                            } else {\n                                newData.splice(i, 1);\n                            }\n                            console.log('dispatching...', postId);\n                            console.log(newData);\n                            dispatch('core/block-editor').updateBlockAttributes(\n                                rootClientId,\n                                {\n                                    pinned: JSON.stringify(newData),\n                                },\n                            );\n                        },\n                    },\n                ]}\n            />\n        </BlockControls>\n    );\n};\n\nexport default WpQueryPinControls;\n","import { __, sprintf } from '@wordpress/i18n';\nimport { isEmpty, isInteger } from 'lodash';\nimport { dispatch } from '@wordpress/data';\nimport {\n    InspectorControls,\n    BlockControls,\n    __experimentalLinkControl as LinkControl,\n} from '@wordpress/block-editor';\nimport { Fragment, useEffect, useState } from '@wordpress/element';\nimport {\n    BaseControl,\n    Button,\n    PanelBody,\n    ToggleControl,\n    TextControl,\n    Dropdown,\n    Toolbar,\n    ToolbarButton,\n    ToolbarGroup,\n    Path,\n    SVG,\n    Popover,\n    TabPanel,\n    PanelRow,\n} from '@wordpress/components';\nimport apiFetch from '@wordpress/api-fetch';\nimport { isURL, prependHTTP } from '@wordpress/url';\nimport WpQueryPinControls from '../../_shared/components/wpQueryPinControl'; // Supports pinning items to the wpQuery block using block context.\n\nconst setPostAsAttributes = (post, setAttributes) => {\n    const storyItem = {\n        title: post.title.hasOwnProperty('rendered')\n            ? post.title.rendered\n            : post.title,\n        excerpt: post.excerpt.hasOwnProperty('rendered')\n            ? post.excerpt.rendered\n            : post.excerpt,\n        link: post.link,\n        label: post.hasOwnProperty('label') ? post.label : 'Report',\n        date: post.date,\n        postID: post.id,\n        extra: '', // We want to clear extra when pulling a new post\n    };\n    // If the post has art then let the image editor mounting effect handle setting it.\n    // Get art...\n    if (!post.art) {\n        storyItem.image = post.image;\n    }\n    setAttributes(storyItem);\n};\n\n/**\n * Set's post attributes by url if a post is not found then failover and set just the link as what was passed through.\n * @param {string} url\n * @param {func} setAttributes\n */\nconst setPostByURL = (url, setAttributes) => {\n    if (undefined === url || undefined === setAttributes) {\n        return;\n    }\n    apiFetch({\n        path: '/prc-api/v2/blocks/helpers/get-post-by-url',\n        method: 'POST',\n        data: { url },\n    })\n        .then(post => {\n            console.log('setPostbyURL', post);\n            if (false !== post) {\n                setPostAsAttributes(post, setAttributes);\n            }\n        })\n        .catch(err => {\n            console.error(err);\n            setAttributes({ link: url });\n        });\n};\n\nconst setPostByStubID = (postId, setAttributes, refresh) => {\n    if (undefined === postId || undefined === setAttributes) {\n        return;\n    }\n    if (undefined !== refresh) {\n        refresh(true);\n    }\n    apiFetch({\n        path: `/wp/v2/stub/${postId}`,\n        method: 'GET',\n    })\n        .then(post => {\n            console.log('setPostByStubID', postId, post);\n            if (false !== post) {\n                // We should lookup the meta link here real quick and apply that to the post.link object before posting attributes.\n                setPostAsAttributes(post, setAttributes);\n            }\n        })\n        .catch(err => console.error(err))\n        .then(() => {\n            if (undefined !== refresh) {\n                refresh(false);\n            }\n        });\n};\n\nconst URLControl = ({ url, setAttributes }) => {\n    const [isLinkOpen, setIsLinkOpen] = useState(false);\n    return (\n        <Fragment>\n            <ToolbarButton\n                aria-expanded={isLinkOpen}\n                aria-haspopup=\"true\"\n                label={__('Set Link')}\n                icon=\"admin-links\"\n                onClick={() => setIsLinkOpen(!isLinkOpen)}\n                showTooltip\n            />\n            {true === isLinkOpen && (\n                <Popover\n                    position=\"bottom center\"\n                    onClose={() => setIsLinkOpen(false)}\n                >\n                    <LinkControl\n                        className=\"wp-block-navigation-link__inline-link-input\"\n                        value={{ url }}\n                        showInitialSuggestions\n                        suggestionsQuery={{ type: 'post', subtype: 'stub' }}\n                        onChange={p => {\n                            // If for whatever reason what is returned does not have the url property then bail out.\n                            if (!p.hasOwnProperty('url')) {\n                                return;\n                            }\n                            // If this returns an  ID then its a stub id so we can go ahead and get info from wp api.\n                            if (p.hasOwnProperty('id')) {\n                                setPostByStubID(p.id, setAttributes);\n                            } else {\n                                setPostByURL(p.url, setAttributes);\n                            }\n                        }} // Does return the post id so we could just go set that shit\n                        settings={[]}\n                    />\n                </Popover>\n            )}\n        </Fragment>\n    );\n};\n\nconst POPOVER_PROPS = {\n    className: 'block-library-heading-level-dropdown',\n    isAlternate: true,\n};\n\nconst ToolbarDropdown = ({\n    selected,\n    options,\n    iconPaths,\n    label,\n    prefixLabel = '%s',\n    onChange,\n    iconWidth = '24',\n    iconHeight = '24',\n    iconViewBox = '0 0 24 24',\n}) => {\n    const Icon = ({ selected, isPressed = false }) => {\n        if (!iconPaths.hasOwnProperty(selected)) {\n            return null;\n        }\n\n        return (\n            <SVG\n                width={iconWidth}\n                height={iconHeight}\n                viewBox={iconViewBox}\n                xmlns=\"http://www.w3.org/2000/svg\"\n                isPressed={isPressed}\n            >\n                <Path d={iconPaths[selected]} />\n            </SVG>\n        );\n    };\n\n    return (\n        <Dropdown\n            popoverProps={POPOVER_PROPS}\n            renderToggle={({ onToggle, isOpen }) => {\n                return (\n                    <ToolbarButton\n                        aria-expanded={isOpen}\n                        aria-haspopup=\"true\"\n                        icon={<Icon selected={selected} />}\n                        label={label}\n                        onClick={onToggle}\n                        showTooltip\n                    />\n                );\n            }}\n            renderContent={() => (\n                <Toolbar\n                    className=\"block-library-heading-level-toolbar\"\n                    label={label}\n                >\n                    <ToolbarGroup\n                        isCollapsed={false}\n                        controls={options.map((size, index) => {\n                            const isActive = selected === size;\n                            return {\n                                icon: (\n                                    <Icon\n                                        selected={size}\n                                        isPressed={isActive}\n                                    />\n                                ),\n                                title: sprintf(\n                                    // translators: %s: heading level e.g: \"1\", \"2\", \"3\"\n                                    __(prefixLabel),\n                                    size,\n                                ),\n                                isActive,\n                                onClick() {\n                                    onChange(size);\n                                },\n                            };\n                        })}\n                    />\n                </Toolbar>\n            )}\n        />\n    );\n};\n\nconst ToolbarControls = ({ attributes, setAttributes }) => {\n    const { link, imageSize, imageSlot, headerSize, isChartArt } = attributes;\n    return (\n        <BlockControls>\n            <ToolbarGroup>\n                <URLControl url={link} setAttributes={setAttributes} />\n            </ToolbarGroup>\n            <ToolbarGroup>\n                <ToolbarDropdown\n                    label={__('Change Heading Level')}\n                    selected={headerSize}\n                    options={[1, 2, 3]}\n                    onChange={newLevel =>\n                        setAttributes({ headerSize: newLevel })\n                    }\n                    iconPaths={{\n                        1: 'M9 5h2v10H9v-4H5v4H3V5h2v4h4V5zm6.6 0c-.6.9-1.5 1.7-2.6 2v1h2v7h2V5h-1.4z',\n                        2: 'M7 5h2v10H7v-4H3v4H1V5h2v4h4V5zm8 8c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6V15h8v-2H15z',\n                        3: 'M12.1 12.2c.4.3.8.5 1.2.7.4.2.9.3 1.4.3.5 0 1-.1 1.4-.3.3-.1.5-.5.5-.8 0-.2 0-.4-.1-.6-.1-.2-.3-.3-.5-.4-.3-.1-.7-.2-1-.3-.5-.1-1-.1-1.5-.1V9.1c.7.1 1.5-.1 2.2-.4.4-.2.6-.5.6-.9 0-.3-.1-.6-.4-.8-.3-.2-.7-.3-1.1-.3-.4 0-.8.1-1.1.3-.4.2-.7.4-1.1.6l-1.2-1.4c.5-.4 1.1-.7 1.6-.9.5-.2 1.2-.3 1.8-.3.5 0 1 .1 1.6.2.4.1.8.3 1.2.5.3.2.6.5.8.8.2.3.3.7.3 1.1 0 .5-.2.9-.5 1.3-.4.4-.9.7-1.5.9v.1c.6.1 1.2.4 1.6.8.4.4.7.9.7 1.5 0 .4-.1.8-.3 1.2-.2.4-.5.7-.9.9-.4.3-.9.4-1.3.5-.5.1-1 .2-1.6.2-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1l1.1-1.4zM7 9H3V5H1v10h2v-4h4v4h2V5H7v4z',\n                    }}\n                    iconHeight=\"24\"\n                    iconWidth=\"24\"\n                    prefixLabel=\"Heading %d\"\n                    iconViewBox=\"0 0 20 20\"\n                />\n            </ToolbarGroup>\n            {'disabled' !== imageSlot && (\n                <ToolbarGroup>\n                    {!['legacy-260', 'legacy-260-173'].includes(imageSize) && (\n                        <ToolbarDropdown\n                            label={__('Change Image Size')}\n                            selected={imageSize}\n                            options={['A1', 'A2', 'A3', 'A4', 'XL']}\n                            onChange={newSize =>\n                                setAttributes({ imageSize: newSize })\n                            }\n                            iconPaths={{\n                                A1:\n                                    'M12.13,18.09h-3l-.74-2.46H4.49l-.75,2.46H1.27l3.84-12H8.36ZM7.72,13.41,6.44,9.2,5.16,13.41Z M13.31,8.35a7,7,0,0,0,4-2.44h2v10h3.33v2.19H13V15.9h3.63V9a23.54,23.54,0,0,1-3.33,1.78Z',\n                                A2:\n                                    'M12.5,18.09h-3l-.74-2.46H4.86l-.75,2.46H1.64l3.83-12H8.73ZM8.09,13.41,6.81,9.2,5.53,13.41Z M22.16,18.09h-9V15.75l.72-.52,1.46-1a31.07,31.07,0,0,0,3.1-2.6,2.74,2.74,0,0,0,.9-1.87,1.55,1.55,0,0,0-1.66-1.6c-1.19,0-1.86.76-2,2.3l-2.48-.55c.56-2.67,2.11-4,4.66-4a4.37,4.37,0,0,1,3,.91A3.5,3.5,0,0,1,22.2,9.69c0,1.51-.69,2.61-2.52,4a33.64,33.64,0,0,1-3.06,2h5.74Z',\n                                A3:\n                                    'M12.52,18h-3l-.74-2.47H4.89L4.13,18H1.67L5.5,6H8.76ZM8.11,13.32,6.83,9.11,5.56,13.32Z M17.38,10.75a1.87,1.87,0,0,0,1.46-.47,1.36,1.36,0,0,0,.38-.94A1.5,1.5,0,0,0,17.6,7.89c-1,0-1.51.45-1.84,1.53L13.28,9a3.62,3.62,0,0,1,1.1-2,4.58,4.58,0,0,1,3.33-1.24C20.24,5.82,22,7.13,22,9a2.69,2.69,0,0,1-2,2.68,3.09,3.09,0,0,1,1.51.74,2.73,2.73,0,0,1,.9,2.11c0,2.19-1.82,3.61-4.64,3.61A4.67,4.67,0,0,1,14.23,17a3.88,3.88,0,0,1-1.31-2.45l2.55-.36A2,2,0,0,0,17.63,16a1.64,1.64,0,0,0,1.84-1.62,1.55,1.55,0,0,0-.61-1.27,3,3,0,0,0-1.66-.27H16.1V10.75Z',\n                                A4:\n                                    'M12.31,18.09h-3l-.74-2.46H4.67l-.75,2.46H1.45l3.84-12H8.54ZM7.9,13.41,6.62,9.2,5.34,13.41Z M20.86,13.22h1.69v2.1H20.86v2.77H18.05V15.32H12.81v-2.1l4.84-7.31h3.21Zm-2.69,0V9.16c0-.09,0-.28,0-.57l0-.51-3.29,5.14Z',\n                                XL:\n                                    'M9.23,11.58,12.94,18H9.7L7.28,13.65,4.87,18H2.21l3.71-6.38L2.62,6H5.9L7.84,9.65,9.88,6h2.63Z M21.79,15.63V18H14.18V6H17v9.64Z',\n                            }}\n                            prefixLabel=\"%s Image Size\"\n                        />\n                    )}\n                    <ToolbarButton\n                        icon=\"chart-pie\"\n                        isPressed={isChartArt}\n                        label={__('Enable Chart Art')}\n                        onClick={() => {\n                            setAttributes({\n                                isChartArt: !isChartArt,\n                            });\n                        }}\n                    />\n                </ToolbarGroup>\n            )}\n        </BlockControls>\n    );\n};\n\nconst Controls = ({ attributes, setAttributes, context, rootClientId }) => {\n    const [isRefreshing, refresh] = useState(false);\n    const {\n        postID,\n        link,\n        imageSlot,\n        enableHeader,\n        enableExcerpt,\n        enableExcerptBelow,\n        enableExtra,\n        enableBreakingNews,\n        enableEmphasis,\n        enableProgramsTaxonomy,\n    } = attributes;\n\n    const label = __('Story Item Options');\n\n    useEffect(() => {\n        // On mount load the latest post details from the url.\n        if (!isEmpty(link) && undefined === postID) {\n            setPostByURL(link, setAttributes);\n        }\n    }, [link]);\n\n    return (\n        <Fragment>\n            <ToolbarControls {...{ attributes, setAttributes }} />\n            {false !== context && (\n                <WpQueryPinControls\n                    wpQueryContext={context}\n                    rootClientId={rootClientId}\n                    postId={postID}\n                />\n            )}\n            <InspectorControls>\n                <PanelBody title={label}>\n                    {isInteger(postID) && (\n                        <Button\n                            isSecondary\n                            isBusy={isRefreshing}\n                            onClick={() =>\n                                setPostByStubID(postID, setAttributes, refresh)\n                            }\n                            style={{ marginBottom: '1em' }}\n                        >\n                            Refresh Post\n                        </Button>\n                    )}\n                    <ToggleControl\n                        label={\n                            enableHeader ? 'Header Enabled' : 'Header Disabled'\n                        }\n                        checked={enableHeader}\n                        onChange={() => {\n                            setAttributes({ enableHeader: !enableHeader });\n                        }}\n                    />\n                    <ToggleControl\n                        label={\n                            enableExcerpt\n                                ? 'Excerpt Enabled'\n                                : 'Excerpt Disabled'\n                        }\n                        checked={enableExcerpt}\n                        onChange={() => {\n                            setAttributes({ enableExcerpt: !enableExcerpt });\n                        }}\n                    />\n                    {true === enableExcerpt &&\n                        ('right' === imageSlot || 'left' === imageSlot) && (\n                            <ToggleControl\n                                label={\n                                    enableExcerptBelow\n                                        ? 'Excerpt Will Appear Below'\n                                        : 'Excerpt Will Appear Normally'\n                                }\n                                checked={enableExcerptBelow}\n                                onChange={() => {\n                                    setAttributes({\n                                        enableExcerptBelow: !enableExcerptBelow,\n                                    });\n                                }}\n                            />\n                        )}\n                    <ToggleControl\n                        label={\n                            enableExtra ? 'Extras Enabled' : 'Extras Disabled'\n                        }\n                        checked={enableExtra}\n                        onChange={() => {\n                            setAttributes({ enableExtra: !enableExtra });\n                        }}\n                    />\n                    <ToggleControl\n                        label={\n                            enableBreakingNews\n                                ? 'Breaking News Enabled'\n                                : 'Breaking News Disabled'\n                        }\n                        checked={enableBreakingNews}\n                        onChange={() => {\n                            if (false !== window.prcBreakingNews) {\n                                setAttributes({\n                                    enableBreakingNews: !enableBreakingNews,\n                                });\n                            } else {\n                                // eslint-disable-next-line no-alert\n                                alert(\n                                    'There are no currently active, authorized, breaking news events. The breaking news toggle will be set back to false.',\n                                );\n                                setAttributes({\n                                    enableBreakingNews: false,\n                                });\n                            }\n                        }}\n                    />\n                    <ToggleControl\n                        label={enableProgramsTaxonomy ? 'Programs' : 'Formats'}\n                        checked={enableProgramsTaxonomy}\n                        onChange={() => {\n                            setAttributes({\n                                enableProgramsTaxonomy: !enableProgramsTaxonomy,\n                            });\n                        }}\n                    />\n                    <ToggleControl\n                        label={\n                            enableEmphasis\n                                ? 'Emphasis Enabled'\n                                : 'Emphasis Disabled'\n                        }\n                        checked={enableEmphasis}\n                        onChange={() => {\n                            setAttributes({ enableEmphasis: !enableEmphasis });\n                        }}\n                    />\n                </PanelBody>\n            </InspectorControls>\n        </Fragment>\n    );\n};\n\nexport default Controls;\n","import { Fragment, useState, useEffect } from '@wordpress/element';\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport apiFetch from '@wordpress/api-fetch';\nimport classNames from 'classnames/bind';\n\nimport { ImageDisplay } from '../../_shared/components/story-item/_shared';\n\nconst ALLOWED_MEDIA_TYPES = ['image'];\n\nconst Edit = ({ img, size, postId, setAttributes }) => {\n    const [art, setArt] = useState(false);\n\n    // When the postId changes go fetch new art for this post and store it in state and also store the correct image url in attributes.\n    useEffect(() => {\n        if (0 !== postId && false !== setAttributes) {\n            apiFetch({\n                path: `/prc-api/v2/get-art/?postId=${postId}`,\n            }).then(data => {\n                if (false !== data) {\n                    setArt(data);\n                    setAttributes({ image: data[size].rawUrl });\n                } else {\n                    // If no art on any subsequent art fetches set to false\n                    setArt(false);\n                }\n            });\n        }\n    }, [postId]);\n\n    /**\n     * If the art or size changes then go check the art object and set the approrpiate image and chart art given the arts options.\n     */\n    useEffect(() => {\n        if (\n            false !== art &&\n            undefined !== art[size] &&\n            false !== setAttributes\n        ) {\n            setAttributes({\n                image: art[size].rawUrl,\n                isChartArt: art[size].chartArt,\n            });\n        }\n    }, [art, size]);\n\n    return (\n        <MediaUploadCheck>\n            <MediaUpload\n                onSelect={media => setAttributes({ image: media.url })}\n                allowedTypes={ALLOWED_MEDIA_TYPES}\n                render={({ open }) => {\n                    let openFn = open;\n                    if (undefined !== postId && ! ['legacy-260', 'legacy-260-173'].includes(size)) {\n                        openFn = () => alert(\"You are unable to edit this image as it is locked to a post. To edit, visit this post and edit its origin post. \" + postId);\n                    }\n                    return(\n                        <Fragment>\n                            {\n                                // If we have an actual image here then display it otherwise give us the placeholder\n                            }\n                            {undefined !== img && 0 !== img.length && (\n                                <ImageDisplay\n                                    img={img}\n                                    size={size}\n                                    link=\"\"\n                                    onClick={openFn}\n                                />\n                            )}\n                            {(undefined === img || 0 === img.length) && (\n                                <ImageDisplay\n                                    img={img}\n                                    size={size}\n                                    link=\"\"\n                                    onClick={openFn}\n                                    placeholder\n                                />\n                            )}\n                        </Fragment>\n                    )\n                }}\n            />\n        </MediaUploadCheck>\n    );\n};\n\n/**\n * Props:\n * img: string url of image to display\n * size: string of image/slot size (A1,A2,A3,A4)\n * link: string of url to go to when image is clicked on front end\n * slot: if set to null then no image size chooser will be display\n * chartArt: if set to null then no chart art button will appear\n * setAttributes: defaults to false unless otherwise provided a function to pass data back up to a HOC state.\n *\n * <Img id={} img={} size={} slot={} chartArt={} postId={} setAttributes={}/>\n */\n\nconst Img = ({ img, size, slot, chartArt, postId, setAttributes }) => {\n    console.log('<Img>', img);\n\n    const classes = () => {\n        let isXL = false;\n        let isA1 = false;\n        let isA2 = false;\n        let isA3 = false;\n        let isA4 = false;\n        if (false !== slot) {\n            if ('XL' === size) {\n                isXL = true;\n            } else if ('A1' === size) {\n                isA1 = true;\n            } else if ('A2' === size) {\n                isA2 = true;\n            } else if ('A3' === size) {\n                isA3 = true;\n            } else if ('A4' === size) {\n                isA4 = true;\n            }\n        }\n\n        return classNames({\n            ui: true,\n            XL: isXL,\n            A1: isA1,\n            A2: isA2,\n            A3: isA3,\n            A4: isA4,\n            image: true,\n            bordered: chartArt,\n        });\n    };\n\n    return (\n        <div className={classes()}>\n            <Edit\n                img={img}\n                size={size}\n                postId={postId}\n                setAttributes={setAttributes}\n            />\n        </div>\n    );\n};\n\nexport default Img;\n","// WordPress Core\nimport { Fragment } from '@wordpress/element';\nimport { RichText } from '@wordpress/block-editor';\nimport classNames from 'classnames/bind';\n\nconst Description = ({ content, sansSerif, enabled, setAttributes }) => {\n    if (true !== enabled) {\n        return <Fragment />;\n    }\n\n    const classes = classNames('description', { 'sans-serif': sansSerif });\n    return (\n        <Fragment>\n            {false !== setAttributes && (\n                <RichText\n                    tagName=\"div\"\n                    value={content}\n                    onChange={excerpt => setAttributes({ excerpt })}\n                    placeholder={content}\n                    multiline=\"p\"\n                    className={classes}\n                />\n            )}\n            {false === setAttributes && (\n                <RichText.Content\n                    tagName=\"div\"\n                    value={content}\n                    className={classes}\n                />\n            )}\n        </Fragment>\n    );\n};\n\nexport default Description;\n","// WordPress Core\nimport { Fragment } from '@wordpress/element';\nimport { RichText } from '@wordpress/block-editor';\n\nconst Extra = ({ content, breakingNews, enabled, setAttributes }) => {\n    return (\n        <Fragment>\n            {false !== setAttributes && true === enabled && (\n                <RichText\n                    tagName=\"ul\"\n                    value={content}\n                    onChange={extra => setAttributes({ extra })}\n                    placeholder={content}\n                    multiline=\"li\"\n                    className=\"extra\"\n                />\n            )}\n            {false === setAttributes && true === enabled && (\n                <RichText.Content\n                    tagName=\"ul\"\n                    value={content}\n                    className=\"extra\"\n                />\n            )}\n            {true === breakingNews && false !== window.prcBreakingNews && (\n                <ul className=\"extra-breaking-news\">\n                    <li>\n                        <a\n                            href={window.prcBreakingNews.url}\n                            className=\"kicker-breaking-news\"\n                        >\n                            {window.prcBreakingNews.label}\n                        </a>\n                    </li>\n                </ul>\n            )}\n        </Fragment>\n    );\n};\n\nexport default Extra;\n","// WordPress Core\nimport { Fragment, useState, useEffect } from '@wordpress/element';\nimport { SelectControl, TextControl } from '@wordpress/components';\nimport { RichText } from '@wordpress/block-editor';\nimport classNames from 'classnames/bind';\nimport { Item } from 'semantic-ui-react';\n\nimport { getTermsAsOptions } from 'shared';\n\nconst KickerEditor = ({ label, date, taxonomy, setAttributes }) => {\n    const [labelOptions, setLabelOptions] = useState([]);\n\n    useEffect(() => {\n        getTermsAsOptions(taxonomy).then(options => {\n            setLabelOptions(options);\n        });\n    }, [taxonomy]);\n\n    return (\n        <div style={{ display: 'flex', alignItems: 'center' }}>\n            <div>\n                <SelectControl\n                    value={label}\n                    options={labelOptions}\n                    onChange={l => {\n                        setAttributes({ label: l });\n                    }}\n                    style={{ marginBottom: '0px' }}\n                    className=\"story-label-select\"\n                />\n            </div>\n            <div>&nbsp;|&nbsp;</div>\n            <div>\n                <TextControl\n                    value={date}\n                    onChange={d => {\n                        setAttributes({ date: d });\n                    }}\n                    style={{ marginBottom: '0px' }}\n                    className=\"story-label-select\"\n                />\n            </div>\n        </div>\n    );\n}\n\nconst Header = ({\n    title,\n    label,\n    date,\n    size,\n    enabled,\n    taxonomy,\n    setAttributes,\n    altHeaderWeight,\n}) => {\n    if (true !== enabled) {\n        return <Fragment />;\n    }\n\n    const classes = classNames({\n        large: (1 === size),\n        medium: (2 === size),\n        small: (3 === size),\n        light: altHeaderWeight,\n    });\n\n    return (\n        <Fragment>\n            <Item.Meta>\n                <KickerEditor\n                    date={date}\n                    label={label}\n                    taxonomy={taxonomy}\n                    setAttributes={setAttributes}\n                />\n            </Item.Meta>\n            <Item.Header className={classes}>\n                <RichText\n                    tagName=\"div\"\n                    value={title}\n                    onChange={t => setAttributes({ title: t })}\n                    allowedFormats={['italic']}\n                    placeholder=\"Title\"\n                    multiline=\"br\"\n                />\n            </Item.Header>\n        </Fragment>\n    );\n};\n\nexport default Header;\n","import classNames from 'classnames/bind';\nimport { Fragment } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { Item } from 'semantic-ui-react';\nimport { ifMatchSetAttribute } from 'shared';\n\nimport Controls from './controls';\nimport Image from './image';\nimport Description from './description';\nimport Extra from './extra';\nimport Header from './header';\n\n// Sets the image slot based on the style classname selected.\nconst setImageSlotByClassName = (className, setAttributes) => {\n    ifMatchSetAttribute(\n        'is-style-top',\n        className,\n        'imageSlot',\n        'top',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-bottom',\n        className,\n        'imageSlot',\n        'bottom',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-left',\n        className,\n        'imageSlot',\n        'left',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-right',\n        className,\n        'imageSlot',\n        'right',\n        setAttributes,\n    );\n    ifMatchSetAttribute(\n        'is-style-disabled',\n        className,\n        'imageSlot',\n        'disabled',\n        setAttributes,\n    );\n    // Default\n    ifMatchSetAttribute(\n        'is-style-default',\n        className,\n        'imageSlot',\n        'default',\n        setAttributes,\n    );\n};\n\nconst edit = ({ attributes, setAttributes, isSelected, clientId, context }) => {\n    const {\n        title,\n        excerpt,\n        extra,\n        link,\n        label,\n        date,\n        image,\n        imageSlot,\n        imageSize,\n        isChartArt,\n        postID,\n        headerSize,\n        enableEmphasis,\n        enableHeader,\n        enableExcerpt,\n        enableExcerptBelow,\n        enableExtra,\n        enableBreakingNews,\n        enableProgramsTaxonomy,\n        className,\n    } = attributes;\n\n    const { rootClientId } = useSelect(\n        select => {\n            return {\n                rootClientId: select('core/block-editor').getBlockRootClientId(\n                    clientId,\n                ),\n            };\n        },\n        [clientId],\n    );\n\n    const dataHandler = setAttributes;\n    const enableAltHeaderWeight = !enableExcerpt;\n    const taxonomy = enableProgramsTaxonomy ? 'Programs' : 'Formats';\n\n    const classes = classNames(className, 'story', {\n        stacked: 'top' === imageSlot || 'bottom' === imageSlot,\n        bordered: enableEmphasis,\n        'alt-description': enableExcerptBelow,\n    });\n\n    setImageSlotByClassName(className, setAttributes);\n\n    const Img = () => {\n        return (\n            <Image\n                img={image}\n                size={imageSize}\n                link={link}\n                slot={imageSlot}\n                chartArt={isChartArt}\n                postId={postID}\n                setAttributes={dataHandler}\n            />\n        );\n    };\n\n    const TopAndLeftSlot = () => {\n        if ('top' !== imageSlot && 'left' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    const DefaultSlot = () => {\n        if ('default' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    const BottomAndRightSlot = () => {\n        if ('bottom' !== imageSlot && 'right' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    return (\n        <Fragment>\n            {true === isSelected && (\n                <Controls\n                    {...{\n                        attributes,\n                        setAttributes,\n                        context: context.hasOwnProperty('prc-block/wp-query')\n                            ? JSON.parse(context['prc-block/wp-query'])\n                            : false,\n                        rootClientId,\n                    }}\n                />\n            )}\n            <Item as=\"article\" className={classes}>\n                <TopAndLeftSlot />\n\n                <Item.Content>\n                    <Header\n                        enabled={enableHeader}\n                        title={title}\n                        date={date}\n                        label={label}\n                        link={link}\n                        size={headerSize}\n                        taxonomy={taxonomy}\n                        setAttributes={dataHandler}\n                        altHeaderWeight={enableAltHeaderWeight}\n                    />\n\n                    <DefaultSlot />\n\n                    {true !== enableExcerptBelow && (\n                        <Description\n                            enabled={enableExcerpt}\n                            content={excerpt}\n                            sansSerif={!enableHeader}\n                            setAttributes={dataHandler}\n                        />\n                    )}\n\n                    <Extra\n                        enabled={enableExtra}\n                        content={extra}\n                        breakingNews={enableBreakingNews}\n                        setAttributes={dataHandler}\n                    />\n                </Item.Content>\n\n                <BottomAndRightSlot />\n\n                {true === enableExcerptBelow && (\n                    <Description\n                        enabled={enableExcerpt}\n                        content={excerpt}\n                        sansSerif={!enableHeader}\n                        setAttributes={dataHandler}\n                    />\n                )}\n            </Item>\n        </Fragment>\n    );\n};\n\nexport default edit;\n","// eslint-disable-next-line import/no-unresolved\nimport { Fragment } from '@wordpress/element';\n\n/** Returns a server side block callback */\nconst save = ({ attributes }) => {\n    const props = attributes;\n    return <Fragment></Fragment>;\n};\n\nexport default save;\n","import classNames from 'classnames/bind';\nimport { Fragment, RawHTML } from '@wordpress/element';\nimport metadata from './block.json';\n\nconst { supports } = metadata;\n\n/**\n * Outputs static html data store for Story Item. Defaults to placeholder loading effect.\n * Mimics the layout of the final renderd component.\n * @param {*} param\n */\nconst LegacyStoryItem = ({\n    postID,\n    title,\n    excerpt,\n    extra,\n    link,\n    label,\n    date,\n    image,\n    imageSlot,\n    imageSize,\n    isChartArt,\n    headerSize,\n    enableEmphasis,\n    enableHeader,\n    enableExcerpt,\n    enableExcerptBelow,\n    enableExtra,\n    enableBreakingNews,\n    className,\n}) => {\n    let stacked = 'stacked';\n    if ('left' === imageSlot || 'right' === imageSlot) {\n        stacked = null;\n    }\n    const classes = classNames(className, 'react-story-item');\n\n    const Img = () => {\n        return (\n            <div className={`${imageSize} image`}>\n                <div className=\"ui fluid placeholder\">\n                    <div className=\"image\" />\n                </div>\n            </div>\n        );\n    };\n\n    const TopAndLeftSlot = () => {\n        if ('top' !== imageSlot && 'left' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    const BottomAndRightSlot = () => {\n        if ('bottom' !== imageSlot && 'right' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    return (\n        <div\n            className={classes}\n            data-label={label}\n            data-date={date}\n            data-link={link}\n            data-image={image}\n            data-imageSlot={imageSlot}\n            data-imageSize={imageSize}\n            data-headerSize={headerSize}\n            data-className={className}\n            data-emphasis={enableEmphasis}\n            data-breakingNews={enableBreakingNews}\n            data-excerptbelow={enableExcerptBelow}\n            data-chartArt={isChartArt}\n        >\n            <div\n                id={`post-${postID}`}\n                className={`ui item story is-style-${imageSlot} ${stacked}`}\n            >\n                <TopAndLeftSlot />\n                <div className=\"content\">\n                    <div className=\"ui fluid placeholder\">\n                        <div className=\"header\">\n                            <div className=\"line\" />\n                            <div className=\"line\" />\n                        </div>\n                        <div className=\"paragraph\">\n                            <div className=\"line\" />\n                            <div className=\"line\" />\n                            <div className=\"line\" />\n                            <div className=\"line\" />\n                            <div className=\"line\" />\n                        </div>\n                    </div>\n                </div>\n                <BottomAndRightSlot />\n                <div className=\"hidden\">\n                    {true === enableHeader && (\n                        <div className=\"title\">\n                            <RawHTML>{title}</RawHTML>\n                        </div>\n                    )}\n                    {true === enableExcerpt && (\n                        <div className=\"description\">\n                            <RawHTML>{excerpt}</RawHTML>\n                        </div>\n                    )}\n                    {true === enableExtra && (\n                        <ul className=\"extra\">\n                            <RawHTML>{extra}</RawHTML>\n                        </ul>\n                    )}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst deprecated = [\n    // Migration from V1\n    {\n        // First you have to define all the old attributes as they were...\n        attributes: {\n            title: {\n                type: 'string',\n                default: 'Title',\n            },\n            excerpt: {\n                type: 'string',\n                source: 'html',\n                multiline: 'p',\n                selector: '.description',\n                default: '<p>Excerpt</p>',\n            },\n            extra: {\n                type: 'string',\n                source: 'html',\n                multiline: 'li',\n                selector: '.extra',\n                default: '',\n            },\n            link: {\n                type: 'string',\n                default: '',\n            },\n            label: {\n                type: 'string',\n                default: 'Report',\n            },\n            date: {\n                type: 'string',\n            },\n            // Images\n            image: {\n                type: 'string',\n                default: '',\n            },\n            imageSlot: {\n                type: 'string',\n                default: 'default',\n            },\n            imageSize: {\n                type: 'string',\n                default: 'A1',\n            },\n            isChartArt: {\n                type: 'boolean',\n                default: false,\n            },\n            // Post Meta Data:\n            postID: {\n                type: 'integer',\n            },\n            // Item Options\n            headerSize: {\n                type: 'string',\n                default: 'large',\n            },\n            enableAltHeaderWeight: {\n                type: 'boolean',\n                default: false,\n            },\n            enableEmphasis: {\n                type: 'boolean',\n                default: false,\n            },\n            enableHeader: {\n                type: 'boolean',\n                default: true,\n            },\n            enableExcerpt: {\n                type: 'boolean',\n                default: true,\n            },\n            enableExcerptBelow: {\n                type: 'boolean',\n                default: false,\n            },\n            enableExtra: {\n                type: 'boolean',\n                default: false,\n            },\n            enableBreakingNews: {\n                type: 'boolean',\n                default: false,\n            },\n            enableProgramsTaxonomy: {\n                type: 'boolean',\n                default: false,\n            },\n        },\n        // Define all the old supports (this hasnt changed so we'll just use whats defined in block.json)\n        supports,\n        migrate(props) {\n            console.log('MIGRATE', props);\n            if ('large' === props.headerSize) {\n                props.headerSize = 1;\n            }\n            if ('normal' === props.headerSize) {\n                props.headerSize = 2;\n            }\n            if ('small' === props.headerSize) {\n                props.headerSize = 3;\n            }\n            return props;\n        },\n        save(props) {\n            console.log('Migration Save...', props);\n            const { attributes } = props;\n            return <LegacyStoryItem {...attributes} />;\n        },\n        isEligible(attributes) {\n            console.log('is eligible?', attributes);\n            return true;\n        },\n    },\n];\n\nexport default deprecated;\n","import { createBlock } from '@wordpress/blocks';\n\n/**\n * Match pewresearch.org post links (not staff links) and insert story items with only the url and base image options selected, this will then let the story item fetch the details (but shouldnt we actually do that as part of the transform?)\n */\nconst transforms = {\n    from: [\n        {\n            type: 'raw',\n            isMatch: node =>\n                'P' === node.nodeName &&\n                /^https?:\\/\\/(www\\.)?pewresearch\\.(org|local)\\/((?!staff).)*$/i.test(\n                    node.textContent,\n                ),\n            transform: node => {\n                return createBlock('prc-block/story-item', {\n                    link: node.textContent.trim(),\n                    className: 'is-style-default',\n                    imageSize: 'A1',\n                    imageSlot: 'default',\n                });\n            },\n        },\n    ],\n    to: [\n        {\n            type: 'block',\n            blocks: ['prc-block/story-item'],\n            transform: ({ url }) => {\n                return createBlock('prc-block/story-item', {\n                    link: url,\n                    className: 'is-style-default',\n                    imageSize: 'A1',\n                    imageSlot: 'default',\n                });\n            },\n        },\n    ],\n};\n\nexport default transforms;\n","/**\n * WordPress dependencies\n */\nimport * as moment from 'moment';\nimport { __ } from '@wordpress/i18n';\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport metadata from './block.json';\nimport edit from './edit';\nimport save from './save';\nimport deprecated from './deprecated';\nimport transforms from './transforms';\n\nconst { name } = metadata;\n\nconst settings = {\n    title: __('Story Item'),\n    icon: 'format-aside',\n    description: __(\n        'A story item is a visual display of a post, usually referencing a stub post.',\n    ),\n    keywords: [__('prc'), __('story'), __('post'), __('story item')],\n    example: {\n        attributes: {\n            title: 'Ultricies Ipsum Nibh Egestas Purus',\n            excerpt:\n                '<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec id elit non mi porta gravida at eget metus. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>',\n            extra: '<li></li>',\n            link: '#',\n            label: 'Report',\n            date: moment().format('MM-DD-YYYY'),\n            image:\n                'https://www.pewresearch.org/global/wp-content/uploads/sites/2/2020/04/PG_2020.04.21_U.S.-Views-China_featured.jpg',\n            imageSlot: 'top',\n            imageSize: 'A2',\n        },\n    },\n    variations: [\n        {\n            name: 'story-item-default',\n            isDefault: true,\n            title: __('Story Item'),\n            description: __('The default story item'),\n            attributes: {\n                imageSlot: 'default',\n                imageSize: 'A1',\n            },\n        },\n        {\n            name: 'story-item-pub-listing',\n            title: __('Pub Listing Story Item'),\n            attributes: {\n                className: 'is-style-left',\n                imageSlot: 'left',\n                imageSize: 'A3',\n            },\n        },\n        // Legacy variations to be removed after the new homepage launch\n        {\n            name: 'story-item-homepage-small',\n            title: __('Homepage Story Item (Small)'),\n            attributes: {\n                imageSize: 'legacy-260-173',\n            },\n        },\n        {\n            name: 'story-item-homepage-large',\n            title: __('Homepage Story Item (Large)'),\n            attributes: {\n                className: 'is-style-right',\n                headerSize: 1,\n                enableEmphasis: true,\n                imageSlot: 'right',\n                imageSize: 'legacy-260',\n            },\n        },\n    ],\n    transforms,\n    deprecated,\n    edit,\n    save,\n};\n\nregisterBlockType(name, { ...metadata, ...settings });\n","module.exports = lodash;","import { Fragment } from '@wordpress/element';\nimport { Picture } from 'react-responsive-picture';\nimport { addQueryArgs } from '@wordpress/url';\n\nconst A1 = {\n    default: '564,317',\n    small: '690,388',\n    hidpi: '1128,634',\n    smallHidpi: '1380,776',\n};\n\nconst A2 = {\n    default: '268,151',\n    small: '690,388',\n    hidpi: '536,301',\n    smallHidpi: '1380,776',\n};\n\nconst A3 = {\n    default: '194,110',\n    small: '148,84',\n    hidpi: '388,220',\n    smallHidpi: '296,168',\n};\n\nconst A4 = {\n    default: '268,151',\n    small: '690,388',\n    hidpi: '536,302',\n    smallHidpi: '1380,776',\n};\n\nconst XL = {\n    default: '720,405',\n    small: '690,388',\n    hidpi: '1440,810',\n    smallHidpi: '1380,776',\n};\n\nconst legacy = {\n    '260': {\n        default: '260,260',\n        small: '260,260',\n        hidpi: '520,520',\n        smallHidpi: '520,520',\n    },\n    '260-173': {\n        default: '260,173',\n        small: '260,173',\n        hidpi: '520,346',\n        smallHidpi: '520,346',\n    },\n};\n\nconst ImageDisplay = ({ img, size, link, onClick = false, placeholder = false }) => {\n    // eslint-disable-next-line no-shadow\n    const getImgURL = variant => {\n        if (true === placeholder) {\n            let dimensions = '';\n            if ('A2' === size) {\n                dimensions = '536x301';\n            } else if ('A3' === size) {\n                dimensions = '388x220';\n            } else if ('A4' === size) {\n                dimensions = '536x302';\n            } else if ('XL' === size) {\n                dimensions = '1440x810';\n            } else if ('legacy-260' === size) {\n                // Default to A1\n                dimensions = '260x260';\n            } else if ('legacy-260-173' === size) {\n                // Default to A1\n                dimensions = '260x173';\n            } else {\n                // Default to A1\n                dimensions = '1128x634';\n            }\n            return `https://via.placeholder.com/${dimensions}.png?text=${size}`;\n        }\n\n        if ('' === img || false === img) {\n            return img;\n        }\n\n        // Default to A1\n        let args = { resize: A1[variant] };\n        if ('A2' === size) {\n            args = { resize: A2[variant] };\n        } else if ('A3' === size) {\n            args = { resize: A3[variant] };\n        } else if ('A4' === size) {\n            args = { resize: A4[variant] };\n        } else if ('XL' === size) {\n            args = { resize: XL[variant] };\n        }\n\n        // Temp legacy sizes for homepages\n        if ('legacy-260' === size) {\n            args = { resize: legacy['260'][variant] };\n        } else if ('legacy-260-173' === size) {\n            args = { resize: legacy['260-173'][variant] };\n        }\n\n        return addQueryArgs(img, args);\n    };\n\n    // eslint-disable-next-line no-shadow\n    const getImgSrcSet = (threshold = 767) => {\n        return [\n            {\n                srcSet: `${getImgURL('default')} 1x, ${getImgURL('hidpi')} 2x`,\n                media: `(min-width: ${threshold}px)`,\n            },\n            {\n                srcSet: `${getImgURL('small')} 1x, ${getImgURL(\n                    'smallHidpi',\n                )} 2x`,\n                media: `(max-width: ${threshold}px)`,\n            },\n        ];\n    };\n\n    if (false !== onClick) {\n        return (\n            <div onClick={onClick}>\n                {true === placeholder && (\n                    <img src={getImgURL()} alt=\"Click to insert\" />\n                )}\n                {true !== placeholder && (\n                    <Picture sources={getImgSrcSet()} alt=\"Click to edit\" />\n                )}\n            </div>\n        );\n    }\n\n    return (\n        <Fragment>\n            {'' === link && <Picture sources={getImgSrcSet()} />}\n            {'' !== link && (\n                <a href={link}>\n                    <Picture sources={getImgSrcSet()} />\n                </a>\n            )}\n        </Fragment>\n    );\n};\n\nexport default ImageDisplay;","import { Fragment } from '@wordpress/element';\nimport classNames from 'classnames/bind';\nimport * as moment from 'moment';\n\nconst KickerDisplay = ({ label = 'Report', date }) => {\n    const formatDate = dateString => {\n        return moment(dateString).format('MMM D, YYYY');\n    };\n\n    const labelSlug = label.replace(/\\s+/g, '-').toLowerCase();\n\n    const classes = classNames(labelSlug, 'label');\n\n    const d = formatDate(date);\n\n    return (\n        <Fragment>\n            <span className={classes}>{label || 'Report'}</span>\n            {' | '}\n            <span className=\"date\">{d}</span>\n        </Fragment>\n    );\n}\n\nexport default KickerDisplay;","module.exports = moment;","module.exports = wp.apiFetch;","module.exports = wp.components;","module.exports = wp.data;","module.exports = wp.blocks;","module.exports = wp.url;","module.exports = ReactDOM;","import classNames from 'classnames/bind';\nimport { ImageDisplay } from '../_shared';\n\nconst Image = ({ img, link, size, slot, chartArt }) => {\n    const classes = () => {\n        let isXL = false;\n        let isA1 = false;\n        let isA2 = false;\n        let isA3 = false;\n        let isA4 = false;\n        if (false !== slot) {\n            if ('XL' === size) {\n                isXL = true;\n            } else if ('A1' === size) {\n                isA1 = true;\n            } else if ('A2' === size) {\n                isA2 = true;\n            } else if ('A3' === size) {\n                isA3 = true;\n            } else if ('A4' === size) {\n                isA4 = true;\n            }\n        }\n\n        return classNames({\n            ui: true,\n            XL: isXL,\n            A1: isA1,\n            A2: isA2,\n            A3: isA3,\n            A4: isA4,\n            image: true,\n            bordered: chartArt,\n        });\n    };\n\n    return (\n        <div className={classes()}>\n            <ImageDisplay img={img} size={size} link={link} />\n        </div>\n    );\n};\n\nexport default Image;\n","// WordPress Core\nimport { Fragment, RawHTML } from '@wordpress/element';\nimport classNames from 'classnames/bind';\n\nconst Description = ({ content, sansSerif, enabled }) => {\n    if (true !== enabled) {\n        return <Fragment />;\n    }\n\n    const classes = classNames('description', { 'sans-serif': sansSerif });\n    return (\n        <div className={classes}>\n            <RawHTML>{content}</RawHTML>\n        </div>\n    );\n};\n\nexport default Description;\n","// WordPress Core\nimport { Fragment, RawHTML } from '@wordpress/element';\nimport { Item } from 'semantic-ui-react';\n\nconst Extra = ({ content, breakingNews, enabled }) => {\n    return (\n        <Fragment>\n            {true === enabled && (\n                <Item.Extra as=\"ul\">\n                    <RawHTML>{content}</RawHTML>\n                </Item.Extra>\n            )}\n            {true === breakingNews && false !== window.prcBreakingNews && (\n                <ul className=\"extra-breaking-news\">\n                    <li>\n                        <a\n                            href={window.prcBreakingNews.url}\n                            className=\"kicker-breaking-news\"\n                        >\n                            {window.prcBreakingNews.label}\n                        </a>\n                    </li>\n                </ul>\n            )}\n        </Fragment>\n    );\n};\n\nexport default Extra;\n","import { KickerDisplay } from '../_shared';\n// Moved this component into _shared so that the form component can also use the display version of <Kicker/>\nexport default KickerDisplay;","// WordPress Core\nimport { Fragment, RawHTML } from '@wordpress/element';\nimport { Item } from 'semantic-ui-react';\nimport classNames from 'classnames/bind';\n\nimport Image from './image';\nimport Kicker from './kicker';\n\nconst Header = ({\n    title,\n    label,\n    date,\n    link,\n    size,\n    enabled,\n    isStyleMobileLoop,\n    image,\n    imageSize,\n    isChartArt,\n    altHeaderWeight,\n}) => {\n    if (true !== enabled) {\n        return <Fragment />;\n    }\n    const classes = classNames({\n        large: 1 === parseInt(size),\n        medium: 2 === parseInt(size),\n        small: 3 === parseInt(size),\n        light: altHeaderWeight,\n    });\n\n    return (\n        <Fragment>\n            <Item.Meta>\n                <Kicker label={label} date={date} />\n            </Item.Meta>\n            <Item.Header className={classes}>\n                {true === isStyleMobileLoop && (\n                    <Image\n                        img={image}\n                        size={imageSize}\n                        link={link}\n                        slot=\"left\"\n                        chartArt={isChartArt}\n                    />\n                )}\n                <a href={link}>\n                    <RawHTML>{title}</RawHTML>\n                </a>\n            </Item.Header>\n        </Fragment>\n    );\n};\n\nexport default Header;\n","import classNames from 'classnames/bind';\nimport { Fragment, RawHTML } from '@wordpress/element';\nimport { useMediaQuery } from 'beautiful-react-hooks';\nimport { Item } from 'semantic-ui-react';\n\nimport Image from './image';\nimport Description from './description';\nimport Extra from './extra';\nimport Header from './header';\n\nconst StoryItem = ({\n    title,\n    excerpt,\n    extra,\n    link,\n    label,\n    date,\n    image,\n    imageSlot,\n    imageSize,\n    isChartArt,\n    headerSize,\n    enableEmphasis,\n    enableHeader,\n    enableExcerpt,\n    enableExcerptBelow,\n    enableExtra,\n    enableBreakingNews,\n    extraContent = false,\n    className,\n    inLoop = false,\n}) => {\n    const isSmall = useMediaQuery('(max-width: 767px)');\n\n    let enableAltHeaderWeight = false;\n    if (false === enableExcerpt) {\n        enableAltHeaderWeight = true;\n    }\n\n    let isStacked = true;\n    if ('left' === imageSlot || 'right' === imageSlot) {\n        isStacked = false;\n    }\n\n    let isStyleMobileLoop = false;\n    if (true === inLoop && true === isSmall) {\n        isStyleMobileLoop = true;\n    }\n    // On mobile, outside the loop, force image alignment top.\n    if (false === inLoop && true === isSmall && 'disabled' !== imageSlot) {\n        imageSlot = 'top';\n    }\n\n    const classes = classNames(className, 'story', {\n        stacked: isStacked,\n        bordered: enableEmphasis,\n        'alt-description': enableExcerptBelow,\n        'is-style-mobile-loop': isStyleMobileLoop,\n    });\n\n    const Img = () => {\n        return (\n            <Image\n                img={image}\n                size={imageSize}\n                link={link}\n                slot={imageSlot}\n                chartArt={isChartArt}\n                onClick={() => {\n                    window.location = link;\n                }}\n            />\n        );\n    };\n\n    const TopAndLeftSlot = () => {\n        if ('top' !== imageSlot && 'left' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        if (true === inLoop && true === isSmall) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    const DefaultSlot = () => {\n        if ('default' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        if (true === inLoop && true === isSmall) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    const BottomAndRightSlot = () => {\n        if ('bottom' !== imageSlot && 'right' !== imageSlot) {\n            return <Fragment />;\n        }\n\n        if (true === inLoop && true === isSmall) {\n            return <Fragment />;\n        }\n\n        return <Img />;\n    };\n\n    return (\n        <Item as=\"article\" className={classes}>\n            <TopAndLeftSlot />\n\n            <Item.Content>\n                <Header\n                    enabled={enableHeader}\n                    title={title}\n                    date={date}\n                    label={label}\n                    link={link}\n                    size={headerSize}\n                    isStyleMobileLoop={isStyleMobileLoop}\n                    image={image}\n                    imageSize={imageSize}\n                    chartArt={isChartArt}\n                    altHeaderWeight={enableAltHeaderWeight}\n                />\n\n                <DefaultSlot />\n\n                {true !== enableExcerptBelow && (\n                    <Description\n                        enabled={enableExcerpt}\n                        content={excerpt}\n                        sansSerif={!enableHeader}\n                    />\n                )}\n\n                {true === enableExcerptBelow && true === isSmall && (\n                    <Description\n                        enabled={enableExcerpt}\n                        content={excerpt}\n                        sansSerif={!enableHeader}\n                    />\n                )}\n\n                <Extra\n                    enabled={enableExtra}\n                    content={extra}\n                    breakingNews={enableBreakingNews}\n                />\n\n                {false !== extraContent && <RawHTML>{extraContent}</RawHTML>}\n            </Item.Content>\n\n            <BottomAndRightSlot />\n\n            {true === enableExcerptBelow && false === isSmall && (\n                <Description\n                    enabled={enableExcerpt}\n                    content={excerpt}\n                    sansSerif={!enableHeader}\n                />\n            )}\n        </Item>\n    );\n};\n\nexport default StoryItem;\n","module.exports = wp.i18n;"],"sourceRoot":""}