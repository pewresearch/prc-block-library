/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 2.0.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2021 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window["wpackioprcBlocksLibrarystory-itemJsonp"]=window["wpackioprcBlocksLibrarystory-itemJsonp"]||[]).push([[3],{0:function(e,t){e.exports=React},1:function(e,t){e.exports=wp.element},11:function(e,t){e.exports=wp.blockEditor},110:function(e,t,n){n(87),e.exports=n(123)},123:function(e,t,n){"use strict";n.r(t);var a=n(9),r=n(22),l=n(21),o=n(4),c=n(31),i=n(84),s=n(136),u=n(13),m=n.n(u),b=n(1),d=n(24);var g=n(72);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var a,r,l=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);o=!0);}catch(e){c=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw r}}return l}}(e,t)||Object(g.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var h=n(8),y=n(11),v=n(2),E=n(23),w=n.n(E),O=(n(46),function(){return React.createElement("div",null,React.createElement("h1",null,"Input Field Here"))}),R=function(e,t){var n={title:e.title.hasOwnProperty("rendered")?e.title.rendered:e.title,excerpt:e.excerpt.hasOwnProperty("rendered")?e.excerpt.rendered:e.excerpt,link:e.link,label:e.hasOwnProperty("label")?e.label:"Report",date:e.date,postID:e.id,extra:""};e.art||(n.image=e.image),t(n)},k=function(e,t){void 0!==e&&void 0!==t&&w()({path:"/prc-api/v2/blocks/helpers/get-post-by-url",method:"POST",data:{url:e}}).then((function(e){console.log("setPostbyURL",e),!1!==e&&R(e,t)})).catch((function(n){console.error(n),t({link:e})}))},x=function(e,t,n){void 0!==e&&void 0!==t&&(void 0!==n&&n(!0),w()({path:"/wp/v2/stub/".concat(e),method:"GET"}).then((function(n){console.log("setPostByStubID",e,n),!1!==n&&R(n,t)})).catch((function(e){return console.error(e)})).then((function(){void 0!==n&&n(!1)})))},j=function(e){var t=e.url,n=e.setAttributes,a=f(Object(b.useState)(!1),2),r=a[0],l=a[1];return React.createElement(b.Fragment,null,React.createElement(v.ToolbarButton,{"aria-expanded":r,"aria-haspopup":"true",label:Object(o.__)("Set Link"),icon:"admin-links",onClick:function(){return l(!r)},showTooltip:!0}),!0===r&&React.createElement(v.Popover,{position:"bottom center",onClose:function(){return l(!1)}},React.createElement(O,{value:{id:1234,type:"post",subType:"stub"},type:"post",subType:"stub",onChange:function(e){(e.hasOwnProperty("type")||e.hasOwnProperty("raw"))&&(e.hasOwnProperty("subType")&&"post"===e.type&&"stub"===e.subType?x(p.id,n):"url"===e.type&&e.raw.hasOwnProperty("url")&&k(e.raw.url,n))}}),React.createElement(y.__experimentalLinkControl,{className:"wp-block-navigation-link__inline-link-input",value:{url:t},showInitialSuggestions:!0,suggestionsQuery:{type:"post",subtype:"stub"},onChange:function(e){e.hasOwnProperty("url")&&(e.hasOwnProperty("id")?x(e.id,n):k(e.url,n))},settings:[]})))},C={className:"block-library-heading-level-dropdown",isAlternate:!0},A=function(e){var t=e.selected,n=e.options,a=e.iconPaths,r=e.label,l=e.prefixLabel,c=void 0===l?"%s":l,i=e.onChange,s=e.iconWidth,u=void 0===s?"24":s,m=e.iconHeight,b=void 0===m?"24":m,p=e.iconViewBox,d=void 0===p?"0 0 24 24":p,g=function(e){var t=e.selected,n=e.isPressed,r=void 0!==n&&n;return a.hasOwnProperty(t)?React.createElement(v.SVG,{width:u,height:b,viewBox:d,xmlns:"http://www.w3.org/2000/svg",isPressed:r},React.createElement(v.Path,{d:a[t]})):null};return React.createElement(v.Dropdown,{popoverProps:C,renderToggle:function(e){var n=e.onToggle,a=e.isOpen;return React.createElement(v.ToolbarButton,{"aria-expanded":a,"aria-haspopup":"true",icon:React.createElement(g,{selected:t}),label:r,onClick:n,showTooltip:!0})},renderContent:function(){return React.createElement(v.Toolbar,{className:"block-library-heading-level-toolbar",label:r},React.createElement(v.ToolbarGroup,{isCollapsed:!1,controls:n.map((function(e,n){var a=t===e;return{icon:React.createElement(g,{selected:e,isPressed:a}),title:Object(o.sprintf)(Object(o.__)(c),e),isActive:a,onClick:function(){i(e)}}}))}))}})},S=function(e){var t=e.attributes,n=e.setAttributes,a=t.link,r=t.imageSize,l=t.imageSlot,c=t.headerSize,i=t.isChartArt;return React.createElement(y.BlockControls,null,React.createElement(v.ToolbarGroup,null,React.createElement(j,{url:a,setAttributes:n})),React.createElement(v.ToolbarGroup,null,React.createElement(A,{label:Object(o.__)("Change Heading Level"),selected:c,options:[1,2,3],onChange:function(e){return n({headerSize:e})},iconPaths:{1:"M9 5h2v10H9v-4H5v4H3V5h2v4h4V5zm6.6 0c-.6.9-1.5 1.7-2.6 2v1h2v7h2V5h-1.4z",2:"M7 5h2v10H7v-4H3v4H1V5h2v4h4V5zm8 8c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6V15h8v-2H15z",3:"M12.1 12.2c.4.3.8.5 1.2.7.4.2.9.3 1.4.3.5 0 1-.1 1.4-.3.3-.1.5-.5.5-.8 0-.2 0-.4-.1-.6-.1-.2-.3-.3-.5-.4-.3-.1-.7-.2-1-.3-.5-.1-1-.1-1.5-.1V9.1c.7.1 1.5-.1 2.2-.4.4-.2.6-.5.6-.9 0-.3-.1-.6-.4-.8-.3-.2-.7-.3-1.1-.3-.4 0-.8.1-1.1.3-.4.2-.7.4-1.1.6l-1.2-1.4c.5-.4 1.1-.7 1.6-.9.5-.2 1.2-.3 1.8-.3.5 0 1 .1 1.6.2.4.1.8.3 1.2.5.3.2.6.5.8.8.2.3.3.7.3 1.1 0 .5-.2.9-.5 1.3-.4.4-.9.7-1.5.9v.1c.6.1 1.2.4 1.6.8.4.4.7.9.7 1.5 0 .4-.1.8-.3 1.2-.2.4-.5.7-.9.9-.4.3-.9.4-1.3.5-.5.1-1 .2-1.6.2-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1l1.1-1.4zM7 9H3V5H1v10h2v-4h4v4h2V5H7v4z"},iconHeight:"24",iconWidth:"24",prefixLabel:"Heading %d",iconViewBox:"0 0 20 20"})),"disabled"!==l&&React.createElement(v.ToolbarGroup,null,!["legacy-260","legacy-260-173"].includes(r)&&React.createElement(A,{label:Object(o.__)("Change Image Size"),selected:r,options:["A1","A2","A3","A4","XL"],onChange:function(e){return n({imageSize:e})},iconPaths:{A1:"M12.13,18.09h-3l-.74-2.46H4.49l-.75,2.46H1.27l3.84-12H8.36ZM7.72,13.41,6.44,9.2,5.16,13.41Z M13.31,8.35a7,7,0,0,0,4-2.44h2v10h3.33v2.19H13V15.9h3.63V9a23.54,23.54,0,0,1-3.33,1.78Z",A2:"M12.5,18.09h-3l-.74-2.46H4.86l-.75,2.46H1.64l3.83-12H8.73ZM8.09,13.41,6.81,9.2,5.53,13.41Z M22.16,18.09h-9V15.75l.72-.52,1.46-1a31.07,31.07,0,0,0,3.1-2.6,2.74,2.74,0,0,0,.9-1.87,1.55,1.55,0,0,0-1.66-1.6c-1.19,0-1.86.76-2,2.3l-2.48-.55c.56-2.67,2.11-4,4.66-4a4.37,4.37,0,0,1,3,.91A3.5,3.5,0,0,1,22.2,9.69c0,1.51-.69,2.61-2.52,4a33.64,33.64,0,0,1-3.06,2h5.74Z",A3:"M12.52,18h-3l-.74-2.47H4.89L4.13,18H1.67L5.5,6H8.76ZM8.11,13.32,6.83,9.11,5.56,13.32Z M17.38,10.75a1.87,1.87,0,0,0,1.46-.47,1.36,1.36,0,0,0,.38-.94A1.5,1.5,0,0,0,17.6,7.89c-1,0-1.51.45-1.84,1.53L13.28,9a3.62,3.62,0,0,1,1.1-2,4.58,4.58,0,0,1,3.33-1.24C20.24,5.82,22,7.13,22,9a2.69,2.69,0,0,1-2,2.68,3.09,3.09,0,0,1,1.51.74,2.73,2.73,0,0,1,.9,2.11c0,2.19-1.82,3.61-4.64,3.61A4.67,4.67,0,0,1,14.23,17a3.88,3.88,0,0,1-1.31-2.45l2.55-.36A2,2,0,0,0,17.63,16a1.64,1.64,0,0,0,1.84-1.62,1.55,1.55,0,0,0-.61-1.27,3,3,0,0,0-1.66-.27H16.1V10.75Z",A4:"M12.31,18.09h-3l-.74-2.46H4.67l-.75,2.46H1.45l3.84-12H8.54ZM7.9,13.41,6.62,9.2,5.34,13.41Z M20.86,13.22h1.69v2.1H20.86v2.77H18.05V15.32H12.81v-2.1l4.84-7.31h3.21Zm-2.69,0V9.16c0-.09,0-.28,0-.57l0-.51-3.29,5.14Z",XL:"M9.23,11.58,12.94,18H9.7L7.28,13.65,4.87,18H2.21l3.71-6.38L2.62,6H5.9L7.84,9.65,9.88,6h2.63Z M21.79,15.63V18H14.18V6H17v9.64Z"},prefixLabel:"%s Image Size"}),React.createElement(v.ToolbarButton,{icon:"chart-pie",isPressed:i,label:Object(o.__)("Enable Chart Art"),onClick:function(){n({isChartArt:!i})}})))},P=function(e){var t=e.attributes,n=e.setAttributes,a=(e.context,e.rootClientId,f(Object(b.useState)(!1),2)),r=a[0],l=a[1],c=t.postID,i=t.link,s=t.imageSlot,u=t.enableHeader,m=t.enableExcerpt,p=t.enableExcerptBelow,d=t.enableExtra,g=t.enableBreakingNews,E=t.enableEmphasis,w=t.enableProgramsTaxonomy,O=t.enableMeta,R=t.inLoop,j=Object(o.__)("Story Item options");return Object(b.useEffect)((function(){Object(h.isEmpty)(i)||void 0!==c||k(i,n)}),[i]),React.createElement(b.Fragment,null,React.createElement(S,{attributes:t,setAttributes:n}),React.createElement(y.InspectorControls,null,React.createElement(v.PanelBody,{title:j},Object(h.isInteger)(c)&&React.createElement(v.Button,{isSecondary:!0,isBusy:r,onClick:function(){return x(c,n,l)},style:{marginBottom:"1em"}},"Refresh Post"),React.createElement(v.ToggleControl,{label:O?"Meta Enabled":"Meta Disabled",checked:O,onChange:function(){n({enableMeta:!O})}}),React.createElement(v.ToggleControl,{label:u?"Header Enabled":"Header Disabled",checked:u,onChange:function(){n({enableHeader:!u})}}),React.createElement(v.ToggleControl,{label:m?"Excerpt Enabled":"Excerpt Disabled",checked:m,onChange:function(){n({enableExcerpt:!m})}}),!0===m&&("right"===s||"left"===s)&&React.createElement(v.ToggleControl,{label:p?"Excerpt Will Appear Below":"Excerpt Will Appear Normally",checked:p,onChange:function(){n({enableExcerptBelow:!p})}}),React.createElement(v.ToggleControl,{label:d?"Extras Enabled":"Extras Disabled",checked:d,onChange:function(){n({enableExtra:!d})}}),React.createElement(v.ToggleControl,{label:g?"Breaking News Enabled":"Breaking News Disabled",checked:g,onChange:function(){!1!==window.prcBreakingNews?n({enableBreakingNews:!g}):(alert("There are no currently active, authorized, breaking news events. The breaking news toggle will be set back to false."),n({enableBreakingNews:!1}))}}),React.createElement(v.ToggleControl,{label:w?"Programs":"Formats",checked:w,onChange:function(){n({enableProgramsTaxonomy:!w})}}),React.createElement(v.ToggleControl,{label:E?"Emphasis Enabled":"Emphasis Disabled",checked:E,onChange:function(){n({enableEmphasis:!E})}}),React.createElement(v.ToggleControl,{label:R?"Pub Listing Style On Mobile":"Normal Styling On Mobile",checked:R,onChange:function(){n({inLoop:!R})}}))))},H=["image"],T=function(e){var t=e.img,n=e.size,a=e.postId,l=e.setAttributes,o=f(Object(b.useState)(!1),2),c=o[0],i=o[1];return Object(b.useEffect)((function(){0!==a&&!1!==l&&w()({path:"/prc-api/v2/get-art/?postId=".concat(a)}).then((function(e){!1!==e?(i(e),l({image:e[n].rawUrl})):i(!1)}))}),[a]),Object(b.useEffect)((function(){!1!==c&&void 0!==c[n]&&!1!==l&&l({image:c[n].rawUrl,isChartArt:c[n].chartArt})}),[c,n]),React.createElement(y.MediaUploadCheck,null,React.createElement(y.MediaUpload,{onSelect:function(e){return l({image:e.url})},allowedTypes:H,render:function(e){var l=e.open;return void 0===a||["legacy-260","legacy-260-173"].includes(n)||(l=function(){return alert("You are unable to edit this image as it is locked to a post. To edit, visit this post and edit its origin post. "+a)}),React.createElement(b.Fragment,null,void 0!==t&&0!==t.length&&React.createElement(r.ImageDisplay,{img:t,size:n,link:"",onClick:l}),(void 0===t||0===t.length)&&React.createElement(r.ImageDisplay,{img:t,size:n,link:"",onClick:l,placeholder:!0}))}}))},_=function(e){var t=e.img,n=e.size,a=e.slot,r=e.chartArt,l=e.postId,o=e.setAttributes;console.log("<Img>",t);var c,i,s,u,b;return React.createElement("div",{className:(c=!1,i=!1,s=!1,u=!1,b=!1,!1!==a&&("XL"===n?c=!0:"A1"===n?i=!0:"A2"===n?s=!0:"A3"===n?u=!0:"A4"===n&&(b=!0)),m()({ui:!0,XL:c,A1:i,A2:s,A3:u,A4:b,image:!0,bordered:r}))},React.createElement(T,{img:t,size:n,postId:l,setAttributes:o}))},N=function(e){var t=e.content,n=e.sansSerif,a=e.enabled,r=e.setAttributes;if(!0!==a)return React.createElement(b.Fragment,null);var l=m()("description",{"sans-serif":n});return React.createElement(b.Fragment,null,!1!==r&&React.createElement(y.RichText,{tagName:"div",value:t,onChange:function(e){return r({excerpt:e})},placeholder:t,multiline:"p",className:l}),!1===r&&React.createElement(y.RichText.Content,{tagName:"div",value:t,className:l}))},I=function(e){var t=e.content,n=e.breakingNews,a=e.enabled,r=e.setAttributes;return React.createElement(b.Fragment,null,!1!==r&&!0===a&&React.createElement(y.RichText,{tagName:"ul",value:t,onChange:function(e){return r({extra:e})},placeholder:t,multiline:"li",className:"extra"}),!1===r&&!0===a&&React.createElement(y.RichText.Content,{tagName:"ul",value:t,className:"extra"}),!0===n&&!1!==window.prcBreakingNews&&React.createElement("ul",{className:"extra-breaking-news"},React.createElement("li",null,React.createElement("a",{href:window.prcBreakingNews.url,className:"kicker-breaking-news"},window.prcBreakingNews.label))))},B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return new Promise((function(n){var a={};w()({path:"/wp/v2/".concat(e,"?per_page=").concat(t)}).then((function(t){for(var r=0;r<t.length;r++){var l=t[r].slug.replace("".concat(e.toLowerCase(),"_"),"");a[t[r].id]={id:t[r].id,name:t[r].name,parent:t[r].parent,slug:l}}n(a)}))}))},M=(n(85),n(27));function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!e){if("undefined"==typeof window)return!1;e=window}var t=e.navigator.platform;return-1!==t.indexOf("Mac")||Object(h.includes)(["iPad","iPhone"],t)}var L="alt",D="ctrl",V="meta",F="shift",Z={primary:function(e){return e()?[V]:[D]},primaryShift:function(e){return e()?[F,V]:[D,F]},primaryAlt:function(e){return e()?[L,V]:[D,L]},secondary:function(e){return e()?[F,L,V]:[D,F,L]},access:function(e){return e()?[D,L]:[F,L]},ctrl:function(){return[D]},alt:function(){return[L]},ctrlShift:function(){return[D,F]},shift:function(){return[F]},shiftAlt:function(){return[F,L]}},G=(Object(h.mapValues)(Z,(function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;return[].concat(Object(M.a)(e(n)),[t.toLowerCase()]).join("+")}})),Object(h.mapValues)(Z,(function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,l=r(),o=(n={},Object(a.a)(n,L,l?"⌥":"Alt"),Object(a.a)(n,D,l?"⌃":"Ctrl"),Object(a.a)(n,V,"⌘"),Object(a.a)(n,F,l?"⇧":"Shift"),n),c=e(r).reduce((function(e,t){var n=Object(h.get)(o,t,t);return[].concat(Object(M.a)(e),l?[n]:[n,"+"])}),[]),i=Object(h.capitalize)(t);return[].concat(Object(M.a)(c),[i])}})));Object(h.mapValues)(G,(function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z;return e(t,n).join("")}})),Object(h.mapValues)(Z,(function(e){return function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,l=r(),c=(n={},Object(a.a)(n,F,"Shift"),Object(a.a)(n,V,l?"Command":"Control"),Object(a.a)(n,D,"Control"),Object(a.a)(n,L,l?"Option":"Alt"),Object(a.a)(n,",",Object(o.__)("Comma")),Object(a.a)(n,".",Object(o.__)("Period")),Object(a.a)(n,"`",Object(o.__)("Backtick")),n);return[].concat(Object(M.a)(e(r)),[t]).map((function(e){return Object(h.capitalize)(Object(h.get)(c,e,e))})).join(l?" ":" + ")}}));function U(e){return[L,D,V,F].filter((function(t){return e["".concat(t,"Key")]}))}Object(h.mapValues)(Z,(function(e){return function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z,r=e(a),l=U(t);return!Object(h.xor)(r,l).length&&(n?t.key===n:Object(h.includes)(r,t.key.toLowerCase()))}})),n(74),n(41);var W=function(e){var t=e.label,n=e.date,a=e.taxonomy,r=e.setAttributes,l=f(Object(b.useState)([]),2),o=l[0],c=l[1];return Object(b.useEffect)((function(){(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise((function(r){B(e,t).then((function(e){var t=[];Object.keys(e).forEach((function(a){var r=e[a],l=r.name;"termid"===n&&(l=r.id);var o=r.name;void 0!==r.parent&&0!==r.parent&&(o=" -- ".concat(o)),t.push({value:l,label:o})})),!1!==a&&t.sort((function(e,t){return e.label>t.label?1:-1})),r(t)}))}))})(a).then((function(e){c(e)}))}),[a]),React.createElement("div",{style:{display:"flex",alignItems:"center"}},React.createElement("div",null,React.createElement(v.SelectControl,{value:t,options:o,onChange:function(e){r({label:e})},style:{marginBottom:"0px"},className:"story-label-select"})),React.createElement("div",null," | "),React.createElement("div",null,React.createElement(v.TextControl,{value:n,onChange:function(e){r({date:e})},style:{marginBottom:"0px"},className:"story-label-select"})))},Y=function(e){var t=e.title,n=e.label,a=e.date,r=e.size,l=e.enabled,o=e.taxonomy,c=e.setAttributes,i=e.altHeaderWeight,u=l.enableHeader,p=l.enableMeta;if(!0!==u)return React.createElement(b.Fragment,null);var d=m()({large:1===r,medium:2===r,small:3===r,light:i,"sans-serif":!0!==p});return React.createElement(b.Fragment,null,!0===p&&React.createElement(s.a.Meta,null,React.createElement(W,{date:a,label:n,taxonomy:o,setAttributes:c})),React.createElement(s.a.Header,{className:d},React.createElement(y.RichText,{tagName:"div",value:t,onChange:function(e){return c({title:e})},allowedFormats:["italic"],placeholder:"Title",multiline:"br"})))},J=function(e){var t=e.attributes,n=e.setAttributes,a=e.isSelected,l=e.clientId,o=e.context,c=t.title,i=t.excerpt,u=t.extra,p=t.link,g=t.label,f=t.date,h=t.image,y=t.imageSlot,v=t.imageSize,E=t.isChartArt,w=t.postId,O=void 0===w?postID:w,R=t.headerSize,k=t.enableEmphasis,x=t.enableHeader,j=t.enableExcerpt,C=t.enableExcerptBelow,A=t.enableExtra,S=t.enableBreakingNews,H=t.enableProgramsTaxonomy,T=t.enableMeta,B=t.className,M=Object(d.useSelect)((function(e){return{rootClientId:e("core/block-editor").getBlockRootClientId(l)}}),[l]).rootClientId,z=n,L=!j,D=H?"Programs":"Formats",V=m()(B,"story",{stacked:"top"===y||"bottom"===y,bordered:k,"alt-description":C});!function(e,t){Object(r.c)("is-style-top",e,"imageSlot","top",t),Object(r.c)("is-style-bottom",e,"imageSlot","bottom",t),Object(r.c)("is-style-left",e,"imageSlot","left",t),Object(r.c)("is-style-right",e,"imageSlot","right",t),Object(r.c)("is-style-disabled",e,"imageSlot","disabled",t),Object(r.c)("is-style-default",e,"imageSlot","default",t)}(B,n);var F=function(){return React.createElement(_,{img:h,size:v,link:p,slot:y,chartArt:E,postId:O,setAttributes:z})},Z=function(){return"top"!==y&&"left"!==y?React.createElement(b.Fragment,null):React.createElement(F,null)},G=function(){return"default"!==y?React.createElement(b.Fragment,null):React.createElement(F,null)},U=function(){return"bottom"!==y&&"right"!==y?React.createElement(b.Fragment,null):React.createElement(F,null)};return React.createElement(b.Fragment,null,!0===a&&React.createElement(b.Fragment,null,React.createElement(P,{attributes:t,setAttributes:n,context:!!o.hasOwnProperty("prc-block/wp-query")&&JSON.parse(o["prc-block/wp-query"]),rootClientId:M}),React.createElement(s.a,{as:"article",className:V},React.createElement(Z,null),React.createElement(s.a.Content,null,React.createElement(Y,{enabled:{enableHeader:x,enableMeta:T},title:c,date:f,label:g,link:p,size:R,taxonomy:D,setAttributes:z,altHeaderWeight:L}),React.createElement(G,null),!0!==C&&React.createElement(N,{enabled:j,content:i,sansSerif:!T||!x,setAttributes:z}),React.createElement(I,{enabled:A,content:u,breakingNews:S,setAttributes:z})),React.createElement(U,null),!0===C&&React.createElement(N,{enabled:j,content:i,sansSerif:!x,setAttributes:z}))),!0!==a&&React.createElement(r.b,t))},X=function(e){e.attributes;return React.createElement(b.Fragment,null)},q={from:[{type:"raw",isMatch:function(e){return"P"===e.nodeName&&/^https?:\/\/(www\.)?pewresearch\.(org|local)\/((?!staff).)*$/i.test(e.textContent)},transform:function(e){return Object(c.createBlock)("prc-block/story-item",{link:e.textContent.trim(),className:"is-style-default",imageSize:"A1",imageSlot:"default"})}}],to:[{type:"block",blocks:["prc-block/story-item"],transform:function(e){var t=e.url;return Object(c.createBlock)("prc-block/story-item",{link:t,className:"is-style-default",imageSize:"A1",imageSlot:"default"})}}]};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=i.name,ee={title:Object(o.__)("Story Item"),icon:"format-aside",description:Object(o.__)("A story item is a visual display of a post, usually referencing a stub post."),keywords:[Object(o.__)("prc"),Object(o.__)("story"),Object(o.__)("post"),Object(o.__)("story item")],example:{attributes:{title:"Ultricies Ipsum Nibh Egestas Purus",excerpt:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec id elit non mi porta gravida at eget metus. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>",extra:"<li></li>",link:"#",label:"Report",date:l().format("MM-DD-YYYY"),image:"https://www.pewresearch.org/global/wp-content/uploads/sites/2/2020/04/PG_2020.04.21_U.S.-Views-China_featured.jpg",imageSlot:"top",imageSize:"A2"}},variations:[{name:"story-item-default",isDefault:!0,title:Object(o.__)("Story Item"),description:Object(o.__)("The default story item"),attributes:{imageSlot:"default",imageSize:"A1"}},{name:"story-item-pub-listing",title:Object(o.__)("Pub Listing Story Item"),attributes:{className:"is-style-left",imageSlot:"left",imageSize:"A3"}}],transforms:q,edit:J,save:X};Object(c.registerBlockType)($,Q(Q({},i),ee))},2:function(e,t){e.exports=wp.components},21:function(e,t){e.exports=moment},23:function(e,t){e.exports=wp.apiFetch},24:function(e,t){e.exports=wp.data},31:function(e,t){e.exports=wp.blocks},4:function(e,t){e.exports=wp.i18n},46:function(e,t){e.exports=wp.url},55:function(e,t){e.exports=ReactDOM},8:function(e,t){e.exports=lodash},84:function(e){e.exports=JSON.parse('{"name":"prc-block/story-item","category":"layout","attributes":{"title":{"type":"string"},"excerpt":{"type":"string","multiline":"p","default":"<p>Excerpt</p>"},"extra":{"type":"string","multiline":"li"},"link":{"type":"string"},"label":{"type":"string","default":"Report"},"date":{"type":"string"},"image":{"type":"string"},"imageSlot":{"type":"string","default":"default"},"imageSize":{"type":"string","default":"A1"},"isChartArt":{"type":"boolean","default":false},"postID":{"type":"integer"},"headerSize":{"type":"integer","default":2},"enableAltHeaderWeight":{"type":"boolean","default":false},"enableEmphasis":{"type":"boolean","default":false},"enableHeader":{"type":"boolean","default":true},"enableExcerpt":{"type":"boolean","default":true},"enableExcerptBelow":{"type":"boolean","default":false},"enableExtra":{"type":"boolean","default":false},"enableBreakingNews":{"type":"boolean","default":false},"enableProgramsTaxonomy":{"type":"boolean","default":false},"enableMeta":{"type":"boolean","default":true},"inLoop":{"type":"boolean","default":false}},"usesContext":["prc-block/wp-query"],"styles":[{"name":"default","label":"Default Image Alignment","isDefault":true},{"name":"top","label":"Image Aligned Top"},{"name":"bottom","label":"Image Aligned Bottom"},{"name":"left","label":"Image Aligned Left"},{"name":"right","label":"Image Aligned Right"},{"name":"disabled","label":"Disable Image"}],"supports":{"html":false}}')}},[[110,0,1]]]);
//# sourceMappingURL=main-8fd8fbee.js.map