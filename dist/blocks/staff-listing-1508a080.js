/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 2.1.9
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2022 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprcBlocksLibraryblocksJsonp=window.wpackioprcBlocksLibraryblocksJsonp||[]).push([[42],{1:function(e,t){e.exports=window.React},1015:function(e,t,r){"use strict";r.r(t);var n=r(14),a=r(2),c=r(11),o=r(352),i=r(67),s=r(20),u=r(46),l=r(29),f=r.n(l),p=r(36),b=r(4),y=r(5),d=r(3);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var w=function(e){return"string"!=typeof e?"":e.replace(/\w\S*/g,(function(e){return e.replace(/^\w/,(function(e){return e.toUpperCase()}))}))},j=function(e){var t=e.taxonomy,r=void 0===t?"staff-type":t,n=e.attribute,a=void 0===n?"staffTypes":n,c=e.selected,o=void 0===c?[]:c,l=e.setAttributes,f=Object(b.useState)(o),p=Object(s.a)(f,2),y=p[0],m=p[1],O=Object(b.useState)([]),j=Object(s.a)(O,2),v=j[0],g=j[1];return Object(b.useEffect)((function(){Object(u.e)(r).then((function(e){g(e)}))}),[r]),Object(b.useEffect)((function(){var e={};e[a]=Object(i.a)(y),l(e)}),[y]),React.createElement(d.BaseControl,{label:w(r.replace("-"," "))},v.map((function(e){return React.createElement(d.CheckboxControl,{key:e.value,label:e.label,checked:y.includes(e.value),onChange:function(){y.includes(e.value)?m(y.filter((function(t){return t!==e.value}))):m([].concat(Object(i.a)(y),[e.value]))}})})),React.createElement(d.CardDivider,null))},v=function(e){var t=e.attributes,r=e.setAttributes,n=t.staffTypes,c=t.expertise,o=t.researchTeams,i=Object(b.useState)({"executive-team":[],"managing-directors":[],staff:[]}),u=Object(s.a)(i,2),l=u[0],m=u[1],v=Object(b.useState)(!0),g=Object(s.a)(v,2),h=g[0],E=g[1],x=Object(y.useBlockProps)();return Object(b.useEffect)((function(){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n={staff_types:e.join(","),areas_of_expertise:t.join(","),research_teams:r.join(",")};E(!0),f()({path:Object(p.addQueryArgs)("/prc-api/v2/blocks/staff-listing",n)}).then((function(e){console.log(e),m(O(O({},l),e))}))}(n,c,o)}),[n,c,o]),Object(b.useEffect)((function(){console.log("staffPosts changed",l),E(!1)}),[l]),React.createElement(b.Fragment,null,React.createElement(y.InspectorControls,null,React.createElement(d.PanelBody,{title:"Staff Listing Options"},React.createElement(j,{taxonomy:"staff-type",attribute:"staffTypes",selected:n,setAttributes:r}),React.createElement(j,{taxonomy:"areas-of-expertise",attribute:"expertise",selected:c,setAttributes:r}),React.createElement(j,{taxonomy:"research-teams",attribute:"researchTeams",selected:o,setAttributes:r}))),React.createElement("div",x,h&&React.createElement(d.Placeholder,{icon:"",label:Object(a.__)("Staff Listing")},React.createElement("span",null,React.createElement(d.Spinner,null)," Loading Staff Database...")),!1===h&&Object.keys(l).map((function(e){return l[e].length<=0?React.createElement(b.Fragment,null):React.createElement(b.Fragment,null,React.createElement("h2",null,w(e.replace("-"," "))),React.createElement("div",{class:"ui list"},l[e].map((function(e){return React.createElement("div",{class:"item sans-serif"},React.createElement("p",null,React.createElement("strong",null,e.name),", ",e.job_title))}))))}))))},g=function(){return React.createElement(b.Fragment,null)};function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x=o.name,R={edit:v,save:g};Object(c.registerBlockType)(x,E(E({},o),R))},11:function(e,t){e.exports=window.wp.blocks},13:function(e,t){e.exports=window.wp.data},2:function(e,t){e.exports=window.wp.i18n},20:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(31);var a=r(27),c=r(32);function o(e,t){return Object(n.a)(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,c=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(c.push(n.value),!t||c.length!==t);o=!0);}catch(e){i=!0,a=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw a}}return c}}(e,t)||Object(a.a)(e,t)||Object(c.a)()}},22:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,"a",(function(){return n}))},25:function(e,t){e.exports=window.wp.primitives},27:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r(22);function a(e,t){if(e){if("string"==typeof e)return Object(n.a)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(e,t):void 0}}},29:function(e,t){e.exports=window.wp.apiFetch},3:function(e,t){e.exports=window.wp.components},31:function(e,t,r){"use strict";function n(e){if(Array.isArray(e))return e}r.d(t,"a",(function(){return n}))},32:function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(t,"a",(function(){return n}))},352:function(e){e.exports=JSON.parse('{"apiVersion":2,"name":"prc-block/staff-listing","title":"Staff Listing","description":"Display a list of staff members organized by staff type, as well as expertise and/or research team.","keywords":["staff","people","experts"],"category":"layout","attributes":{"staffTypes":{"type":"array","default":["staff"]},"expertise":{"type":"array"},"researchTeams":{"type":"array"}},"supports":{"html":false}}')},36:function(e,t){e.exports=window.wp.url},38:function(e,t){e.exports=window.wp.htmlEntities},4:function(e,t){e.exports=window.wp.element},5:function(e,t){e.exports=window.wp.blockEditor},55:function(e,t){e.exports=window.ReactDOM},56:function(e,t){e.exports=regeneratorRuntime},64:function(e,t){e.exports=window.wp.keycodes},67:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(22);var a=r(72),c=r(27);function o(e){return function(e){if(Array.isArray(e))return Object(n.a)(e)}(e)||Object(a.a)(e)||Object(c.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},72:function(e,t,r){"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,"a",(function(){return n}))},935:function(e,t,r){r(24),e.exports=r(1015)}},[[935,0,1,2]]]);
//# sourceMappingURL=staff-listing-1508a080.js.map