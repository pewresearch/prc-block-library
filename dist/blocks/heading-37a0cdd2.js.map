{"version":3,"sources":["webpack:///external [\"wp\",\"compose\"]","webpack:///./src/heading/index.js","webpack:///external [\"wp\",\"blocks\"]","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///external [\"wp\",\"i18n\"]","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external [\"wp\",\"hooks\"]"],"names":["module","exports","window","HeadingBlockFilter","createHigherOrderComponent","BlockEdit","props","name","attributes","setAttributes","isChapter","altTocText","content","anchor","icon","label","isActive","onClick","attrs","replace","__","value","placeholder","onChange","addFilter","settings","level","default","type","registerBlockStyle","registerBlockVariation","title","description","className","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable","path","concat"],"mappings":";;;;;;;;;;;;;;;;;wHAAcA,EAAOC,QAAUC,OAAW,GAAW,S,wUC0BrD,IAAMC,EAAqBC,sCAA2B,SAACC,GACnD,OAAO,SAACC,GACJ,IAAQC,EAAoCD,EAApCC,KAAMC,EAA8BF,EAA9BE,WAAYC,EAAkBH,EAAlBG,cAC1B,GAAI,iBAAmBF,EACnB,OAAO,oBAACF,EAAcC,GAEhC,IAAQI,EAA2CF,EAA3CE,UAAWC,EAAgCH,EAAhCG,WAAYC,EAAoBJ,EAApBI,QAASC,EAAWL,EAAXK,OAClC,OACI,oBAAC,WAAD,KACR,oBAAC,gBAAD,KACC,oBAAC,eAAD,KACC,oBAAC,gBAAD,CACCC,KAAO,YACPC,MAAM,cACNC,SAAUN,EACVO,QAAS,WACR,IAAMC,EAAQ,CACbL,QAAQ,IAAUH,EAAV,kBAAiCG,GAAWA,EAAOM,QAAQ,WAAY,IAC/ET,WAAYA,GAEbD,E,yWAAc,CAAD,GAAKS,SAKtB,oBAAC,4BAAD,KACC,oBAAC,cAAD,CACCH,MAAOK,aAAG,qBAAsB,qBAChCC,MAAOV,EACPW,YAAaV,EACbW,SAAU,SAACF,GAAD,OAAWZ,EAAc,CAACE,WAAYU,QAGtC,oBAAChB,EAAcC,OAI5B,uBACHkB,oBAAU,mBAAoB,oBAAqBrB,EAAoB,IAqBvEqB,oBACI,2BACA,6BAdJ,SAAgCC,EAAUlB,GACtC,MAAK,iBAAmBA,IAGxBkB,EAASjB,WAAWkB,MAAMC,QAAU,EACpCF,EAASjB,WAAWE,UAAY,CAC5BkB,KAAM,UACND,SAAS,IALFF,KAgBfI,6BAAmB,eAAgB,CAC/B,CACItB,KAAM,iBACNQ,MAAO,kBAEX,CACIR,KAAM,aACNQ,MAAO,gBAIfe,iCAAuB,eAAgB,CACnCvB,KAAM,iBACNwB,MAAOX,aAAG,kBACVY,YAAaZ,aAAG,4CAChBZ,WAAY,CACRyB,UAAW,0BACXP,MAAO,M,iBC5GD1B,EAAOC,QAAUC,OAAW,GAAU,Q,gCCArC,SAASgC,EAAgBC,EAAKC,EAAKf,GAYhD,OAXIe,KAAOD,EACTE,OAAOC,eAAeH,EAAKC,EAAK,CAC9Bf,MAAOA,EACPkB,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZN,EAAIC,GAAOf,EAGNc,EAZT,mC,gBCAcnC,EAAOC,QAAUC,OAAW,GAAQ,M,mBCSlC,IAAIwC,EAAK,uBAA6CvB,QAAQ,kBAAkB,IAChG,IAAwBjB,OAAO,YAAYyC,OAAOD,K,gBCVpC1C,EAAOC,QAAUC,OAAW,GAAW,S,gBCAvCF,EAAOC,QAAUC,OAAW,GAAc,Y,gBCA1CF,EAAOC,QAAUC,OAAW,GAAe,a,8DCA3CF,EAAOC,QAAUC,OAAW,GAAS,Q","file":"blocks/heading-37a0cdd2.js","sourcesContent":["(function() { module.exports = window[\"wp\"][\"compose\"]; }());","/**\n * WordPress Dependencies\n */\n import { __ } from '@wordpress/i18n';\n import { createHigherOrderComponent } from '@wordpress/compose';\n import { Fragment } from '@wordpress/element';\n import {\n    registerBlockStyle,\n    registerBlockVariation\n} from '@wordpress/blocks';\nimport { BlockControls, InspectorAdvancedControls } from '@wordpress/block-editor';\nimport {\n    KeyboardShortcuts,\n\tTextControl,\n    Toolbar,\n    ToolbarGroup,\n\tToolbarButton\n} from '@wordpress/components';\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal Dependencies\n */\nimport './style.scss';\n\n// Add toolbar to core/heading block with toggle for isChapter attribute.\nconst HeadingBlockFilter = createHigherOrderComponent((BlockEdit) => {\n    return (props) => {\n        const { name, attributes, setAttributes } = props;\n        if ('core/heading' !== name) {\n            return <BlockEdit {...props} />;\n        }\n\t\tconst { isChapter, altTocText, content, anchor } = attributes;\n        return (\n            <Fragment>\n\t\t\t\t<BlockControls>\n\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\ticon={ 'editor-ol' }\n\t\t\t\t\t\t\tlabel=\"Is Chapter?\"\n\t\t\t\t\t\t\tisActive={isChapter}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tconst attrs = {\n\t\t\t\t\t\t\t\t\tanchor: true === !isChapter ? `CHAPTER-${anchor}` : anchor.replace(/CHAPTER-/, ''),\n\t\t\t\t\t\t\t\t\tisChapter: !isChapter\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsetAttributes({...attrs});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t</BlockControls>\n\t\t\t\t<InspectorAdvancedControls>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Alternate TOC Text', 'prc-block-library')}\n\t\t\t\t\t\tvalue={altTocText}\n\t\t\t\t\t\tplaceholder={content}\n\t\t\t\t\t\tonChange={(value) => setAttributes({altTocText: value})}\n\t\t\t\t\t/>\n\t\t\t\t</InspectorAdvancedControls>\n                <BlockEdit {...props} />\n            </Fragment>\n        );\n    };\n}, 'withChapterControls');\naddFilter('editor.BlockEdit', 'prc-block/heading', HeadingBlockFilter, 21);\n\n/**\n * Modify default settings on core/heading block. Change the default heading level to 4 and add isChapter attribute to replace prc-block/chapter at a later date.\n *\n * @param {*} settings\n * @param {*} name\n * @returns\n */\nfunction modifyDefaultSettings( settings, name ) {\n    if ( 'core/heading' !== name ) {\n        return settings;\n    }\n    settings.attributes.level.default = 4;\n    settings.attributes.isChapter = {\n        type: 'boolean',\n        default: false,\n    };\n\treturn settings;\n}\n\naddFilter(\n    'blocks.registerBlockType',\n    'prc-block-library/heading',\n    modifyDefaultSettings,\n);\n\nregisterBlockStyle('core/heading', [\n    {\n        name: 'section-header',\n        label: 'Section Header',\n    },\n    {\n        name: 'sub-header',\n        label: 'Sub Header',\n    },\n]);\n\nregisterBlockVariation('core/heading', {\n    name: 'section-header',\n    title: __('Section Header'),\n    description: __('A heading styled for \"section headings\".'),\n    attributes: {\n        className: 'is-style-section-header',\n        level: 3,\n    },\n});\n\n//@TODO: Register a block transform to convert prc-block/chapter to heading. from prc-block/chapter to this.\n","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","/* eslint-disable camelcase */ /* eslint-disable babel/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"wp\"][\"hooks\"]; }());"],"sourceRoot":""}