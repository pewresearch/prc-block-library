{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///external [\"wp\",\"data\"]","webpack:///external [\"wp\",\"i18n\"]","webpack:///external [\"wp\",\"primitives\"]","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///./node_modules/@wordpress/icons/build-module/library/plus-circle-filled.js","webpack:///./node_modules/@wordpress/icons/build-module/library/minus.js","webpack:///./src/chart-builder-data-wrapper/edit/index.js","webpack:///./src/chart-builder-data-wrapper/index.js","webpack:///./src/chart-builder-data-wrapper/save.js","webpack:///external [\"wp\",\"blocks\"]"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","module","exports","window","path","replace","concat","xmlns","viewBox","d","edit","attributes","setAttributes","clientId","console","log","MY_TEMPLATE","className","head","tableHead","body","tableBody","isConvertedChart","label","__","help","hideTable","checked","onChange","tableBlock","select","getBlocks","find","block","name","dispatch","updateBlockAttributes","icon","plusCircleFilled","minus","title","onClick","template","templateLock","metadata","settings","description","category","keywords","supports","html","example","chartType","transforms","from","type","blocks","transform","createBlock","transformed","includes","to","innerBlocks","table","filter","save","props","Content","registerBlockType"],"mappings":"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","file":"blocks/chart-builder-wrapper-aaa047c4.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","(function() { module.exports = window[\"wp\"][\"data\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","(function() { module.exports = window[\"wp\"][\"primitives\"]; }());","/* eslint-disable camelcase */ /* eslint-disable babel/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","import{createElement}from\"@wordpress/element\";/**\n * WordPress dependencies\n */import{SVG,Path}from'@wordpress/primitives';var plusCircleFilled=createElement(SVG,{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\"},createElement(Path,{d:\"M2 12C2 6.44444 6.44444 2 12 2C17.5556 2 22 6.44444 22 12C22 17.5556 17.5556 22 12 22C6.44444 22 2 17.5556 2 12ZM13 11V7H11V11H7V13H11V17H13V13H17V11H13Z\"}));export default plusCircleFilled;","import{createElement}from\"@wordpress/element\";/**\n * WordPress dependencies\n */import{SVG,Path}from'@wordpress/primitives';var minus=createElement(SVG,{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"-2 -2 24 24\"},createElement(Path,{d:\"M4 9h12v2H4V9z\"}));export default minus;","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n    BlockControls,\n    InnerBlocks,\n    InspectorControls,\n} from '@wordpress/block-editor';\nimport {\n    ToolbarButton,\n    ToolbarGroup,\n    ToggleControl,\n    PanelBody,\n} from '@wordpress/components';\nimport { minus, plusCircleFilled } from '@wordpress/icons';\nimport { select, dispatch } from '@wordpress/data';\n\nconst edit = ({ attributes, setAttributes, clientId }) => {\n    console.log({ attributes, clientId });\n    // Create an empty table + chart component on page load\n    const MY_TEMPLATE = [\n        [\n            'core/table',\n            {\n                className: 'chart-builder-data-table',\n                head: attributes.tableHead,\n                body: attributes.tableBody,\n            },\n        ],\n        [\n            'prc-block/chart-builder',\n            {\n                isConvertedChart: attributes.isConvertedChart,\n            },\n        ],\n    ];\n\n    return (\n        <>\n            <InspectorControls>\n                <PanelBody>\n                    <ToggleControl\n                        label={__('Hide table')}\n                        help={\n                            attributes.hideTable\n                                ? 'Table hidden.'\n                                : 'Table visible.'\n                        }\n                        checked={attributes.hideTable}\n                        onChange={() => {\n                            const tableBlock = select('core/block-editor')\n                                .getBlocks(clientId)\n                                .find((block) => block.name === 'core/table');\n                            if (attributes.hideTable) {\n                                dispatch('core/editor').updateBlockAttributes(\n                                    tableBlock.clientId,\n                                    {\n                                        className: 'chart-builder-data-table',\n                                    },\n                                );\n                            } else {\n                                dispatch('core/editor').updateBlockAttributes(\n                                    tableBlock.clientId,\n                                    {\n                                        className:\n                                            'chart-builder-data-table--hidden',\n                                    },\n                                );\n                            }\n                            setAttributes({ hideTable: !attributes.hideTable });\n                        }}\n                    />\n                </PanelBody>\n            </InspectorControls>\n            <BlockControls>\n                <ToolbarGroup>\n                    <ToolbarButton\n                        name=\"hide-table\"\n                        icon={attributes.hideTable ? plusCircleFilled : minus}\n                        title={\n                            attributes.hideTable\n                                ? __('Show Table')\n                                : __('Hide Table')\n                        }\n                        onClick={() => {\n                            const tableBlock = select('core/block-editor')\n                                .getBlocks(clientId)\n                                .find((block) => block.name === 'core/table');\n                            if (attributes.hideTable) {\n                                dispatch('core/editor').updateBlockAttributes(\n                                    tableBlock.clientId,\n                                    {\n                                        className: 'chart-builder-data-table',\n                                    },\n                                );\n                            } else {\n                                dispatch('core/editor').updateBlockAttributes(\n                                    tableBlock.clientId,\n                                    {\n                                        className:\n                                            'chart-builder-data-table--hidden',\n                                    },\n                                );\n                            }\n                            setAttributes({ hideTable: !attributes.hideTable });\n                        }}\n                    />\n                </ToolbarGroup>\n            </BlockControls>\n            <InnerBlocks template={MY_TEMPLATE} templateLock=\"all\" />\n        </>\n    );\n};\n\nexport default edit;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { registerBlockType, createBlock } from '@wordpress/blocks';\nimport { select } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\nimport save from './save';\nimport metadata from './block.json';\n\nconst { name } = metadata;\nconst settings = {\n    title: __('PRC Chart Builder'),\n    description: __('Create a custom data-driven chart.'),\n    category: 'widgets',\n    icon: 'chart-area',\n    keywords: [__('chart')],\n    supports: {\n        // Removes support for an HTML mode.\n        html: false,\n    },\n    example: {\n        attributes: {\n            chartType: 'bar',\n            className: 'is-style-bar',\n        },\n    },\n    transforms: {\n        from: [\n            {\n                type: 'block',\n                blocks: ['core/table'],\n                transform: (attributes) => {\n                    return createBlock('prc-block/chart-builder-data-wrapper', {\n                        transformed: true,\n                        isConvertedChart: attributes.className.includes(\n                            'pew-chart',\n                        ),\n                        tableHead: attributes.head,\n                        tableBody: attributes.body,\n                    });\n                },\n            },\n        ],\n        to: [\n            {\n                type: 'block',\n                blocks: ['core/table'],\n                transform: (attributes, innerBlocks) => {\n                    const table = innerBlocks.filter(\n                        (block) => block.name === 'core/table',\n                    );\n                    return createBlock('core/table', table.attributes);\n                },\n            },\n        ],\n    },\n    edit,\n    save,\n};\nregisterBlockType(name, { ...metadata, ...settings });\n","/**\n * WordPress dependencies\n */\nimport { InnerBlocks } from '@wordpress/block-editor';\nexport default function save(props) {\n    return <InnerBlocks.Content></InnerBlocks.Content>;\n}\n","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());"],"sourceRoot":""}