{"version":3,"sources":["webpack:///external \"React\"","webpack:///./src/heading/index.js","webpack:///external [\"wp\",\"data\"]","webpack:///external [\"wp\",\"i18n\"]","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///external [\"wp\",\"primitives\"]","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///external [\"wp\",\"apiFetch\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"url\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"htmlEntities\"]","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external \"ReactDOM\"","webpack:///external \"regeneratorRuntime\"","webpack:///external \"lodash\"","webpack:///external [\"wp\",\"mediaUtils\"]","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///external [\"wp\",\"keycodes\"]","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///external [\"wp\",\"compose\"]","webpack:///external [\"wp\",\"blocks\"]","webpack:///external [\"wp\",\"hooks\"]"],"names":["module","exports","window","HeadingBlockFilter","createHigherOrderComponent","BlockEdit","props","name","attributes","setAttributes","isChapter","icon","altTocText","content","anchor","label","isActive","onClick","attrs","replace","__","value","placeholder","onChange","attachmentId","mediaType","mediaSize","onUpdate","image","console","log","id","addFilter","settings","level","default","type","transforms","from","blocks","transform","createBlock","registerBlockStyle","registerBlockVariation","title","description","className","_arrayLikeToArray","arr","len","length","i","arr2","Array","_unsupportedIterableToArray","o","minLen","n","Object","prototype","toString","call","slice","constructor","test","regeneratorRuntime","_toConsumableArray","isArray","arrayLikeToArray","iterableToArray","unsupportedIterableToArray","TypeError","_iterableToArray","iter","Symbol","iterator"],"mappings":"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","file":"blocks/heading-e66406b6.js","sourcesContent":["(function() { module.exports = window[\"React\"]; }());","/**\n * External Dependencies\n */\nimport { isEmpty } from 'lodash';\nimport { MediaDropZone } from '@prc-app/shared';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { Fragment } from '@wordpress/element';\nimport {\n\tcreateBlock,\n\tregisterBlockStyle,\n\tregisterBlockVariation,\n} from '@wordpress/blocks';\nimport {\n\tBlockControls,\n\tInspectorAdvancedControls,\n} from '@wordpress/block-editor';\nimport {\n\tBaseControl,\n\tKeyboardShortcuts,\n\tTextControl,\n\tToolbarGroup,\n\tToolbarButton,\n} from '@wordpress/components';\nimport { addFilter } from '@wordpress/hooks';\n\n/**\n * Internal Dependencies\n */\nimport './style.scss';\n\n// Add toolbar to core/heading block with toggle for isChapter attribute.\nconst HeadingBlockFilter = createHigherOrderComponent(\n\t(BlockEdit) =>\n\t\tfunction (props) {\n\t\t\tconst { name, attributes, setAttributes } = props;\n\t\t\tif ('core/heading' !== name) {\n\t\t\t\treturn <BlockEdit {...props} />;\n\t\t\t}\n\t\t\tconst { isChapter, icon, altTocText, content, anchor } = attributes;\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<BlockControls>\n\t\t\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\t\ticon=\"book-alt\"\n\t\t\t\t\t\t\t\tlabel=\"Is Chapter?\"\n\t\t\t\t\t\t\t\tisActive={isChapter}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tconst attrs = {\n\t\t\t\t\t\t\t\t\t\tanchor:\n\t\t\t\t\t\t\t\t\t\t\ttrue === !isChapter\n\t\t\t\t\t\t\t\t\t\t\t\t? `CHAPTER-${anchor}`\n\t\t\t\t\t\t\t\t\t\t\t\t: anchor.replace(/CHAPTER-/, ''),\n\t\t\t\t\t\t\t\t\t\tisChapter: !isChapter,\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\tsetAttributes({ ...attrs });\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</ToolbarGroup>\n\t\t\t\t\t</BlockControls>\n\t\t\t\t\t<InspectorAdvancedControls>\n\t\t\t\t\t\t{isChapter && (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\t\tlabel={__('Alternate TOC Text', 'prc-block-library')}\n\t\t\t\t\t\t\t\t\tvalue={altTocText}\n\t\t\t\t\t\t\t\t\tplaceholder={content}\n\t\t\t\t\t\t\t\t\tonChange={(value) => setAttributes({ altTocText: value })}\n\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t<BaseControl label={__('Chapter Icon', 'prc-block-library')}>\n\t\t\t\t\t\t\t\t\t<MediaDropZone\n\t\t\t\t\t\t\t\t\t\tattachmentId={0 === icon ? false : icon}\n\t\t\t\t\t\t\t\t\t\tmediaType={['image']}\n\t\t\t\t\t\t\t\t\t\tmediaSize=\"heading-block--chapter-icon\"\n\t\t\t\t\t\t\t\t\t\tonUpdate={(image) => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('settingAttributes...', image);\n\t\t\t\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\t\t\t\ticon: image.id,\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</BaseControl>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</InspectorAdvancedControls>\n\t\t\t\t\t<BlockEdit {...props} />\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t},\n\t'withChapterControls',\n);\naddFilter('editor.BlockEdit', 'prc-block/heading', HeadingBlockFilter, 21);\n\n/**\n * Modify default settings on core/heading block. Change the default heading level to 4 and add isChapter attribute to replace prc-block/chapter at a later date.\n *\n * @param {*} settings\n * @param {*} name\n * @returns\n */\nfunction modifyDefaultSettings(settings, name) {\n\tif ('core/heading' !== name) {\n\t\treturn settings;\n\t}\n\tsettings.attributes.level.default = 4;\n\tsettings.attributes.isChapter = {\n\t\ttype: 'boolean',\n\t\tdefault: false,\n\t};\n\tsettings.transforms.from = [\n\t\t...settings.transforms.from,\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: ['prc-block/chapter'],\n\t\t\ttransform: ({ value, level }) =>\n\t\t\t\tcreateBlock('core/heading', {\n\t\t\t\t\tcontent: value,\n\t\t\t\t\tlevel,\n\t\t\t\t\tisChapter: true,\n\t\t\t\t}),\n\t\t},\n\t];\n\treturn settings;\n}\n\naddFilter(\n\t'blocks.registerBlockType',\n\t'prc-block-library/heading',\n\tmodifyDefaultSettings,\n);\n\nregisterBlockStyle('core/heading', [\n\t{\n\t\tname: 'section-header',\n\t\tlabel: 'Section Header',\n\t},\n\t{\n\t\tname: 'sub-header',\n\t\tlabel: 'Sub Header',\n\t},\n]);\n\nregisterBlockVariation('core/heading', {\n\tname: 'section-header',\n\ttitle: __('Section Header'),\n\tdescription: __('A heading styled for \"section headings\".'),\n\tattributes: {\n\t\tclassName: 'is-style-section-header',\n\t\tlevel: 3,\n\t},\n});\n\nregisterBlockVariation('core/heading', {\n\tname: 'chapter',\n\ttitle: __('Chapter'),\n\tdescription: __('A chapter heading.'),\n\ticon: 'editor-ol',\n\tattributes: {\n\t\tisChapter: true,\n\t\tlevel: 3,\n\t},\n});\n","(function() { module.exports = window[\"wp\"][\"data\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","(function() { module.exports = window[\"wp\"][\"primitives\"]; }());","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","(function() { module.exports = window[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"url\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"htmlEntities\"]; }());","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"ReactDOM\"]; }());","module.exports = regeneratorRuntime;","(function() { module.exports = window[\"lodash\"]; }());","(function() { module.exports = window[\"wp\"][\"mediaUtils\"]; }());","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","(function() { module.exports = window[\"wp\"][\"keycodes\"]; }());","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","(function() { module.exports = window[\"wp\"][\"compose\"]; }());","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","(function() { module.exports = window[\"wp\"][\"hooks\"]; }());"],"sourceRoot":""}