{"version":3,"sources":["webpack:///external \"React\"","webpack:///external [\"wp\",\"data\"]","webpack:///external [\"wp\",\"i18n\"]","webpack:///external [\"wp\",\"primitives\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///./node_modules/@wordpress/icons/build-module/library/share.js","webpack:///./src/social-link/edit.js","webpack:///./src/social-link/index.js","webpack:///./src/social-link/save.js","webpack:///external [\"wp\",\"blocks\"]"],"names":["module","exports","window","viewBox","xmlns","d","edit","attributes","setAttributes","className","isSelected","description","title","label","icon","blockProps","url","useBlockProps","classnames","useSelect","select","bitly","getEditedPostAttribute","postTitle","postId","getCurrentPostId","shortUrl","useEffect","console","log","__","value","onChange","descriptionValue","help","titleValue","autoComplete","options","i","Icon","name","metadata","settings","shareIcon","__experimentalLabel","merge","leftAttributes","rightLabel","save","Content","registerBlockType"],"mappings":";;;;;;;;;;;;;;;;;sHAAcA,EAAOC,QAAUC,OAAc,O,iBCA/BF,EAAOC,QAAUC,OAAW,GAAQ,M,gBCApCF,EAAOC,QAAUC,OAAW,GAAQ,M,iBCApCF,EAAOC,QAAUC,OAAW,GAAc,Y,kXCA1CF,EAAOC,QAAUC,OAAW,GAAc,Y,gBCA1CF,EAAOC,QAAUC,OAAW,GAAW,S,4DCAvCF,EAAOC,QAAUC,OAAW,GAAe,a,0ECE6W,EAA7W,wBAAc,MAAI,CAACC,QAAQ,YAAYC,MAAM,8BAA8B,wBAAc,OAAK,CAACC,EAAE,6P,gECmF3IC,EAlEF,SAAC,GAA0D,IAAxDC,EAAuD,EAAvDA,WAAYC,EAA2C,EAA3CA,cAAeC,EAA4B,EAA5BA,UAAWC,EAAiB,EAAjBA,WAC1CC,EAAyCJ,EAAzCI,YAAoBC,GAAqBL,EAA5BM,MAA4BN,EAArBK,OAAOE,EAAcP,EAAdO,KAC7BC,GAD2CR,EAARS,IACtBC,wBAAc,CAC7BR,UAAWS,IAAW,OAAQT,EAAW,CACrC,cAAeC,OAIvB,EAAwCS,qBAAU,SAAAC,GAC9C,IAAQC,EAAUD,EAAO,eAAeE,uBAAuB,QAAvDD,MACR,MAAO,CACHE,UAAWH,EAAO,eAAeE,uBAAuB,SACxDE,OAAQJ,EAAO,eAAeK,mBAC9BC,SAAUL,MALVG,EAAR,EAAQA,OAAQD,EAAhB,EAAgBA,UAAWG,EAA3B,EAA2BA,SAc3B,OALAC,qBAAU,WACNC,QAAQC,IAAI,WAAYH,EAAUF,GAClChB,EAAc,CAAEQ,IAAKU,EAAUd,MAAOW,MACvC,CAACC,EAAQD,IAGR,oBAAC,WAAD,KACI,oBAAC,oBAAD,KACI,oBAAC,YAAD,CAAWX,MAAOkB,aAAG,kBACjB,oBAAC,kBAAD,CACIC,MAAOpB,GAAe,GACtBqB,SAAU,SAAAC,GACNzB,EAAc,CAAEG,YAAasB,KAEjCpB,MAAOiB,aAAG,eACVI,KAAMJ,aACF,qFAGR,oBAAC,cAAD,CACIC,MAAOnB,GAAS,GAChBoB,SAAU,SAAAG,GACN3B,EAAc,CAAEI,MAAOuB,KAE3BtB,MAAOiB,aAAG,cACVM,aAAa,QAEjB,oBAAC,gBAAD,CACIvB,MAAM,cACNkB,MAAOjB,EACPuB,QAAS,CACL,CAAExB,MAAO,yBAA0BkB,MAAO,IAC1C,CAAElB,MAAO,WAAYkB,MAAO,YAC5B,CAAElB,MAAO,UAAWkB,MAAO,WAC3B,CAAElB,MAAO,WAAYkB,MAAO,YAC5B,CAAElB,MAAO,QAASkB,MAAO,UAE7BC,SAAU,SAAAM,GAAC,OAAI9B,EAAc,CAAEM,KAAMwB,SAKjD,0BAASvB,EACL,oBAACwB,EAAA,EAAD,CAAMC,KAAM1B,O,ykBCjE5B,IAAQ0B,EAASC,EAATD,KAEFE,EAAW,CACb9B,MAAOkB,aAAG,eACVhB,KAAM6B,EACNhC,YAAamB,aACT,6EAkBJc,oBAAqB,qBAAG/B,OACxBgC,MAvBa,SAuBPC,EAvBO,GAuBsC,IAAD,IAA1BjC,MAAOkC,OAAmB,MAAN,GAAM,EAC9C,OAAO,EAAP,KACOD,GADP,IAEIjC,MAAOiC,EAAejC,MAAQkC,KAGtCzC,OACA0C,KCzCW,WACX,OAAO,oBAAC,cAAYC,QAAb,QD2CXC,4BAAkBV,EAAD,OAAYC,GAAaC,K,gBEjD5B1C,EAAOC,QAAUC,OAAW,GAAU,S","file":"blocks/social-link-11006f9e.js","sourcesContent":["(function() { module.exports = window[\"React\"]; }());","(function() { module.exports = window[\"wp\"][\"data\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","(function() { module.exports = window[\"wp\"][\"primitives\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","import{createElement}from\"@wordpress/element\";/**\n * WordPress dependencies\n */import{Path,SVG}from'@wordpress/primitives';var share=createElement(SVG,{viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\"},createElement(Path,{d:\"M9 11.8l6.1-4.5c.1.4.4.7.9.7h2c.6 0 1-.4 1-1V5c0-.6-.4-1-1-1h-2c-.6 0-1 .4-1 1v.4l-6.4 4.8c-.2-.1-.4-.2-.6-.2H6c-.6 0-1 .4-1 1v2c0 .6.4 1 1 1h2c.2 0 .4-.1.6-.2l6.4 4.8v.4c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-2c0-.6-.4-1-1-1h-2c-.5 0-.8.3-.9.7L9 12.2v-.4z\"}));export default share;","/**\n * External dependencies\n */\nimport classnames from 'classnames';\nimport { Icon } from 'semantic-ui-react';\n/**\n * WordPress dependencies\n */\nimport { useSelect } from '@wordpress/data';\nimport {\n    PanelBody,\n    SelectControl,\n    TextControl,\n    TextareaControl,\n} from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { InspectorControls, useBlockProps } from '@wordpress/block-editor';\nimport { Fragment, useEffect } from '@wordpress/element';\n\nconst edit = ({ attributes, setAttributes, className, isSelected }) => {\n    const { description, label, title, icon, url } = attributes;\n    const blockProps = useBlockProps({\n        className: classnames('item', className, {\n            'is-selected': isSelected,\n        }),\n    });\n\n    const { postId, postTitle, shortUrl } = useSelect(select => {\n        const { bitly } = select('core/editor').getEditedPostAttribute('meta');\n        return {\n            postTitle: select('core/editor').getEditedPostAttribute('title'),\n            postId: select('core/editor').getCurrentPostId(),\n            shortUrl: bitly,\n        };\n    });\n\n    useEffect(() => {\n        console.log('shortUrl', shortUrl, postId);\n        setAttributes({ url: shortUrl, title: postTitle });\n    }, [postId, postTitle]);\n\n    return (\n        <Fragment>\n            <InspectorControls>\n                <PanelBody title={__('Link settings')}>\n                    <TextareaControl\n                        value={description || ''}\n                        onChange={descriptionValue => {\n                            setAttributes({ description: descriptionValue });\n                        }}\n                        label={__('Description')}\n                        help={__(\n                            'The description will be displayed in the menu if the current theme supports it.',\n                        )}\n                    />\n                    <TextControl\n                        value={title || ''}\n                        onChange={titleValue => {\n                            setAttributes({ title: titleValue });\n                        }}\n                        label={__('Link title')}\n                        autoComplete=\"off\"\n                    />\n                    <SelectControl\n                        label=\"Select Icon\"\n                        value={icon}\n                        options={[\n                            { label: '(Click to select icon)', value: '' },\n                            { label: 'Facebook', value: 'facebook' },\n                            { label: 'Twitter', value: 'twitter' },\n                            { label: 'LinkedIn', value: 'linkedin' },\n                            { label: 'Print', value: 'print' },\n                        ]}\n                        onChange={i => setAttributes({ icon: i })}\n                    />\n                </PanelBody>\n            </InspectorControls>\n\n            <div {...blockProps}>\n                <Icon name={icon} />\n            </div>\n        </Fragment>\n    );\n};\n\nexport default edit;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { share as shareIcon } from '@wordpress/icons';\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport metadata from './block.json';\nimport edit from './edit';\nimport save from './save';\n\nconst { name } = metadata;\n\nconst settings = {\n    title: __('Social Link'),\n    icon: shareIcon,\n    description: __(\n        'Add a link to a social network to a profile or to share the current post.',\n    ),\n    // variations: [\n    //     {\n    //         name: 'link',\n    //         isDefault: true,\n    //         title: __('Link'),\n    //         description: __('A link to a URL.'),\n    //         attributes: {},\n    //     },\n    //     {\n    //         name: 'post',\n    //         icon: postIcon,\n    //         title: __('Post Link'),\n    //         description: __('A link to a post.'),\n    //         attributes: { type: 'post' },\n    //     },\n    // ],\n    __experimentalLabel: ({ label }) => label,\n    merge(leftAttributes, { label: rightLabel = '' }) {\n        return {\n            ...leftAttributes,\n            label: leftAttributes.label + rightLabel,\n        };\n    },\n    edit,\n    save,\n};\n\nregisterBlockType(name, { ...metadata, ...settings });\n","/**\n * WordPress dependencies\n */\nimport { InnerBlocks } from '@wordpress/block-editor';\n\nexport default function save() {\n    return <InnerBlocks.Content />;\n}\n","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());"],"sourceRoot":""}