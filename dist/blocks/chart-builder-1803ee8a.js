/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 2.1.9
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2022 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprcBlocksLibraryblocksJsonp=window.wpackioprcBlocksLibraryblocksJsonp||[]).push([[5,2],{1:function(e,t){e.exports=window.React},11:function(e,t){e.exports=window.wp.blocks},13:function(e,t){e.exports=window.wp.data},2:function(e,t){e.exports=window.wp.i18n},25:function(e,t){e.exports=window.wp.primitives},266:function(e,t){e.exports=window.wp.mediaUtils},29:function(e,t){e.exports=window.wp.apiFetch},3:function(e,t){e.exports=window.wp.element},314:function(e){e.exports=JSON.parse('{"name":"prc-block/chart-builder","category":"layout","parent":["prc-block/chart-builder-data-wrapper"],"attributes":{"id":{"type":"string"},"isConvertedChart":{"type":"boolean","default":false},"chartData":{"type":"string"},"chartType":{"type":"string","default":"bar"},"chartOrientation":{"type":"string","default":"vertical"},"width":{"type":"integer","default":640},"height":{"type":"integer","default":400},"paddingTop":{"type":"integer","default":20},"paddingLeft":{"type":"integer","default":60},"paddingBottom":{"type":"integer","default":25},"paddingRight":{"type":"integer","default":0},"sortOrder":{"type":"string","default":"none"},"colorLabel":{"type":"string"},"colorValue":{"type":"string","default":"general"},"customColors":{"type":"array","default":[]},"xAxisActive":{"type":"boolean","default":true},"xLabel":{"type":"string","default":null},"xMinDomain":{"type":"number","default":0},"xMaxDomain":{"type":"number","default":100},"xDomainPadding":{"type":"number","default":50},"xTickNum":{"type":"integer","default":5},"xTickExact":{"type":"string","default":""},"xScale":{"type":"string","default":"linear"},"xScaleFormat":{"type":"string","default":"yyyy"},"xAxisStroke":{"type":"string","default":"#756f6a"},"xGridStroke":{"type":"string","default":""},"yAxisStroke":{"type":"string","default":"#756f6a"},"yGridStroke":{"type":"string","default":""},"yAxisActive":{"type":"boolean","default":true},"yLabel":{"type":"string","default":null},"yScale":{"type":"string","default":"linear"},"yScaleFormat":{"type":"string","default":"yyyy"},"yMinDomain":{"type":"number","default":0},"yMaxDomain":{"type":"number","default":100},"yDomainPadding":{"type":"number","default":20},"showYMinDomainLabel":{"type":"boolean","default":false},"yTickNum":{"type":"integer","default":5},"yTickExact":{"type":"string","default":""},"barWidth":{"type":"integer","default":50},"barGroupOffset":{"type":"integer","default":20},"barLabelPosition":{"type":"string","default":"inside"},"barLabelCutoff":{"type":"number","default":10},"barLabelCutoffMobile":{"type":"number","default":5},"lineInterpolation":{"type":"string","default":"linear"},"lineStrokeWidth":{"type":"integer","default":3},"lineNodes":{"type":"boolean","default":false},"nodeSize":{"type":"integer","default":3},"nodeFill":{"type":"string","default":"inherit"},"nodeStroke":{"type":"integer","default":3},"areaFillOpacity":{"type":"number","default":0.4},"tooltipActive":{"type":"boolean","default":true},"tooltipFormat":{"type":"string","default":"%1$s: %2$s"},"labelsActive":{"type":"boolean","default":false},"labelPositionDX":{"type":"integer","default":0},"labelPositionDY":{"type":"integer","default":0},"labelCutoff":{"type":"number","default":10},"labelToFixedDecimal":{"type":"integer","default":0},"legendActive":{"type":"boolean","default":false},"legendOrientation":{"type":"string","default":"horizontal"},"legendTitle":{"type":"string"},"legendOffsetX":{"type":"integer","default":0},"legendOffsetY":{"type":"integer","default":0},"legendMarkerStyle":{"type":"string","default":"square"},"legendBorderStroke":{"type":"string","default":"#231F20"},"legendFill":{"type":"string","default":"white"},"metaTextActive":{"type":"boolean","default":true},"metaTitle":{"type":"string","default":"Title"},"metaSubtitle":{"type":"string","default":"Subtitle"},"metaNote":{"type":"string","default":"Note: This is a note."},"metaSource":{"type":"string","default":"Source: This is your source."},"metaTag":{"type":"string","default":"PEW RESEARCH CENTER"},"pngUrl":{"type":"string","default":""},"pngId":{"type":"integer"}},"supports":{"html":false,"inserter":false},"styles":[{"name":"bar","label":"Bar","isDefault":true},{"name":"stacked-bar","label":"Stacked Bar","isDefault":true},{"name":"line","label":"Line"},{"name":"scatter","label":"Scatter"},{"name":"pie","label":"Pie"},{"name":"area","label":"Area"},{"name":"dot-plot","label":"Dot Plot"}]}')},36:function(e,t){e.exports=window.wp.url},38:function(e,t){e.exports=window.wp.htmlEntities},4:function(e,t){e.exports=window.wp.components},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return z})),n.d(t,"c",(function(){return F})),n.d(t,"e",(function(){return $})),n.d(t,"d",(function(){return W})),n.d(t,"f",(function(){return X})),n.d(t,"g",(function(){return J})),n.d(t,"h",(function(){return p}));var a=n(28),l=n(23),r=n(45),o=n(1041),i=n(142),c=n(56),u=n(13),s=n(3),d=n(2),b=n(4),m=n(30);var p=function(e,t){var n=Object(s.useState)(e),a=Object(l.a)(n,2),r=a[0],o=a[1];return Object(s.useEffect)((function(){var n=setTimeout((function(){o(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r},g=(n(143),n(34));n(63);var h,f,v,y,_=n(29),x=n.n(_),E=n(36),R=n(38),O=Object(c.a)(b.Button)(h||(h=Object(r.a)(["\n\t&:hover {\n\t\t/* Add opacity background to support future color changes */\n\t\t/* Reduce background from #ddd to 0.05 for text contrast  */\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\n\t\t.block-editor-link-control__search-item-type {\n\t\t\tcolor: black;\n\t\t}\n\t}\n\n\t.block-editor-link-control__search-item-type {\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\t}\n"]))),C=function(e){var t=e.suggestion,n=e.onClick,a=e.searchTerm,l=e.isSelected,r=e.id,o=e.contentTypes,i=t.type&&o.length>1;return React.createElement(b.Tooltip,{text:Object(R.decodeEntities)(t.title)},React.createElement(O,{id:r,onClick:n,className:"block-editor-link-control__search-item is-entity ".concat(l&&"is-selected"),style:{borderRadius:"0",boxSizing:"border-box"}},React.createElement("span",{className:"block-editor-link-control__search-item-header"},React.createElement("span",{className:"block-editor-link-control__search-item-title",style:{paddingRight:i?null:0}},React.createElement(b.TextHighlight,{text:Object(R.decodeEntities)(t.title),highlight:a})),React.createElement("span",{"aria-hidden":!0,className:"block-editor-link-control__search-item-info",style:{paddingRight:i?null:0}},Object(E.filterURLForDisplay)(Object(E.safeDecodeURI)(t.url))||"")),i&&React.createElement("span",{className:"block-editor-link-control__search-item-type"},"post_tag"===t.type?"tag":t.type)))},k="prc-content-search",j={},w=function(e){var t=e.onSelectItem,n=e.placeholder,a=e.label,o=e.style,i=void 0===o?"search":o,c=e.contentTypes,u=e.mode,g=e.excludeItems,h=e.perPage,v=Object(s.useState)(""),y=Object(l.a)(v,2),_=y[0],E=y[1],R=p(_,500),O=Object(s.useState)(!1),w=Object(l.a)(O,2),S=w[0],P=w[1],T=Object(s.useState)([]),D=Object(l.a)(T,2),A=D[0],N=D[1],B=Object(s.useState)(!1),F=Object(l.a)(B,2),L=F[0],M=F[1],I=Object(s.useState)(null),z=Object(l.a)(I,2),H=z[0],U=z[1],G=Object(s.useRef)(),V=Object(s.useRef)(!0),Y=function(e){return void 0!==e&&new Promise((function(t,n){x()({path:"/prc-api/v2/utils/get-post-by-url",method:"POST",data:{url:e}}).then((function(e){console.log("getPostByUrl",e),t(e)})).catch((function(e){return n(e)}))}))},W=function(e){return e.filter((function(e){var t=!0;return g.length&&(t=g.every((function(t){return t.id!==e.id}))),t}))},X=!!R.length,q=!!A.length;Object(s.useEffect)((function(){return function(){V.current=!1}}),[]),Object(s.useEffect)((function(){if(""!==R){var e=R.match(/^(http|https):\/\//);P(e),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(G.current&&G.current.abort(),""===e.trim())return M(!1),N([]),void(G.current=null);G.current=new AbortController,M(!0);var n="wp/v2/search/?search=".concat(e,"&subtype=").concat(c.join(","),"&type=").concat(u,"&_embed&per_page=").concat(h);j[n]?(G.current=null,N(W(j[n])),M(!1)):t?(console.log("isUrl",e),Y(e).then((function(e){if(V.current){var t=e.ID,a=e.post_title,l=e.post_type,r=e.permalink;G.current=null;var o=[{id:t,subtype:l,title:a,type:"post",url:r}];console.log("this is where we should do our stuff...",o,e),j[n]=o,N(W(o)),M(!1)}})).catch((function(t,n){console.log("Hey this is a url error, we didnt find a matching post... now what?",e),M(!1)}))):x()({path:n,signal:G.current.signal}).then((function(e){!1!==V.current&&(console.log("search Results",e),G.current=null,j[n]=e,N(W(e)),M(!1))})).catch((function(e,t){"fetch_error"!==e.code&&(N([]),G.current=null,M(!1))}))}(R,e)}}),[R]);var $=Object(m.a)(f||(f=Object(r.a)(["\n\t\t/* stylelint-disable */\n\t\tmax-height: 350px;\n\t\toverflow-y: auto;\n\t"])));return Object(m.b)(b.NavigableMenu,{onNavigate:function(e){0===e&&U(null),U(e)},orientation:"vertical"},Object(m.b)("div",{style:{display:"flex"}},Object(m.b)("div",{style:{flexGrow:"1"}},"minimal"===i&&Object(m.b)(b.TextControl,{label:a,value:_,onChange:function(e){return E(e)},placeholder:n,autoComplete:"off"}),"search"===i&&Object(m.b)(b.SearchControl,{value:_,onChange:function(e){return E(e)},placeholder:n})),L&&Object(m.b)("div",{style:{position:"absolute",right:"minimal"===i?"8px":"50px",marginTop:"minimal"===i?"27px":"10px"}},Object(m.b)(b.Spinner,null))),X?Object(m.b)("ul",{className:"".concat(k,"-list"),style:{marginTop:"0",marginBottom:"0",marginLeft:"0",paddingLeft:"0",listStyle:"none"},css:$},!L&&!q&&!1===S&&Object(m.b)("li",{className:"".concat(k,"-list-item components-button"),style:{color:"inherit",cursor:"default",paddingLeft:"3px"}},Object(d.__)("Nothing found.","prc-block-components")),!L&&!q&&S&&Object(m.b)("li",{className:"".concat(k,"-list-item components-button"),style:{color:"inherit",cursor:"default",paddingLeft:"3px"}},Object(d.__)("Press enter to change url.","prc-block-components")),!L&&A.map((function(e,n){return e.title.length?Object(m.b)("li",{key:e.id,className:"".concat(k,"-list-item"),style:{marginBottom:"0"}},Object(m.b)(C,{onClick:function(){return function(e){N([]),E(""),t(e)}(e)},searchTerm:R,suggestion:e,contentTypes:c,isSelected:H===n+1})):null}))):null)},S=n(58),P=Object(S.c)((function(){return React.createElement("svg",{style:{marginRight:"5px",cursor:"grab",flexShrink:0},width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",role:"img","aria-hidden":"true",focusable:"false"},React.createElement("path",{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"}))})),T=Object(c.a)("div")(v||(v=Object(r.a)(["\n\tbutton {\n\t\tdisplay: block;\n\t\tpadding: 2px 8px 6px 8px;\n\t\tmargin-left: auto;\n\t\tfont-size: 2em;\n\t\tcursor: pointer;\n\t\tborder: none;\n\t\tbackground-color: transparent;\n\n\t\t&:hover {\n\t\t\tbackground-color: #ccc;\n\t\t}\n\t}\n"]))),D=function(e){var t=e.item,n=e.isOrderable,a=void 0!==n&&n,l=e.handleItemDelete,r=e.mode,o="post"===r?"postType":"taxonomy",i=Object(u.useSelect)((function(e){var n=e("core"),a=n.getEntityRecord,l=n.hasFinishedResolution,i=[o,t.type,t.id],c=a.apply(void 0,i);if(c){console.log("Has Item",c);var u={title:"post"===r?c.title.rendered:c.name,url:c.link,id:c.id};return t.uuid&&(u.uuid=t.uuid),u}if(l("getEntityRecord",i))return null}),[t.id,o]);return Object(s.useEffect)((function(){null===i&&l(t)}),[t,l,i]),i?React.createElement(T,{style:{border:"2px dashed #ddd",paddingTop:"10px",paddingBottom:"10px",paddingLeft:a?"3px":"8px"},className:"block-editor-link-control__search-item is-entity"},a?React.createElement(P,null):"",React.createElement("span",{className:"block-editor-link-control__search-item-header"},React.createElement("span",{className:"block-editor-link-control__search-item-title"},Object(R.decodeEntities)(i.title)),React.createElement("span",{"aria-hidden":!0,className:"block-editor-link-control__search-item-info"},Object(E.filterURLForDisplay)(Object(E.safeDecodeURI)(i.url))||"")),React.createElement("button",{type:"button",onClick:function(){l(i)},"aria-label":Object(d.__)("Delete item","10up-block-components")},"×")):React.createElement("div",null)},A=Object(S.a)((function(e){var t=e.items,n=e.isOrderable,a=e.handleItemDelete,l=e.mode,r=e.ChildComponent,o=void 0!==r&&r,i=!1!==o?n?Object(S.b)(o):o:n?Object(S.b)(D):D;return React.createElement("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif'}},t.map((function(e,r){var o=e.uuid?e.uuid:e.id;return React.createElement(i,{isOrderable:!!(n&&t.length>1)&&n,key:"item-".concat(o),index:r,handleItemDelete:a,sortIndex:r,item:e,mode:l,totalItems:t.length})})))})),N=Object(c.a)("div")(y||(y=Object(r.a)(["\n\t& .block-editor-link-control__search-item {\n\t\tborder: none !important;\n\t\tcursor: default;\n\n\t\t&:hover {\n\t\t\tbackground: transparent;\n\t\t}\n\t}\n"]))),B=function(e){var t,n=e.label,r=e.placeholder,c=e.mode,b=void 0===c?"post":c,m=e.contentTypes,p=void 0===m?["post","page"]:m,g=e.onPickChange,h=void 0===g?function(e){console.log("Content picker list change",e)}:g,f=e.maxContentItems,v=void 0===f?1:f,y=e.isOrderable,_=void 0!==y&&y,x=e.singlePickedLabel,E=void 0===x?Object(d.__)("You have selected the following item:","prc-block-components"):x,R=e.multiPickedLabel,O=void 0===R?Object(d.__)("You have selected the following items:","prc-block-components"):R,C=e.value,k=void 0===C?[]:C,j=e.uniqueContentItems,S=void 0===j||j,P=e.excludeCurrentPost,T=void 0===P||P,D=e.perPage,B=void 0===D?50:D,F=e.PickedItemChild,L=void 0!==F&&F,M=e.searchStyle,I=void 0===M?"search":M,z=Object(s.useState)(k),H=Object(l.a)(z,2),U=H[0],G=H[1],V=null===(t=Object(u.select)("core/editor"))||void 0===t?void 0:t.getCurrentPostId();Object(s.useEffect)((function(){console.log("Init content state",k)}),[]),Object(s.useEffect)((function(){U!==k&&0!==U.length&&(console.log("useEffect onPickChange->",U),h(U))}),[U]);var Y=Object(s.useMemo)((function(){var e=S?Object(a.a)(U):[];return T&&V&&e.push({id:V}),e}),[U,V,T,S]);return React.createElement("div",{className:"".concat("prc-content-picker")},(!U.length||U.length&&U.length<v)&&React.createElement(w,{placeholder:r,label:n,excludeItems:Y,onSelectItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("handleSelect->",e,t),G(!0===t?function(t){return[{uuid:Object(o.a)(),type:"subtype"in e?e.subtype:e.type,url:e.url}].concat(Object(a.a)(t))}:function(t){return[{id:e.id,uuid:Object(o.a)(),type:"subtype"in e?e.subtype:e.type,url:e.url}].concat(Object(a.a)(t))})},contentTypes:p,mode:b,perPage:B,style:I}),Boolean(null==U?void 0:U.length)>0&&React.createElement(N,null,React.createElement("span",{style:{marginTop:"15px",marginBottom:"2px",display:"block"}},U.length>1?O:E),React.createElement(A,{items:U,useDragHandle:!0,handleItemDelete:function(e){G((function(t){return t.filter((function(t){var n=t.id,a=t.uuid;return e.uuid?a!==e.uuid:n!==e.id}))}))},isOrderable:_,mode:b,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex,l=Object(a.a)(Object(i.default)(U,t,n));console.log("newContent?",l),G(l)},ChildComponent:L})))},F=function(e){var t=e.blockProps,n=e.onChange,a=e.onSkip,l=e.mode,r=void 0===l?"post":l,o=e.contentTypes,i=void 0===o?["stub"]:o,c=e.label,u=void 0===c?Object(d.__)("Search for a post","prc-block-components"):c,m=e.placeholder,p=void 0===m?Object(d.__)("Search for a post or pate in a url...","prc-block-components"):m,g=e.value,h=void 0===g?[]:g,f=e.loadingComponent,v=void 0!==f&&f,y=e.children;return React.createElement("div",t,React.createElement(b.Placeholder,{label:"".concat(u,":"),isColumnLayout:!0},!1!==v&&React.createElement("div",{style:{textAlign:"center"}},React.createElement(b.Spinner,null),React.createElement("p",{className:"sans-serif"},"Loading object...")),!1===v&&React.createElement(s.Fragment,null,y,React.createElement(B,{onPickChange:function(e){console.log("Step1:",e),n(e)},mode:r,label:"".concat(u," or enter a url:"),placeholder:p,contentTypes:i,value:h}),React.createElement(b.Button,{isLink:!0,onClick:function(){a()},text:Object(d.__)("Skip"),style:{paddingLeft:"9px"}}))))};n(1038);var L=n(5),M=function(e){var t=e.url,n=e.onChange,a=e.query,r=void 0===a?{type:"term",subtype:"topic"}:a,o=Object(s.useState)(!1),i=Object(l.a)(o,2),c=i[0],u=i[1];return React.createElement(s.Fragment,null,React.createElement(b.ToolbarButton,{"aria-expanded":c,"aria-haspopup":"true",label:Object(d.__)("Set Link"),icon:"admin-links",onClick:function(){return u(!c)},showTooltip:!0}),!0===c&&React.createElement(b.Popover,{position:"bottom center",onClose:function(){return u(!1)}},React.createElement(L.__experimentalLinkControl,{className:"wp-block-navigation-link__inline-link-input",value:{url:t},showInitialSuggestions:!0,suggestionsQuery:r,onChange:function(e){return n(e)},settings:[]})))},I=n(1039),z=function(e){var t=e.url,n=e.heading,a=e.headingSize,l=void 0===a?"h2":a,r=e.disableIcon,o=void 0!==r&&r,i=e.setAttributes;return React.createElement(s.Fragment,null,React.createElement(L.BlockControls,null,React.createElement(b.ToolbarGroup,null,React.createElement(M,{url:t,onChange:function(e){i({url:e.url})}}))),React.createElement(b.Flex,{style:{paddingBottom:"1em"}},React.createElement(b.FlexItem,null,React.createElement(L.RichText,{tagName:l,value:n,onChange:function(e){return i({heading:e})},placeholder:"Heading...",formattingControls:[],keepPlaceholderOnFocus:!0,className:"sans-serif"})),!0!==o&&React.createElement(b.FlexBlock,null,React.createElement(I.a,{name:"chevron right",size:"small",style:{marginLeft:"0.5em"}}))))},H=n(11),U=function(e){var t=e.label,n=void 0===t?"":t,a=e.blockName,l=e.clientId,r=(e.className,e.attributes),o=void 0===r?{}:r;return React.createElement(b.Button,{label:Object(d.__)(n),tooltipPosition:"bottom",onClick:function(){var e=Object(u.select)("core/block-editor").getBlock(l);console.log("debug info...",e.innerBlocks.length);var t=0===e.innerBlocks.length?0:e.innerBlocks.length+1,n=Object(H.createBlock)(a,o);Object(u.dispatch)("core/block-editor").insertBlock(n,t,l)},className:"block-editor-button-block-appender"},Object(d.__)(n))},G=n(65),V=function(e){var t=e.level,n=e.isPressed,a=void 0!==n&&n,l={1:"M9 5h2v10H9v-4H5v4H3V5h2v4h4V5zm6.6 0c-.6.9-1.5 1.7-2.6 2v1h2v7h2V5h-1.4z",2:"M7 5h2v10H7v-4H3v4H1V5h2v4h4V5zm8 8c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6V15h8v-2H15z",3:"M12.1 12.2c.4.3.8.5 1.2.7.4.2.9.3 1.4.3.5 0 1-.1 1.4-.3.3-.1.5-.5.5-.8 0-.2 0-.4-.1-.6-.1-.2-.3-.3-.5-.4-.3-.1-.7-.2-1-.3-.5-.1-1-.1-1.5-.1V9.1c.7.1 1.5-.1 2.2-.4.4-.2.6-.5.6-.9 0-.3-.1-.6-.4-.8-.3-.2-.7-.3-1.1-.3-.4 0-.8.1-1.1.3-.4.2-.7.4-1.1.6l-1.2-1.4c.5-.4 1.1-.7 1.6-.9.5-.2 1.2-.3 1.8-.3.5 0 1 .1 1.6.2.4.1.8.3 1.2.5.3.2.6.5.8.8.2.3.3.7.3 1.1 0 .5-.2.9-.5 1.3-.4.4-.9.7-1.5.9v.1c.6.1 1.2.4 1.6.8.4.4.7.9.7 1.5 0 .4-.1.8-.3 1.2-.2.4-.5.7-.9.9-.4.3-.9.4-1.3.5-.5.1-1 .2-1.6.2-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1l1.1-1.4zM7 9H3V5H1v10h2v-4h4v4h2V5H7v4z",4:"M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm10-2h-1v2h-2v-2h-5v-2l4-6h3v6h1v2zm-3-2V7l-2.8 4H16z",5:"M12.1 12.2c.4.3.7.5 1.1.7.4.2.9.3 1.3.3.5 0 1-.1 1.4-.4.4-.3.6-.7.6-1.1 0-.4-.2-.9-.6-1.1-.4-.3-.9-.4-1.4-.4H14c-.1 0-.3 0-.4.1l-.4.1-.5.2-1-.6.3-5h6.4v1.9h-4.3L14 8.8c.2-.1.5-.1.7-.2.2 0 .5-.1.7-.1.5 0 .9.1 1.4.2.4.1.8.3 1.1.6.3.2.6.6.8.9.2.4.3.9.3 1.4 0 .5-.1 1-.3 1.4-.2.4-.5.8-.9 1.1-.4.3-.8.5-1.3.7-.5.2-1 .3-1.5.3-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1-.1-.1 1-1.5 1-1.5zM9 15H7v-4H3v4H1V5h2v4h4V5h2v10z",6:"M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm8.6-7.5c-.2-.2-.5-.4-.8-.5-.6-.2-1.3-.2-1.9 0-.3.1-.6.3-.8.5l-.6.9c-.2.5-.2.9-.2 1.4.4-.3.8-.6 1.2-.8.4-.2.8-.3 1.3-.3.4 0 .8 0 1.2.2.4.1.7.3 1 .6.3.3.5.6.7.9.2.4.3.8.3 1.3s-.1.9-.3 1.4c-.2.4-.5.7-.8 1-.4.3-.8.5-1.2.6-1 .3-2 .3-3 0-.5-.2-1-.5-1.4-.9-.4-.4-.8-.9-1-1.5-.2-.6-.3-1.3-.3-2.1s.1-1.6.4-2.3c.2-.6.6-1.2 1-1.6.4-.4.9-.7 1.4-.9.6-.3 1.1-.4 1.7-.4.7 0 1.4.1 2 .3.5.2 1 .5 1.4.8 0 .1-1.3 1.4-1.3 1.4zm-2.4 5.8c.2 0 .4 0 .6-.1.2 0 .4-.1.5-.2.1-.1.3-.3.4-.5.1-.2.1-.5.1-.7 0-.4-.1-.8-.4-1.1-.3-.2-.7-.3-1.1-.3-.3 0-.7.1-1 .2-.4.2-.7.4-1 .7 0 .3.1.7.3 1 .1.2.3.4.4.6.2.1.3.3.5.3.2.1.5.2.7.1z"};return l.hasOwnProperty(t)?React.createElement(b.SVG,{width:"24",height:"24",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",isPressed:a},React.createElement(b.Path,{d:l[t]})):null},Y={className:"block-library-heading-level-dropdown",isAlternate:!0},W=function(e){var t=e.selectedLevel,n=e.levels,a=void 0===n?[2,3]:n,l=e.onChange;return console.log("HeadingLevelToolbar",t),React.createElement(b.ToolbarGroup,null,React.createElement(b.Dropdown,{popoverProps:Y,renderToggle:function(e){var n=e.onToggle,a=e.isOpen;return React.createElement(b.ToolbarButton,{"aria-expanded":a,"aria-haspopup":"true",icon:React.createElement(V,{level:t}),label:Object(d.__)("Change heading level"),onClick:n,onKeyDown:function(e){a||e.keyCode!==G.DOWN||(e.preventDefault(),e.stopPropagation(),n())},showTooltip:!0})},renderContent:function(){return React.createElement(b.Toolbar,{className:"block-library-heading-level-toolbar",label:Object(d.__)("Change heading level")},React.createElement(b.ToolbarGroup,{isCollapsed:!1,controls:a.map((function(e){var n=e===t;return{icon:React.createElement(V,{level:e,isPressed:n}),title:Object(d.sprintf)(Object(d.__)("Heading %d"),e),isActive:n,onClick:function(){l(e)}}}))}))}}))},X=function(e,t,n,a,l){e===t&&l(Object(g.a)({},n,a))},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return new Promise((function(n){var a={};x()({path:"/wp/v2/".concat(e,"?per_page=").concat(t)}).then((function(t){for(var l=0;l<t.length;l++){var r=t[l].slug.replace("".concat(e.toLowerCase(),"_"),"");a[t[l].id]={id:t[l].id,name:t[l].name,parent:t[l].parent,slug:r}}n(a)}))}))},$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"slug",a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise((function(l){q(e,t).then((function(e){var t=[];Object.keys(e).forEach((function(a){var l=e[a],r=l[n],o=l.name;void 0!==l.parent&&0!==l.parent&&(o=" -- ".concat(o)),t.push({value:r,label:o})})),!1!==a&&t.sort((function(e,t){return e.label>t.label?1:-1})),l(t)}))}))},J=[{label:"Weekly roundup of all new publications",value:"7c1390ba46"},{label:"Quarterly update from the President",value:"a33430a835"},{label:"--",value:!1},{label:"Global Attitudes & Trends",value:"9203343b04"},{label:"Internet, Science & Tech",value:"ea87b26abe"},{label:"Media & News Daily Briefing",value:"1d2638430b"},{label:"Hispanic Trends",value:"0e7495c7b2"},{label:"Religion - Weekly newsletter",value:"a7d4f3268f"},{label:"Religion - Daily religion headlines",value:"1a647764b2"},{label:"Social & Demographic Trends",value:"3836f62305"},{label:"Methods",value:"6d1e80bbaf"},{label:"Politics",value:"fa5fdbc701"},{label:"--",value:!1},{label:"Mini-course - U.S. Immigration",value:"xxx"},{label:"Mini-course - U.S. Census",value:"xxxx"},{label:"Mini-course - Muslims and Islam",value:"xxxxx"}]},5:function(e,t){e.exports=window.wp.blockEditor},55:function(e,t){e.exports=window.ReactDOM},59:function(e,t){e.exports=window.lodash},63:function(e,t){e.exports=regeneratorRuntime},65:function(e,t){e.exports=window.wp.keycodes},737:function(e,t,n){n(24),e.exports=n(962)},962:function(e,t,n){"use strict";n.r(t);var a=n(14),l=n(2),r=n(11),o=n(449),i=n(4),c=n(3),u=n(13),s=n(123),d=n(46),b={general:["#436983","#bf3927","#756a7e","#ea9e2c"],"politics-main":["#d1a730","#a55a26","#949d48"],"global-main":["#949d48","#006699","#a55a26"],"religion-main":["#0090bf","#a55a26","#949d48"],"social-trends-main":["#377668","#d1a730","#949d48"],"journalism-main":["#733d47","#d1a730","#949d48"],"internet-main":["#006699","#949d48","#d1a730"],"hispanic-main":["#a55a26","#d1a730","#949d48"],"politics-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"global-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"religion-spectrum":["#0090C0","#C9DEEE","#9DC7E1","#71B2D6","#0073A5","#00557E"],"journalism-spectrum":["#733D47","#E8D3D7","#D1A8AF","#BC7B86","#552E35","#391E22"],"social-trends-spectrum":["#387668","#D1E9E4","#A2D2C8","#64B6AA","#005645","#003A2C"],"hispanic-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"internet-spectrum":["#006699","#C9D1E1","#9DAECB","#7591B7","#004A75","#002748"],"blue-spectrum":["#456A83","#D5E1E9","#ACC4D3","#82A6BF","#335062","#213441"],"green-spectrum":["#949D48","#EAECD8","#D6DAB3","#C2C98B","#6E7537","#494E24"],"purple-spectrum":["#746A7E","#E3E1E5","#C7C1CB","#ACA4B1","#584F5E","#3A343F"],"medium-brown-spectrum":["#A55A26","#F2DBCD","#E7BA9A","#DE996A","#7C441C","#532E16"],"light-brown-spectrum":["#D1A730","#F6EED6","#ECDBAC","#E4CB83","#9E7F2D","#6A5522"],"orange-spectrum":["#EA9E2C","#F9EAD4","#F5D6A9","#F1C37F","#BB792A","#7C5220"],"red-spectrum":["#BF3B27","#F5D4CF","#EBABA2","#E37F73","#902D1E","#5F1D14"]},m=[{label:"General",value:"general"},{label:"Politics Main",value:"politics-main"},{label:"Global Main",value:"global-main"},{label:"Religion Main",value:"religion-main"},{label:"Social Trends Main",value:"social-trends-main"},{label:"Journalism Main",value:"journalism-main"},{label:"Internet Main",value:"internet-main"},{label:"Hispanic Main",value:"hispanic-main"},{label:"Politics Spectrum",value:"politics-spectrum"},{label:"Global Spectrum",value:"global-spectrum"},{label:"Religion Spectrum",value:"religion-spectrum"},{label:"Social Trends Spectrum",value:"social-trends-spectrum"},{label:"Journalism Spectrum",value:"journalism-spectrum"},{label:"Internet Spectrum",value:"internet-spectrum"},{label:"Hispanic Spectrum",value:"hispanic-spectrum"},{label:"Blue Spectrum",value:"blue-spectrum"},{label:"Green Spectrum",value:"green-spectrum"},{label:"Purple Spectrum",value:"purple-spectrum"},{label:"Medium Brown Spectrum",value:"medium-brown-spectrum"},{label:"Light Brown Spectrum",value:"light-brown-spectrum"},{label:"Orange Spectrum",value:"orange-spectrum"},{label:"Red Spectrum",value:"red-spectrum"}],p=n(20),g=n(266),h=n(267),f=n.n(h),v=n(466),y=n.n(v),_=n(268),x=n.n(_),E=n(313),R=n.n(E),O=n(467),C=n.n(O),k=function(e){return e.split(",").map(Number).filter((function(e){return!isNaN(e)}))},j=function(e,t,n,a,l,r){return isNaN(e)||isNaN(t)?[0,100]:"bar"===n&&"x"===l||"stacked-bar"===n&&"x"===l||"dot-plot"===n&&"x"===l||"pie"===n?null:"time"===a&&"x"===l?[new Date(e,0),new Date(t,0)]:[parseFloat(e),parseFloat(t)]},w=function(e,t){return"string"==typeof e&&"integer"===t?parseInt(e):"string"==typeof e&&"float"===t?parseFloat(e):e},S=n(5),P=function(e){var t=e.attributes,n=e.setAttributes,a=t.chartType,r=t.xAxisActive,o=t.xScale,c=t.xScaleFormat,u=t.xMinDomain,s=t.xMaxDomain,d=t.xDomainPadding,b=t.xTickNum,m=t.xTickExact,p=t.xLabel,g=t.xAxisStroke,h=t.xGridStroke;return React.createElement(i.PanelBody,{title:Object(l.__)("Independent Axis Configuration")},React.createElement(i.PanelRow,null,"The independent axis is almost always the x-axis, except in cases of horizontal bar charts or stack bar charts, where the independent values are plotted on the y-axis."),React.createElement(i.ToggleControl,{label:"X-axis active",help:r?"Has x-axis.":"No x-axis.",checked:r,onChange:function(){return n({xAxisActive:!r})}}),React.createElement(i.TextControl,{label:Object(l.__)("Label"),value:p,onChange:function(e){return n({xLabel:e})}}),React.createElement(i.SelectControl,{label:Object(l.__)("X-axis scale"),value:o,options:[{value:"linear",label:"Linear"},{value:"time",label:"Time"}],onChange:function(e){n({xScale:e})}}),"time"===o&&React.createElement(i.SelectControl,{label:Object(l.__)("X-axis scale format"),value:c,options:[{value:"yyyy",label:"yyyy"},{value:"mm/yyyy",label:"mm/yyyy"},{value:"mm/dd/yyyy",label:"mm/dd/yyyy"}],onChange:function(e){n({xScaleFormat:e})}}),React.createElement(i.PanelRow,null,"Domain"),React.createElement(i.Flex,null,React.createElement(i.FlexItem,null,React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Minimum"),value:u,disabled:"stacked-bar"===a||"bar"===a||"pie"===a,disableUnits:!0,disabledUnits:!0,onChange:function(e){n({xMinDomain:w(e,"integer")})}})),React.createElement(i.FlexItem,null,React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Maximum"),value:s,disabled:"stacked-bar"===a||"bar"===a||"pie"===a,disableUnits:!0,disabledUnits:!0,onChange:function(e){n({xMaxDomain:w(e,"integer")})}}))),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Domain Padding"),help:Object(l.__)("Determines the space between the first tick and the end of the axis"),value:d,disableUnits:!0,disabledUnits:!0,onChange:function(e){return n({xDomainPadding:w(e,"integer")})}}),React.createElement(i.PanelRow,null,"Axis Ticks"),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Number of ticks"),value:b,disableUnits:!0,disabledUnits:!0,onChange:function(e){return n({xTickNum:w(e,"integer")})},help:Object(l.__)("Note: This is return approximately the number of ticks requested, deferring to number that will evenly space ticks on the bar.")}),React.createElement(i.TextControl,{label:Object(l.__)("Specfic Ticks"),value:m,onChange:function(e){return n({xTickExact:e})},help:Object(l.__)('List of numbers seperated by commas (eg. 0, 50, 100). Setting this value will override the "Number of Ticks" parameter')}),React.createElement(i.PanelRow,null,React.createElement("strong",null,"Axis Styles")),React.createElement(i.PanelRow,null,Object(l.__)("Axis Stroke")),React.createElement(i.ColorPicker,{color:g,onChangeComplete:function(e){return n({xAxisStroke:e.hex})}}),React.createElement(i.PanelRow,null," ",Object(l.__)("Grid Stroke")),React.createElement(i.ColorPicker,{color:h,onChangeComplete:function(e){return n({xGridStroke:e.hex})}}))},T=function(e){var t=e.attributes,n=e.setAttributes,a=t.yAxisActive,r=t.yLabel,o=t.yMinDomain,c=t.yMaxDomain,u=t.yDomainPadding,s=t.yTickNum,d=t.yTickExact,b=t.showYMinDomainLabel,m=t.yAxisStroke,p=t.yGridStroke;return React.createElement(i.PanelBody,{title:Object(l.__)("Dependent Axis Configuration")},React.createElement(i.PanelRow,null,"Dependent variables are properties that change in response to a change in another property. As such, the dependent axis is usually the y-axis."),React.createElement(i.ToggleControl,{label:"Y-axis active",help:a?"Has y-axis.":"No y-axis.",checked:a,onChange:function(){return n({yAxisActive:!a})}}),React.createElement(i.TextControl,{label:Object(l.__)("Label"),value:r,onChange:function(e){return n({yLabel:e})}}),React.createElement(i.PanelRow,null,"Y Domain"),React.createElement(i.Flex,null,React.createElement(i.FlexItem,null,React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Minimum"),value:o,disableUnits:!0,disabledUnits:!0,onChange:function(e){return n({yMinDomain:w(e,"integer")})}})),React.createElement(i.FlexItem,null,React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Maximum"),value:c,disableUnits:!0,disabledUnits:!0,onChange:function(e){return n({yMaxDomain:w(e,"integer")})}}))),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Domain Padding"),help:Object(l.__)("Determines the space between the first tick and the end of the axis"),value:u,disableUnits:!0,disabledUnits:!0,onChange:function(e){return n({yDomainPadding:w(e,"integer")})}}),React.createElement(i.PanelRow,null,"Axis Ticks"),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Number of ticks"),value:s,disableUnits:!0,disabledUnits:!0,min:1,onChange:function(e){return n({yTickNum:w(e,"integer")})},help:Object(l.__)("Note: This is return approximately the number of ticks requested, deferring to number that will evenly space ticks on the bar.")}),React.createElement(i.ToggleControl,{label:"Show min domain label",help:Object(l.__)("Forces the minimum domain value's lable to appear on axis. May overlap with x axis."),checked:b,onChange:function(){return n({showYMinDomainLabel:!b})}}),React.createElement(i.TextControl,{label:Object(l.__)("Specfic Ticks"),value:d,onChange:function(e){return n({yTickExact:e})},help:Object(l.__)('List of numbers seperated by commas (eg. 0, 50, 100). Setting this value will override the "Number of ticks" parameter')}),React.createElement(i.PanelRow,null,React.createElement("strong",null,"Axis Styles")),React.createElement(i.PanelRow,null,Object(l.__)("Axis Stroke")),React.createElement(i.ColorPicker,{color:m,onChangeComplete:function(e){return n({yAxisStroke:e.hex})}}),React.createElement(i.PanelRow,null," ",Object(l.__)("Grid Stroke")),React.createElement(i.ColorPicker,{color:p,onChangeComplete:function(e){return n({yGridStroke:e.hex})}}))},D=function(e){var t=e.attributes,n=e.setAttributes,a=t.sortOrder;return React.createElement(i.PanelBody,{title:Object(l.__)("Data Sorting"),initialOpen:!1},React.createElement(i.PanelRow,null,"For data that is categorical, we can sort the data in a number of ways (eg. not linear or time scale. Think stacked bar charts, grouped bar charts, dot plots, etc.)."),React.createElement(i.PanelRow,null,"Selecting a sort will sort the dependent variable of your dataset (this will almost always be the first column of your table). The underlying library is a little finnicky re: sorting, so you may have to try a couple permutations to find the order you want."),React.createElement(i.PanelRow,null,React.createElement("ul",null,React.createElement("li",null,"Ascending: usually returns data sorted A → Z"),React.createElement("li",null,"Descending: usually returns data sorted Z → A"),React.createElement("li",null,"No sort: returns data as it is input in the table"),React.createElement("li",null,"Reverse: for some chart types, not sorting will return the data in reverse order. Choose this option to reverse the reverse :)"))),React.createElement(i.SelectControl,{label:Object(l.__)("Sort Order"),value:a,options:[{value:"ascending",label:"Ascending"},{value:"descending",label:"Descending"},{value:"none",label:"No Sort"},{value:"reverse",label:"Reverse"}],onChange:function(e){n({sortOrder:e})}}))},A=function(e){var t=e.attributes,n=e.setAttributes,a=e.chartType,r=t.lineInterpolation,o=t.lineStrokeWidth,c=t.lineNodes,u=t.nodeSize,s=t.nodeStroke,d=t.areaFillOpacity;return React.createElement(i.PanelBody,{title:Object(l.__)("Line/Area Chart Configuration")},React.createElement(i.SelectControl,{label:Object(l.__)("Interpolation"),options:[{label:"Basis",value:"basis"},{label:"Bundle",value:"bundle"},{label:"Cardinal",value:"cardinal"},{label:"Catmull-Rom",value:"catmullRom"},{label:"Linear",value:"linear"},{label:"Monotone X",value:"monotoneX"},{label:"Monotone Y",value:"monotoneY"},{label:"Natural",value:"natural"},{label:"Step",value:"step"},{label:"Step After",value:"stepAfter"},{label:"Step Before",value:"stepBefore"}],value:r,onChange:function(e){return n({lineInterpolation:e})}}),React.createElement(i.__experimentalNumberControl,{min:1,label:Object(l.__)("Line Stroke Width"),value:o,onChange:function(e){return n({lineStrokeWidth:w(e,"integer")})}}),React.createElement(i.PanelRow,null,"Line Nodes"),React.createElement(i.ToggleControl,{label:"Line nodes",help:c?"Shows data point nodes on chart.":"No data point nodes.",checked:c,onChange:function(){return n({lineNodes:!c})}}),React.createElement(i.__experimentalNumberControl,{disabled:!c,min:1,label:Object(l.__)("Line Node Size"),value:u,onChange:function(e){return n({nodeSize:w(e,"integer")})}}),React.createElement(i.__experimentalNumberControl,{disabled:!c,min:1,label:Object(l.__)("Line Node Stroke"),value:s,onChange:function(e){return n({nodeStroke:w(e,"integer")})}}),React.createElement(i.PanelRow,null,"Area"),React.createElement(i.__experimentalNumberControl,{disabled:"area"===!a,label:Object(l.__)("Fill Opacity"),step:.1,value:d,onChange:function(e){return n({areaFillOpacity:w(e,"float")})}}))},N=function(e){var t=e.attributes,n=e.setAttributes,a=t.barWidth,r=t.barGroupOffset;return React.createElement(i.PanelBody,{title:Object(l.__)("Bar Chart Configuration"),initialOpen:!1},React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Bar Width"),value:a,onChange:function(e){return n({barWidth:w(e,"integer")})}}),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Grouped Bar Offset"),help:Object(l.__)("Determines space between bars in a group."),value:r,onChange:function(e){return n({barGroupOffset:w(e,"integer")})}}))},B=function(e){var t=e.attributes,n=e.setAttributes,a=e.chartType,r=t.chartOrientation,o=t.labelsActive,u=t.labelPositionDY,s=t.labelPositionDX,d=t.labelToFixedDecimal,b=t.barLabelPosition,m=t.barLabelCutoff,p=t.barLabelCutoffMobile;return React.createElement(i.PanelBody,{title:Object(l.__)("Labels"),initialOpen:!1},React.createElement(i.ToggleControl,{label:"Labels Active",checked:o,onChange:function(){return n({labelsActive:!o})}}),React.createElement(i.PanelRow,null,"Label Positioning"),React.createElement(i.PanelRow,null,"Determines the position of label relative to it's parent node"),React.createElement(i.Flex,null,React.createElement(i.FlexItem,null,React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("DX"),value:s,onChange:function(e){return n({labelPositionDX:w(e,"integer")})}})),React.createElement(i.FlexItem,null,React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("DY"),value:u,onChange:function(e){return n({labelPositionDY:w(e,"integer")})}}))),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Label value to fixed decimals"),value:d,onChange:function(e){return n({labelToFixedDecimal:w(e,"integer")})}}),("bar"===a||"stacked-bar"===a)&&React.createElement(c.Fragment,null,React.createElement(i.SelectControl,{label:Object(l.__)("Label Positioning"),help:Object(l.__)("For bar charts, determines whether the label for a bar will appear inside or outside the bar. If inside is selected, chart builder will attempt to place the label inside the bar, and adjust label color based on the bar color. Please choose a break point that will force render the label outside the bar if the value is too small, overriding your designated DX or DY values."),value:b,options:[{value:"inside",label:"Inside"},{value:"outside",label:"Outside"}],onChange:function(e){n({barLabelPosition:e})}}),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Label Break Point"),disabled:"outside"===b,min:0,value:m,onChange:function(e){return n({barLabelCutoff:w(e,"float")})}}),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Label Break Point - Mobile"),disabled:"outside"===b&&"vertical"===r,min:0,value:p,onChange:function(e){return n({barLabelCutoffMobile:w(e,"float")})}})))},F=function(e){var t=e.attributes,n=e.setAttributes,a=t.legendActive,r=t.legendOrientation,o=t.legendTitle,c=t.legendOffsetX,u=t.legendOffsetY,s=t.legendMarkerStyle,d=t.legendBorderStroke,b=t.legendFill;return React.createElement(i.PanelBody,{title:Object(l.__)("Legend"),initialOpen:!1},React.createElement(i.ToggleControl,{label:"Legend Active",checked:a,onChange:function(){return n({legendActive:!a})}}),React.createElement(i.PanelRow,null,"Legend Positioning"),React.createElement(i.PanelRow,null,"Determines the position of legend relative to the chart container"),React.createElement(i.Flex,null,React.createElement(i.FlexItem,null,React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("DX"),value:c,onChange:function(e){return n({legendOffsetX:w(e,"integer")})}})),React.createElement(i.FlexItem,null,React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("DY"),value:u,onChange:function(e){return n({legendOffsetY:w(e,"integer")})}}))),React.createElement(i.TextControl,{label:Object(l.__)("Legend Title"),value:o,onChange:function(e){return n({legendTitle:e})}}),React.createElement(i.SelectControl,{label:Object(l.__)("Orientation"),value:r,options:[{value:"horizontal",label:"Horizontal"},{value:"vertical",label:"Vertical"}],onChange:function(e){n({legendOrientation:e})}}),React.createElement(i.SelectControl,{label:Object(l.__)("Marker Style"),value:s,options:[{value:"square",label:"Square"},{value:"circle",label:"Circle"},{value:"diamond",label:"Diamond"},{value:"plus",label:"Plus"},{value:"minus",label:"Minus"},{value:"star",label:"Star"},{value:"triangleDown",label:"Triangle Down"},{value:"triangleUp",label:"Triangle Up"}],onChange:function(e){n({legendMarkerStyle:e})}}),React.createElement(i.PanelRow,null,Object(l.__)("Border Stroke")),React.createElement(i.ColorPicker,{color:d,onChangeComplete:function(e){return n({legendBorderStroke:e.hex})}}),React.createElement(i.PanelRow,null," ",Object(l.__)("Fill")),React.createElement(i.ColorPicker,{color:b,onChangeComplete:function(e){return n({legendFill:e.hex})}}))},L=function(e){var t=e.attributes,n=e.setAttributes,a=t.tooltipFormat,r=t.tooltipActive;return React.createElement(i.PanelBody,{title:Object(l.__)("Tooltip"),initialOpen:!1},React.createElement(i.ToggleControl,{label:Object(l.__)("Show Tooltip"),checked:r,onChange:function(){return n({tooltipActive:!r})}}),React.createElement(i.TextControl,{label:Object(l.__)("Tooltip Format"),help:Object(l.__)("Tooltip formatter is a string that takes two variables. The first variable(%1$s) corresponds with the x value of a node, and the second(%2$s), the y value. (eg. '%1$s: %2$s people' would return something like '2010: 500 people')"),disabled:!r,value:a,placeholder:"%1$s: %2$s",onChange:function(e){return n({tooltipFormat:e})}}))},M=function(e){var t=e.attributes,n=e.setAttributes,a=t.metaTextActive,r=t.metaTitle,o=t.metaSubtitle,c=t.metaNote,u=t.metaSource,s=t.metaTag;return React.createElement(i.PanelBody,{title:Object(l.__)("Text Fields"),initialOpen:!1},React.createElement(i.ToggleControl,{label:Object(l.__)("Text Fields Active"),help:Object(l.__)("Enables title, subtitle, note, source, and tag fields for chart."),checked:a,onChange:function(){return n({metaTextActive:!a})}}),React.createElement(i.TextControl,{label:Object(l.__)("Title"),value:r,onChange:function(e){return n({metaTitle:e})}}),React.createElement(i.TextControl,{label:Object(l.__)("Subtitle"),value:o,onChange:function(e){return n({metaSubtitle:e})}}),React.createElement(i.TextareaControl,{label:Object(l.__)("Note"),help:"Enter some text",value:c,onChange:function(e){return n({metaNote:e})}}),React.createElement(i.TextareaControl,{label:Object(l.__)("Source"),help:"Enter some text",value:u,onChange:function(e){return n({metaSource:e})}}),React.createElement(i.TextControl,{label:Object(l.__)("Tag"),value:s,onChange:function(e){return n({metaTag:e})}}))},I=function(e){var t=e.attributes,n=e.setAttributes,a=t.nodeSize,r=t.nodeStroke,o=t.nodeFill;return React.createElement(i.PanelBody,{title:Object(l.__)("Node Styles"),initialOpen:!1},React.createElement(i.__experimentalNumberControl,{min:1,label:Object(l.__)("Node Size"),value:a,onChange:function(e){return n({nodeSize:w(e,"integer")})}}),React.createElement(i.__experimentalNumberControl,{min:1,label:Object(l.__)("Node Stroke"),value:r,onChange:function(e){return n({nodeStroke:w(e,"integer")})}}),React.createElement(i.SelectControl,{label:Object(l.__)("Node Fill"),options:[{label:"Inherit",value:"inherit"},{label:"White",value:"white"}],value:o,onChange:function(e){return n({nodeFill:e})}}))},z=Object(u.dispatch)("core/editor").editPost,H=function(e){var t=e.attributes,n=e.setAttributes,a=e.clientId,r=Object(c.useState)(!1),o=Object(p.a)(r,2),u=o[0],s=o[1],d=Object(c.useState)(!1),b=Object(p.a)(d,2),h=b[0],v=b[1],y=t.chartType,_=t.chartOrientation,x=t.paddingTop,E=t.paddingRight,R=t.paddingBottom,O=t.paddingLeft,C=t.height,k=t.width,j=t.colorValue,H=t.customColors,U=t.pngUrl;t.pngId;return React.createElement(React.Fragment,null,React.createElement(S.InspectorControls,null,React.createElement(i.PanelBody,{title:Object(l.__)("Chart Configuration")},"bar"===y&&React.createElement(i.SelectControl,{label:Object(l.__)("Chart Orientation (Bar charts only)"),value:_,options:[{value:"vertical",label:"Vertical"},{value:"horizontal",label:"Horizontal"}],onChange:function(e){n({chartOrientation:e})}}),React.createElement(i.RangeControl,{label:Object(l.__)("Width"),withInputField:!0,min:0,max:1080,value:parseInt(k),onChange:function(e){return n({width:w(e,"integer")})}}),React.createElement(i.RangeControl,{label:Object(l.__)("Height"),withInputField:!0,min:0,max:1200,value:parseInt(C),onChange:function(e){return n({height:w(e,"integer")})}}),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Padding Top"),value:x,disableUnits:!0,disabledUnits:!0,onChange:function(e){n({paddingTop:w(e,"integer")})}}),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Padding Right"),value:E,disableUnits:!0,disabledUnits:!0,onChange:function(e){n({paddingRight:w(e,"integer")})}}),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Padding Bottom"),value:R,disableUnits:!0,disabledUnits:!0,onChange:function(e){n({paddingBottom:w(e,"integer")})}}),React.createElement(i.__experimentalNumberControl,{label:Object(l.__)("Padding Left"),value:O,disableUnits:!0,disabledUnits:!0,onChange:function(e){n({paddingLeft:w(e,"integer")})}}),React.createElement(i.SelectControl,{label:Object(l.__)("Color Pallette"),value:j,options:m,help:Object(l.__)("Sets a predefined color pallette for the chart's color scale. If you wish to define your own colors. Use the Custom Colors input below, which will override all preset colors."),onChange:function(e){n({colorValue:e})}}),React.createElement(i.FormTokenField,{label:Object(l.__)("Custom Colors"),value:H||[],placeholder:"#000000",onChange:function(e){return n({customColors:e})}}),React.createElement(i.ExternalLink,{href:"https://codepen.io/benjiwo/pen/GdBNPP"},"Pew Research Color Guide")),React.createElement(M,{attributes:t,setAttributes:n}),React.createElement(P,{attributes:t,setAttributes:n}),React.createElement(T,{attributes:t,setAttributes:n}),React.createElement(D,{attributes:t,setAttributes:n}),React.createElement(B,{attributes:t,setAttributes:n,chartType:y}),React.createElement(F,{attributes:t,setAttributes:n}),React.createElement(L,{attributes:t,setAttributes:n}),("bar"===y||"stacked-bar"===y)&&React.createElement(N,{attributes:t,setAttributes:n}),("line"===y||"area"===y)&&React.createElement(A,{attributes:t,setAttributes:n,chartType:y}),("line"===y||"area"===y||"dot-plot"===y||"scatter"===y)&&React.createElement(I,{attributes:t,setAttributes:n,chartType:y}),React.createElement(i.PanelBody,{title:"Image Exports",initialOpen:!1},React.createElement(i.PanelRow,null,React.createElement(i.Button,{isSecondary:!0,isBusy:h,onClick:function(){v(!0);var e=document.querySelector('[data-block="'.concat(a,'"]')).querySelector("svg");e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var t=new Blob([e.outerHTML],{type:"image/svg+xml"}),n=URL.createObjectURL(t),l=document.createElement("a");l.href=n,l.download="chart-".concat(a,".svg"),document.body.appendChild(l),l.click(),document.body.removeChild(l),v(!1)}},"Download SVG")),React.createElement(i.PanelRow,null,React.createElement(i.Button,{isSecondary:!0,isBusy:u,onClick:function(){s(!0);var e=document.querySelector('[data-block="'.concat(a,'"]')),t=e.querySelector(".components-resizable-box__container");t.classList.remove("has-show-handle"),f()(e).then((function(e){e.toBlob((function(e){!function(e,t,a){Object(g.uploadMedia)({filesList:[new File([e],t,{type:a})],onFileChange:function(e){var t=Object(p.a)(e,1)[0];console.log({fileObj:t}),n({pngUrl:t.url,pngId:t.id}),z({featured_media:t.id}),s(!1)},onError:console.error})}(e,"chart-".concat(a,"-").concat(Date.now(),".png"),"image/png")}),"image/png",1),t.classList.add("has-show-handle")}))}},"Upload Chart PNG to Media Library")),React.createElement(i.PanelRow,null,u&&React.createElement("p",null,"Creating image. This will take several moments ..."),h&&React.createElement("p",null,"Preparing SVG ...")),U.length>0&&React.createElement(React.Fragment,null,React.createElement(i.PanelRow,null,React.createElement(i.TextControl,{label:Object(l.__)("PNG URL"),value:U})),React.createElement(i.PanelRow,null,React.createElement(i.ExternalLink,{href:U},"Preview Image"))))))};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=function(e){var t=e.attributes,n=e.setAttributes,a=e.toggleSelection,l=e.clientId,r=e.isSelected,m=t.isConvertedChart,p=t.className,g=t.chartType,h=t.chartOrientation,f=t.paddingTop,v=t.paddingRight,_=t.paddingBottom,E=t.paddingLeft,O=t.height,w=t.width,S=t.sortOrder,P=t.colorValue,T=t.customColors,D=t.barWidth,A=t.barGroupOffset,N=t.barLabelPosition,B=t.barLabelCutoff,F=t.barLabelCutoffMobile,L=t.tooltipActive,M=t.tooltipFormat,I=t.lineInterpolation,z=t.lineStrokeWidth,U=t.lineNodes,V=t.nodeSize,Y=t.nodeStroke,W=t.nodeFill,X=t.areaFillOpacity,q=t.xAxisActive,$=t.xLabel,J=t.xScale,Z=t.xScaleFormat,K=t.xMinDomain,Q=t.xMaxDomain,ee=t.xDomainPadding,te=t.xTickNum,ne=t.xTickExact,ae=t.xAxisStroke,le=t.xGridStroke,re=t.yAxisStroke,oe=t.yGridStroke,ie=t.yAxisActive,ce=t.yLabel,ue=t.yMinDomain,se=t.yMaxDomain,de=t.yDomainPadding,be=t.showYMinDomainLabel,me=t.yTickNum,pe=t.yTickExact,ge=t.labelsActive,he=t.labelPositionDX,fe=t.labelPositionDY,ve=t.legendActive,ye=t.legendOrientation,_e=t.legendTitle,xe=t.legendOffsetX,Ee=t.legendOffsetY,Re=t.legendMarkerStyle,Oe=t.legendBorderStroke,Ce=t.legendFill,ke=t.metaTextActive,je=t.metaTitle,we=t.metaSubtitle,Se=t.metaNote,Pe=t.metaSource,Te=t.metaTag;Object(c.useEffect)((function(){if(m){console.log("converting ...");var e=function(e,t){console.log({legacyMeta:e});var n=function(e,t){return 0!==e.length?e:t},a=function(e){switch(e){case"bar":return x.a;case"column":return y.a;case"line":case"area":return R.a;case"scatter":return C.a;case"pie":default:return x.a}}(e.cb_type),l=a.layout,r=(a.legend,a.bar,a.labels);return{chartType:l.type,chartOrientation:l.orientation,width:l.width,height:l.height,paddingTop:l.padding.top,paddingRight:l.padding.right,paddingBottom:l.padding.bottom,paddingLeft:l.padding.left,xScale:"datetime"===e.cb_xaxis_type?"time":"linear",xLabel:n(e.cb_xaxis_label,t.xLabel),yLabel:n(e.cb_yaxis_label,t.yLabel),yMaxDomain:n(e.cb_yaxis_max_value,t.yMaxDomain),metaSubtitle:n(e.cb_subtitle,t.metaSubtitle),lineNodes:e.cb_hide_markers,tooltipActive:e.cb_enable_inline_tooltips,labelPositionDX:r.labelPositionDX,labelPositionDY:r.labelPositionDY,isConvertedChart:!1}}(Object(u.select)("core/editor").getEditedPostAttribute("meta"),t);n(e)}!function(e,t){Object(d.f)("is-style-bar",e,"chartType","bar",t),Object(d.f)("is-style-stacked-bar",e,"chartType","stacked-bar",t),Object(d.f)("is-style-line",e,"chartType","line",t),Object(d.f)("is-style-scatter",e,"chartType","scatter",t),Object(d.f)("is-style-pie",e,"chartType","pie",t),Object(d.f)("is-style-area",e,"chartType","area",t),Object(d.f)("is-style-dot-plot",e,"chartType","dot-plot",t)}(p,n)}),[p,m]);var De,Ae,Ne,Be,Fe=k(ne),Le=k(pe),Me=G(G({},s.masterConfig),{},{layout:G(G({},s.masterConfig.layout),{},{type:"area"===g?"line":g,orientation:h,width:w,height:O,padding:{top:f,right:v,bottom:_,left:E}}),xAxis:G(G({},s.masterConfig.xAxis),{},{active:q,label:$,scale:J,dateFormat:Z,domain:j(K,Q,g,J,"x"),padding:50,tickCount:te,tickValues:Fe.length<=1?null:(De=Fe,Ae=J,"time"===Ae?De.map((function(e){return new Date("".concat(e))})):De),domainPadding:ee,axis:{stroke:ae},grid:{stroke:le}}),yAxis:G(G({},s.masterConfig.yAxis),{},{padding:20,active:ie,label:ce,domain:j(ue,se,g,"linear","y"),tickCount:me,tickValues:Le.length<=1?null:Le,domainPadding:de,showZero:be,axis:{stroke:re},grid:{stroke:oe}}),dataRender:G(G({},s.masterConfig.dataRender),{},{xScale:J,yScale:"linear",xFormat:Z,yFormat:null,sortKey:"x",sortOrder:S}),tooltip:{active:L,format:M},animate:{active:!0,duration:500},line:G(G({},s.masterConfig.line),{},{interpolation:I,showPoints:U,showArea:"area"===g,strokeWidth:z,pointSize:V,pointStrokeWidth:Y,areaFillOpacity:X}),scatter:{pointSize:V},nodes:{size:V,fill:W,strokeWidth:Y},legend:G(G({},s.masterConfig.legend),{},{active:ve,orientation:ye,title:_e,offsetX:xe,offsetY:Ee,markerStyle:Re,borderStroke:Oe,fill:Ce}),bar:{width:D,barToSpaceRatio:.8,groupOffset:A},colors:T.length>0?T:b[P],labels:G(G({},s.masterConfig.labels),{},{active:ge,color:"black",fontWeight:200,fontSize:12,labelPositionDX:he,labelPositionDY:fe,pieLabelRadius:60,labelBarPosition:N,labelCutoff:"inside"===N?B:null,labelCutoffMobile:"inside"===N?F:null}),metadata:G(G({},s.masterConfig.metadata),{},{active:ke,title:je,subtitle:we,note:Se,source:Pe,tag:Te})}),Ie=Object(u.select)("core/block-editor").getBlockParentsByBlockName(l,"prc-block/chart-builder-data-wrapper")[0],ze=Object(u.useSelect)((function(e){var t=e("core/block-editor").getBlocks(Ie).find((function(e){return"core/table"===e.name}));return{tableHeaders:t.attributes.head[0].cells.map((function(e){return e.content})),body:t.attributes.body}}),[]),He=function(e,t,n){for(var a=e.body,l=e.tableHeaders,r=[],o=function(e,t){return"bar"===n||"stacked-bar"===n||"pie"===n||"dot-plot"===n?e:"time"===t?new Date(e).getTime():parseFloat(e)},i=1;i<l.length;i++){var c=a.filter((function(e){return!isNaN(parseFloat(e.cells[i].content))})).map((function(e){return{x:o(e.cells[0].content,t),y:parseFloat(e.cells[i].content),category:l[i],yLabel:"".concat(parseFloat(e.cells[i].content))}}));r.push(c)}return r}(ze,J,g),Ue=ze.tableHeaders;if(Ue){var Ge=Object(o.a)(Ue).slice(1);Me.dataRender.categories=Ge}if(console.log({attributes:t,config:Me,clientId:l,tableJson:He}),He){switch(g){case"pie":default:Ne=He}Be=React.createElement(s.ChartBuilderWrapper,{config:Me,data:Ne})}return React.createElement(React.Fragment,null,React.createElement(s.ChartBuilderTextWrapper,{active:Me.metadata.active,width:Me.layout.width,horizontalRules:Me.layout.horizontalRules,title:Me.metadata.title,subtitle:Me.metadata.subtitle,note:Me.metadata.note,source:Me.metadata.source,tag:Me.metadata.tag},React.createElement(i.ResizableBox,{size:{height:O,width:w},minHeight:"50",minWidth:"50",enable:{top:!1,right:!1,bottom:!1,left:!1,topRight:!1,bottomRight:!!r,bottomLeft:!1,topLeft:!1},onResizeStop:function(e,t,l,r){n({height:parseInt(parseInt(O)+parseInt(r.height),10),width:parseInt(parseInt(w)+parseInt(r.width),10)}),a(!0)},onResizeStart:function(){a(!1)}},React.createElement(H,{attributes:t,setAttributes:n,parentBlock:Ie,clientId:l}),Be,React.createElement("canvas",{id:"canvas",width:"800",height:"400"}))))},Y=function(e){e.attributes;return React.createElement(c.Fragment,null)},W=n(314);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var $=W.name,J={title:Object(l.__)("Chart"),icon:"chart-line",description:Object(l.__)("Chart element for Chart Builder."),keywords:[Object(l.__)("chart")],example:{attributes:{chartType:"bar",className:"is-style-bar"}},edit:V,save:Y};Object(r.registerBlockType)($,q(q({},W),J))}},[[737,0,1,62]]]);
//# sourceMappingURL=chart-builder-1803ee8a.js.map