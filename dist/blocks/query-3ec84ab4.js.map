{"version":3,"sources":["webpack:///external [\"wp\",\"blocks\"]","webpack:///external [\"wp\",\"hooks\"]","webpack:///external [\"wp\",\"data\"]","webpack:///external [\"wp\",\"compose\"]","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///external [\"wp\",\"element\"]","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///external [\"wp\",\"primitives\"]","webpack:///./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack:///external [\"wp\",\"i18n\"]","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///external [\"wp\",\"components\"]","webpack:///./node_modules/@wordpress/icons/build-module/library/close-small.js","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external \"lodash\"","webpack:///./src/query/tax-query.js","webpack:///./src/query/index.js"],"names":["module","exports","window","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","_slicedToArray","arr","i","arrayWithHoles","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","length","err","unsupportedIterableToArray","nonIterableRest","_arrayLikeToArray","len","arr2","Array","path","replace","concat","_unsupportedIterableToArray","o","minLen","n","prototype","toString","slice","constructor","name","from","test","_arrayWithHoles","isArray","_nonIterableRest","TypeError","closeSmall","xmlns","viewBox","d","TaxonomyField","index","label","taxonomy","options","taxQuery","setAttributes","isLink","icon","onClick","tmpData","data","splice","lable","__","style","margin","onChange","val","showInitialSuggestions","suggestionsQuery","type","subtype","id","title","url","terms","settings","TaxQuery","relation","useState","setOptions","useEffect","selectedTaxonomies","map","nextOptions","includes","disabled","toLowerCase","split","s","charAt","toUpperCase","substring","join","getLabel","marginTop","marginBottom","help","checked","isSecondary","isSmall","QueryBlockEdit","props","attributes","console","log","undefined","QueryBlockFilter","createHigherOrderComponent","BlockEdit","registerBlockVariation","description","query","perPage","pages","offset","postType","categoryIds","tagIds","order","orderBy","author","search","sticky","inherit","innerBlocks","scope","unregisterBlockVariation","addFilter"],"mappings":"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","file":"blocks/query-3ec84ab4.js","sourcesContent":["(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","(function() { module.exports = window[\"wp\"][\"hooks\"]; }());","(function() { module.exports = window[\"wp\"][\"data\"]; }());","(function() { module.exports = window[\"wp\"][\"compose\"]; }());","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","(function() { module.exports = window[\"wp\"][\"element\"]; }());","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","/* eslint-disable camelcase */ /* eslint-disable babel/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","(function() { module.exports = window[\"wp\"][\"primitives\"]; }());","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","(function() { module.exports = window[\"wp\"][\"components\"]; }());","import{createElement}from\"@wordpress/element\";/**\n * WordPress dependencies\n */import{SVG,Path}from'@wordpress/primitives';var closeSmall=createElement(SVG,{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\"},createElement(Path,{d:\"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z\"}));export default closeSmall;","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"lodash\"]; }());","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Fragment, useState, useEffect } from '@wordpress/element';\nimport { useSelect, useDispatch, select } from '@wordpress/data';\nimport { __experimentalLinkControl as LinkControl } from '@wordpress/block-editor';\nimport {\n    Button,\n    HorizontalRule,\n    SelectControl,\n    ToggleControl,\n    Flex,\n    FlexItem,\n    FlexBlock,\n} from '@wordpress/components';\nimport { closeSmall } from '@wordpress/icons';\n\nconst TaxonomyField = ({\n    index,\n    label,\n    taxonomy = false,\n    value,\n    options,\n    taxQuery,\n    setAttributes,\n}) => {\n    const onRemove = () => {\n        const tmpData = taxQuery;\n        tmpData.data.splice(index, 1);\n        setAttributes({ taxQuery: { ...taxQuery, ...tmpData } });\n    };\n    const onTaxonomyChange = val => {\n        const tmpData = taxQuery;\n        tmpData.data[index].taxonomy = val;\n        setAttributes({ taxQuery: { ...taxQuery, ...tmpData } });\n    };\n    const onTermChange = val => {\n        const { id, title, url } = val;\n        const tmpData = taxQuery;\n        tmpData.data[index].terms = id;\n        tmpData.data[index].title = title;\n        tmpData.data[index].value = url;\n        setAttributes({ taxQuery: { ...taxQuery, ...tmpData } });\n    };\n    return (\n        <div>\n            <Flex>\n                <FlexBlock>\n                    <strong>{label}</strong>\n                </FlexBlock>\n                <FlexItem>\n                    <Button\n                        isLink\n                        icon={closeSmall}\n                        onClick={onRemove}\n                        lable={__(`Remove taxonomy argument`)}\n                    />\n                </FlexItem>\n            </Flex>\n            {false === taxonomy && (\n                <div style={{ margin: '16px' }}>\n                    <SelectControl\n                        value={taxonomy}\n                        options={options}\n                        onChange={onTaxonomyChange}\n                    />\n                </div>\n            )}\n            {false !== taxonomy && null === value && (\n                <LinkControl\n                    label={__(`Term`)}\n                    value={value}\n                    showInitialSuggestions\n                    suggestionsQuery={{ type: 'term', subtype: taxonomy }}\n                    onChange={onTermChange}\n                    settings={[]}\n                />\n            )}\n            <HorizontalRule />\n        </div>\n    );\n};\n\nconst TaxQuery = ({ taxQuery, setAttributes }) => {\n    const { relation, data } = taxQuery;\n    const [options, setOptions] = useState([\n        { label: 'Select a Taxonomy', value: false },\n        { label: 'Topics', value: 'topic' },\n        { label: 'Formats', value: 'formats' },\n        { label: 'Research Areas', value: 'research-teams' },\n    ]);\n\n    const toggleRelation = () => {\n        const tmpData = taxQuery;\n        if ('OR' === tmpData.relation) {\n            tmpData.relation = 'AND';\n        } else {\n            tmpData.relation = 'OR';\n        }\n        setAttributes({ taxQuery: { ...taxQuery, ...tmpData } });\n    };\n\n    const getLabel = val => {\n        const { taxonomy, title } = val;\n        let label =\n            false === taxonomy ? `Choose Taxonomy` : `Choose ${taxonomy} Term`;\n        if (null !== title && false !== taxonomy) {\n            label = `${taxonomy}: ${title}`;\n        }\n        return label\n            .toLowerCase()\n            .split(' ')\n            .map(s => s.charAt(0).toUpperCase() + s.substring(1))\n            .join(' ');\n    };\n\n    /**\n     * Disable any taxonomy options that are already selected.\n     */\n    useEffect(() => {\n        // Go gather up selected taxonomies from taxQuery.data,\n        const selectedTaxonomies = data.map(({ taxonomy }) => taxonomy);\n        const nextOptions = options.map(o => {\n            if (selectedTaxonomies.includes(o.value)) {\n                o.disabled = true;\n            } else {\n                o.disabled = false;\n            }\n            return o;\n        });\n        setOptions(nextOptions);\n    }, [taxQuery]);\n    // Dont offer to change relation unless if data has more than one\n\n    return (\n        <Fragment>\n            <div>\n                {data.map((d, index) => {\n                    const { taxonomy, value } = d;\n                    const label = getLabel(d);\n                    return (\n                        <TaxonomyField\n                            index={index}\n                            label={__(label)}\n                            taxonomy={taxonomy}\n                            value={value}\n                            options={options}\n                            taxQuery={taxQuery}\n                            setAttributes={setAttributes}\n                        />\n                    );\n                })}\n                {2 <= data.length && (\n                    <div style={{ marginTop: '1em', marginBottom: '1em' }}>\n                        <ToggleControl\n                            label=\"Query Relation (OR|AND)\"\n                            help={\n                                'AND' === relation\n                                    ? 'AND (restrictive: restricts content)'\n                                    : 'OR (expansive: expands content)'\n                            }\n                            checked={'AND' === relation}\n                            onChange={toggleRelation}\n                        />\n                    </div>\n                )}\n            </div>\n            <Button\n                isSecondary\n                isSmall\n                onClick={() => {\n                    const tmpData = taxQuery;\n                    tmpData.data.push({\n                        taxonomy: false,\n                        terms: null,\n                        value: null,\n                    });\n                    setAttributes({ taxQuery: { ...taxQuery, ...tmpData } });\n                }}\n            >\n                Add Taxonomy\n            </Button>\n        </Fragment>\n    );\n};\n\nexport default TaxQuery;\n","/**\n * WordPress Dependencies\n */\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { Fragment, useState, useEffect } from '@wordpress/element';\nimport { InspectorControls, BlockControls } from '@wordpress/block-editor';\nimport {\n    Button,\n    KeyboardShortcuts,\n    PanelBody,\n    PanelRow,\n} from '@wordpress/components';\nimport { addFilter } from '@wordpress/hooks';\nimport { registerBlockVariation, unregisterBlockVariation } from '@wordpress/blocks';\nimport { assign } from 'lodash';\n\n/**\n * Internal Dependencies\n */\n\nimport TaxQuery from './tax-query';\n\nconst QueryBlockEdit = (props) => {\n    const { attributes, setAttributes } = props;\n    console.log('<QueryBlockEdit>', props);\n    const {taxQuery} = attributes;\n    if (undefined === taxQuery) {\n        return <Fragment/>;\n    }\n    return (\n        <Fragment>\n            <InspectorControls>\n                <PanelBody title=\"Taxonomy Query\">\n                    <div>\n                        <TaxQuery taxQuery={taxQuery} setAttributes={setAttributes} />\n                    </div>\n                </PanelBody>\n            </InspectorControls>\n        </Fragment>\n    );\n};\n\nconst QueryBlockFilter = createHigherOrderComponent((BlockEdit) => {\n    return (props) => {\n        const { name } = props;\n        if ('core/query' !== name) {\n            return <BlockEdit {...props} />;\n        }\n        return (\n            <Fragment>\n                <BlockEdit {...props} />\n                <QueryBlockEdit {...props} />\n            </Fragment>\n        );\n    };\n}, 'withInspectorControl');\n\nregisterBlockVariation(\n    'core/query',\n    {\n\t\tname: 'story-item-listing',\n\t\ttitle: 'Story Item Listing',\n\t\tdescription: 'Display a list of story items.',\n\t\tattributes: {\n\t\t\tquery: {\n\t\t\t\tperPage: 3,\n\t\t\t\tpages: 1,\n\t\t\t\toffset: 0,\n\t\t\t\tpostType: 'stub',\n\t\t\t\tcategoryIds: [],\n\t\t\t\ttagIds: [],\n\t\t\t\torder: 'desc',\n\t\t\t\torderBy: 'date',\n\t\t\t\tauthor: '',\n\t\t\t\tsearch: '',\n\t\t\t\tsticky: 'exclude',\n\t\t\t\tinherit: false,\n\t\t\t},\n\t\t},\n        innerBlocks: [\n\t\t\t[\n\t\t\t\t'core/post-template',\n\t\t\t\t{},\n\t\t\t\t[ [ 'prc-block/story-item' ] ],\n\t\t\t],\n\t\t],\n\t\tscope: [ 'block' ],\n\t},\n);\n\nunregisterBlockVariation('core/query', 'posts-list');\nunregisterBlockVariation('core/query', 'title-date');\nunregisterBlockVariation('core/query', 'title-excerpt');\nunregisterBlockVariation('core/query', 'title-date-excerpt');\nunregisterBlockVariation('core/query', 'image-date-title');\n\naddFilter('editor.BlockEdit', 'prc-block/query', QueryBlockFilter, 21);\n"],"sourceRoot":""}