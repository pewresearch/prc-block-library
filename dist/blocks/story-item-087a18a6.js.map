{"version":3,"sources":["webpack:///external \"React\"","webpack:///external [\"wp\",\"blocks\"]","webpack:///external [\"wp\",\"data\"]","webpack:///./src/story-item/helpers.js","webpack:///external \"moment\"","webpack:///external [\"wp\",\"i18n\"]","webpack:///external [\"wp\",\"primitives\"]","webpack:///external [\"wp\",\"apiFetch\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"url\"]","webpack:///external [\"wp\",\"htmlEntities\"]","webpack:///external [\"wp\",\"element\"]","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/hooks/use-debounce.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/hooks/use-window-size.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/content-search/search-item.jsx","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/content-search/index.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/content-picker/picked-item.jsx","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/content-picker/sortable-list.jsx","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/content-picker/index.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/content-placeholder/index.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/list-store/reducer.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/link-toolbar-button/index.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/caret-heading-link/index.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/block-inserter-button/index.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/heading-level-toolbar/index.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/components/media-dropzone/index.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/functions/index.js","webpack:////Users/srubenstein/dev/pewresearch-org/private/_shared/mailchimp/index.js","webpack:///external \"ReactDOM\"","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external \"regeneratorRuntime\"","webpack:///external \"lodash\"","webpack:///external [\"wp\",\"mediaUtils\"]","webpack:///external [\"wp\",\"keycodes\"]","webpack:///./src/story-item/deprecated.js","webpack:///./src/story-item/edit/controls/inspector.jsx","webpack:///./src/story-item/edit/controls/placeholder.jsx","webpack:///./src/story-item/edit/controls/icons.jsx","webpack:///./src/story-item/edit/controls/url-control.jsx","webpack:///./src/story-item/edit/controls/toolbar.jsx","webpack:///./src/story-item/edit/controls/index.js","webpack:///./src/story-item/edit/image.jsx","webpack:///./src/story-item/edit/excerpt.jsx","webpack:///./src/story-item/edit/extra.jsx","webpack:///./src/story-item/edit/header.jsx","webpack:///./src/story-item/edit/meta.jsx","webpack:///./src/story-item/edit/preview.jsx","webpack:///./src/story-item/edit/index.js","webpack:///./src/story-item/save.js","webpack:///./src/story-item/variations.js","webpack:///./src/story-item/index.js"],"names":["module","exports","window","setArtBySize","imageSize","postId","setAttributes","apiFetch","path","then","data","undefined","image","rawUrl","isChartArt","chartArt","setPostAttributes","options","isRefresh","method","post","console","log","attrs","getAttributesFromPost","opts","d","Date","date","moment","format","storyItem","title","hasOwnProperty","rendered","excerpt","url","link","label","id","extra","art","catch","err","error","useDebounce","value","delay","useState","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useWindowSize","ButtonStyled","styled","Button","SearchItem","suggestion","onClick","searchTerm","isSelected","contentTypes","showType","type","length","text","decodeEntities","className","style","borderRadius","boxSizing","paddingRight","highlight","aria-hidden","filterURLForDisplay","safeDecodeURI","NAMESPACE","searchCache","ContentSearch","onSelectItem","placeholder","mode","excludeItems","perPage","searchInput","setSearchInput","searchString","searchStringIsUrl","setSearchStringIsUrl","searchResults","setSearchResults","isLoading","setIsLoading","selectedItem","setSelectedItem","abortControllerRef","useRef","mounted","getPostByUrl","Promise","resolve","reject","filterResults","results","filter","result","keep","every","item","hasSearchString","hasSearchResults","current","isUrl","match","keyword","abort","trim","AbortController","searchQuery","join","ID","post_title","post_type","permalink","subtype","code","signal","handleSearchStringChange","listCSS","css","onNavigate","orientation","display","flexGrow","onChange","autoComplete","position","right","marginTop","marginBottom","marginLeft","paddingLeft","listStyle","color","cursor","__","map","index","key","handleItemSelection","DragHandle","sortableHandle","marginRight","flexShrink","width","height","xmlns","viewBox","role","focusable","Wrapper","PickedItem","isOrderable","handleItemDelete","preparedItem","useSelect","select","getEntityRecord","hasFinishedResolution","getEntityRecordParameters","newItem","name","uuid","border","paddingTop","paddingBottom","aria-label","SortableList","SortableContainer","items","ChildComponent","ItemComponent","SortableElement","fontFamily","itemKey","sortIndex","totalItems","StyleWrapper","ContentPicker","onPickChange","ids","maxContentItems","singlePickedLabel","multiPickedLabel","uniqueContentItems","excludeCurrentPost","PickedItemChild","searchStyle","content","setContent","currentPostId","getCurrentPostId","useMemo","push","previousContent","uuidv4","Boolean","useDragHandle","deletedItem","onSortEnd","oldIndex","newIndex","newContent","arrayMove","ContentPlaceholder","blockProps","onSkip","loadingComponent","children","isColumnLayout","textAlign","pickedContent","isLink","LinkToolbarButton","query","isLinkOpen","setIsLinkOpen","aria-expanded","aria-haspopup","icon","showTooltip","onClose","showInitialSuggestions","suggestionsQuery","p","settings","CaretHeadingLink","heading","headingSize","disableIcon","tagName","h","formattingControls","keepPlaceholderOnFocus","Icon","size","BlockInserterButton","blockName","clientId","attributes","tooltipPosition","currentBlock","getBlock","innerBlocks","nextIndex","newBlock","createBlock","dispatch","insertBlock","HeadingLevelIcon","level","isPressed","levelToPath","1","2","3","4","5","6","POPOVER_PROPS","isAlternate","HeadingLevelToolbar","selectedLevel","levels","popoverProps","renderToggle","onToggle","isOpen","onKeyDown","event","keyCode","DOWN","preventDefault","stopPropagation","renderContent","isCollapsed","controls","targetLevel","isActive","sprintf","has","_","MediaDropZone","attachmentId","onUpdate","attachment","warn","mediaType","mediaSize","setId","isUploading","setIsUploading","m","getMedia","media","src","mediaSourceUrl","mediaWidth","mediaHeight","media_details","sizes","source_url","onMediaUpdate","onDropImage","filesList","uploadMedia","allowedTypes","onFileChange","onError","message","fallback","onSelect","render","open","isSecondary","isBusy","onFilesDrop","ifMatchSetAttribute","needle","haystack","attrKey","attrValue","getTerms","taxonomy","terms","slug","replace","toLowerCase","parent","getTermsAsOptions","termValue","sortByLabel","labelOptions","Object","keys","forEach","termObj","sort","a","b","mailChimpInterests","regeneratorRuntime","deprecated","postID","multiline","enableExcerpt","default","enableExcerptBelow","enableAltTaxonomy","migrate","enableMeta","metaTaxonomy","save","props","Content","Inspector","context","rootClientId","isRefreshing","refresh","imageSlot","enableHeader","enableExtra","enableBreakingNews","enableEmphasis","disableMobileStyles","help","checked","prcBreakingNews","alert","newMetaTaxonomy","isInteger","isDestructive","Placeholder","loadingStub","setLoadingStub","svgPath","ImageSlotIcon","selected","arrowRight","arrowLeft","arrowUp","arrowDown","close","more","ImageSizeIcon","currentlyActive","A1","A2","A3","A4","XL","URLControl","isModalOpen","setIsModalOpen","inputValue","setInputValue","setPost","onModalClose","onRequestClose","newPostId","variant","minWidth","padding","alignItems","Toolbar","headerSize","columnWidth","columnIsEqualWidth","handleImageSizeChange","newSize","MemoizedHeadingLevelIcon","useCallback","MemoizedImageSlotIcon","MemoizedImageSizeIcon","isDisabled","Controls","ALLOWED_MEDIA_TYPES","small","hidpi","smallHidpi","ImageDisplay","img","getImgURL","args","resize","addQueryArgs","getImgSrcSet","threshold","srcSet","alt","sources","href","Edit","Img","isXL","isA1","isA2","isA3","isA4","slot","classNames","ui","bordered","Excerpt","sansSerif","enabled","classes","Extra","breakingNews","Header","altHeaderWeight","large","medium","light","t","allowedFormats","Meta","termOptions","l","IMAGE_SIZES","Preview","logicalClasses","aligned","blockPropsArgs","useBlockProps","headerClasses","imageClasses","excerptClasses","formats","edit","isPreview","inLoop","setTermOptions","payload","handlePostIdCaseChange","Number","getBlockRootClientId","enableAltHeaderWeight","variations","isDefault","metadata","example","registerBlockType"],"mappings":"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","file":"blocks/story-item-087a18a6.js","sourcesContent":["(function() { module.exports = window[\"React\"]; }());","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","(function() { module.exports = window[\"wp\"][\"data\"]; }());","/**\n * External Dependencies\n */\nimport * as moment from 'moment';\n\n/**\n * WordPress Dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\nconst setArtBySize = (imageSize, postId, setAttributes) => {\n\tif (0 !== postId && false !== setAttributes) {\n\t\tapiFetch({\n\t\t\tpath: `/prc-api/v2/get-art/?postId=${postId}`,\n\t\t}).then((data) => {\n\t\t\tif (false !== data) {\n\t\t\t\tif (undefined !== data[imageSize] && false !== setAttributes) {\n\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\timage: data[imageSize].rawUrl,\n\t\t\t\t\t\tisChartArt: data[imageSize].chartArt,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n};\n\n/**\n * Converts a post object to attributes for a story item.\n * @TODO Have moment clean up the date data.\n * @param {*} post\n * @param {*} imageSize\n * @param {*} isRefresh\n * @returns\n */\nconst getAttributesFromPost = (opts) => {\n\tconst { post, imageSize, isRefresh = false } = opts;\n\tconsole.log(getAttributesFromPost, post);\n\n\tconst d = new Date(post.date);\n\tconst date = moment(d).format('MMM D, YYYY');\n\n\tconst storyItem = {\n\t\ttitle: post.title.hasOwnProperty('rendered')\n\t\t\t? post.title.rendered\n\t\t\t: post.title,\n\t\t// @TODO change back to excerpt everywhere, write a deprecation transition for that and excerptBelow?\n\t\texcerpt: post.excerpt.hasOwnProperty('rendered')\n\t\t\t? post.excerpt.rendered\n\t\t\t: post.excerpt,\n\t\turl: post.link, // @TODO where is this `link` coming from, why is it not url or permalink.\n\t\tlabel: post.hasOwnProperty('label') ? post.label : 'Report',\n\t\tdate,\n\t\tpostId: post.id,\n\t};\n\n\tif (true !== isRefresh) {\n\t\tstoryItem.extra = '';\n\t}\n\n\tif (post.art) {\n\t\tconst { art } = post;\n\t\tstoryItem.image = art[imageSize].rawUrl;\n\t\tstoryItem.isChartArt = art[imageSize].chartArt;\n\t}\n\n\tconsole.log('getAttributesFromPost', post, storyItem);\n\n\treturn storyItem;\n};\n\n/**\n * Set attributes for a story item from a stub by post id OR by url.\n *\n * @param {*} postId\n * @param {*} imageSize\n * @param {*} isRefresh\n * @param {*} setAttributes\n * @returns\n */\nconst setPostAttributes = (options) => {\n\tconst {\n\t\tsetAttributes,\n\t\tpostId = false,\n\t\timageSize = 'A1',\n\t\tisRefresh = false,\n\t} = options;\n\n\tif (false === postId || undefined === setAttributes) {\n\t\treturn;\n\t}\n\n\tapiFetch({\n\t\tpath: `/wp/v2/stub/${postId}`,\n\t\tmethod: 'GET',\n\t})\n\t\t.then((post) => {\n\t\t\tconsole.log('setPostAttributes -> by id:', postId, post);\n\t\t\tif (false !== post) {\n\t\t\t\tconst attrs = getAttributesFromPost({\n\t\t\t\t\tpost,\n\t\t\t\t\timageSize,\n\t\t\t\t\tisRefresh,\n\t\t\t\t});\n\t\t\t\tsetAttributes(attrs);\n\t\t\t}\n\t\t})\n\t\t.catch((err) => console.error(err));\n};\n\nexport { setArtBySize, setPostAttributes };\n","module.exports = moment;","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","(function() { module.exports = window[\"wp\"][\"primitives\"]; }());","(function() { module.exports = window[\"wp\"][\"apiFetch\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"url\"]; }());","(function() { module.exports = window[\"wp\"][\"htmlEntities\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","/**\n * WordPress Dependencies\n */\nimport { useState, useEffect, useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\n\nfunction useDebounce(value, delay) {\n    // State and setters for debounced value\n    const [debouncedValue, setDebouncedValue] = useState(value);\n    useEffect(\n        () => {\n            // Update debounced value after delay\n            const handler = setTimeout(() => {\n                setDebouncedValue(value);\n            }, delay);\n            // Cancel the timeout if value changes (also on delay change or unmount)\n            // This is how we prevent debounced value from updating if value is changed ...\n            // .. within the delay period. Timeout gets cleared and restarted.\n            return () => {\n                clearTimeout(handler);\n            };\n        },\n        [value, delay], // Only re-call effect if value or delay changes\n    );\n    return debouncedValue;\n}\n\nexport default useDebounce;","import { useEffect, useState } from '@wordpress/element';\n\n// adapted from:  https://usehooks.com/useWindowSize/\n// usage:   const {width, height} = useWindowSize();\nfunction useWindowSize() {\n    const [windowSize, setWindowSize] = useState({\n        width: undefined,\n        height: undefined,\n    });\n\n    useEffect(() => {\n        // Handler to call on window resize\n        function handleResize() {\n            // Set window width/height to state\n            setWindowSize({\n                width: window.innerWidth,\n                height: window.innerHeight,\n            });\n        }\n\n        // Add event listener\n        window.addEventListener('resize', handleResize);\n\n        // Call handler right away so state gets updated with initial window size\n        handleResize();\n\n        // Remove event listener on cleanup\n        return () => window.removeEventListener('resize', handleResize);\n    }, []); // Empty array ensures that effect is only run on mount\n\n    return windowSize;\n}\n\nexport default useWindowSize;\n","/**\n * External Dependencies\n */\nimport styled from '@emotion/styled';\n\n/** \n * WordPress Dependencies\n */\nimport { safeDecodeURI, filterURLForDisplay } from '@wordpress/url';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { Button, TextHighlight, Tooltip } from '@wordpress/components';\n\nconst ButtonStyled = styled(Button)`\n\t&:hover {\n\t\t/* Add opacity background to support future color changes */\n\t\t/* Reduce background from #ddd to 0.05 for text contrast  */\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\n\t\t.block-editor-link-control__search-item-type {\n\t\t\tcolor: black;\n\t\t}\n\t}\n\n\t.block-editor-link-control__search-item-type {\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\t}\n`;\n\n/**\n * SearchItem\n *\n * @param {Object} props react props\n * @param props.suggestion\n * @param props.onClick\n * @param props.searchTerm\n * @param props.isSelected\n * @param props.id\n * @return {*} React JSX\n */\nconst SearchItem = ({ suggestion, onClick, searchTerm, isSelected, id, contentTypes }) => {\n\tconst showType = suggestion.type && contentTypes.length > 1;\n\n\treturn (\n\t\t<Tooltip text={decodeEntities(suggestion.title)}>\n\t\t\t<ButtonStyled\n\t\t\t\tid={id}\n\t\t\t\tonClick={onClick}\n\t\t\t\tclassName={`block-editor-link-control__search-item is-entity ${\n\t\t\t\t\tisSelected && 'is-selected'\n\t\t\t\t}`}\n\t\t\t\tstyle={{\n\t\t\t\t\tborderRadius: '0',\n\t\t\t\t\tboxSizing: 'border-box',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<span className=\"block-editor-link-control__search-item-header\">\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName=\"block-editor-link-control__search-item-title\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpaddingRight: !showType ? 0 : null,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TextHighlight text={decodeEntities(suggestion.title)} highlight={searchTerm} />\n\t\t\t\t\t</span>\n\t\t\t\t\t<span\n\t\t\t\t\t\taria-hidden\n\t\t\t\t\t\tclassName=\"block-editor-link-control__search-item-info\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tpaddingRight: !showType ? 0 : null,\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{filterURLForDisplay(safeDecodeURI(suggestion.url)) || ''}\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t\t{showType && (\n\t\t\t\t\t<span className=\"block-editor-link-control__search-item-type\">\n\t\t\t\t\t\t{/* Rename 'post_tag' to 'tag'. Ideally, the API would return the localised CPT or taxonomy label. */}\n\t\t\t\t\t\t{suggestion.type === 'post_tag' ? 'tag' : suggestion.type}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</ButtonStyled>\n\t\t</Tooltip>\n\t);\n};\n\nexport default SearchItem;","/**\n * External Dependencies\n */\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/react';\n\n/**\n * WordPress Dependencies\n */\nimport {\n\tSearchControl,\n\tTextControl,\n\tSpinner,\n\tNavigableMenu,\n\tKeyboardShortcuts,\n} from '@wordpress/components';\nimport apiFetch from '@wordpress/api-fetch';\nimport { Fragment, useState, useRef, useEffect } from '@wordpress/element'; // eslint-disable-line\nimport { __ } from '@wordpress/i18n';\nimport { useDebounce } from '../../hooks';\n\n/**\n * Internal Dependencies\n */\nimport SearchItem from './search-item';\n\nconst NAMESPACE = 'prc-content-search';\n\nconst searchCache = {};\n\nfunction ContentSearch({\n\tonSelectItem,\n\tplaceholder,\n\tlabel,\n\tstyle = 'search',\n\tcontentTypes,\n\tmode,\n\texcludeItems,\n\tperPage,\n}) {\n\tconst [searchInput, setSearchInput] = useState('');\n\tconst searchString = useDebounce(searchInput, 500);\n\t// Determine if searchString is a url\n\tconst [searchStringIsUrl, setSearchStringIsUrl] = useState(false);\n\n\tconst [searchResults, setSearchResults] = useState([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [selectedItem, setSelectedItem] = useState(null);\n\tconst abortControllerRef = useRef();\n\n\tconst mounted = useRef(true);\n\n\t/**\n\t * handleSelection\n\t *\n\t * update the selected item in state to either the selected item or null if the\n\t * selected item does not have a valid id\n\t *\n\t * @param {*} item\n\t */\n\tconst handleOnNavigate = (item) => {\n\t\tif (0 === item) {\n\t\t\tsetSelectedItem(null);\n\t\t}\n\n\t\tsetSelectedItem(item);\n\t};\n\n\tconst getPostByUrl = (url) => {\n\t\tif (undefined === url) {\n\t\t\treturn false;\n\t\t}\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tapiFetch({\n\t\t\t\tpath: '/prc-api/v2/utils/get-post-by-url',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: { url },\n\t\t\t})\n\t\t\t\t.then((post) => {\n\t\t\t\t\tconsole.log('getPostByUrl', post);\n\t\t\t\t\tresolve(post);\n\t\t\t\t})\n\t\t\t\t.catch((err) => reject(err));\n\t\t});\n\t};\n\n\t/**\n\t * handleItemSelection\n\t *\n\t * reset the search input & item container\n\t * trigger the onSelectItem callback passed in via props\n\t *\n\t * @param {*} item\n\t */\n\tconst handleItemSelection = (item) => {\n\t\tsetSearchResults([]);\n\t\tsetSearchInput('');\n\t\tonSelectItem(item);\n\t};\n\n\tconst filterResults = (results) =>\n\t\tresults.filter((result) => {\n\t\t\tlet keep = true;\n\n\t\t\tif (excludeItems.length) {\n\t\t\t\tkeep = excludeItems.every((item) => item.id !== result.id);\n\t\t\t}\n\n\t\t\treturn keep;\n\t\t});\n\n\tconst hasSearchString = !!searchString.length;\n\tconst hasSearchResults = !!searchResults.length;\n\n\t/**\n\t * handleSearchStringChange\n\t *\n\t * Using the keyword and the list of tags that are linked to the parent block\n\t * search for posts/terms that match and return them to the autocomplete component.\n\t *\n\t * @param {string} keyword search query string\n\t */\n\tconst handleSearchStringChange = (keyword, isUrl = false) => {\n\t\tif (abortControllerRef.current) {\n\t\t\tabortControllerRef.current.abort();\n\t\t}\n\n\t\tif ('' === keyword.trim()) {\n\t\t\tsetIsLoading(false);\n\t\t\tsetSearchResults([]);\n\t\t\tabortControllerRef.current = null;\n\t\t\treturn;\n\t\t}\n\n\t\tabortControllerRef.current = new AbortController();\n\n\t\tsetIsLoading(true);\n\n\t\tconst searchQuery = `wp/v2/search/?search=${keyword}&subtype=${contentTypes.join(\n\t\t\t',',\n\t\t)}&type=${mode}&_embed&per_page=${perPage}`;\n\n\t\tif (searchCache[searchQuery]) {\n\t\t\tabortControllerRef.current = null;\n\n\t\t\tsetSearchResults(filterResults(searchCache[searchQuery]));\n\t\t\tsetIsLoading(false);\n\t\t} else if (isUrl) {\n\t\t\tconsole.log('isUrl', keyword);\n\t\t\tgetPostByUrl(keyword)\n\t\t\t\t.then((post) => {\n\t\t\t\t\tif (mounted.current) {\n\t\t\t\t\t\tconst { ID, post_title, post_type, permalink, label } = post;\n\t\t\t\t\t\tabortControllerRef.current = null;\n\n\t\t\t\t\t\tconst result = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: ID,\n\t\t\t\t\t\t\t\tsubtype: post_type,\n\t\t\t\t\t\t\t\ttitle: post_title,\n\t\t\t\t\t\t\t\ttype: 'post',\n\t\t\t\t\t\t\t\turl: permalink,\n\t\t\t\t\t\t\t\tlabel,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t];\n\n\t\t\t\t\t\tconsole.log('parse getPostByUrl', result, post);\n\n\t\t\t\t\t\tsearchCache[searchQuery] = result;\n\n\t\t\t\t\t\tsetSearchResults(filterResults(result));\n\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((error, code) => {\n\t\t\t\t\tconsole.log(\n\t\t\t\t\t\t'Hey this is a url error, we didnt find a matching post... now what?',\n\t\t\t\t\t\tkeyword,\n\t\t\t\t\t);\n\t\t\t\t\t// Stop spinning.\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t} else {\n\t\t\tapiFetch({\n\t\t\t\tpath: searchQuery,\n\t\t\t\tsignal: abortControllerRef.current.signal,\n\t\t\t})\n\t\t\t\t.then((results) => {\n\t\t\t\t\tif (false === mounted.current) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tconsole.log('search Results', results);\n\n\t\t\t\t\tabortControllerRef.current = null;\n\n\t\t\t\t\tsearchCache[searchQuery] = results;\n\n\t\t\t\t\tsetSearchResults(filterResults(results));\n\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t})\n\t\t\t\t.catch((error, code) => {\n\t\t\t\t\t// fetch_error means the request was aborted\n\t\t\t\t\tif ('fetch_error' !== error.code) {\n\t\t\t\t\t\tsetSearchResults([]);\n\t\t\t\t\t\tabortControllerRef.current = null;\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t};\n\n\tuseEffect(\n\t\t() => () => {\n\t\t\tmounted.current = false;\n\t\t},\n\t\t[],\n\t);\n\n\tuseEffect(() => {\n\t\tif ('' !== searchString) {\n\t\t\tconst isUrl = searchString.match(/^(http|https):\\/\\//);\n\t\t\tsetSearchStringIsUrl(isUrl);\n\t\t\thandleSearchStringChange(searchString, isUrl);\n\t\t}\n\t}, [searchString]);\n\n\tconst listCSS = css`\n\t\t/* stylelint-disable */\n\t\tmax-height: 350px;\n\t\toverflow-y: auto;\n\t`;\n\n\treturn (\n\t\t<NavigableMenu onNavigate={handleOnNavigate} orientation=\"vertical\">\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tflexGrow: '1',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{'minimal' === style && (\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\tvalue={searchInput}\n\t\t\t\t\t\t\tonChange={(keyword) => setSearchInput(keyword)}\n\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t{'search' === style && (\n\t\t\t\t\t\t<SearchControl\n\t\t\t\t\t\t\tvalue={searchInput}\n\t\t\t\t\t\t\tonChange={(keyword) => setSearchInput(keyword)}\n\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t{isLoading && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\tright: 'minimal' === style ? '8px' : '50px',\n\t\t\t\t\t\t\tmarginTop: 'minimal' === style ? '27px' : '10px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t{hasSearchString ? (\n\t\t\t\t<ul\n\t\t\t\t\tclassName={`${NAMESPACE}-list`}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tmarginTop: '0',\n\t\t\t\t\t\tmarginBottom: '0',\n\t\t\t\t\t\tmarginLeft: '0',\n\t\t\t\t\t\tpaddingLeft: '0',\n\t\t\t\t\t\tlistStyle: 'none',\n\t\t\t\t\t}}\n\t\t\t\t\tcss={listCSS}\n\t\t\t\t>\n\t\t\t\t\t{!isLoading && !hasSearchResults && false === searchStringIsUrl && (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName={`${NAMESPACE}-list-item components-button`}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: 'inherit',\n\t\t\t\t\t\t\t\tcursor: 'default',\n\t\t\t\t\t\t\t\tpaddingLeft: '3px',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__('Nothing found.', 'prc-block-components')}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t\t{!isLoading && !hasSearchResults && searchStringIsUrl && (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName={`${NAMESPACE}-list-item components-button`}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcolor: 'inherit',\n\t\t\t\t\t\t\t\tcursor: 'default',\n\t\t\t\t\t\t\t\tpaddingLeft: '3px',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__('Press enter to change url.', 'prc-block-components')}\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t\t{!isLoading &&\n\t\t\t\t\t\tsearchResults.map((item, index) => {\n\t\t\t\t\t\t\tif (!item.title.length) {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\tkey={item.id}\n\t\t\t\t\t\t\t\t\tclassName={`${NAMESPACE}-list-item`}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tmarginBottom: '0',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SearchItem\n\t\t\t\t\t\t\t\t\t\tonClick={() => handleItemSelection(item)}\n\t\t\t\t\t\t\t\t\t\tsearchTerm={searchString}\n\t\t\t\t\t\t\t\t\t\tsuggestion={item}\n\t\t\t\t\t\t\t\t\t\tcontentTypes={contentTypes}\n\t\t\t\t\t\t\t\t\t\tisSelected={selectedItem === index + 1}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t</ul>\n\t\t\t) : null}\n\t\t</NavigableMenu>\n\t);\n}\n\nexport { ContentSearch };\n","/**\n * External Dependencies\n */\nimport styled from '@emotion/styled';\nimport { sortableHandle } from 'react-sortable-hoc';\n\n/**\n * WordPress Dependencies\n */\nimport { safeDecodeURI, filterURLForDisplay } from '@wordpress/url';\nimport { decodeEntities } from '@wordpress/html-entities';\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\n\n/**\n * SVG Drag Handle\n */\nconst DragHandle = sortableHandle(() => (\n\t<svg\n\t\tstyle={{ marginRight: '5px', cursor: 'grab', flexShrink: 0 }}\n\t\twidth=\"18\"\n\t\theight=\"18\"\n\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\tviewBox=\"0 0 18 18\"\n\t\trole=\"img\"\n\t\taria-hidden=\"true\"\n\t\tfocusable=\"false\"\n\t>\n\t\t<path d=\"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z\" />\n\t</svg>\n));\n\nconst Wrapper = styled('div')`\n\tbutton {\n\t\tdisplay: block;\n\t\tpadding: 2px 8px 6px 8px;\n\t\tmargin-left: auto;\n\t\tfont-size: 2em;\n\t\tcursor: pointer;\n\t\tborder: none;\n\t\tbackground-color: transparent;\n\n\t\t&:hover {\n\t\t\tbackground-color: #ccc;\n\t\t}\n\t}\n`;\n\n\n/**\n * PickedItem\n *\n * @param {Object} props react props\n * @return {*} React JSX\n */\nconst PickedItem = ({ item, isOrderable = false, handleItemDelete, mode }) => {\n\tconst type = mode === 'post' ? 'postType' : 'taxonomy';\n\n\t// This will return undefined while the item data is being fetched. If the item comes back\n\t// empty, it will return null, which is handled in the effect below.\n\tconst preparedItem = useSelect(\n\t\t(select) => {\n\t\t\tconst { getEntityRecord, hasFinishedResolution } = select('core');\n\n\t\t\tconst getEntityRecordParameters = [type, item.type, item.id];\n\t\t\tconst result = getEntityRecord(...getEntityRecordParameters);\n\n\t\t\tif (result) {\n\t\t\t\tconsole.log(\"Has Item\", result);\n\t\t\t\tconst newItem = {\n\t\t\t\t\ttitle: mode === 'post' ? result.title.rendered : result.name,\n\t\t\t\t\turl: result.link,\n\t\t\t\t\tid: result.id,\n\t\t\t\t};\n\n\t\t\t\tif (item.uuid) {\n\t\t\t\t\tnewItem.uuid = item.uuid;\n\t\t\t\t}\n\n\t\t\t\treturn newItem;\n\t\t\t}\n\n\t\t\tif (hasFinishedResolution('getEntityRecord', getEntityRecordParameters)) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\treturn undefined;\n\t\t},\n\t\t[item.id, type],\n\t);\n\n\t// If `getEntityRecord` did not return an item, pass it to the delete callback.\n\tuseEffect(() => {\n\t\tif (preparedItem === null) {\n\t\t\thandleItemDelete(item);\n\t\t}\n\t}, [item, handleItemDelete, preparedItem]);\n\n\treturn preparedItem ? (\n\t\t<Wrapper\n\t\t\tstyle={{\n\t\t\t\tborder: '2px dashed #ddd',\n\t\t\t\tpaddingTop: '10px',\n\t\t\t\tpaddingBottom: '10px',\n\t\t\t\tpaddingLeft: isOrderable ? '3px' : '8px',\n\t\t\t}}\n\t\t\tclassName=\"block-editor-link-control__search-item is-entity\"\n\t\t>\n\t\t\t{isOrderable ? <DragHandle /> : ''}\n\t\t\t<span className=\"block-editor-link-control__search-item-header\">\n\t\t\t\t<span className=\"block-editor-link-control__search-item-title\">\n\t\t\t\t\t{decodeEntities(preparedItem.title)}\n\t\t\t\t</span>\n\t\t\t\t<span aria-hidden className=\"block-editor-link-control__search-item-info\">\n\t\t\t\t\t{filterURLForDisplay(safeDecodeURI(preparedItem.url)) || ''}\n\t\t\t\t</span>\n\t\t\t</span>\n\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={() => {\n\t\t\t\t\thandleItemDelete(preparedItem);\n\t\t\t\t}}\n\t\t\t\taria-label={__('Delete item', '10up-block-components')}\n\t\t\t>\n\t\t\t\t&times;\n\t\t\t</button>\n\t\t</Wrapper>\n\t) : (\n\t\t<div />\n\t);\n};\n\nexport default PickedItem;","/**\n * External Dependencies\n */\nimport { SortableContainer, SortableElement } from 'react-sortable-hoc';\n\n/**\n * Internal Dependencies\n */\nimport PickedItem from './picked-item';\n\nconst SortableList = SortableContainer(\n\t({ items, isOrderable, handleItemDelete, mode, ChildComponent = false }) => {\n\t\tconst ItemComponent =\n\t\t\tfalse !== ChildComponent\n\t\t\t\t? isOrderable\n\t\t\t\t\t? SortableElement(ChildComponent)\n\t\t\t\t\t: ChildComponent\n\t\t\t\t: isOrderable\n\t\t\t\t? SortableElement(PickedItem)\n\t\t\t\t: PickedItem;\n\t\treturn (\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tfontFamily:\n\t\t\t\t\t\t'-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen-Sans, Ubuntu, Cantarell, \"Helvetica Neue\", sans-serif',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{items.map((item, index) => {\n\t\t\t\t\tconst itemKey = item.uuid ? item.uuid : item.id;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ItemComponent\n\t\t\t\t\t\t\tisOrderable={\n\t\t\t\t\t\t\t\tisOrderable && 1 < items.length ? isOrderable : false\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tkey={`item-${itemKey}`}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\thandleItemDelete={handleItemDelete}\n\t\t\t\t\t\t\tsortIndex={index}\n\t\t\t\t\t\t\titem={item}\n\t\t\t\t\t\t\tmode={mode}\n\t\t\t\t\t\t\ttotalItems={items.length}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</div>\n\t\t);\n\t},\n);\n\nexport default SortableList;\n","/**\n * External Dependencies\n */\nimport { v4 as uuidv4 } from 'uuid';\nimport arrayMove from 'array-move';\nimport styled from '@emotion/styled';\n\n/**\n * WordPress Dependencies\n */\nimport { select } from '@wordpress/data';\nimport { useState, useEffect, useMemo } from '@wordpress/element';\nimport { __ } from '@wordpress/i18n';\nimport { Button, ButtonGroup, Modal } from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nimport { ContentSearch } from '../content-search';\nimport SortableList from './sortable-list';\n\nconst NAMESPACE = 'prc-content-picker';\n\n/**\n * Unfortunately, we had to use !important because on PickedItem we couldn't @emotion/styled css\n * as it was breaking sortability from react-sortable-hoc\n */\nconst StyleWrapper = styled('div')`\n\t& .block-editor-link-control__search-item {\n\t\tborder: none !important;\n\t\tcursor: default;\n\n\t\t&:hover {\n\t\t\tbackground: transparent;\n\t\t}\n\t}\n`;\n\n/**\n * Content Picker\n */\nconst ContentPicker = ({\n\tlabel,\n\tplaceholder,\n\tmode = 'post',\n\tcontentTypes = ['post', 'page'],\n\tonPickChange = (ids) => {\n        console.log('Content picker list change', ids); // eslint-disable-line no-console\n    },\n\tmaxContentItems = 1,\n\tisOrderable = false,\n\tsinglePickedLabel = __('You have selected the following item:', 'prc-block-components'),\n\tmultiPickedLabel = __('You have selected the following items:', 'prc-block-components'),\n\tvalue = [],\n\tuniqueContentItems = true,\n\texcludeCurrentPost = true,\n\tperPage = 50,\n\tPickedItemChild = false,\n\tsearchStyle = 'search',\n}) => {\n\tconst [content, setContent] = useState(value);\n\n\tconst currentPostId = select('core/editor')?.getCurrentPostId();\n\n\tuseEffect(()=> {\n\t\tconsole.log(\"Init content state\", value);\n\t}, []);\n\n\t// Run onPickChange callback when content changes.\n\tuseEffect(() => {\n\t\tif ( content !== value && content.length !== 0 ) {\n\t\t\tconsole.log(\"useEffect onPickChange->\", content); // eslint-disable-line no-console\n\t\t\tonPickChange(content);\n\t\t}\n\t}, [content]);\n\n\tconst handleSelect = (item, isUrl = false) => {\n\t\tconsole.log(\"handleSelect->\", item, isUrl); // eslint-disable-line no-console\n\t\tif ( true === isUrl ) {\n\t\t\tsetContent((previousContent) => [\n\t\t\t\t{\n\t\t\t\t\tuuid: uuidv4(),\n\t\t\t\t\ttype: 'subtype' in item ? item.subtype : item.type,\n\t\t\t\t\turl: item.url,\n\t\t\t\t},\n\t\t\t\t...previousContent,\n\t\t\t]);\n\t\t} else {\n\t\t\tsetContent((previousContent) => [\n\t\t\t\t{\n\t\t\t\t\tid: item.id,\n\t\t\t\t\tuuid: uuidv4(),\n\t\t\t\t\ttype: 'subtype' in item ? item.subtype : item.type,\n\t\t\t\t\turl: item.url,\n\t\t\t\t},\n\t\t\t\t...previousContent,\n\t\t\t]);\n\t\t}\n\t};\n\n\tconst onDeleteItem = (deletedItem) => {\n\t\tsetContent((previousContent) => {\n\t\t\treturn previousContent.filter(({ id, uuid }) => {\n\t\t\t\tif (deletedItem.uuid) {\n\t\t\t\t\treturn uuid !== deletedItem.uuid;\n\t\t\t\t} else {\n\t\t\t\t\treturn id !== deletedItem.id;\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t};\n\n\tconst excludeItems = useMemo(() => {\n\t\tconst items = uniqueContentItems ? [...content] : [];\n\n\t\tif (excludeCurrentPost && currentPostId) {\n\t\t\titems.push({\n\t\t\t\tid: currentPostId\n\t\t\t});\n\t\t}\n\n\t\treturn items;\n\t}, [content, currentPostId, excludeCurrentPost, uniqueContentItems]);\n\n\treturn (\n\t\t<div className={`${NAMESPACE}`}>\n\t\t\t{(!content.length || (content.length && content.length < maxContentItems)) && (\n\t\t\t\t<ContentSearch\n\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\texcludeItems={excludeItems}\n\t\t\t\t\tonSelectItem={handleSelect}\n\t\t\t\t\tcontentTypes={contentTypes}\n\t\t\t\t\tmode={mode}\n\t\t\t\t\tperPage={perPage}\n\t\t\t\t\tstyle={searchStyle}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{Boolean(content?.length) > 0 && (\n\t\t\t\t<StyleWrapper>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop: '15px',\n\t\t\t\t\t\t\tmarginBottom: '2px',\n\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{content.length > 1 ? multiPickedLabel : singlePickedLabel}\n\t\t\t\t\t</span>\n\n\t\t\t\t\t<SortableList\n\t\t\t\t\t\titems={content}\n\t\t\t\t\t\tuseDragHandle\n\t\t\t\t\t\thandleItemDelete={onDeleteItem}\n\t\t\t\t\t\tisOrderable={isOrderable}\n\t\t\t\t\t\tmode={mode}\n\t\t\t\t\t\tonSortEnd={({ oldIndex, newIndex }) => {\n\t\t\t\t\t\t\tconst newContent = [...arrayMove(content, oldIndex, newIndex)];\n\t\t\t\t\t\t\tconsole.log(\"newContent?\", newContent);\n\t\t\t\t\t\t\tsetContent(newContent);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tChildComponent={PickedItemChild}\n\t\t\t\t\t/>\n\t\t\t\t</StyleWrapper>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport { ContentPicker };\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tPlaceholder as WPComPlaceholder,\n\tSpinner,\n} from '@wordpress/components';\nimport { Fragment } from '@wordpress/element';\n\n/**\n * Internal Dependencies\n */\nimport { ContentPicker } from '../content-picker';\n\nfunction ContentPlaceholder({\n\tblockProps,\n\tonChange,\n\tonSkip,\n\tmode = 'post',\n\tcontentTypes = ['stub'],\n\tlabel = __('Search for a post', 'prc-block-components'),\n\tplaceholder = __(\n\t\t'Search for a post or pate in a url...',\n\t\t'prc-block-components',\n\t),\n\tvalue = [],\n\tloadingComponent = false,\n\tchildren,\n}) {\n\treturn (\n\t\t<div {...blockProps}>\n\t\t\t<WPComPlaceholder label={`${label}:`} isColumnLayout>\n\t\t\t\t{false !== loadingComponent && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\ttextAlign: 'center',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t<p className=\"sans-serif\">Loading object...</p>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{false === loadingComponent && (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{children}\n\t\t\t\t\t\t<ContentPicker\n\t\t\t\t\t\t\tonPickChange={(pickedContent) => {\n\t\t\t\t\t\t\t\tconsole.log('Step1:', pickedContent);\n\t\t\t\t\t\t\t\tonChange(pickedContent);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tmode={mode}\n\t\t\t\t\t\t\tlabel={`${label} or enter a url:`}\n\t\t\t\t\t\t\tplaceholder={placeholder}\n\t\t\t\t\t\t\tcontentTypes={contentTypes}\n\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisLink\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tonSkip();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\ttext={__('Skip')}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tpaddingLeft: '9px',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t</WPComPlaceholder>\n\t\t</div>\n\t);\n}\n\nexport { ContentPlaceholder };\n","const DEFAULT_STATE = [];\n\nconst reducer = (state = DEFAULT_STATE, action) => {\n    // Cloned is used in reorder, setItem, and setItemProp:\n    const cloned = [...state];\n    // eslint-disable-next-line default-case\n    switch (action.type) {\n        case 'SEED':\n            return [...action.items];\n        case 'APPEND':\n            return [...state, ...action.items];\n        case 'PREPEND':\n            return [...action.items, ...state];\n        case 'INSERT':\n            return [\n                ...state.slice(0, action.index),\n                ...action.items,\n                ...state.slice(action.index),\n            ];\n        case 'APPLY':\n            return state.map((item, index) => action.fn(item, index));\n        case 'REMOVE':\n            return state.filter((_, index) => !action.indexes.includes(index));\n        case 'REORDER':\n            // eslint-disable-next-line no-case-declarations\n            const item = state[action.from];\n\n            cloned.splice(action.from, 1);\n            cloned.splice(action.to, 0, item);\n\n            return cloned;\n        case 'SET_ITEM':\n            cloned[action.index] = action.item;\n            return cloned;\n        case 'SET_ITEM_PROP':\n            cloned[action.index] = {\n                ...cloned[action.index],\n                [action.prop]: action.value,\n            };\n            return cloned;\n    }\n\n    return state;\n};\n\nexport default reducer;\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { __experimentalLinkControl as LinkControl } from '@wordpress/block-editor';\nimport { Fragment, useEffect, useState } from '@wordpress/element';\nimport { ToolbarButton, Popover } from '@wordpress/components';\n\n/**\n * Link control in a toolbar button that defaults to searching for topic terms\n */\nconst LinkToolbarButton = ({\n    url,\n    onChange,\n    query = { type: 'term', subtype: 'topic' },\n}) => {\n    const [isLinkOpen, setIsLinkOpen] = useState(false);\n    return (\n        <Fragment>\n            <ToolbarButton\n                aria-expanded={isLinkOpen}\n                aria-haspopup=\"true\"\n                label={__('Set Link')}\n                icon=\"admin-links\"\n                onClick={() => setIsLinkOpen(!isLinkOpen)}\n                showTooltip\n            />\n            {true === isLinkOpen && (\n                <Popover\n                    position=\"bottom center\"\n                    onClose={() => setIsLinkOpen(false)}\n                >\n                    <LinkControl\n                        className=\"wp-block-navigation-link__inline-link-input\"\n                        value={{ url }}\n                        showInitialSuggestions\n                        suggestionsQuery={query}\n                        onChange={p => onChange(p)}\n                        settings={[]}\n                    />\n                </Popover>\n            )}\n        </Fragment>\n    );\n};\n\nexport default LinkToolbarButton;\n","/**\n * External Dependencies\n */\nimport { Icon } from 'semantic-ui-react';\n\n/**\n * WordPress Dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { Flex, FlexItem, FlexBlock, ToolbarGroup } from '@wordpress/components';\nimport { BlockControls, RichText } from '@wordpress/block-editor';\n\n/**\n * Internal Dependencies\n */\nimport LinkToolbarButton from '../link-toolbar-button';\n\nconst CaretHeadingLink = ({\n\turl,\n\theading,\n\theadingSize = 'h2',\n\tdisableIcon = false,\n\tsetAttributes,\n}) => {\n\treturn (\n\t\t<Fragment>\n\t\t\t<BlockControls>\n\t\t\t\t<ToolbarGroup>\n\t\t\t\t\t<LinkToolbarButton\n\t\t\t\t\t\turl={url}\n\t\t\t\t\t\tonChange={p => {\n\t\t\t\t\t\t\tsetAttributes({ url: p.url });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</ToolbarGroup>\n\t\t\t</BlockControls>\n\t\t\t<Flex style={{ paddingBottom: '1em' }}>\n\t\t\t\t<FlexItem>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\ttagName={headingSize}\n\t\t\t\t\t\tvalue={heading}\n\t\t\t\t\t\tonChange={h => setAttributes({ heading: h })}\n\t\t\t\t\t\tplaceholder=\"Heading...\"\n\t\t\t\t\t\tformattingControls={[]}\n\t\t\t\t\t\tkeepPlaceholderOnFocus\n\t\t\t\t\t\tclassName=\"sans-serif\"\n\t\t\t\t\t/>\n\t\t\t\t</FlexItem>\n\t\t\t\t{true !== disableIcon && (\n\t\t\t\t\t<FlexBlock>\n\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\tname=\"chevron right\"\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tstyle={{ marginLeft: '0.5em' }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</FlexBlock>\n\t\t\t\t)}\n\t\t\t</Flex>\n\t\t</Fragment>\n\t);\n};\n\nexport default CaretHeadingLink;\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { select, dispatch } from '@wordpress/data';\nimport { Button } from '@wordpress/components';\nimport { createBlock } from '@wordpress/blocks';\n\nconst BlockInserterButton = ({\n\tlabel = '',\n\tblockName,\n\tclientId,\n\tclassName,\n\tattributes = {},\n}) => {\n\tconst handleClick = () => {\n\t\tconst currentBlock = select('core/block-editor').getBlock(clientId);\n\t\tconsole.log('debug info...', currentBlock.innerBlocks.length);\n\t\tconst nextIndex =\n\t\t\t0 === currentBlock.innerBlocks.length\n\t\t\t\t? 0\n\t\t\t\t: currentBlock.innerBlocks.length + 1;\n\t\tconst newBlock = createBlock(blockName, attributes);\n\t\tdispatch('core/block-editor').insertBlock(\n\t\t\tnewBlock,\n\t\t\tnextIndex,\n\t\t\tclientId,\n\t\t);\n\t};\n\treturn (\n\t\t<Button\n\t\t\tlabel={__(label)}\n\t\t\ttooltipPosition=\"bottom\"\n\t\t\tonClick={handleClick}\n\t\t\tclassName=\"block-editor-button-block-appender\"\n\t\t>\n\t\t\t{__(label)}\n\t\t</Button>\n\t);\n};\n\nexport default BlockInserterButton;\n","/**\n * WordPress Dependencies\n */\nimport { __, sprintf } from '@wordpress/i18n';\nimport {\n    Dropdown,\n    Toolbar,\n    ToolbarButton,\n    ToolbarGroup,\n    Path,\n    SVG,\n} from '@wordpress/components';\nimport { DOWN } from '@wordpress/keycodes';\n\nconst HeadingLevelIcon = ({ level, isPressed = false }) => {\n    const levelToPath = {\n        1: 'M9 5h2v10H9v-4H5v4H3V5h2v4h4V5zm6.6 0c-.6.9-1.5 1.7-2.6 2v1h2v7h2V5h-1.4z',\n        2: 'M7 5h2v10H7v-4H3v4H1V5h2v4h4V5zm8 8c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6V15h8v-2H15z',\n        3: 'M12.1 12.2c.4.3.8.5 1.2.7.4.2.9.3 1.4.3.5 0 1-.1 1.4-.3.3-.1.5-.5.5-.8 0-.2 0-.4-.1-.6-.1-.2-.3-.3-.5-.4-.3-.1-.7-.2-1-.3-.5-.1-1-.1-1.5-.1V9.1c.7.1 1.5-.1 2.2-.4.4-.2.6-.5.6-.9 0-.3-.1-.6-.4-.8-.3-.2-.7-.3-1.1-.3-.4 0-.8.1-1.1.3-.4.2-.7.4-1.1.6l-1.2-1.4c.5-.4 1.1-.7 1.6-.9.5-.2 1.2-.3 1.8-.3.5 0 1 .1 1.6.2.4.1.8.3 1.2.5.3.2.6.5.8.8.2.3.3.7.3 1.1 0 .5-.2.9-.5 1.3-.4.4-.9.7-1.5.9v.1c.6.1 1.2.4 1.6.8.4.4.7.9.7 1.5 0 .4-.1.8-.3 1.2-.2.4-.5.7-.9.9-.4.3-.9.4-1.3.5-.5.1-1 .2-1.6.2-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1l1.1-1.4zM7 9H3V5H1v10h2v-4h4v4h2V5H7v4z',\n        4: 'M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm10-2h-1v2h-2v-2h-5v-2l4-6h3v6h1v2zm-3-2V7l-2.8 4H16z',\n        5: 'M12.1 12.2c.4.3.7.5 1.1.7.4.2.9.3 1.3.3.5 0 1-.1 1.4-.4.4-.3.6-.7.6-1.1 0-.4-.2-.9-.6-1.1-.4-.3-.9-.4-1.4-.4H14c-.1 0-.3 0-.4.1l-.4.1-.5.2-1-.6.3-5h6.4v1.9h-4.3L14 8.8c.2-.1.5-.1.7-.2.2 0 .5-.1.7-.1.5 0 .9.1 1.4.2.4.1.8.3 1.1.6.3.2.6.6.8.9.2.4.3.9.3 1.4 0 .5-.1 1-.3 1.4-.2.4-.5.8-.9 1.1-.4.3-.8.5-1.3.7-.5.2-1 .3-1.5.3-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1-.1-.1 1-1.5 1-1.5zM9 15H7v-4H3v4H1V5h2v4h4V5h2v10z',\n        6: 'M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm8.6-7.5c-.2-.2-.5-.4-.8-.5-.6-.2-1.3-.2-1.9 0-.3.1-.6.3-.8.5l-.6.9c-.2.5-.2.9-.2 1.4.4-.3.8-.6 1.2-.8.4-.2.8-.3 1.3-.3.4 0 .8 0 1.2.2.4.1.7.3 1 .6.3.3.5.6.7.9.2.4.3.8.3 1.3s-.1.9-.3 1.4c-.2.4-.5.7-.8 1-.4.3-.8.5-1.2.6-1 .3-2 .3-3 0-.5-.2-1-.5-1.4-.9-.4-.4-.8-.9-1-1.5-.2-.6-.3-1.3-.3-2.1s.1-1.6.4-2.3c.2-.6.6-1.2 1-1.6.4-.4.9-.7 1.4-.9.6-.3 1.1-.4 1.7-.4.7 0 1.4.1 2 .3.5.2 1 .5 1.4.8 0 .1-1.3 1.4-1.3 1.4zm-2.4 5.8c.2 0 .4 0 .6-.1.2 0 .4-.1.5-.2.1-.1.3-.3.4-.5.1-.2.1-.5.1-.7 0-.4-.1-.8-.4-1.1-.3-.2-.7-.3-1.1-.3-.3 0-.7.1-1 .2-.4.2-.7.4-1 .7 0 .3.1.7.3 1 .1.2.3.4.4.6.2.1.3.3.5.3.2.1.5.2.7.1z',\n    };\n    if (!levelToPath.hasOwnProperty(level)) {\n        return null;\n    }\n\n    return (\n        <SVG\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 20 20\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            isPressed={isPressed}\n        >\n            <Path d={levelToPath[level]} />\n        </SVG>\n    );\n};\n\nconst POPOVER_PROPS = {\n    className: 'block-library-heading-level-dropdown',\n    isAlternate: true,\n};\n\nconst HeadingLevelToolbar = ({ selectedLevel, levels = [2, 3], onChange }) => {\n    console.log('HeadingLevelToolbar', selectedLevel);\n    return (\n        <ToolbarGroup>\n            <Dropdown\n                popoverProps={POPOVER_PROPS}\n                renderToggle={({ onToggle, isOpen }) => {\n                    const openOnArrowDown = event => {\n                        if (!isOpen && event.keyCode === DOWN) {\n                            event.preventDefault();\n                            event.stopPropagation();\n                            onToggle();\n                        }\n                    };\n\n                    return (\n                        <ToolbarButton\n                            aria-expanded={isOpen}\n                            aria-haspopup=\"true\"\n                            icon={<HeadingLevelIcon level={selectedLevel} />}\n                            label={__('Change heading level')}\n                            onClick={onToggle}\n                            onKeyDown={openOnArrowDown}\n                            showTooltip\n                        />\n                    );\n                }}\n                renderContent={() => (\n                    <Toolbar\n                        className=\"block-library-heading-level-toolbar\"\n                        label={__('Change heading level')}\n                    >\n                        <ToolbarGroup\n                            isCollapsed={false}\n                            controls={levels.map(targetLevel => {\n                                const isActive = targetLevel === selectedLevel;\n                                return {\n                                    icon: (\n                                        <HeadingLevelIcon\n                                            level={targetLevel}\n                                            isPressed={isActive}\n                                        />\n                                    ),\n                                    title: sprintf(\n                                        // translators: %s: heading level e.g: \"1\", \"2\", \"3\"\n                                        __('Heading %d'),\n                                        targetLevel,\n                                    ),\n                                    isActive,\n                                    onClick() {\n                                        onChange(targetLevel);\n                                    },\n                                };\n                            })}\n                        />\n                    </Toolbar>\n                )}\n            />\n        </ToolbarGroup>\n    );\n};\n\nexport default HeadingLevelToolbar;\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { Button, DropZone } from '@wordpress/components';\nimport { useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { uploadMedia } from '@wordpress/media-utils';\n\n// eslint-disable-next-line no-undef\nconst { has } = window._;\n\nconst DEFAULT_IMAGE_SIZE = 'full';\n\nfunction MediaDropZone({\n\tattachmentId = false,\n\tonUpdate = (attachment) => {\n\t\tconsole.warn(\n\t\t\t'Media DropZone Attachment, use onUpdate prop when using <MediaDropZone/>: ',\n\t\t\tattachment,\n\t\t);\n\t},\n\tmediaType = ['image'],\n\tmediaSize = DEFAULT_IMAGE_SIZE,\n}) {\n\tconst [id, setId] = useState(attachmentId);\n\tconst [isUploading, setIsUploading] = useState(false);\n\n\t/**\n\t * When id (attachmentId) changes update the media and get its src, dimensions, and type.\n\t */\n\tconst { media, src, width, height, type } = useSelect(\n\t\t(select) => {\n\t\t\tconst m = id ? select('core').getMedia(id) : false;\n\t\t\tconsole.log('m...', id, m);\n\t\t\tif (undefined === m || false === m) {\n\t\t\t\treturn {\n\t\t\t\t\tmedia: false,\n\t\t\t\t\tsrc: false,\n\t\t\t\t\twidth: false,\n\t\t\t\t\theight: false,\n\t\t\t\t\ttype: false,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tlet mediaSourceUrl = false;\n\t\t\tlet mediaWidth = false;\n\t\t\tlet mediaHeight = false;\n\n\t\t\tif (has(m, ['media_details', 'sizes', mediaSize])) {\n\t\t\t\t// use mediaSize when available\n\t\t\t\tmediaWidth = m.media_details.sizes[mediaSize].width;\n\t\t\t\tmediaHeight = m.media_details.sizes[mediaSize].height;\n\t\t\t\tmediaSourceUrl = m.media_details.sizes[mediaSize].source_url;\n\t\t\t} else {\n\t\t\t\t// get fallbackMediaSize if mediaSize is not available\n\t\t\t\tconst fallbackMediaSize = DEFAULT_IMAGE_SIZE;\n\t\t\t\tif (has(m, ['media_details', 'sizes', fallbackMediaSize])) {\n\t\t\t\t\t// use fallbackMediaSize when mediaSize is not available\n\t\t\t\t\tmediaWidth = m.media_details.sizes[fallbackMediaSize].width;\n\t\t\t\t\tmediaHeight = m.media_details.sizes[fallbackMediaSize].height;\n\t\t\t\t\tmediaSourceUrl = m.media_details.sizes[fallbackMediaSize].source_url;\n\t\t\t\t} else {\n\t\t\t\t\t// use full image size when mediaFallbackSize and mediaSize are not available\n\t\t\t\t\tmediaWidth = m.media_details.width;\n\t\t\t\t\tmediaHeight = m.media_details.height;\n\t\t\t\t\tmediaSourceUrl = m.source_url;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tmedia: m,\n\t\t\t\tsrc: mediaSourceUrl,\n\t\t\t\twidth: mediaWidth,\n\t\t\t\theight: mediaHeight,\n\t\t\t\ttype: false !== m ? m.type : false,\n\t\t\t};\n\t\t},\n\t\t[id],\n\t);\n\n\tconst onMediaUpdate = (media) => {\n\t\tconsole.log('onMediaUpdate', id, media.id);\n\t\tif (media.id !== id) {\n\t\t\tsetId(media.id);\n\t\t\tonUpdate(media);\n\t\t}\n\t\tsetIsUploading(false);\n\t};\n\n\tconst onDropImage = (filesList) => {\n\t\tconsole.log('onDropImage', filesList);\n\t\tuploadMedia({\n\t\t\tallowedTypes: mediaType,\n\t\t\tfilesList,\n\t\t\tonFileChange([image]) {\n\t\t\t\tconsole.log('onFileChange', image);\n\t\t\t\tif (!image.id) {\n\t\t\t\t\tconsole.log('waiting');\n\t\t\t\t\tsetIsUploading(true);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('found!', image);\n\t\t\t\t\timage.sizes = image.media_details.sizes;\n\t\t\t\t\tonMediaUpdate(image);\n\t\t\t\t}\n\t\t\t},\n\t\t\tonError(message) {\n\t\t\t\tconsole.error(message);\n\t\t\t},\n\t\t});\n\t};\n\n\treturn (\n\t\t<MediaUploadCheck fallback={__(`Fallback Instructions Should Go Here`)}>\n\t\t\t<MediaUpload\n\t\t\t\ttitle={__(`Media Upload`)}\n\t\t\t\tonSelect={onMediaUpdate}\n\t\t\t\tallowedTypes={mediaType}\n\t\t\t\tvalue={id}\n\t\t\t\trender={({ open }) => (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t{false !== id &&\n\t\t\t\t\t\t\tfalse !== media &&\n\t\t\t\t\t\t\tfalse !== src &&\n\t\t\t\t\t\t\tfalse === isUploading && (\n\t\t\t\t\t\t\t<div onClick={open} style={{ cursor: 'pointer' }}>\n\t\t\t\t\t\t\t\t<img src={src} width={`${width}px`} height={`${height}px`} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{((false !== id && false === media) || isUploading) && (\n\t\t\t\t\t\t\t<Button isSecondary isBusy onClick={open}>\n\t\t\t\t\t\t\t\t{__(` Loading...`)}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{false === id && (\n\t\t\t\t\t\t\t<Button isSecondary onClick={open}>\n\t\t\t\t\t\t\t\t{__(`Set Image`)}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<DropZone onFilesDrop={onDropImage} />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t/>\n\t\t</MediaUploadCheck>\n\t);\n}\n\nexport default MediaDropZone;\n","/**\n * WordPress dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\n\nconst ifMatchSetAttribute = (\n    needle,\n    haystack,\n    attrKey,\n    attrValue,\n    setAttributes,\n) => {\n    if (needle === haystack) {\n        setAttributes({ [attrKey]: attrValue });\n    }\n};\n\nconst randomId = () => {\n    // Math.random should be unique because of its seeding algorithm.\n    // Convert it to base 36 (numbers + letters), and grab the first 9 characters\n    // after the decimal.\n    return `_${Math.random().toString(36).substr(2, 9)}`;\n};\n\nconst getTermsByLetter = (taxonomy, letter) => {\n\treturn new Promise(resolve => {\n\t\tapiFetch({\n\t\t\tpath: `/prc-api/v2/blocks/helpers/get-taxonomy-by-letter/?taxonomy=${taxonomy}&letter=${letter}`,\n\t\t}).then(terms => {\n\t\t\tresolve(terms);\n\t\t});\n\t});\n};\n\nconst getTerms = (taxonomy, perPage = 25) => {\n\treturn new Promise(resolve => {\n\t\tconst data = {};\n\t\tapiFetch({\n\t\t\tpath: `/wp/v2/${taxonomy}?per_page=${perPage}`,\n\t\t}).then(terms => {\n\t\t\tfor (let index = 0; index < terms.length; index++) {\n\t\t\t\tconst slug = terms[index].slug.replace(\n\t\t\t\t\t`${taxonomy.toLowerCase()}_`,\n\t\t\t\t\t'',\n\t\t\t\t);\n\t\t\t\tdata[terms[index].id] = {\n\t\t\t\t\tid: terms[index].id,\n\t\t\t\t\tname: terms[index].name,\n\t\t\t\t\tparent: terms[index].parent,\n\t\t\t\t\tslug,\n\t\t\t\t};\n\t\t\t}\n\t\t\tresolve(data);\n\t\t});\n\t});\n};\n\nconst getTermsAsOptions = (\n\ttaxonomy,\n\tperPage,\n\ttermValue = 'slug',\n\tsortByLabel = true,\n) => {\n\treturn new Promise(resolve => {\n\t\tgetTerms(taxonomy, perPage).then(data => {\n\t\t\tconst labelOptions = [];\n\n\t\t\tObject.keys(data).forEach(key => {\n\t\t\t\tconst termObj = data[key];\n\n\t\t\t\tlet value = termObj[termValue];\n\n\t\t\t\tlet label = termObj.name;\n\t\t\t\tif (undefined !== termObj.parent && 0 !== termObj.parent) {\n\t\t\t\t\tlabel = ` -- ${label}`;\n\t\t\t\t}\n\n\t\t\t\tlabelOptions.push({\n\t\t\t\t\tvalue,\n\t\t\t\t\tlabel,\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tif (false !== sortByLabel) {\n\t\t\t\tlabelOptions.sort((a, b) => (a.label > b.label ? 1 : -1));\n\t\t\t}\n\n\t\t\tresolve(labelOptions);\n\t\t});\n\t});\n};\n\nconst getTermsAsTree = taxonomy => {\n\treturn new Promise(resolve => {\n\t\tgetTerms(taxonomy).then(data => {\n\t\t\tconst treeData = [];\n\t\t\t// Convert data from object of objects to array of objects.\n\t\t\tconst convertedData = Object.keys(data).map(i => data[i]);\n\t\t\t// Filter out the parent terms first\n\t\t\tconst parentTerms = convertedData.filter(e => 0 === e.parent);\n\t\t\tparentTerms.forEach(e => {\n\t\t\t\t// Get children by filtering for terms with parent matching this id in loop.\n\t\t\t\tconst c = convertedData.filter(f => f.parent === e.id);\n\t\t\t\tconst children = [];\n\t\t\t\t// Construct children array.\n\t\t\t\tc.forEach(cT => {\n\t\t\t\t\tchildren.push({\n\t\t\t\t\t\tname: cT.name,\n\t\t\t\t\t\tid: cT.id,\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\t// Finally, push the fully structured parent -> child relationship to the tree data.\n\t\t\t\ttreeData.push({\n\t\t\t\t\tname: e.name,\n\t\t\t\t\tid: e.id,\n\t\t\t\t\tchildren,\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tresolve(treeData);\n\t\t});\n\t});\n};\n\n\nexport {\n\tgetTerms,\n\tgetTermsByLetter,\n\tgetTermsAsOptions,\n\tgetTermsAsTree,\n\tifMatchSetAttribute,\n\trandomId,\n};\n","const mailChimpInterests = [\n    {\n        label: 'Weekly roundup of all new publications',\n        value: '7c1390ba46',\n    },\n    {\n        label: 'Quarterly update from the President',\n        value: 'a33430a835',\n    },\n    {\n        label: '--',\n        value: false,\n    },\n    {\n        label: 'Global Attitudes & Trends',\n        value: '9203343b04',\n    },\n    {\n        label: 'Internet, Science & Tech',\n        value: 'ea87b26abe',\n    },\n    {\n        label: 'Media & News Daily Briefing',\n        value: '1d2638430b',\n    },\n    {\n        label: 'Hispanic Trends',\n        value: '0e7495c7b2',\n    },\n    {\n        label: 'Religion - Weekly newsletter',\n        value: 'a7d4f3268f',\n    },\n    {\n        label: 'Religion - Daily religion headlines',\n        value: '1a647764b2',\n    },\n    {\n        label: 'Social & Demographic Trends',\n        value: '3836f62305',\n    },\n    {\n        label: 'Methods',\n        value: '6d1e80bbaf',\n    },\n    {\n        label: 'Politics',\n        value: 'fa5fdbc701',\n    },\n    {\n        label: '--',\n        value: false,\n    },\n    {\n        label: 'Mini-course - U.S. Immigration',\n        value: 'xxx',\n    },\n    {\n        label: 'Mini-course - U.S. Census',\n        value: 'xxxx',\n    },\n    {\n        label: 'Mini-course - Muslims and Islam',\n        value: 'xxxxx',\n    },\n];\n\nexport {\n\tmailChimpInterests\n};\n","(function() { module.exports = window[\"ReactDOM\"]; }());","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","module.exports = regeneratorRuntime;","(function() { module.exports = window[\"lodash\"]; }());","(function() { module.exports = window[\"wp\"][\"mediaUtils\"]; }());","(function() { module.exports = window[\"wp\"][\"keycodes\"]; }());","/**\n * WordPress Dependencies\n */\nimport { RichText } from '@wordpress/block-editor';\nimport { Fragment } from '@wordpress/element';\n\nconst deprecated = [\n    {\n        attributes: {\n            postID: {\n                type: \"integer\"\n            },\n            link: {\n                type: \"string\"\n            },\n            excerpt: {\n                type: \"string\",\n                multiline: \"p\"\n            },\n            enableExcerpt: {\n                type: \"boolean\",\n                default: true\n            },\n            enableExcerptBelow: {\n                type: \"boolean\",\n                default: false\n            },\n            enableAltTaxonomy: {\n                type: \"boolean\",\n                default: false\n            }\n        },\n\n        migrate( { postID, link, excerpt, enableExcerpt, enableExcerptBelow, enableAltTaxonomy, enableMeta } ) {\n            console.log(\"Migrating...\", { postID, link, excerpt, enableExcerpt, enableExcerptBelow, enableAltTaxonomy, enableMeta });\n            const newMetaTaxonomy = enableMeta ? ( enableAltTaxonomy ? 'research-teams' : 'formats' ) : 'disabled';\n            return {\n                postId: postID,\n                url: link,\n                excerpt: excerpt,\n                enableExcerpt: enableExcerpt,\n                enableExcerptBelow: enableExcerptBelow,\n                metaTaxonomy: newMetaTaxonomy,\n            };\n        },\n\n        save( props ) {\n            return (\n                <Fragment>\n                    { 0 !== props.excerpt.length && (<RichText.Content className=\"excerpt\" tagName=\"div\" value={props.excerpt}/>) }\n                </Fragment>\n            );\n        },\n    },\n];\n\nexport default deprecated;\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { isInteger } from 'lodash';\nimport {\n\tInspectorControls,\n\tInspectorAdvancedControls,\n} from '@wordpress/block-editor';\nimport { Fragment, useState } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tCardDivider,\n\tPanelBody,\n\tSelectControl,\n\tToggleControl,\n} from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nimport { setPostAttributes } from '../../helpers';\n\nfunction Inspector({ attributes, setAttributes, context, rootClientId }) {\n\tconst [isRefreshing, refresh] = useState(false);\n\tconst {\n\t\tpostId,\n\t\timageSize,\n\t\timageSlot,\n\t\tenableHeader,\n\t\tenableExcerpt,\n\t\tenableExcerptBelow,\n\t\tenableExtra,\n\t\tenableBreakingNews,\n\t\tenableEmphasis,\n\t\tdisableMobileStyles,\n\t\tenableMeta,\n\t\tmetaTaxonomy,\n\t} = attributes;\n\n\tconst label = __('Story Item Options');\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<InspectorControls>\n\t\t\t\t<PanelBody title={label}>\n\t\t\t\t\t<BaseControl\n\t\t\t\t\t\thelp={__(\n\t\t\t\t\t\t\t'Toggle specific features of a Story Item on or off, for example you can turn off the meta area (date and taxonomy).',\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={enableMeta ? 'Meta Enabled' : 'Meta Disabled'}\n\t\t\t\t\t\t\tchecked={enableMeta}\n\t\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\t\tsetAttributes({ enableMeta: !enableMeta });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={enableHeader ? 'Header Enabled' : 'Header Disabled'}\n\t\t\t\t\t\t\tchecked={enableHeader}\n\t\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\t\tsetAttributes({ enableHeader: !enableHeader });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={enableExcerpt ? 'Excerpt Enabled' : 'Excerpt Disabled'}\n\t\t\t\t\t\t\tchecked={enableExcerpt}\n\t\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\t\tsetAttributes({ enableExcerpt: !enableExcerpt });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={enableExtra ? 'Extras Enabled' : 'Extras Disabled'}\n\t\t\t\t\t\t\tchecked={enableExtra}\n\t\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\t\tsetAttributes({ enableExtra: !enableExtra });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\tenableBreakingNews\n\t\t\t\t\t\t\t\t\t? 'Breaking News Enabled'\n\t\t\t\t\t\t\t\t\t: 'Breaking News Disabled'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tchecked={enableBreakingNews}\n\t\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\t\tif (false !== window.prcBreakingNews) {\n\t\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\t\tenableBreakingNews: !enableBreakingNews,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-alert\n\t\t\t\t\t\t\t\t\talert(\n\t\t\t\t\t\t\t\t\t\t'There are no currently active authorized breaking news events. The breaking news toggle will be set back to false.',\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\t\tenableBreakingNews: false,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\tlabel={enableEmphasis ? 'Emphasis Enabled' : 'Emphasis Disabled'}\n\t\t\t\t\t\t\tchecked={enableEmphasis}\n\t\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\t\tsetAttributes({ enableEmphasis: !enableEmphasis });\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</BaseControl>\n\n\t\t\t\t\t<CardDivider />\n\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel=\"Select Taxonomy To Display\"\n\t\t\t\t\t\tvalue={metaTaxonomy}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{ label: 'Formats', value: 'formats' },\n\t\t\t\t\t\t\t{ label: 'Research Teams', value: 'research-teams' },\n\t\t\t\t\t\t\t{ label: 'Disabled', value: 'disabled' },\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonChange={(newMetaTaxonomy) => {\n\t\t\t\t\t\t\tsetAttributes({ metaTaxonomy: newMetaTaxonomy });\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelBody>\n\t\t\t</InspectorControls>\n\t\t\t<InspectorAdvancedControls>\n\t\t\t\t<ToggleControl\n\t\t\t\t\tlabel={\n\t\t\t\t\t\t!disableMobileStyles\n\t\t\t\t\t\t\t? 'Mobile Styling Enabled'\n\t\t\t\t\t\t\t: 'Mobile Styling Disabled'\n\t\t\t\t\t}\n\t\t\t\t\thelp={__(\n\t\t\t\t\t\t'If enabled your image slot will change to right aligned (if left aligned), and top aligned (if bottom aligned). Also, large headers will switch to medium headers on mobile.',\n\t\t\t\t\t)}\n\t\t\t\t\tchecked={disableMobileStyles}\n\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\tsetAttributes({ disableMobileStyles: !disableMobileStyles });\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t{true === enableExcerpt &&\n\t\t\t\t\t('right' === imageSlot || 'left' === imageSlot) && (\n\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\tenableExcerptBelow\n\t\t\t\t\t\t\t\t\t\t? 'Excerpt Will Appear Below Image'\n\t\t\t\t\t\t\t\t\t\t: 'Excerpt Will Appear Normally'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\thelp={__(\n\t\t\t\t\t\t\t\t\t'If you have excerpts enabled and a right or left image slot you can force the excerpt to appear below an image.',\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tchecked={enableExcerptBelow}\n\t\t\t\t\t\t\t\tonChange={() => {\n\t\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\t\tenableExcerptBelow: !enableExcerptBelow,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<CardDivider />\n\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t)}\n\n\t\t\t\t{isInteger(postId) && 0 !== postId && (\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\tisBusy={isRefreshing}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\trefresh(true);\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tsetPostAttributes({\n\t\t\t\t\t\t\t\t\t\tpostId,\n\t\t\t\t\t\t\t\t\t\timageSize,\n\t\t\t\t\t\t\t\t\t\tisRefresh: true,\n\t\t\t\t\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\trefresh(false);\n\t\t\t\t\t\t\t\t}, 500);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tstyle={{ marginBottom: '1em' }}\n\t\t\t\t\t\t\ttext={__('Refresh Post Data')}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t<div>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\tisBusy={isRefreshing}\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\trefresh(true);\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\t\t\t\texcerpt: '',\n\t\t\t\t\t\t\t\t\textra: '',\n\t\t\t\t\t\t\t\t\turl: '',\n\t\t\t\t\t\t\t\t\tlabel: '',\n\t\t\t\t\t\t\t\t\tdate: '',\n\t\t\t\t\t\t\t\t\timage: '',\n\t\t\t\t\t\t\t\t\tpostId: 0,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\trefresh(false);\n\t\t\t\t\t\t\t}, 500);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tstyle={{ marginBottom: '1em' }}\n\t\t\t\t\t\ttext={__('Reset Story Item Block')}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</InspectorAdvancedControls>\n\t\t</Fragment>\n\t);\n}\n\nexport default Inspector;\n","/**\n * External Dependencies\n */\nimport { ContentPlaceholder } from '@prc-app/shared';\n\n/**\n * WordPress Dependencies\n */\nimport { useState } from '@wordpress/element';\n\n/**\n * Internal Dependencies\n */\nimport { setPostAttributes } from '../../helpers';\n\nfunction Placeholder({ attributes, setAttributes, blockProps }) {\n\tconst { imageSize } = attributes;\n\n\tconst [loadingStub, setLoadingStub] = useState(false);\n\n\treturn (\n\t\t<ContentPlaceholder\n\t\t\tonChange={(pickedContent) => {\n\t\t\t\tconsole.log('Step2:', pickedContent);\n\t\t\t\tif (0 < pickedContent.length && undefined !== pickedContent[0].id) {\n\t\t\t\t\tconsole.log('Step3:', pickedContent[0]);\n\t\t\t\t\tsetLoadingStub(true);\n\t\t\t\t\t// Here we're passing in to do yet another fetch, i'm not a fan of that, lets speed this up.\n\t\t\t\t\tsetPostAttributes({\n\t\t\t\t\t\tpostId: pickedContent[0].id,\n\t\t\t\t\t\timageSize,\n\t\t\t\t\t\tisRefresh: false,\n\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}}\n\t\t\tonSkip={() => {\n\t\t\t\tsetAttributes({ postId: 0 });\n\t\t\t}}\n\t\t\tblockProps={{ ...blockProps, style: { marginBottom: '16px' } }}\n\t\t\tloadingComponent={loadingStub}\n\t\t/>\n\t);\n}\n\nexport default Placeholder;\n","/**\n * WordPress Dependencies\n */\nimport { Path, SVG } from '@wordpress/components';\nimport {\n\tclose,\n\tmore,\n\tarrowLeft,\n\tarrowRight,\n\tarrowUp,\n\tarrowDown,\n} from '@wordpress/icons';\n\nfunction Icon({ svgPath = false, isPressed = false }) {\n\tif (false === svgPath) {\n\t\treturn null;\n\t}\n\treturn (\n\t\t<SVG\n\t\t\twidth={24}\n\t\t\theight={24}\n\t\t\tviewBox=\"0 0 24 24\"\n\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\tisPressed={isPressed}\n\t\t>\n\t\t\t<Path d={svgPath} />\n\t\t</SVG>\n\t);\n}\n\nfunction ImageSlotIcon({ selected }) {\n\tif ('right' === selected) {\n\t\treturn arrowRight;\n\t}\n\tif ('left' === selected) {\n\t\treturn arrowLeft;\n\t}\n\tif ('top' === selected) {\n\t\treturn arrowUp;\n\t}\n\tif ('bottom' === selected) {\n\t\treturn arrowDown;\n\t}\n\tif ('disabled' === selected) {\n\t\treturn close;\n\t}\n\treturn more;\n}\n\nfunction ImageSizeIcon({ selected, currentlyActive }) {\n\tconst iconPaths = {\n\t\tA1: 'M12.13,18.09h-3l-.74-2.46H4.49l-.75,2.46H1.27l3.84-12H8.36ZM7.72,13.41,6.44,9.2,5.16,13.41Z M13.31,8.35a7,7,0,0,0,4-2.44h2v10h3.33v2.19H13V15.9h3.63V9a23.54,23.54,0,0,1-3.33,1.78Z',\n\t\tA2: 'M12.5,18.09h-3l-.74-2.46H4.86l-.75,2.46H1.64l3.83-12H8.73ZM8.09,13.41,6.81,9.2,5.53,13.41Z M22.16,18.09h-9V15.75l.72-.52,1.46-1a31.07,31.07,0,0,0,3.1-2.6,2.74,2.74,0,0,0,.9-1.87,1.55,1.55,0,0,0-1.66-1.6c-1.19,0-1.86.76-2,2.3l-2.48-.55c.56-2.67,2.11-4,4.66-4a4.37,4.37,0,0,1,3,.91A3.5,3.5,0,0,1,22.2,9.69c0,1.51-.69,2.61-2.52,4a33.64,33.64,0,0,1-3.06,2h5.74Z',\n\t\tA3: 'M12.52,18h-3l-.74-2.47H4.89L4.13,18H1.67L5.5,6H8.76ZM8.11,13.32,6.83,9.11,5.56,13.32Z M17.38,10.75a1.87,1.87,0,0,0,1.46-.47,1.36,1.36,0,0,0,.38-.94A1.5,1.5,0,0,0,17.6,7.89c-1,0-1.51.45-1.84,1.53L13.28,9a3.62,3.62,0,0,1,1.1-2,4.58,4.58,0,0,1,3.33-1.24C20.24,5.82,22,7.13,22,9a2.69,2.69,0,0,1-2,2.68,3.09,3.09,0,0,1,1.51.74,2.73,2.73,0,0,1,.9,2.11c0,2.19-1.82,3.61-4.64,3.61A4.67,4.67,0,0,1,14.23,17a3.88,3.88,0,0,1-1.31-2.45l2.55-.36A2,2,0,0,0,17.63,16a1.64,1.64,0,0,0,1.84-1.62,1.55,1.55,0,0,0-.61-1.27,3,3,0,0,0-1.66-.27H16.1V10.75Z',\n\t\tA4: 'M12.31,18.09h-3l-.74-2.46H4.67l-.75,2.46H1.45l3.84-12H8.54ZM7.9,13.41,6.62,9.2,5.34,13.41Z M20.86,13.22h1.69v2.1H20.86v2.77H18.05V15.32H12.81v-2.1l4.84-7.31h3.21Zm-2.69,0V9.16c0-.09,0-.28,0-.57l0-.51-3.29,5.14Z',\n\t\tXL: 'M9.23,11.58,12.94,18H9.7L7.28,13.65,4.87,18H2.21l3.71-6.38L2.62,6H5.9L7.84,9.65,9.88,6h2.63Z M21.79,15.63V18H14.18V6H17v9.64Z',\n\t};\n\treturn (\n\t\t<Icon\n\t\t\tsvgPath={iconPaths[selected]}\n\t\t\tisPressed={selected === currentlyActive}\n\t\t/>\n\t);\n}\n\nfunction HeadingLevelIcon({ selected, currentlyActive }) {\n\tconst iconPaths = {\n\t\t1: 'M15.81,15.63V18H8.19V6H11v9.63Z', // Large\n\t\t2: 'M7.81,8.21V18H5.46V6H9.83l2.11,7.18L14.17,6h4.37V18H15.72V8.21l-3,9.79H10.77Z', // Medium\n\t\t3: 'M14.21,9.43A1.9,1.9,0,0,0,12.12,8c-1,0-1.64.4-1.64,1.06s.43,1,1.73,1.26a8.68,8.68,0,0,1,3.15,1,3.35,3.35,0,0,1,1.55,2.85,3.89,3.89,0,0,1-1.77,3.2,6,6,0,0,1-3.17.77,5.53,5.53,0,0,1-3.44-1,4,4,0,0,1-1.44-2.31l2.6-.59a2.2,2.2,0,0,0,2.43,1.67c1.19,0,1.92-.48,1.92-1.26s-.48-1-2.09-1.36a8.16,8.16,0,0,1-2.77-.94A3.08,3.08,0,0,1,7.72,9.63,3.58,3.58,0,0,1,9,6.86a4.44,4.44,0,0,1,3.15-1,5.08,5.08,0,0,1,3.15.91,3.74,3.74,0,0,1,1.33,1.91Z', // Small\n\t};\n\treturn (\n\t\t<Icon\n\t\t\tsvgPath={iconPaths[selected]}\n\t\t\tisPressed={selected === currentlyActive}\n\t\t/>\n\t);\n}\n\nexport { ImageSizeIcon, ImageSlotIcon, HeadingLevelIcon };\n","/**\n * External Dependencies\n */\nimport { useDebounce } from '@prc-app/shared';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport apiFetch from '@wordpress/api-fetch';\nimport { Fragment, useState, useEffect } from '@wordpress/element';\nimport {\n\tButtonGroup,\n\tButton,\n\tModal,\n\tPopover,\n\tSpinner,\n\tTextControl,\n\tToolbarButton,\n} from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nimport { setPostAttributes } from '../../helpers';\n\nfunction URLControl({ url, imageSize = 'A1', setAttributes }) {\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [isLinkOpen, setIsLinkOpen] = useState(false);\n\tconst [isModalOpen, setIsModalOpen] = useState(false);\n\tconst [inputValue, setInputValue] = useState(url);\n\tconst [post, setPost] = useState(null);\n\n\tconst value = useDebounce(inputValue, 500);\n\t// When the input value changes, search for the post.\n\tuseEffect(() => {\n\t\tif (value !== url) {\n\t\t\tsetIsLoading(true);\n\t\t\tapiFetch({\n\t\t\t\tpath: '/prc-api/v2/utils/get-post-by-url',\n\t\t\t\tmethod: 'POST',\n\t\t\t\tdata: { url: value },\n\t\t\t})\n\t\t\t\t.then((p) => {\n\t\t\t\t\tconsole.log('get-post-by-url', p);\n\t\t\t\t\tif (undefined !== p.ID) {\n\t\t\t\t\t\tsetPost(p);\n\t\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch((err) => {\n\t\t\t\t\tconsole.log('Error: ', err);\n\t\t\t\t\t// In this state no url has been found so we should just assume the user wants the url passed in.\n\t\t\t\t\tsetPost(false);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t});\n\t\t}\n\t}, [value]);\n\n\tconst onModalClose = () => setIsModalOpen(false);\n\tconst onModalOpen = () => {\n\t\tsetIsLinkOpen(false);\n\t\tsetIsModalOpen(true);\n\t};\n\n\tconst onReplace = (newPostId) => {\n\t\tsetPostAttributes({\n\t\t\tpostId: newPostId,\n\t\t\timageSize,\n\t\t\tisRefresh: false,\n\t\t\tsetAttributes,\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<ToolbarButton\n\t\t\t\taria-expanded={isLinkOpen}\n\t\t\t\taria-haspopup=\"true\"\n\t\t\t\tlabel={__('Set URL')}\n\t\t\t\ticon=\"admin-links\"\n\t\t\t\tonClick={() => setIsLinkOpen(!isLinkOpen)}\n\t\t\t\tshowTooltip\n\t\t\t/>\n\t\t\t{true === isModalOpen && (\n\t\t\t\t<Modal\n\t\t\t\t\ttitle={__('Replace story item content', 'prc-blocks-story-item')}\n\t\t\t\t\tonRequestClose={onModalClose}\n\t\t\t\t>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tReplace this story item with <strong>{post.post_title}</strong>?\n\t\t\t\t\t</p>\n\t\t\t\t\t<ButtonGroup>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisDestructive\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tonReplace(post.ID);\n\t\t\t\t\t\t\t\tonModalClose();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tReplace\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\turl: value,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tonModalClose();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tReplace URL Only\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button variant=\"secondary\" onClick={onModalClose}>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</ButtonGroup>\n\t\t\t\t</Modal>\n\t\t\t)}\n\t\t\t{true === isLinkOpen && (\n\t\t\t\t<Popover position=\"bottom center\" onClose={() => setIsLinkOpen(false)}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tminWidth: '300px',\n\t\t\t\t\t\t\tpadding: '8px',\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'flex-end',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tflexGrow: '1',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\t\tlabel=\"URL\"\n\t\t\t\t\t\t\t\tvalue={inputValue}\n\t\t\t\t\t\t\t\tonChange={(value) => setInputValue(value)}\n\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tpaddingBottom: '7px',\n\t\t\t\t\t\t\t\tpaddingLeft: '8px',\n\t\t\t\t\t\t\t\twidth: '44px',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isLoading && (\n\t\t\t\t\t\t\t\t<div style={{ paddingBottom: '3px' }}>\n\t\t\t\t\t\t\t\t\t<Spinner />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!isLoading && false === post && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ticon=\"yes-alt\"\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetAttributes({ url: value });\n\t\t\t\t\t\t\t\t\t\tsetIsLinkOpen(false);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{!isLoading && false !== post && null !== post && (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ticon=\"warning\"\n\t\t\t\t\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\t\t\t\t\tonClick={onModalOpen}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Popover>\n\t\t\t)}\n\t\t</Fragment>\n\t);\n}\n\nexport default URLControl;\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { BlockControls } from '@wordpress/block-editor';\nimport { Fragment, useCallback } from '@wordpress/element';\nimport {\n\tToolbarButton,\n\tToolbarDropdownMenu,\n\tToolbarGroup,\n} from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nimport { HeadingLevelIcon, ImageSizeIcon, ImageSlotIcon } from './icons';\nimport { setArtBySize } from '../../helpers';\nimport URLControl from './url-control';\n\nconst COLUMN_LIMIT = 8;\n\nfunction Toolbar({ attributes, setAttributes, context, rootClientId }) {\n\tconst { postId, url, imageSize, imageSlot, headerSize, isChartArt, title } =\n\t\tattributes;\n\n\tconsole.log('Context', context);\n\n\tconst columnWidth =\n\t\tundefined !== context['prc-block/column/width']\n\t\t\t? context['prc-block/column/width']\n\t\t\t: false;\n\tconst columnIsEqualWidth =\n\t\tundefined !== context['prc-block/row/isEqual']\n\t\t\t? context['prc-block/row/isEqual']\n\t\t\t: false;\n\tconsole.log('columnWidth', columnWidth, columnIsEqualWidth);\n\n\tconst handleImageSizeChange = (newSize) => {\n\t\tsetAttributes({ imageSize: newSize });\n\t\tsetArtBySize(newSize, postId, setAttributes); // @TODO LOOK INTO\n\t\tconsole.log('new image size, check column context', context);\n\t};\n\n\tconst MemoizedHeadingLevelIcon = useCallback(\n\t\t() => (\n\t\t\t<HeadingLevelIcon selected={headerSize} currentlyActive={headerSize} />\n\t\t),\n\t\t[headerSize],\n\t);\n\n\tconst MemoizedImageSlotIcon = useCallback(\n\t\t() => <ImageSlotIcon selected={imageSlot} />,\n\t\t[imageSlot],\n\t);\n\n\tconst MemoizedImageSizeIcon = useCallback(\n\t\t() => <ImageSizeIcon selected={imageSize} currentlyActive={imageSize} />,\n\t\t[imageSize],\n\t);\n\n\treturn (\n\t\t<BlockControls>\n\t\t\t<ToolbarGroup>\n\t\t\t\t<URLControl\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tid={postId}\n\t\t\t\t\turl={url}\n\t\t\t\t\ttype=\"stub\"\n\t\t\t\t\tsetAttributes={setAttributes}\n\t\t\t\t/>\n\t\t\t</ToolbarGroup>\n\t\t\t<ToolbarGroup>\n\t\t\t\t<ToolbarDropdownMenu\n\t\t\t\t\ticon={MemoizedHeadingLevelIcon}\n\t\t\t\t\tlabel=\"Select Heading Size\"\n\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Large',\n\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t<HeadingLevelIcon selected={1} currentlyActive={headerSize} />\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tisActive: 1 === headerSize,\n\t\t\t\t\t\t\tonClick: () => setAttributes({ headerSize: 1 }),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Medium',\n\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t<HeadingLevelIcon selected={2} currentlyActive={headerSize} />\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tisActive: 2 === headerSize,\n\t\t\t\t\t\t\tonClick: () => setAttributes({ headerSize: 2 }),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Small',\n\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t<HeadingLevelIcon selected={3} currentlyActive={headerSize} />\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tisActive: 3 === headerSize,\n\t\t\t\t\t\t\tonClick: () => setAttributes({ headerSize: 3 }),\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t</ToolbarGroup>\n\t\t\t<ToolbarGroup>\n\t\t\t\t<ToolbarDropdownMenu\n\t\t\t\t\ticon={MemoizedImageSlotIcon}\n\t\t\t\t\tlabel=\"Select Image Slot\"\n\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Top',\n\t\t\t\t\t\t\ticon: <ImageSlotIcon selected=\"top\" />,\n\t\t\t\t\t\t\tisActive: 'top' === imageSlot,\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tconst newSlot = 'top';\n\t\t\t\t\t\t\t\tsetAttributes({ imageSlot: newSlot });\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Bottom',\n\t\t\t\t\t\t\ticon: <ImageSlotIcon selected=\"bottom\" />,\n\t\t\t\t\t\t\tisActive: 'bottom' === imageSlot,\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tconst newSlot = 'bottom';\n\t\t\t\t\t\t\t\tsetAttributes({ imageSlot: newSlot });\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Left',\n\t\t\t\t\t\t\ticon: <ImageSlotIcon selected=\"left\" />,\n\t\t\t\t\t\t\tisActive: 'left' === imageSlot,\n\t\t\t\t\t\t\tisDisabled:\n\t\t\t\t\t\t\t\ttrue !== columnIsEqualWidth &&\n\t\t\t\t\t\t\t\tfalse !== columnWidth &&\n\t\t\t\t\t\t\t\tCOLUMN_LIMIT >= columnWidth,\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tconst newSlot = 'left';\n\t\t\t\t\t\t\t\tsetAttributes({ imageSlot: newSlot });\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Right',\n\t\t\t\t\t\t\ticon: <ImageSlotIcon selected=\"right\" />,\n\t\t\t\t\t\t\tisActive: 'right' === imageSlot,\n\t\t\t\t\t\t\tisDisabled:\n\t\t\t\t\t\t\t\ttrue !== columnIsEqualWidth &&\n\t\t\t\t\t\t\t\tfalse !== columnWidth &&\n\t\t\t\t\t\t\t\tCOLUMN_LIMIT >= columnWidth,\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tconst newSlot = 'right';\n\t\t\t\t\t\t\t\tsetAttributes({ imageSlot: newSlot });\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttitle: 'Disabled',\n\t\t\t\t\t\t\ticon: <ImageSlotIcon selected=\"disabled\" />,\n\t\t\t\t\t\t\tisActive: 'disabled' === imageSlot,\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tconst newSlot = 'disabled';\n\t\t\t\t\t\t\t\tsetAttributes({ imageSlot: newSlot });\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t\t{'disabled' !== imageSlot && (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t<ToolbarDropdownMenu\n\t\t\t\t\t\t\ticon={MemoizedImageSizeIcon}\n\t\t\t\t\t\t\tlabel=\"Select Image Size\"\n\t\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'A1',\n\t\t\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t\t\t<ImageSizeIcon selected=\"A1\" currentlyActive={imageSize} />\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tisActive: 'A1' === imageSize,\n\t\t\t\t\t\t\t\t\tonClick: () => handleImageSizeChange('A1'),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'A2',\n\t\t\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t\t\t<ImageSizeIcon selected=\"A2\" currentlyActive={imageSize} />\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tisActive: 'A2' === imageSize,\n\t\t\t\t\t\t\t\t\tonClick: () => handleImageSizeChange('A2'),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'A3',\n\t\t\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t\t\t<ImageSizeIcon selected=\"A3\" currentlyActive={imageSize} />\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tisActive: 'A3' === imageSize,\n\t\t\t\t\t\t\t\t\tonClick: () => handleImageSizeChange('A3'),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'A4',\n\t\t\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t\t\t<ImageSizeIcon selected=\"A4\" currentlyActive={imageSize} />\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tisActive: 'A4' === imageSize,\n\t\t\t\t\t\t\t\t\tonClick: () => handleImageSizeChange('A4'),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttitle: 'XL',\n\t\t\t\t\t\t\t\t\ticon: (\n\t\t\t\t\t\t\t\t\t\t<ImageSizeIcon selected=\"XL\" currentlyActive={imageSize} />\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\tisActive: 'XL' === imageSize,\n\t\t\t\t\t\t\t\t\tonClick: () => handleImageSizeChange('XL'),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\t\ticon=\"chart-pie\"\n\t\t\t\t\t\t\tisPressed={isChartArt}\n\t\t\t\t\t\t\tlabel={__('Enable Chart Art')}\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\t\t\tisChartArt: !isChartArt,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t</ToolbarGroup>\n\t\t</BlockControls>\n\t);\n}\n\nexport default Toolbar;\n","/**\n * WordPress Dependencies\n */\nimport { Fragment } from '@wordpress/element';\n\n/**\n * Internal Dependencies\n */\nimport Inspector from './inspector';\nimport Placeholder from './placeholder';\nimport Toolbar from './toolbar';\n\nfunction Controls({ attributes, setAttributes, context, rootClientId }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t<Toolbar {...{ attributes, setAttributes, context, rootClientId }} />\n\t\t\t<Inspector\n\t\t\t\t{...{\n\t\t\t\t\tattributes,\n\t\t\t\t\tsetAttributes,\n\t\t\t\t\tcontext,\n\t\t\t\t\trootClientId,\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Fragment>\n\t);\n}\n\nexport { Controls, Placeholder };\n","/**\n * External Dependencies\n */\nimport classNames from 'classnames/bind';\nimport { Picture } from 'react-responsive-picture';\n\n/**\n * WordPress Dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { MediaUpload, MediaUploadCheck } from '@wordpress/block-editor';\nimport { addQueryArgs } from '@wordpress/url';\n\nconst ALLOWED_MEDIA_TYPES = ['image'];\n\nconst A1 = {\n\tdefault: '564,317',\n\tsmall: '690,388',\n\thidpi: '1128,634',\n\tsmallHidpi: '1380,776',\n};\n\nconst A2 = {\n\tdefault: '268,151',\n\tsmall: '690,388',\n\thidpi: '536,301',\n\tsmallHidpi: '1380,776',\n};\n\nconst A3 = {\n\tdefault: '194,110',\n\tsmall: '148,84',\n\thidpi: '388,220',\n\tsmallHidpi: '296,168',\n};\n\nconst A4 = {\n\tdefault: '268,151',\n\tsmall: '690,388',\n\thidpi: '536,302',\n\tsmallHidpi: '1380,776',\n};\n\nconst XL = {\n\tdefault: '720,405',\n\tsmall: '690,388',\n\thidpi: '1440,810',\n\tsmallHidpi: '1380,776',\n};\n\nfunction ImageDisplay({\n\timg,\n\tsize,\n\tlink,\n\tonClick = false,\n\tplaceholder = false,\n}) {\n\t// eslint-disable-next-line no-shadow\n\tconst getImgURL = (variant) => {\n\t\tif (true === placeholder) {\n\t\t\tlet dimensions = '';\n\t\t\tif ('A2' === size) {\n\t\t\t\tdimensions = '536x301';\n\t\t\t} else if ('A3' === size) {\n\t\t\t\tdimensions = '388x220';\n\t\t\t} else if ('A4' === size) {\n\t\t\t\tdimensions = '536x302';\n\t\t\t} else if ('XL' === size) {\n\t\t\t\tdimensions = '1440x810';\n\t\t\t} else {\n\t\t\t\t// Default to A1\n\t\t\t\tdimensions = '1128x634';\n\t\t\t}\n\t\t\treturn `https://via.placeholder.com/${dimensions}.png?text=${size}`;\n\t\t}\n\n\t\tif ('' === img || false === img) {\n\t\t\treturn img;\n\t\t}\n\n\t\t// Default to A1\n\t\tlet args = { resize: A1[variant] };\n\t\tif ('A2' === size) {\n\t\t\targs = { resize: A2[variant] };\n\t\t} else if ('A3' === size) {\n\t\t\targs = { resize: A3[variant] };\n\t\t} else if ('A4' === size) {\n\t\t\targs = { resize: A4[variant] };\n\t\t} else if ('XL' === size) {\n\t\t\targs = { resize: XL[variant] };\n\t\t}\n\n\t\treturn addQueryArgs(img, args);\n\t};\n\n\t// eslint-disable-next-line no-shadow\n\tconst getImgSrcSet = (threshold = 767) => [\n\t\t{\n\t\t\tsrcSet: `${getImgURL('default')} 1x, ${getImgURL('hidpi')} 2x`,\n\t\t\tmedia: `(min-width: ${threshold}px)`,\n\t\t},\n\t\t{\n\t\t\tsrcSet: `${getImgURL('small')} 1x, ${getImgURL('smallHidpi')} 2x`,\n\t\t\tmedia: `(max-width: ${threshold}px)`,\n\t\t},\n\t];\n\n\tif (false !== onClick) {\n\t\treturn (\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tonClick={onClick}\n\t\t\t\tstyle={{ padding: 0, border: 'none', cursor: 'pointer' }}\n\t\t\t>\n\t\t\t\t{true === placeholder && (\n\t\t\t\t\t<img src={getImgURL()} alt=\"Click to insert\" />\n\t\t\t\t)}\n\t\t\t\t{true !== placeholder && (\n\t\t\t\t\t<Picture sources={getImgSrcSet()} alt=\"Click to edit\" />\n\t\t\t\t)}\n\t\t\t</button>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t{'' === link && <Picture sources={getImgSrcSet()} />}\n\t\t\t{'' !== link && (\n\t\t\t\t<a href={link}>\n\t\t\t\t\t<Picture sources={getImgSrcSet()} />\n\t\t\t\t</a>\n\t\t\t)}\n\t\t</Fragment>\n\t);\n}\n\nfunction Edit({ img, size, setAttributes }) {\n\treturn (\n\t\t<MediaUploadCheck>\n\t\t\t<MediaUpload\n\t\t\t\tonSelect={(media) => setAttributes({ image: media.url })}\n\t\t\t\tallowedTypes={ALLOWED_MEDIA_TYPES}\n\t\t\t\trender={({ open }) => (\n\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// If we have an actual image here then display it otherwise give us the placeholder\n\t\t\t\t\t\t}\n\t\t\t\t\t\t{undefined !== img && 0 !== img.length && (\n\t\t\t\t\t\t\t<ImageDisplay img={img} size={size} link=\"\" onClick={open} />\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{(undefined === img || 0 === img.length) && (\n\t\t\t\t\t\t\t<ImageDisplay\n\t\t\t\t\t\t\t\timg={img}\n\t\t\t\t\t\t\t\tsize={size}\n\t\t\t\t\t\t\t\tlink=\"\"\n\t\t\t\t\t\t\t\tonClick={open}\n\t\t\t\t\t\t\t\tplaceholder\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Fragment>\n\t\t\t\t)}\n\t\t\t/>\n\t\t</MediaUploadCheck>\n\t);\n}\n\n/**\n * Props:\n * img: string url of image to display\n * size: string of image/slot size (A1,A2,A3,A4)\n * link: string of url to go to when image is clicked on front end\n * slot: if set to null then no image size chooser will be display\n * chartArt: if set to null then no chart art button will appear\n * setAttributes: defaults to false unless otherwise provided a function to pass data back up to a HOC state.\n *\n * <Img id={} img={} size={} slot={} chartArt={} setAttributes={}/>\n */\n\nfunction Img({ img, size, slot, chartArt, setAttributes }) {\n\tif ('disabled' === slot) {\n\t\t// eslint-disable-next-line react/jsx-no-useless-fragment\n\t\treturn <Fragment />;\n\t}\n\n\tconst classes = () => {\n\t\tlet isXL = false;\n\t\tlet isA1 = false;\n\t\tlet isA2 = false;\n\t\tlet isA3 = false;\n\t\tlet isA4 = false;\n\t\tif (false !== slot) {\n\t\t\tif ('XL' === size) {\n\t\t\t\tisXL = true;\n\t\t\t} else if ('A1' === size) {\n\t\t\t\tisA1 = true;\n\t\t\t} else if ('A2' === size) {\n\t\t\t\tisA2 = true;\n\t\t\t} else if ('A3' === size) {\n\t\t\t\tisA3 = true;\n\t\t\t} else if ('A4' === size) {\n\t\t\t\tisA4 = true;\n\t\t\t}\n\t\t}\n\n\t\treturn classNames({\n\t\t\tui: true, // @TODO is this necessary?\n\t\t\tXL: isXL,\n\t\t\tA1: isA1,\n\t\t\tA2: isA2,\n\t\t\tA3: isA3,\n\t\t\tA4: isA4,\n\t\t\timage: true,\n\t\t\tbordered: chartArt,\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className={classes()}>\n\t\t\t<Edit img={img} size={size} setAttributes={setAttributes} />\n\t\t</div>\n\t);\n}\n\nexport default Img;\n","/**\n * External Dependencies\n */\nimport classNames from 'classnames/bind';\n\n/**\n * WordPress Dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { RichText } from '@wordpress/block-editor';\n\nfunction Excerpt({ content, sansSerif, enabled, setAttributes }) {\n\tif (true !== enabled) {\n\t\treturn <Fragment />;\n\t}\n\n\tconst classes = classNames('excerpt', { 'sans-serif': sansSerif });\n\n\treturn (\n\t\t<RichText\n\t\t\ttagName=\"div\"\n\t\t\tvalue={content}\n\t\t\tonChange={(excerpt) => setAttributes({ excerpt })}\n\t\t\tplaceholder=\"Story item excerpt...\"\n\t\t\tmultiline=\"p\"\n\t\t\tclassName={classes}\n\t\t/>\n\t);\n}\n\nexport default Excerpt;\n","/**\n * WordPress Dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { RichText } from '@wordpress/block-editor';\n\nfunction Extra({ content, breakingNews, enabled, setAttributes }) {\n\treturn (\n\t\t<Fragment>\n\t\t\t{true === enabled && (\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"ul\"\n\t\t\t\t\tvalue={content}\n\t\t\t\t\tonChange={(extra) => setAttributes({ extra })}\n\t\t\t\t\tplaceholder={content}\n\t\t\t\t\tmultiline=\"li\"\n\t\t\t\t\tclassName=\"extra\"\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{true === breakingNews && false !== window.prcBreakingNews && (\n\t\t\t\t<ul className=\"extra-breaking-news\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={window.prcBreakingNews.url}\n\t\t\t\t\t\t\tclassName=\"kicker-breaking-news\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{window.prcBreakingNews.label}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t</Fragment>\n\t);\n}\n\nexport default Extra;\n","/**\n * External Dependencies\n */\nimport classNames from 'classnames/bind';\n\n/**\n * WordPress Dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { RichText } from '@wordpress/block-editor';\n\nfunction Header({ title, size, enabled, setAttributes, altHeaderWeight }) {\n\tif (true !== enabled) {\n\t\t// eslint-disable-next-line react/jsx-no-useless-fragment\n\t\treturn <Fragment />;\n\t}\n\n\tconst classes = classNames('header', {\n\t\tlarge: 1 === size,\n\t\tmedium: 2 === size,\n\t\tsmall: 3 === size,\n\t\tlight: altHeaderWeight,\n\t});\n\n\treturn (\n\t\t<RichText\n\t\t\ttagName=\"header\"\n\t\t\tvalue={title}\n\t\t\tonChange={(t) => setAttributes({ title: t })}\n\t\t\tallowedFormats={['italic']}\n\t\t\tplaceholder=\"Title\"\n\t\t\tmultiline=\"br\"\n\t\t\tclassName={classes}\n\t\t/>\n\t);\n}\n\nexport default Header;\n","/**\n * WordPress Dependencies\n */\nimport { Fragment } from '@wordpress/element';\nimport { SelectControl, TextControl } from '@wordpress/components';\n\nfunction Meta({ enabled, date, label, setAttributes, termOptions }) {\n\tif (!enabled) {\n\t\t// eslint-disable-next-line react/jsx-no-useless-fragment\n\t\treturn <Fragment />;\n\t}\n\n\tconsole.log('<Meta>', label);\n\n\treturn (\n\t\t<div className=\"meta\" style={{ display: 'flex', alignItems: 'center' }}>\n\t\t\t<div>\n\t\t\t\t<SelectControl\n\t\t\t\t\tvalue={label}\n\t\t\t\t\toptions={termOptions}\n\t\t\t\t\tonChange={(l) => {\n\t\t\t\t\t\tsetAttributes({ label: l });\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{ marginBottom: '0px' }}\n\t\t\t\t\tclassName=\"story-label-select\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div>&nbsp;|&nbsp;</div>\n\t\t\t<div>\n\t\t\t\t<TextControl\n\t\t\t\t\tvalue={date}\n\t\t\t\t\tonChange={(d) => {\n\t\t\t\t\t\tsetAttributes({ date: d });\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{ marginBottom: '0px' }}\n\t\t\t\t\tclassName=\"story-label-select\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Meta;\n","/**\n * External Dependencies\n */\nimport classNames from 'classnames/bind';\n\n/**\n * WordPress Dependencies\n */\nimport { RichText, useBlockProps } from '@wordpress/block-editor';\n\nconst IMAGE_SIZES = {\n\tA1: [1128, 634],\n\tA2: [526, 301],\n\tA3: [388, 220],\n\tA4: [536, 302],\n\tXL: [1440, 810],\n};\n\nfunction Preview({ attributes }) {\n\tconst {\n\t\ttitle,\n\t\texcerpt,\n\t\textra,\n\t\tlabel,\n\t\tdate,\n\t\timage,\n\t\timageSlot,\n\t\timageSize,\n\t\tisChartArt,\n\t\theaderSize,\n\t\tenableEmphasis,\n\t\tenableHeader,\n\t\tenableExcerpt,\n\t\tenableExcerptBelow,\n\t\tenableExtra,\n\t\tenableBreakingNews,\n\t\tenableMeta,\n\t\tclassName,\n\t} = attributes;\n\n\tconst logicalClasses = {\n\t\tbordered: enableEmphasis,\n\t\t'alt-excerpt': enableExcerptBelow,\n\t};\n\tif ('disbaled' !== imageSlot) {\n\t\tlogicalClasses[imageSlot] = true;\n\t\tlogicalClasses.aligned = true;\n\t}\n\tconst blockPropsArgs = {\n\t\tclassName: classNames('story item', className, logicalClasses),\n\t};\n\tif ('disabled' !== imageSlot && 0 < imageSize.length) {\n\t\tblockPropsArgs['data-image-size'] = imageSize;\n\t}\n\n\tconst blockProps = useBlockProps(blockPropsArgs);\n\n\tconst headerClasses = classNames('header', {\n\t\tlarge: 1 === headerSize,\n\t\tmedium: 2 === headerSize,\n\t\tsmall: 3 === headerSize,\n\t\tlight: false,\n\t});\n\n\tconst imageClasses = classNames('image', {\n\t\tbordered: isChartArt,\n\t\tXL: 'XL' === imageSize,\n\t\tA4: 'A4' === imageSize,\n\t\tA3: 'A3' === imageSize,\n\t\tA2: 'A2' === imageSize,\n\t\tA1: 'A1' === imageSize,\n\t});\n\n\tconst excerptClasses = classNames('excerpt');\n\n\treturn (\n\t\t<article {...blockProps}>\n\t\t\t{enableMeta && (\n\t\t\t\t<div className=\"meta\">\n\t\t\t\t\t<span className=\"label\">{label}</span> |{' '}\n\t\t\t\t\t<span className=\"date\">{date}</span>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{'disabled' !== imageSlot && (\n\t\t\t\t<div className={`${imageClasses}`}>\n\t\t\t\t\t<picture>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrcSet={image}\n\t\t\t\t\t\t\twidth={IMAGE_SIZES[imageSize][0]}\n\t\t\t\t\t\t\theight={IMAGE_SIZES[imageSize][1]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</picture>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{enableHeader && <header className={headerClasses}>{title}</header>}\n\n\t\t\t{enableExcerpt && (\n\t\t\t\t<RichText.Content\n\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\tvalue={excerpt}\n\t\t\t\t\tmultiline=\"p\"\n\t\t\t\t\tclassName={excerptClasses}\n\t\t\t\t/>\n\t\t\t)}\n\n\t\t\t{enableExtra && (\n\t\t\t\t<RichText.Content tagName=\"ul\" value={extra} className=\"extra\" />\n\t\t\t)}\n\n\t\t\t{true === enableBreakingNews && false !== window.prcBreakingNews && (\n\t\t\t\t<ul className=\"extra-breaking-news\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={window.prcBreakingNews.url}\n\t\t\t\t\t\t\tclassName=\"kicker-breaking-news\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{window.prcBreakingNews.label}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t)}\n\t\t</article>\n\t);\n}\n\nexport default Preview;\n","/**\n * External Dependencies\n */\nimport classNames from 'classnames/bind';\nimport { getTermsAsOptions } from '@prc-app/shared';\n\n/**\n * WordPress Dependencies\n */\nimport { Fragment, useEffect, useState } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport { useBlockProps } from '@wordpress/block-editor';\n\n/**\n * Internal Dependencies\n */\nimport { Controls, Placeholder } from './controls';\nimport Image from './image';\nimport Excerpt from './excerpt';\nimport Extra from './extra';\nimport Header from './header';\nimport Meta from './meta';\nimport Preview from './preview';\n\n/**\n * To be removed at later date:\n */\nconst handlePostIdCaseChange = (attributes, setAttributes = false) => {\n\tconst payload = {};\n\tif (!attributes.postId && attributes.postID) {\n\t\tpayload.postId = attributes.postID;\n\t}\n\n\tif (0 !== Object.keys(payload).length && false !== setAttributes) {\n\t\tconsole.log('handlePostIdCaseChange', attributes, payload);\n\t\tsetAttributes({ ...payload });\n\t}\n};\n\nwindow.termOptions = { formats: [], 'research-teams': [] };\n\nconst edit = ({ attributes, setAttributes, isSelected, clientId, context }) => {\n\tconst {\n\t\ttitle,\n\t\texcerpt,\n\t\textra,\n\t\tlabel,\n\t\tdate,\n\t\timage,\n\t\timageSlot,\n\t\timageSize,\n\t\tisChartArt,\n\t\tpostId,\n\t\theaderSize,\n\t\tenableEmphasis,\n\t\tenableHeader,\n\t\tenableExcerpt,\n\t\tenableExcerptBelow,\n\t\tenableExtra,\n\t\tenableBreakingNews,\n\t\tenableMeta,\n\t\tmetaTaxonomy,\n\t\tinLoop,\n\t\tisPreview,\n\t\tclassName,\n\t} = attributes;\n\n\tconst [termOptions, setTermOptions] = useState(\n\t\twindow.termOptions[metaTaxonomy],\n\t);\n\n\t/**\n\t * When the taxonomy selection changes go update the term options. Setting this here prevents the constant pop in and re-polling for terms.\n\t */\n\tuseEffect(() => {\n\t\tif ('disabled' !== metaTaxonomy) {\n\t\t\t// @TODO change this to use local session, we can set it to expire for like 30 days because this almost never changes.\n\t\t\tif (0 !== window.termOptions[metaTaxonomy].length) {\n\t\t\t\tsetTermOptions(window.termOptions[metaTaxonomy]);\n\t\t\t} else {\n\t\t\t\tgetTermsAsOptions(metaTaxonomy).then((options) => {\n\t\t\t\t\tif (!window.termOptions[metaTaxonomy].length) {\n\t\t\t\t\t\twindow.termOptions[metaTaxonomy] = options;\n\t\t\t\t\t}\n\t\t\t\t\tsetTermOptions(options);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, [metaTaxonomy]);\n\n\t// @TODO  If in loop we should get title, image, label, date, and excerpt from the postId on load.\n\t// Also if in loop we should disable setting any of the attributes and force the A3 left variant.\n\t// If we are in loop but have a grid display type then you can set the imageSlot, imageize, enableHeader, enableExcerpt,  enableMeta, metaTaxonomy attributes.\n\tuseEffect(() => {\n\t\thandlePostIdCaseChange(attributes, setAttributes);\n\t}, []);\n\n\t// For posts inside a query block if we have a post id then go fetch the post and set attributes.\n\tuseEffect(() => {\n\t\tif (\n\t\t\tcontext.hasOwnProperty('query') &&\n\t\t\tcontext.hasOwnProperty('postId') &&\n\t\t\t!Number.isInteger(postId)\n\t\t) {\n\t\t\tconsole.log('This post is from a query block...');\n\t\t\t// We need a way to store the info in state, not just attributes...\n\t\t}\n\t}, [context]);\n\n\tconst { rootClientId } = useSelect(\n\t\t(select) => ({\n\t\t\trootClientId: select('core/block-editor').getBlockRootClientId(clientId),\n\t\t}),\n\t\t[clientId],\n\t);\n\n\tconst enableAltHeaderWeight = !enableExcerpt;\n\n\tconst logicalClasses = {\n\t\tbordered: enableEmphasis,\n\t\t'alt-excerpt': enableExcerptBelow,\n\t};\n\tif ('disbaled' !== imageSlot) {\n\t\tlogicalClasses[imageSlot] = true;\n\t\tlogicalClasses.aligned = true;\n\t}\n\tconst blockPropsArgs = {\n\t\tclassName: classNames('story item', className, logicalClasses),\n\t};\n\tif ('disabled' !== imageSlot && 0 < imageSize.length) {\n\t\tblockPropsArgs['data-image-size'] = imageSize;\n\t}\n\tconst blockProps = useBlockProps(blockPropsArgs);\n\n\tif (!isSelected || isPreview) {\n\t\treturn <Preview attributes={attributes} />;\n\t}\n\n\tif (undefined === postId && !context.hasOwnProperty('query')) {\n\t\treturn (\n\t\t\t<Placeholder\n\t\t\t\tattributes={attributes}\n\t\t\t\tsetAttributes={setAttributes}\n\t\t\t\tblockProps={blockProps}\n\t\t\t/>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Controls\n\t\t\t\t{...{\n\t\t\t\t\tattributes,\n\t\t\t\t\tsetAttributes,\n\t\t\t\t\tcontext,\n\t\t\t\t\trootClientId,\n\t\t\t\t}}\n\t\t\t/>\n\t\t\t<article {...blockProps}>\n\t\t\t\t<Image\n\t\t\t\t\timg={image}\n\t\t\t\t\tsize={imageSize}\n\t\t\t\t\tslot={imageSlot}\n\t\t\t\t\tchartArt={isChartArt}\n\t\t\t\t\tpostId={postId}\n\t\t\t\t\tsetAttributes={setAttributes}\n\t\t\t\t/>\n\n\t\t\t\t<Meta\n\t\t\t\t\tenabled={enableMeta && 'disabled' !== metaTaxonomy}\n\t\t\t\t\tdate={date}\n\t\t\t\t\tlabel={label}\n\t\t\t\t\tsetAttributes={setAttributes}\n\t\t\t\t\ttermOptions={termOptions}\n\t\t\t\t/>\n\n\t\t\t\t<Header\n\t\t\t\t\tenabled={enableHeader}\n\t\t\t\t\ttitle={title}\n\t\t\t\t\tsize={headerSize}\n\t\t\t\t\taltHeaderWeight={enableAltHeaderWeight}\n\t\t\t\t\tsetAttributes={setAttributes}\n\t\t\t\t/>\n\n\t\t\t\t<Excerpt\n\t\t\t\t\tenabled={enableExcerpt}\n\t\t\t\t\tcontent={excerpt}\n\t\t\t\t\tsansSerif={!enableHeader}\n\t\t\t\t\tsetAttributes={setAttributes}\n\t\t\t\t/>\n\n\t\t\t\t<Extra\n\t\t\t\t\tenabled={enableExtra}\n\t\t\t\t\tcontent={extra}\n\t\t\t\t\tbreakingNews={enableBreakingNews}\n\t\t\t\t\tsetAttributes={setAttributes}\n\t\t\t\t\tisSelected={isSelected}\n\t\t\t\t/>\n\t\t\t</article>\n\t\t</Fragment>\n\t);\n};\n\nexport default edit;\n","/**\n * WordPress Dependencies\n */\nimport { RichText } from '@wordpress/block-editor';\nimport { Fragment } from '@wordpress/element';\n\n/** Returns a server side block callback */\nconst save = ({ attributes }) => {\n\tconst { excerpt, extra } = attributes;\n\treturn (\n\t\t<Fragment>\n\t\t\t{excerpt && (\n\t\t\t\t<RichText.Content\n\t\t\t\t\tclassName=\"description\"\n\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\tvalue={excerpt}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{extra && (\n\t\t\t\t<RichText.Content className=\"extra\" tagName=\"ul\" value={extra} />\n\t\t\t)}\n\t\t</Fragment>\n\t);\n};\n\nexport default save;\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nconst variations = [\n\t{\n\t\tname: 'story-item-default',\n\t\tisDefault: true,\n\t\ttitle: __('Story Item'),\n\t\texcerpt: __('Default story item layout: top aligned A1 image.'),\n\t\tattributes: {\n\t\t\timageSlot: 'top',\n\t\t\timageSize: 'A1',\n\t\t},\n\t},\n\t{\n\t\tname: 'story-item-pub-listing',\n\t\ttitle: __('Pub Listing Story Item'),\n\t\texcerpt: __('Left algined A3 image (right aligned A3 on mobile).'),\n\t\tattributes: {\n\t\t\timageSlot: 'left',\n\t\t\timageSize: 'A3',\n\t\t},\n\t},\n\t{\n\t\tname: 'story-item-slim',\n\t\ttitle: __('Story Item Slim'),\n\t\texcerpt: __('No excerpt, no image.'),\n\t\tattributes: {\n\t\t\timageSlot: 'disabled',\n\t\t\tenableExcerpt: false,\n\t\t},\n\t},\n];\n\nexport default variations;\n","/**\n * WordPress Dependencies\n */\nimport * as moment from 'moment';\nimport { registerBlockType } from '@wordpress/blocks';\n\n/**\n * Internal Dependencies\n */\nimport deprecated from './deprecated';\nimport metadata from './block.json';\nimport edit from './edit';\nimport save from './save';\nimport variations from './variations';\nimport './style.scss';\n\nconst { name } = metadata;\n\nconst settings = {\n\texample: {\n\t\tattributes: {\n\t\t\ttitle: 'Ultricies Ipsum Nibh Egestas Purus',\n\t\t\texcerpt:\n\t\t\t\t'<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec id elit non mi porta gravida at eget metus. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>',\n\t\t\tlabel: 'Report',\n\t\t\tdate: moment().format('MM-DD-YYYY'), // Set the current date.\n\t\t\timage:\n\t\t\t\t'https://www.pewresearch.org/global/wp-content/uploads/sites/2/2020/04/PG_2020.04.21_U.S.-Views-China_featured.jpg',\n\t\t\timageSlot: 'top',\n\t\t\timageSize: 'A2',\n\t\t\tisPreview: true,\n\t\t},\n\t},\n\tdeprecated,\n\tvariations,\n\tedit,\n\tsave,\n};\n\nregisterBlockType(name, { ...metadata, ...settings });\n"],"sourceRoot":""}