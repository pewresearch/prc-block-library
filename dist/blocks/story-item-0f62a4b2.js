/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 2.1.9
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2022 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprcBlocksLibraryblocksJsonp=window.wpackioprcBlocksLibraryblocksJsonp||[]).push([[45,2],{1:function(e,t){e.exports=window.React},11:function(e,t){e.exports=window.wp.blocks},12:function(e,t){e.exports=window.wp.data},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var a=n(146),l=n(29),r=n.n(l),c=function(e,t,n){0!==t&&!1!==n&&r()({path:"/prc-api/v2/get-art/?postId=".concat(t)}).then((function(t){!1!==t&&void 0!==t[e]&&!1!==n&&n({image:t[e].rawUrl,isChartArt:t[e].chartArt})}))},o=function e(t){var n=t.post,l=t.imageSize,r=t.isRefresh,c=void 0!==r&&r;console.log(e,n);var o=new Date(n.date),i=a(o).format("MMM D, YYYY"),s={title:n.title.hasOwnProperty("rendered")?n.title.rendered:n.title,excerpt:n.excerpt.hasOwnProperty("rendered")?n.excerpt.rendered:n.excerpt,url:n.link,label:n.hasOwnProperty("label")?n.label:"Report",date:i,postId:n.id};if(!0!==c&&(s.extra=""),n.art){var u=n.art;s.image=u[l].rawUrl,s.isChartArt=u[l].chartArt}return console.log("getAttributesFromPost",n,s),s},i=function(e){var t=e.setAttributes,n=e.postId,a=void 0!==n&&n,l=e.url,c=void 0!==l&&l,i=e.imageSize,s=void 0===i?"A1":i,u=e.isRefresh,d=void 0!==u&&u;!1===a&&!1===c||void 0===t||(!1!==c&&function(e){var t=e.url,n=e.imageSize;return new Promise((function(e,a){r()({path:"/prc-api/v2/blocks/story-item/get-post-by-url",method:"POST",data:{url:t}}).then((function(t){if(console.log("getAttributesFromURL",t),!1!==t){var l=o({post:t,imageSize:n,isRefresh:!1});e(l)}else a(t)})).catch((function(e){console.error(e),a(e)}))}))}({url:c,imageSize:s}).then((function(e){console.log("setPostAttributes -> by url:",e),t(e)})).catch((function(e){console.error(e)})),r()({path:"/wp/v2/stub/".concat(a),method:"GET"}).then((function(e){if(console.log("setPostAttributes -> by id:",a,e),!1!==e){var n=o({post:e,imageSize:s,isRefresh:d});t(n)}})).catch((function(e){return console.error(e)})))}},146:function(e,t){e.exports=moment},2:function(e,t){e.exports=window.wp.i18n},25:function(e,t){e.exports=window.wp.primitives},29:function(e,t){e.exports=window.wp.apiFetch},3:function(e,t){e.exports=window.wp.components},346:function(e){e.exports=JSON.parse('{"apiVersion":2,"name":"prc-block/story-item","title":"Story Item","category":"content-curation","icon":"format-aside","description":"A story item is a visual display of a post, usually referencing a stub post.","keywords":["prc","story","item","story item","stub"],"usesContext":["queryId","query","postId","postType","prc-block/column/width","prc-block/row/isEqual"],"attributes":{"title":{"type":"string"},"excerpt":{"type":"string","source":"html","multiline":"p","selector":".description"},"extra":{"type":"string","source":"html","multiline":"li","selector":".extra"},"url":{"type":"string","default":""},"label":{"type":"string"},"date":{"type":"string"},"image":{"type":"string"},"imageSlot":{"type":"string","default":"top"},"imageSize":{"type":"string","default":"A1"},"isChartArt":{"type":"boolean"},"postId":{"type":"integer"},"headerSize":{"type":"integer","default":2},"enableAltHeaderWeight":{"type":"boolean","default":false},"enableEmphasis":{"type":"boolean","default":false},"enableHeader":{"type":"boolean","default":true},"enableExcerpt":{"type":"boolean","default":true},"enableExcerptBelow":{"type":"boolean","default":false},"enableExtra":{"type":"boolean","default":false},"enableBreakingNews":{"type":"boolean","default":false},"disableMobileStyles":{"type":"boolean","default":false},"enableMeta":{"type":"boolean","default":true},"metaTaxonomy":{"type":"string","default":"formats"},"inLoop":{"type":"boolean","default":false},"isPreview":{"type":"boolean","default":false}},"supports":{"html":false}}')},36:function(e,t){e.exports=window.wp.url},38:function(e,t){e.exports=window.wp.htmlEntities},4:function(e,t){e.exports=window.wp.element},434:function(e,t){e.exports=window.wp.coreData},45:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return H})),n.d(t,"f",(function(){return K})),n.d(t,"d",(function(){return X})),n.d(t,"g",(function(){return J})),n.d(t,"h",(function(){return $})),n.d(t,"e",(function(){return Y})),n.d(t,"i",(function(){return b}));var a=n(28),l=n(18),r=n(44),c=n(1058),o=n(139),i=n(54),s=n(12),u=n(4),d=n(2),m=n(3),p=n(30);var b=function(e,t){var n=Object(u.useState)(e),a=Object(l.a)(n,2),r=a[0],c=a[1];return Object(u.useEffect)((function(){var n=setTimeout((function(){c(e)}),t);return function(){clearTimeout(n)}}),[e,t]),r},g=(n(140),n(33));n(50);var h,f,v,y,E=n(29),R=n.n(E),w=n(36),O=n(38),x=Object(i.a)(m.Button)(h||(h=Object(r.a)(["\n\t&:hover {\n\t\t/* Add opacity background to support future color changes */\n\t\t/* Reduce background from #ddd to 0.05 for text contrast  */\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\n\t\t.block-editor-link-control__search-item-type {\n\t\t\tcolor: black;\n\t\t}\n\t}\n\n\t.block-editor-link-control__search-item-type {\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\n\t}\n"]))),k=function(e){var t=e.suggestion,n=e.onClick,a=e.searchTerm,l=e.isSelected,r=e.id,c=e.contentTypes,o=t.type&&c.length>1;return React.createElement(m.Tooltip,{text:Object(O.decodeEntities)(t.title)},React.createElement(x,{id:r,onClick:n,className:"block-editor-link-control__search-item is-entity ".concat(l&&"is-selected"),style:{borderRadius:"0",boxSizing:"border-box"}},React.createElement("span",{className:"block-editor-link-control__search-item-header"},React.createElement("span",{className:"block-editor-link-control__search-item-title",style:{paddingRight:o?null:0}},React.createElement(m.TextHighlight,{text:Object(O.decodeEntities)(t.title),highlight:a})),React.createElement("span",{"aria-hidden":!0,className:"block-editor-link-control__search-item-info",style:{paddingRight:o?null:0}},Object(w.filterURLForDisplay)(Object(w.safeDecodeURI)(t.url))||"")),o&&React.createElement("span",{className:"block-editor-link-control__search-item-type"},"post_tag"===t.type?"tag":t.type)))},j="prc-content-search",C={},A=function(e){var t=e.onSelectItem,n=e.placeholder,a=e.label,c=e.style,o=void 0===c?"search":c,i=e.contentTypes,s=e.mode,g=e.excludeItems,h=e.perPage,v=Object(u.useState)(""),y=Object(l.a)(v,2),E=y[0],w=y[1],O=b(E,500),x=Object(u.useState)(!1),A=Object(l.a)(x,2),S=A[0],_=A[1],I=Object(u.useState)([]),P=Object(l.a)(I,2),T=P[0],B=P[1],z=Object(u.useState)(!1),H=Object(l.a)(z,2),N=H[0],M=H[1],D=Object(u.useState)(null),L=Object(l.a)(D,2),V=L[0],F=L[1],U=Object(u.useRef)(),Z=Object(u.useRef)(!0),G=function(e){return void 0!==e&&new Promise((function(t,n){R()({path:"/prc-api/v2/utils/get-post-by-url",method:"POST",data:{url:e}}).then((function(e){console.log("getPostByUrl",e),t(e)})).catch((function(e){return n(e)}))}))},X=function(e){return e.filter((function(e){var t=!0;return g.length&&(t=g.every((function(t){return t.id!==e.id}))),t}))},q=!!O.length,W=!!T.length;Object(u.useEffect)((function(){return function(){Z.current=!1}}),[]),Object(u.useEffect)((function(){if(""!==O){var e=O.match(/^(http|https):\/\//);_(e),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(U.current&&U.current.abort(),""===e.trim())return M(!1),B([]),void(U.current=null);U.current=new AbortController,M(!0);var n="wp/v2/search/?search=".concat(e,"&subtype=").concat(i.join(","),"&type=").concat(s,"&_embed&per_page=").concat(h);C[n]?(U.current=null,B(X(C[n])),M(!1)):t?(console.log("isUrl",e),G(e).then((function(e){if(Z.current){var t=e.ID,a=e.post_title,l=e.post_type,r=e.permalink;U.current=null;var c=[{id:t,subtype:l,title:a,type:"post",url:r}];console.log("this is where we should do our stuff...",c,e),C[n]=c,B(X(c)),M(!1)}})).catch((function(t,n){console.log("Hey this is a url error, we didnt find a matching post... now what?",e),M(!1)}))):R()({path:n,signal:U.current.signal}).then((function(e){!1!==Z.current&&(console.log("search Results",e),U.current=null,C[n]=e,B(X(e)),M(!1))})).catch((function(e,t){"fetch_error"!==e.code&&(B([]),U.current=null,M(!1))}))}(O,e)}}),[O]);var Y=Object(p.a)(f||(f=Object(r.a)(["\n\t\t/* stylelint-disable */\n\t\tmax-height: 350px;\n\t\toverflow-y: auto;\n\t"])));return Object(p.b)(m.NavigableMenu,{onNavigate:function(e){0===e&&F(null),F(e)},orientation:"vertical"},Object(p.b)("div",{style:{display:"flex"}},Object(p.b)("div",{style:{flexGrow:"1"}},"minimal"===o&&Object(p.b)(m.TextControl,{label:a,value:E,onChange:function(e){return w(e)},placeholder:n,autoComplete:"off"}),"search"===o&&Object(p.b)(m.SearchControl,{value:E,onChange:function(e){return w(e)},placeholder:n})),N&&Object(p.b)("div",{style:{position:"absolute",right:"minimal"===o?"8px":"50px",marginTop:"minimal"===o?"27px":"10px"}},Object(p.b)(m.Spinner,null))),q?Object(p.b)("ul",{className:"".concat(j,"-list"),style:{marginTop:"0",marginBottom:"0",marginLeft:"0",paddingLeft:"0",listStyle:"none"},css:Y},!N&&!W&&!1===S&&Object(p.b)("li",{className:"".concat(j,"-list-item components-button"),style:{color:"inherit",cursor:"default",paddingLeft:"3px"}},Object(d.__)("Nothing found.","prc-block-components")),!N&&!W&&S&&Object(p.b)("li",{className:"".concat(j,"-list-item components-button"),style:{color:"inherit",cursor:"default",paddingLeft:"3px"}},Object(d.__)("Press enter to change url.","prc-block-components")),!N&&T.map((function(e,n){return e.title.length?Object(p.b)("li",{key:e.id,className:"".concat(j,"-list-item"),style:{marginBottom:"0"}},Object(p.b)(k,{onClick:function(){return function(e){B([]),w(""),t(e)}(e)},searchTerm:O,suggestion:e,contentTypes:i,isSelected:V===n+1})):null}))):null)},S=n(56),_=Object(S.c)((function(){return React.createElement("svg",{style:{marginRight:"5px",cursor:"grab",flexShrink:0},width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",role:"img","aria-hidden":"true",focusable:"false"},React.createElement("path",{d:"M5 4h2V2H5v2zm6-2v2h2V2h-2zm-6 8h2V8H5v2zm6 0h2V8h-2v2zm-6 6h2v-2H5v2zm6 0h2v-2h-2v2z"}))})),I=Object(i.a)("div")(v||(v=Object(r.a)(["\n\tbutton {\n\t\tdisplay: block;\n\t\tpadding: 2px 8px 6px 8px;\n\t\tmargin-left: auto;\n\t\tfont-size: 2em;\n\t\tcursor: pointer;\n\t\tborder: none;\n\t\tbackground-color: transparent;\n\n\t\t&:hover {\n\t\t\tbackground-color: #ccc;\n\t\t}\n\t}\n"]))),P=function(e){var t=e.item,n=e.isOrderable,a=void 0!==n&&n,l=e.handleItemDelete,r=e.mode,c="post"===r?"postType":"taxonomy",o=Object(s.useSelect)((function(e){var n=e("core"),a=n.getEntityRecord,l=n.hasFinishedResolution,o=[c,t.type,t.id],i=a.apply(void 0,o);if(i){console.log("Has Item",i);var s={title:"post"===r?i.title.rendered:i.name,url:i.link,id:i.id};return t.uuid&&(s.uuid=t.uuid),s}if(l("getEntityRecord",o))return null}),[t.id,c]);return Object(u.useEffect)((function(){null===o&&l(t)}),[t,l,o]),o?React.createElement(I,{style:{border:"2px dashed #ddd",paddingTop:"10px",paddingBottom:"10px",paddingLeft:a?"3px":"8px"},className:"block-editor-link-control__search-item is-entity"},a?React.createElement(_,null):"",React.createElement("span",{className:"block-editor-link-control__search-item-header"},React.createElement("span",{className:"block-editor-link-control__search-item-title"},Object(O.decodeEntities)(o.title)),React.createElement("span",{"aria-hidden":!0,className:"block-editor-link-control__search-item-info"},Object(w.filterURLForDisplay)(Object(w.safeDecodeURI)(o.url))||"")),React.createElement("button",{type:"button",onClick:function(){l(o)},"aria-label":Object(d.__)("Delete item","10up-block-components")},"×")):React.createElement("div",null)},T=Object(S.a)((function(e){var t=e.items,n=e.isOrderable,a=e.handleItemDelete,l=e.mode,r=e.ChildComponent,c=void 0!==r&&r,o=!1!==c?n?Object(S.b)(c):c:n?Object(S.b)(P):P;return React.createElement("div",{style:{fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif'}},t.map((function(e,r){var c=e.uuid?e.uuid:e.id;return React.createElement(o,{isOrderable:!!(n&&t.length>1)&&n,key:"item-".concat(c),index:r,handleItemDelete:a,sortIndex:r,item:e,mode:l,totalItems:t.length})})))})),B=Object(i.a)("div")(y||(y=Object(r.a)(["\n\t& .block-editor-link-control__search-item {\n\t\tborder: none !important;\n\t\tcursor: default;\n\n\t\t&:hover {\n\t\t\tbackground: transparent;\n\t\t}\n\t}\n"]))),z=function(e){var t,n=e.label,r=e.placeholder,i=e.mode,m=void 0===i?"post":i,p=e.contentTypes,b=void 0===p?["post","page"]:p,g=e.onPickChange,h=void 0===g?function(e){console.log("Content picker list change",e)}:g,f=e.maxContentItems,v=void 0===f?1:f,y=e.isOrderable,E=void 0!==y&&y,R=e.singlePickedLabel,w=void 0===R?Object(d.__)("You have selected the following item:","prc-block-components"):R,O=e.multiPickedLabel,x=void 0===O?Object(d.__)("You have selected the following items:","prc-block-components"):O,k=e.value,j=void 0===k?[]:k,C=e.uniqueContentItems,S=void 0===C||C,_=e.excludeCurrentPost,I=void 0===_||_,P=e.perPage,z=void 0===P?50:P,H=e.PickedItemChild,N=void 0!==H&&H,M=e.searchStyle,D=void 0===M?"search":M,L=Object(u.useState)(j),V=Object(l.a)(L,2),F=V[0],U=V[1],Z=null===(t=Object(s.select)("core/editor"))||void 0===t?void 0:t.getCurrentPostId();Object(u.useEffect)((function(){console.log("Init content state",j)}),[]),Object(u.useEffect)((function(){F!==j&&0!==F.length&&(console.log("useEffect onPickChange->",F),h(F))}),[F]);var G=Object(u.useMemo)((function(){var e=S?Object(a.a)(F):[];return I&&Z&&e.push({id:Z}),e}),[F,Z,I,S]);return React.createElement("div",{className:"".concat("prc-content-picker")},(!F.length||F.length&&F.length<v)&&React.createElement(A,{placeholder:r,label:n,excludeItems:G,onSelectItem:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log("handleSelect->",e,t),U(!0===t?function(t){return[{uuid:Object(c.a)(),type:"subtype"in e?e.subtype:e.type,url:e.url}].concat(Object(a.a)(t))}:function(t){return[{id:e.id,uuid:Object(c.a)(),type:"subtype"in e?e.subtype:e.type,url:e.url}].concat(Object(a.a)(t))})},contentTypes:b,mode:m,perPage:z,style:D}),Boolean(null==F?void 0:F.length)>0&&React.createElement(B,null,React.createElement("span",{style:{marginTop:"15px",marginBottom:"2px",display:"block"}},F.length>1?x:w),React.createElement(T,{items:F,useDragHandle:!0,handleItemDelete:function(e){U((function(t){return t.filter((function(t){var n=t.id,a=t.uuid;return e.uuid?a!==e.uuid:n!==e.id}))}))},isOrderable:E,mode:m,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex,l=Object(a.a)(Object(o.default)(F,t,n));console.log("newContent?",l),U(l)},ChildComponent:N})))},H=function(e){var t=e.blockProps,n=e.onChange,a=e.onSkip,l=e.mode,r=void 0===l?"post":l,c=e.contentTypes,o=void 0===c?["stub"]:c,i=e.label,s=void 0===i?Object(d.__)("Search for a post","prc-block-components"):i,p=e.placeholder,b=void 0===p?Object(d.__)("Search for a post or pate in a url...","prc-block-components"):p,g=e.value,h=void 0===g?[]:g,f=e.loadingComponent,v=void 0!==f&&f,y=e.children;return React.createElement("div",t,React.createElement(m.Placeholder,{label:"".concat(s,":"),isColumnLayout:!0},!1!==v&&React.createElement("div",{style:{textAlign:"center"}},React.createElement(m.Spinner,null),React.createElement("p",{className:"sans-serif"},"Loading object...")),!1===v&&React.createElement(u.Fragment,null,y,React.createElement(z,{onPickChange:function(e){console.log("Step1:",e),n(e)},mode:r,label:"".concat(s," or enter a url:"),placeholder:b,contentTypes:o,value:h}),React.createElement(m.Button,{isLink:!0,onClick:function(){a()},text:Object(d.__)("Skip"),style:{paddingLeft:"9px"}}))))};n(1056);var N=n(5),M=function(e){var t=e.url,n=e.onChange,a=e.query,r=void 0===a?{type:"term",subtype:"topic"}:a,c=Object(u.useState)(!1),o=Object(l.a)(c,2),i=o[0],s=o[1];return React.createElement(u.Fragment,null,React.createElement(m.ToolbarButton,{"aria-expanded":i,"aria-haspopup":"true",label:Object(d.__)("Set Link"),icon:"admin-links",onClick:function(){return s(!i)},showTooltip:!0}),!0===i&&React.createElement(m.Popover,{position:"bottom center",onClose:function(){return s(!1)}},React.createElement(N.__experimentalLinkControl,{className:"wp-block-navigation-link__inline-link-input",value:{url:t},showInitialSuggestions:!0,suggestionsQuery:r,onChange:function(e){return n(e)},settings:[]})))},D=n(1057),L=function(e){var t=e.url,n=e.heading,a=e.headingSize,l=void 0===a?"h2":a,r=e.disableIcon,c=void 0!==r&&r,o=e.setAttributes;return React.createElement(u.Fragment,null,React.createElement(N.BlockControls,null,React.createElement(m.ToolbarGroup,null,React.createElement(M,{url:t,onChange:function(e){o({url:e.url})}}))),React.createElement(m.Flex,{style:{paddingBottom:"1em"}},React.createElement(m.FlexItem,null,React.createElement(N.RichText,{tagName:l,value:n,onChange:function(e){return o({heading:e})},placeholder:"Heading...",formattingControls:[],keepPlaceholderOnFocus:!0,className:"sans-serif"})),!0!==c&&React.createElement(m.FlexBlock,null,React.createElement(D.a,{name:"chevron right",size:"small",style:{marginLeft:"0.5em"}}))))},V=n(11),F=function(e){var t=e.label,n=void 0===t?"":t,a=e.blockName,l=e.clientId,r=(e.className,e.attributes),c=void 0===r?{}:r;return React.createElement(m.Button,{label:Object(d.__)(n),tooltipPosition:"bottom",onClick:function(){var e=Object(s.select)("core/block-editor").getBlock(l);console.log("debug info...",e.innerBlocks.length);var t=0===e.innerBlocks.length?0:e.innerBlocks.length+1,n=Object(V.createBlock)(a,c);Object(s.dispatch)("core/block-editor").insertBlock(n,t,l)},className:"block-editor-button-block-appender"},Object(d.__)(n))},U=n(64),Z=function(e){var t=e.level,n=e.isPressed,a=void 0!==n&&n,l={1:"M9 5h2v10H9v-4H5v4H3V5h2v4h4V5zm6.6 0c-.6.9-1.5 1.7-2.6 2v1h2v7h2V5h-1.4z",2:"M7 5h2v10H7v-4H3v4H1V5h2v4h4V5zm8 8c.5-.4.6-.6 1.1-1.1.4-.4.8-.8 1.2-1.3.3-.4.6-.8.9-1.3.2-.4.3-.8.3-1.3 0-.4-.1-.9-.3-1.3-.2-.4-.4-.7-.8-1-.3-.3-.7-.5-1.2-.6-.5-.2-1-.2-1.5-.2-.4 0-.7 0-1.1.1-.3.1-.7.2-1 .3-.3.1-.6.3-.9.5-.3.2-.6.4-.8.7l1.2 1.2c.3-.3.6-.5 1-.7.4-.2.7-.3 1.2-.3s.9.1 1.3.4c.3.3.5.7.5 1.1 0 .4-.1.8-.4 1.1-.3.5-.6.9-1 1.2-.4.4-1 .9-1.6 1.4-.6.5-1.4 1.1-2.2 1.6V15h8v-2H15z",3:"M12.1 12.2c.4.3.8.5 1.2.7.4.2.9.3 1.4.3.5 0 1-.1 1.4-.3.3-.1.5-.5.5-.8 0-.2 0-.4-.1-.6-.1-.2-.3-.3-.5-.4-.3-.1-.7-.2-1-.3-.5-.1-1-.1-1.5-.1V9.1c.7.1 1.5-.1 2.2-.4.4-.2.6-.5.6-.9 0-.3-.1-.6-.4-.8-.3-.2-.7-.3-1.1-.3-.4 0-.8.1-1.1.3-.4.2-.7.4-1.1.6l-1.2-1.4c.5-.4 1.1-.7 1.6-.9.5-.2 1.2-.3 1.8-.3.5 0 1 .1 1.6.2.4.1.8.3 1.2.5.3.2.6.5.8.8.2.3.3.7.3 1.1 0 .5-.2.9-.5 1.3-.4.4-.9.7-1.5.9v.1c.6.1 1.2.4 1.6.8.4.4.7.9.7 1.5 0 .4-.1.8-.3 1.2-.2.4-.5.7-.9.9-.4.3-.9.4-1.3.5-.5.1-1 .2-1.6.2-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1l1.1-1.4zM7 9H3V5H1v10h2v-4h4v4h2V5H7v4z",4:"M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm10-2h-1v2h-2v-2h-5v-2l4-6h3v6h1v2zm-3-2V7l-2.8 4H16z",5:"M12.1 12.2c.4.3.7.5 1.1.7.4.2.9.3 1.3.3.5 0 1-.1 1.4-.4.4-.3.6-.7.6-1.1 0-.4-.2-.9-.6-1.1-.4-.3-.9-.4-1.4-.4H14c-.1 0-.3 0-.4.1l-.4.1-.5.2-1-.6.3-5h6.4v1.9h-4.3L14 8.8c.2-.1.5-.1.7-.2.2 0 .5-.1.7-.1.5 0 .9.1 1.4.2.4.1.8.3 1.1.6.3.2.6.6.8.9.2.4.3.9.3 1.4 0 .5-.1 1-.3 1.4-.2.4-.5.8-.9 1.1-.4.3-.8.5-1.3.7-.5.2-1 .3-1.5.3-.8 0-1.6-.1-2.3-.4-.6-.2-1.1-.6-1.6-1-.1-.1 1-1.5 1-1.5zM9 15H7v-4H3v4H1V5h2v4h4V5h2v10z",6:"M9 15H7v-4H3v4H1V5h2v4h4V5h2v10zm8.6-7.5c-.2-.2-.5-.4-.8-.5-.6-.2-1.3-.2-1.9 0-.3.1-.6.3-.8.5l-.6.9c-.2.5-.2.9-.2 1.4.4-.3.8-.6 1.2-.8.4-.2.8-.3 1.3-.3.4 0 .8 0 1.2.2.4.1.7.3 1 .6.3.3.5.6.7.9.2.4.3.8.3 1.3s-.1.9-.3 1.4c-.2.4-.5.7-.8 1-.4.3-.8.5-1.2.6-1 .3-2 .3-3 0-.5-.2-1-.5-1.4-.9-.4-.4-.8-.9-1-1.5-.2-.6-.3-1.3-.3-2.1s.1-1.6.4-2.3c.2-.6.6-1.2 1-1.6.4-.4.9-.7 1.4-.9.6-.3 1.1-.4 1.7-.4.7 0 1.4.1 2 .3.5.2 1 .5 1.4.8 0 .1-1.3 1.4-1.3 1.4zm-2.4 5.8c.2 0 .4 0 .6-.1.2 0 .4-.1.5-.2.1-.1.3-.3.4-.5.1-.2.1-.5.1-.7 0-.4-.1-.8-.4-1.1-.3-.2-.7-.3-1.1-.3-.3 0-.7.1-1 .2-.4.2-.7.4-1 .7 0 .3.1.7.3 1 .1.2.3.4.4.6.2.1.3.3.5.3.2.1.5.2.7.1z"};return l.hasOwnProperty(t)?React.createElement(m.SVG,{width:"24",height:"24",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",isPressed:a},React.createElement(m.Path,{d:l[t]})):null},G={className:"block-library-heading-level-dropdown",isAlternate:!0},X=function(e){var t=e.selectedLevel,n=e.levels,a=void 0===n?[2,3]:n,l=e.onChange;return console.log("HeadingLevelToolbar",t),React.createElement(m.ToolbarGroup,null,React.createElement(m.Dropdown,{popoverProps:G,renderToggle:function(e){var n=e.onToggle,a=e.isOpen;return React.createElement(m.ToolbarButton,{"aria-expanded":a,"aria-haspopup":"true",icon:React.createElement(Z,{level:t}),label:Object(d.__)("Change heading level"),onClick:n,onKeyDown:function(e){a||e.keyCode!==U.DOWN||(e.preventDefault(),e.stopPropagation(),n())},showTooltip:!0})},renderContent:function(){return React.createElement(m.Toolbar,{className:"block-library-heading-level-toolbar",label:Object(d.__)("Change heading level")},React.createElement(m.ToolbarGroup,{isCollapsed:!1,controls:a.map((function(e){var n=e===t;return{icon:React.createElement(Z,{level:e,isPressed:n}),title:Object(d.sprintf)(Object(d.__)("Heading %d"),e),isActive:n,onClick:function(){l(e)}}}))}))}}))},q=n(62),W=window._.has,Y=function(e){var t=e.attachmentId,n=void 0!==t&&t,a=e.onUpdate,r=void 0===a?function(e){console.warn("Media DropZone Attachment, use onUpdate prop when using <MediaDropZone/>: ",e)}:a,c=e.mediaType,o=void 0===c?["image"]:c,i=e.mediaSize,p=void 0===i?"full":i,b=Object(u.useState)(n),g=Object(l.a)(b,2),h=g[0],f=g[1],v=Object(u.useState)(!1),y=Object(l.a)(v,2),E=y[0],R=y[1],w=Object(s.useSelect)((function(e){var t=!!h&&e("core").getMedia(h);if(console.log("m...",h,t),void 0===t||!1===t)return{media:!1,src:!1,width:!1,height:!1,type:!1};var n=!1,a=!1,l=!1;if(W(t,["media_details","sizes",p]))a=t.media_details.sizes[p].width,l=t.media_details.sizes[p].height,n=t.media_details.sizes[p].source_url;else{W(t,["media_details","sizes","full"])?(a=t.media_details.sizes.full.width,l=t.media_details.sizes.full.height,n=t.media_details.sizes.full.source_url):(a=t.media_details.width,l=t.media_details.height,n=t.source_url)}return{media:t,src:n,width:a,height:l,type:!1!==t&&t.type}}),[h]),O=w.media,x=w.src,k=w.width,j=w.height,C=(w.type,function(e){console.log("onMediaUpdate",h,e.id),e.id!==h&&(f(e.id),r(e)),R(!1)}),A=function(e){console.log("onDropImage",e),Object(q.uploadMedia)({allowedTypes:o,filesList:e,onFileChange:function(e){var t=Object(l.a)(e,1)[0];console.log("onFileChange",t),t.id?(console.log("found!",t),t.sizes=t.media_details.sizes,C(t)):(console.log("waiting"),R(!0))},onError:function(e){console.error(e)}})};return React.createElement(N.MediaUploadCheck,{fallback:Object(d.__)("Fallback Instructions Should Go Here")},React.createElement(N.MediaUpload,{title:Object(d.__)("Media Upload"),onSelect:C,allowedTypes:o,value:h,render:function(e){var t=e.open;return React.createElement("div",null,!1!==h&&!1!==O&&!1!==x&&!1===E&&React.createElement("div",{onClick:t,style:{cursor:"pointer"}},React.createElement("img",{src:x,width:"".concat(k,"px"),height:"".concat(j,"px")})),(!1!==h&&!1===O||E)&&React.createElement(m.Button,{isSecondary:!0,isBusy:!0,onClick:t},Object(d.__)(" Loading...")),!1===h&&React.createElement(m.Button,{isSecondary:!0,onClick:t},Object(d.__)("Set Image")),React.createElement(m.DropZone,{onFilesDrop:A}))}}))},J=function(e,t,n,a,l){e===t&&l(Object(g.a)({},n,a))},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25;return new Promise((function(n){var a={};R()({path:"/wp/v2/".concat(e,"?per_page=").concat(t)}).then((function(t){for(var l=0;l<t.length;l++){var r=t[l].slug.replace("".concat(e.toLowerCase(),"_"),"");a[t[l].id]={id:t[l].id,name:t[l].name,parent:t[l].parent,slug:r}}n(a)}))}))},K=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"slug",a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise((function(l){Q(e,t).then((function(e){var t=[];Object.keys(e).forEach((function(a){var l=e[a],r=l[n],c=l.name;void 0!==l.parent&&0!==l.parent&&(c=" -- ".concat(c)),t.push({value:r,label:c})})),!1!==a&&t.sort((function(e,t){return e.label>t.label?1:-1})),l(t)}))}))},$=[{label:"Weekly roundup of all new publications",value:"7c1390ba46"},{label:"Quarterly update from the President",value:"a33430a835"},{label:"--",value:!1},{label:"Global Attitudes & Trends",value:"9203343b04"},{label:"Internet, Science & Tech",value:"ea87b26abe"},{label:"Media & News Daily Briefing",value:"1d2638430b"},{label:"Hispanic Trends",value:"0e7495c7b2"},{label:"Religion - Weekly newsletter",value:"a7d4f3268f"},{label:"Religion - Daily religion headlines",value:"1a647764b2"},{label:"Social & Demographic Trends",value:"3836f62305"},{label:"Methods",value:"6d1e80bbaf"},{label:"Politics",value:"fa5fdbc701"},{label:"--",value:!1},{label:"Mini-course - U.S. Immigration",value:"xxx"},{label:"Mini-course - U.S. Census",value:"xxxx"},{label:"Mini-course - Muslims and Islam",value:"xxxxx"}]},49:function(e,t){e.exports=window.ReactDOM},5:function(e,t){e.exports=window.wp.blockEditor},50:function(e,t){e.exports=regeneratorRuntime},57:function(e,t){e.exports=window.lodash},62:function(e,t){e.exports=window.wp.mediaUtils},64:function(e,t){e.exports=window.wp.keycodes},938:function(e,t,n){n(24),e.exports=n(980)},980:function(e,t,n){"use strict";n.r(t);var a=n(14),l=n(146),r=n(2),c=n(11),o=n(5),i=n(4),s=[{attributes:{postID:{type:"integer"},link:{type:"string"},excerpt:{type:"string",multiline:"p"},enableExcerpt:{type:"boolean",default:!0},enableExcerptBelow:{type:"boolean",default:!1},enableAltTaxonomy:{type:"boolean",default:!1}},migrate:function(e){var t=e.postID,n=e.link,a=e.excerpt,l=e.enableExcerpt,r=e.enableExcerptBelow,c=e.enableAltTaxonomy,o=e.enableMeta;return console.log("Migrating...",{postID:t,link:n,excerpt:a,enableExcerpt:l,enableExcerptBelow:r,enableAltTaxonomy:c,enableMeta:o}),{postId:t,url:n,excerpt:a,enableExcerpt:l,enableExcerptBelow:r,metaTaxonomy:o?c?"research-teams":"formats":"disabled"}},save:function(e){return React.createElement(i.Fragment,null,0!==e.excerpt.length&&React.createElement(o.RichText.Content,{className:"excerpt",tagName:"div",value:e.excerpt}))}}],u=n(346),d=n(22),m=n(109),p=n.n(m),b=n(45),g=n(12),h=n(57),f=(n(434),n(3)),v=n(124),y=function(e){var t=e.attributes,n=e.setAttributes,a=(e.context,e.rootClientId,Object(i.useState)(!1)),l=Object(d.a)(a,2),c=l[0],s=l[1],u=t.postId,m=t.imageSize,p=t.imageSlot,b=t.enableHeader,g=t.enableExcerpt,y=t.enableExcerptBelow,E=t.enableExtra,R=t.enableBreakingNews,w=t.enableEmphasis,O=t.disableMobileStyles,x=t.enableMeta,k=t.metaTaxonomy,j=Object(r.__)("Story Item Options");return React.createElement(i.Fragment,null,React.createElement(o.InspectorControls,null,React.createElement(f.PanelBody,{title:j},React.createElement(f.BaseControl,{help:Object(r.__)("Toggle specific features of a Story Item on or off, for example you can turn off the meta area (date and taxonomy).")},React.createElement(f.ToggleControl,{label:x?"Meta Enabled":"Meta Disabled",checked:x,onChange:function(){n({enableMeta:!x})}}),React.createElement(f.ToggleControl,{label:b?"Header Enabled":"Header Disabled",checked:b,onChange:function(){n({enableHeader:!b})}}),React.createElement(f.ToggleControl,{label:g?"Excerpt Enabled":"Excerpt Disabled",checked:g,onChange:function(){n({enableExcerpt:!g})}}),React.createElement(f.ToggleControl,{label:E?"Extras Enabled":"Extras Disabled",checked:E,onChange:function(){n({enableExtra:!E})}}),React.createElement(f.ToggleControl,{label:R?"Breaking News Enabled":"Breaking News Disabled",checked:R,onChange:function(){!1!==window.prcBreakingNews?n({enableBreakingNews:!R}):(alert("There are no currently active, authorized, breaking news events. The breaking news toggle will be set back to false."),n({enableBreakingNews:!1}))}}),React.createElement(f.ToggleControl,{label:w?"Emphasis Enabled":"Emphasis Disabled",checked:w,onChange:function(){n({enableEmphasis:!w})}})),React.createElement(f.CardDivider,null),React.createElement(f.SelectControl,{label:"Select Taxonomy To Display",value:k,options:[{label:"Formats",value:"formats"},{label:"Research Teams",value:"research-teams"},{label:"Disabled",value:"disabled"}],onChange:function(e){n({metaTaxonomy:e})}}))),React.createElement(o.InspectorAdvancedControls,null,React.createElement(f.ToggleControl,{label:O?"Mobile Styling Disabled":"Mobile Styling Enabled",help:Object(r.__)("If enabled your image slot will change to right aligned (if left aligned), and top aligned (if bottom aligned). Also, large headers will switch to medium headers on mobile."),checked:O,onChange:function(){n({disableMobileStyles:!O})}}),!0===g&&("right"===p||"left"===p)&&React.createElement(i.Fragment,null,React.createElement(f.ToggleControl,{label:y?"Excerpt Will Appear Below Image":"Excerpt Will Appear Normally",help:Object(r.__)("If you have excerpts enabled and a right or left image slot you can force the excerpt to appear below an image."),checked:y,onChange:function(){n({enableExcerptBelow:!y})}}),React.createElement(f.CardDivider,null)),Object(h.isInteger)(u)&&0!==u&&React.createElement("div",null,React.createElement(f.Button,{isSecondary:!0,isBusy:c,onClick:function(){s(!0),setTimeout((function(){Object(v.b)({postId:u,imageSize:m,isRefresh:!0,setAttributes:n}),s(!1)}),500)},style:{marginBottom:"1em"},text:Object(r.__)("Refresh Post Data")})),React.createElement("div",null,React.createElement(f.Button,{isDestructive:!0,isBusy:c,onClick:function(){s(!0),setTimeout((function(){n({title:"",excerpt:"",extra:"",url:"",label:"",date:"",image:"",postId:0}),s(!1)}),500)},style:{marginBottom:"1em"},text:Object(r.__)("Reset Story Item Block")}))))};function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=function(e){var t=e.attributes,n=e.setAttributes,a=e.blockProps,l=t.imageSize,r=Object(i.useState)(!1),c=Object(d.a)(r,2),o=c[0],s=c[1];return React.createElement(b.c,{onChange:function(e){console.log("Step2:",e),e.length>0&&void 0!==e[0].id&&(console.log("Step3:",e[0]),s(!0),Object(v.b)({postId:e[0].id,imageSize:l,isRefresh:!1,setAttributes:n}))},onSkip:function(){n({postId:0})},blockProps:R(R({},a),{},{style:{marginBottom:"16px"}}),loadingComponent:o})},O=n(29),x=n.n(O),k=n(435),j=n(436),C=n(437),A=n(438),S=n(439),_=n(440),I=function(e){e.title,e.type,e.id;var t=e.url,n=e.imageSize,a=void 0===n?"A1":n,l=e.setAttributes,c=Object(i.useState)(!1),o=Object(d.a)(c,2),s=o[0],u=o[1],m=Object(i.useState)(!1),p=Object(d.a)(m,2),g=p[0],h=p[1],y=Object(i.useState)(!1),E=Object(d.a)(y,2),R=E[0],w=E[1],O=Object(i.useState)(t),k=Object(d.a)(O,2),j=k[0],C=k[1],A=Object(i.useState)(null),S=Object(d.a)(A,2),_=S[0],I=S[1],P=Object(b.i)(j,500);Object(i.useEffect)((function(){P!==t&&(u(!0),x()({path:"/prc-api/v2/utils/get-post-by-url",method:"POST",data:{url:P}}).then((function(e){console.log("get-post-by-url",e),void 0!==e.ID&&(I(e),u(!1))})).catch((function(e){console.log("Error: ",e),I(!1),u(!1)})))}),[P]);var T=function(){return w(!1)};return React.createElement(i.Fragment,null,React.createElement(f.ToolbarButton,{"aria-expanded":g,"aria-haspopup":"true",label:Object(r.__)("Set URL"),icon:"admin-links",onClick:function(){return h(!g)},showTooltip:!0}),!0===R&&React.createElement(f.Modal,{title:Object(r.__)("Replace story item content","prc-blocks-story-item"),onRequestClose:T},React.createElement("p",null,'Replace this story item with "',React.createElement("strong",null,_.post_title),'"?'),React.createElement(f.ButtonGroup,null,React.createElement(f.Button,{isDestructive:!0,onClick:function(){var e;e=_.ID,Object(v.b)({postId:e,imageSize:a,isRefresh:!1,setAttributes:l}),T()}},"Replace"),React.createElement(f.Button,{variant:"secondary",onClick:function(){l({url:P}),T()}},"Replace URL Only"),React.createElement(f.Button,{variant:"secondary",onClick:T},"Cancel"))),!0===g&&React.createElement(f.Popover,{position:"bottom center",onClose:function(){return h(!1)}},React.createElement("div",{style:{minWidth:"300px",padding:"8px",display:"flex",alignItems:"flex-end"}},React.createElement("div",{style:{flexGrow:"1"}},React.createElement(f.TextControl,{label:"URL",value:j,onChange:function(e){return C(e)},autoComplete:"off"})),React.createElement("div",{style:{paddingBottom:"7px",paddingLeft:"8px",width:"44px"}},s&&React.createElement("div",{style:{paddingBottom:"3px"}},React.createElement(f.Spinner,null)),!s&&!1===_&&React.createElement(f.Button,{icon:"yes-alt",variant:"tertiary",onClick:function(){l({url:P}),h(!1)}}),!s&&!1!==_&&null!==_&&React.createElement(f.Button,{icon:"warning",variant:"tertiary",onClick:function(){h(!1),w(!0)}})))))},P=function(e){var t=e.attributes,n=e.setAttributes,a=e.context,l=(e.rootClientId,t.postId),c=t.url,s=t.imageSize,u=t.imageSlot,d=t.headerSize,m=t.isChartArt,p=t.title;console.log("Context",a);var b=void 0!==a["prc-block/column/width"]&&a["prc-block/column/width"],g=void 0!==a["prc-block/row/isEqual"]&&a["prc-block/row/isEqual"];console.log("columnWidth",b,g);var h=function(e){var t=e.svgPath,n=void 0!==t&&t,a=e.isPressed,l=void 0!==a&&a;return!1===n?null:React.createElement(f.SVG,{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",isPressed:l},React.createElement(f.Path,{d:n}))},y=function(e){var t=e.selected;return"right"===t?k.a:"left"===t?j.a:"top"===t?C.a:"bottom"===t?A.a:"disabled"===t?S.a:_.a},E=function(e){var t=e.selected,n=e.currentlyActive;return React.createElement(h,{svgPath:{A1:"M12.13,18.09h-3l-.74-2.46H4.49l-.75,2.46H1.27l3.84-12H8.36ZM7.72,13.41,6.44,9.2,5.16,13.41Z M13.31,8.35a7,7,0,0,0,4-2.44h2v10h3.33v2.19H13V15.9h3.63V9a23.54,23.54,0,0,1-3.33,1.78Z",A2:"M12.5,18.09h-3l-.74-2.46H4.86l-.75,2.46H1.64l3.83-12H8.73ZM8.09,13.41,6.81,9.2,5.53,13.41Z M22.16,18.09h-9V15.75l.72-.52,1.46-1a31.07,31.07,0,0,0,3.1-2.6,2.74,2.74,0,0,0,.9-1.87,1.55,1.55,0,0,0-1.66-1.6c-1.19,0-1.86.76-2,2.3l-2.48-.55c.56-2.67,2.11-4,4.66-4a4.37,4.37,0,0,1,3,.91A3.5,3.5,0,0,1,22.2,9.69c0,1.51-.69,2.61-2.52,4a33.64,33.64,0,0,1-3.06,2h5.74Z",A3:"M12.52,18h-3l-.74-2.47H4.89L4.13,18H1.67L5.5,6H8.76ZM8.11,13.32,6.83,9.11,5.56,13.32Z M17.38,10.75a1.87,1.87,0,0,0,1.46-.47,1.36,1.36,0,0,0,.38-.94A1.5,1.5,0,0,0,17.6,7.89c-1,0-1.51.45-1.84,1.53L13.28,9a3.62,3.62,0,0,1,1.1-2,4.58,4.58,0,0,1,3.33-1.24C20.24,5.82,22,7.13,22,9a2.69,2.69,0,0,1-2,2.68,3.09,3.09,0,0,1,1.51.74,2.73,2.73,0,0,1,.9,2.11c0,2.19-1.82,3.61-4.64,3.61A4.67,4.67,0,0,1,14.23,17a3.88,3.88,0,0,1-1.31-2.45l2.55-.36A2,2,0,0,0,17.63,16a1.64,1.64,0,0,0,1.84-1.62,1.55,1.55,0,0,0-.61-1.27,3,3,0,0,0-1.66-.27H16.1V10.75Z",A4:"M12.31,18.09h-3l-.74-2.46H4.67l-.75,2.46H1.45l3.84-12H8.54ZM7.9,13.41,6.62,9.2,5.34,13.41Z M20.86,13.22h1.69v2.1H20.86v2.77H18.05V15.32H12.81v-2.1l4.84-7.31h3.21Zm-2.69,0V9.16c0-.09,0-.28,0-.57l0-.51-3.29,5.14Z",XL:"M9.23,11.58,12.94,18H9.7L7.28,13.65,4.87,18H2.21l3.71-6.38L2.62,6H5.9L7.84,9.65,9.88,6h2.63Z M21.79,15.63V18H14.18V6H17v9.64Z"}[t],isPressed:t===n})},R=function(e){var t=e.selected,n=e.currentlyActive;return React.createElement(h,{svgPath:{1:"M15.81,15.63V18H8.19V6H11v9.63Z",2:"M7.81,8.21V18H5.46V6H9.83l2.11,7.18L14.17,6h4.37V18H15.72V8.21l-3,9.79H10.77Z",3:"M14.21,9.43A1.9,1.9,0,0,0,12.12,8c-1,0-1.64.4-1.64,1.06s.43,1,1.73,1.26a8.68,8.68,0,0,1,3.15,1,3.35,3.35,0,0,1,1.55,2.85,3.89,3.89,0,0,1-1.77,3.2,6,6,0,0,1-3.17.77,5.53,5.53,0,0,1-3.44-1,4,4,0,0,1-1.44-2.31l2.6-.59a2.2,2.2,0,0,0,2.43,1.67c1.19,0,1.92-.48,1.92-1.26s-.48-1-2.09-1.36a8.16,8.16,0,0,1-2.77-.94A3.08,3.08,0,0,1,7.72,9.63,3.58,3.58,0,0,1,9,6.86a4.44,4.44,0,0,1,3.15-1,5.08,5.08,0,0,1,3.15.91,3.74,3.74,0,0,1,1.33,1.91Z"}[t],isPressed:t===n})},w=function(e){n({imageSize:e}),Object(v.a)(e,l,n),console.log("new image size, check column context",a)};return React.createElement(o.BlockControls,null,React.createElement(f.ToolbarGroup,null,React.createElement(I,{title:p,id:l,url:c,type:"stub",setAttributes:n})),React.createElement(f.ToolbarGroup,null,React.createElement(f.ToolbarDropdownMenu,{icon:function(){return React.createElement(R,{selected:d,currentlyActive:d})},label:"Select Heading Size",controls:[{title:"Large",icon:React.createElement(R,{selected:1,currentlyActive:d}),isActive:1===d,onClick:function(){return n({headerSize:1})}},{title:"Medium",icon:React.createElement(R,{selected:2,currentlyActive:d}),isActive:2===d,onClick:function(){return n({headerSize:2})}},{title:"Small",icon:React.createElement(R,{selected:3,currentlyActive:d}),isActive:3===d,onClick:function(){return n({headerSize:3})}}]})),React.createElement(f.ToolbarGroup,null,React.createElement(f.ToolbarDropdownMenu,{icon:function(){return React.createElement(y,{selected:u})},label:"Select Image Slot",controls:[{title:"Top",icon:React.createElement(y,{selected:"top"}),isActive:"top"===u,onClick:function(){n({imageSlot:"top"})}},{title:"Bottom",icon:React.createElement(y,{selected:"bottom"}),isActive:"bottom"===u,onClick:function(){n({imageSlot:"bottom"})}},{title:"Left",icon:React.createElement(y,{selected:"left"}),isActive:"left"===u,isDisabled:!0!==g&&!1!==b&&8>=b,onClick:function(){n({imageSlot:"left"})}},{title:"Right",icon:React.createElement(y,{selected:"right"}),isActive:"right"===u,isDisabled:!0!==g&&!1!==b&&8>=b,onClick:function(){n({imageSlot:"right"})}},{title:"Disabled",icon:React.createElement(y,{selected:"disabled"}),isActive:"disabled"===u,onClick:function(){n({imageSlot:"disabled"})}}]}),"disabled"!==u&&React.createElement(i.Fragment,null,React.createElement(f.ToolbarDropdownMenu,{icon:function(){return React.createElement(E,{selected:s,currentlyActive:s})},label:"Select Image Size",controls:[{title:"A1",icon:React.createElement(E,{selected:"A1",currentlyActive:s}),isActive:"A1"===s,onClick:function(){return w("A1")}},{title:"A2",icon:React.createElement(E,{selected:"A2",currentlyActive:s}),isActive:"A2"===s,onClick:function(){return w("A2")}},{title:"A3",icon:React.createElement(E,{selected:"A3",currentlyActive:s}),isActive:"A3"===s,onClick:function(){return w("A3")}},{title:"A4",icon:React.createElement(E,{selected:"A4",currentlyActive:s}),isActive:"A4"===s,onClick:function(){return w("A4")}},{title:"XL",icon:React.createElement(E,{selected:"XL",currentlyActive:s}),isActive:"XL"===s,onClick:function(){return w("XL")}}]}),React.createElement(f.ToolbarButton,{icon:"chart-pie",isPressed:m,label:Object(r.__)("Enable Chart Art"),onClick:function(){n({isChartArt:!m})}}))))},T=function(e){var t=e.attributes,n=e.setAttributes,a=e.context,l=e.rootClientId;return React.createElement(i.Fragment,null,React.createElement(P,{attributes:t,setAttributes:n,context:a,rootClientId:l}),React.createElement(y,{attributes:t,setAttributes:n,context:a,rootClientId:l}))},B=n(274),z=n(36),H=["image"],N={default:"564,317",small:"690,388",hidpi:"1128,634",smallHidpi:"1380,776"},M={default:"268,151",small:"690,388",hidpi:"536,301",smallHidpi:"1380,776"},D={default:"194,110",small:"148,84",hidpi:"388,220",smallHidpi:"296,168"},L={default:"268,151",small:"690,388",hidpi:"536,302",smallHidpi:"1380,776"},V={default:"720,405",small:"690,388",hidpi:"1440,810",smallHidpi:"1380,776"},F=function(e){var t=e.img,n=e.size,a=e.link,l=e.onClick,r=void 0!==l&&l,c=e.placeholder,o=void 0!==c&&c,s=function(e){if(!0===o){return"https://via.placeholder.com/".concat("A2"===n?"536x301":"A3"===n?"388x220":"A4"===n?"536x302":"XL"===n?"1440x810":"1128x634",".png?text=").concat(n)}if(""===t||!1===t)return t;var a={resize:N[e]};return"A2"===n?a={resize:M[e]}:"A3"===n?a={resize:D[e]}:"A4"===n?a={resize:L[e]}:"XL"===n&&(a={resize:V[e]}),Object(z.addQueryArgs)(t,a)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:767;return[{srcSet:"".concat(s("default")," 1x, ").concat(s("hidpi")," 2x"),media:"(min-width: ".concat(e,"px)")},{srcSet:"".concat(s("small")," 1x, ").concat(s("smallHidpi")," 2x"),media:"(max-width: ".concat(e,"px)")}]};return!1!==r?React.createElement("div",{onClick:r},!0===o&&React.createElement("img",{src:s(),alt:"Click to insert"}),!0!==o&&React.createElement(B.a,{sources:u(),alt:"Click to edit"})):React.createElement(i.Fragment,null,""===a&&React.createElement(B.a,{sources:u()}),""!==a&&React.createElement("a",{href:a},React.createElement(B.a,{sources:u()})))},U=function(e){var t=e.img,n=e.size,a=(e.postId,e.setAttributes);return React.createElement(o.MediaUploadCheck,null,React.createElement(o.MediaUpload,{onSelect:function(e){return a({image:e.url})},allowedTypes:H,render:function(e){var a=e.open;return React.createElement(i.Fragment,null,void 0!==t&&0!==t.length&&React.createElement(F,{img:t,size:n,link:"",onClick:a}),(void 0===t||0===t.length)&&React.createElement(F,{img:t,size:n,link:"",onClick:a,placeholder:!0}))}}))},Z=function(e){var t=e.img,n=e.size,a=e.slot,l=e.chartArt,r=e.postId,c=e.setAttributes;if("disabled"===a)return React.createElement(i.Fragment,null);console.log("<Img>",t);var o,s,u,d,m;return React.createElement("div",{className:(o=!1,s=!1,u=!1,d=!1,m=!1,!1!==a&&("XL"===n?o=!0:"A1"===n?s=!0:"A2"===n?u=!0:"A3"===n?d=!0:"A4"===n&&(m=!0)),p()({ui:!0,XL:o,A1:s,A2:u,A3:d,A4:m,image:!0,bordered:l}))},React.createElement(U,{img:t,size:n,postId:r,setAttributes:c}))},G=function(e){var t=e.content,n=e.sansSerif,a=e.enabled,l=e.setAttributes;if(!0!==a)return React.createElement(i.Fragment,null);var r=p()("excerpt",{"sans-serif":n});return React.createElement(o.RichText,{tagName:"div",value:t,onChange:function(e){return l({excerpt:e})},placeholder:"Story item excerpt...",multiline:"p",className:r})},X=function(e){var t=e.content,n=e.breakingNews,a=e.enabled,l=e.setAttributes;return React.createElement(i.Fragment,null,!0===a&&React.createElement(o.RichText,{tagName:"ul",value:t,onChange:function(e){return l({extra:e})},placeholder:t,multiline:"li",className:"extra"}),!0===n&&!1!==window.prcBreakingNews&&React.createElement("ul",{className:"extra-breaking-news"},React.createElement("li",null,React.createElement("a",{href:window.prcBreakingNews.url,className:"kicker-breaking-news"},window.prcBreakingNews.label))))},q=function(e){var t=e.title,n=e.size,a=e.enabled,l=e.setAttributes,r=e.altHeaderWeight;if(!0!==a)return React.createElement(i.Fragment,null);var c=p()("header",{large:1===n,medium:2===n,small:3===n,light:r});return React.createElement(o.RichText,{tagName:"header",value:t,onChange:function(e){return l({title:e})},allowedFormats:["italic"],placeholder:"Title",multiline:"br",className:c})},W=function(e){var t=e.enabled,n=e.date,a=e.label,l=e.setAttributes,r=e.termOptions;return t?React.createElement("div",{className:"meta",style:{display:"flex",alignItems:"center"}},React.createElement("div",null,React.createElement(f.SelectControl,{value:a,options:r,onChange:function(e){l({label:e})},style:{marginBottom:"0px"},className:"story-label-select"})),React.createElement("div",null," | "),React.createElement("div",null,React.createElement(f.TextControl,{value:n,onChange:function(e){l({date:e})},style:{marginBottom:"0px"},className:"story-label-select"}))):React.createElement(i.Fragment,null)},Y={A1:[1128,634],A2:[526,301],A3:[388,220],A4:[536,302],XL:[1440,810]},J=function(e){var t=e.attributes,n=t.title,a=t.excerpt,l=t.extra,r=t.label,c=t.date,i=t.image,s=t.imageSlot,u=t.imageSize,d=t.isChartArt,m=t.headerSize,b=t.enableEmphasis,g=t.enableHeader,h=t.enableExcerpt,f=t.enableExcerptBelow,v=t.enableExtra,y=t.enableBreakingNews,E=t.enableMeta,R=t.className,w={bordered:b,"alt-excerpt":f};"disbaled"!==s&&(w[s]=!0,w.aligned=!0);var O={className:p()("story item",R,w)};"disabled"!==s&&u.length>0&&(O["data-image-size"]=u);var x=Object(o.useBlockProps)(O),k=p()("header",{large:1===m,medium:2===m,small:3===m,light:!1}),j=p()("image",{bordered:d,XL:"XL"===u,A4:"A4"===u,A3:"A3"===u,A2:"A2"===u,A1:"A1"===u}),C=p()("excerpt");return React.createElement("article",x,E&&React.createElement("div",{class:"meta"},React.createElement("span",{class:"label"},r)," | ",React.createElement("span",{class:"date"},c)),"disabled"!==s&&React.createElement("div",{class:"".concat(j)},React.createElement("picture",null,React.createElement("img",{srcset:i,width:Y[u][0],height:Y[u][1]}))),g&&React.createElement("header",{class:k},n),h&&React.createElement(o.RichText.Content,{tagName:"div",value:a,multiline:"p",className:C}),v&&React.createElement(o.RichText.Content,{tagName:"ul",value:l,className:"extra"}),!0===y&&!1!==window.prcBreakingNews&&React.createElement("ul",{className:"extra-breaking-news"},React.createElement("li",null,React.createElement("a",{href:window.prcBreakingNews.url,className:"kicker-breaking-news"},window.prcBreakingNews.label))))};function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}window.termOptions={formats:[],"research-teams":[]};var $=function(e){var t=e.attributes,n=e.setAttributes,a=e.isSelected,l=e.clientId,r=e.context,c=t.title,s=t.excerpt,u=t.extra,m=t.label,h=t.date,f=t.image,v=t.imageSlot,y=t.imageSize,E=t.isChartArt,R=t.postId,O=t.headerSize,x=t.enableEmphasis,k=t.enableHeader,j=t.enableExcerpt,C=t.enableExcerptBelow,A=t.enableExtra,S=t.enableBreakingNews,_=t.enableMeta,I=t.metaTaxonomy,P=(t.inLoop,t.isPreview),B=t.className,z=Object(i.useState)(window.termOptions[I]),H=Object(d.a)(z,2),N=H[0],M=H[1];Object(i.useEffect)((function(){"disabled"!==I&&(0!==window.termOptions[I].length?M(window.termOptions[I]):Object(b.f)(I).then((function(e){window.termOptions[I].length||(window.termOptions[I]=e),M(e)})))}),[I]),Object(i.useEffect)((function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={};!e.postId&&e.postID&&(n.postId=e.postID),0!==Object.keys(n).length&&!1!==t&&(console.log("handlePostIdCaseChange",e,n),t(K({},n)))}(t,n)}),[]),Object(i.useEffect)((function(){r.hasOwnProperty("query")&&r.hasOwnProperty("postId")&&!Number.isInteger(R)&&console.log("This post is from a query block...")}),[r]);var D=Object(g.useSelect)((function(e){return{rootClientId:e("core/block-editor").getBlockRootClientId(l)}}),[l]).rootClientId,L=!j,V={bordered:x,"alt-excerpt":C};"disbaled"!==v&&(V[v]=!0,V.aligned=!0);var F={className:p()("story item",B,V)};"disabled"!==v&&y.length>0&&(F["data-image-size"]=y);var U=Object(o.useBlockProps)(F);return!a||P?React.createElement(J,{attributes:t}):void 0!==R||r.hasOwnProperty("query")?React.createElement(i.Fragment,null,React.createElement(T,{attributes:t,setAttributes:n,context:r,rootClientId:D}),React.createElement("article",U,React.createElement(Z,{img:f,size:y,slot:v,chartArt:E,postId:R,setAttributes:n}),React.createElement(W,{enabled:_&&"disabled"!==I,date:h,label:m,setAttributes:n,termOptions:N}),React.createElement(q,{enabled:k,title:c,size:O,altHeaderWeight:L,setAttributes:n}),React.createElement(G,{enabled:j,content:s,sansSerif:!k,setAttributes:n}),React.createElement(X,{enabled:A,content:u,breakingNews:S,setAttributes:n,isSelected:a}))):React.createElement(w,{attributes:t,setAttributes:n,blockProps:U})},ee=function(e){var t=e.attributes,n=t.excerpt,a=t.extra;return React.createElement(i.Fragment,null,n&&React.createElement(o.RichText.Content,{className:"description",tagName:"div",value:n}),a&&React.createElement(o.RichText.Content,{className:"extra",tagName:"ul",value:a}))},te=[{name:"story-item-default",isDefault:!0,title:Object(r.__)("Story Item"),excerpt:Object(r.__)("Default story item layout: top aligned A1 image."),attributes:{imageSlot:"top",imageSize:"A1"}},{name:"story-item-pub-listing",title:Object(r.__)("Pub Listing Story Item"),excerpt:Object(r.__)("Left algined A3 image (right aligned A3 on mobile)."),attributes:{imageSlot:"left",imageSize:"A3"}},{name:"story-item-slim",title:Object(r.__)("Story Item Slim"),excerpt:Object(r.__)("No excerpt, no image."),attributes:{imageSlot:"disabled",enableExcerpt:!1}}];function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le=u.name,re={example:{attributes:{title:"Ultricies Ipsum Nibh Egestas Purus",excerpt:"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec id elit non mi porta gravida at eget metus. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>",label:"Report",date:l().format("MM-DD-YYYY"),image:"https://www.pewresearch.org/global/wp-content/uploads/sites/2/2020/04/PG_2020.04.21_U.S.-Views-China_featured.jpg",imageSlot:"top",imageSize:"A2",isPreview:!0}},deprecated:s,variations:te,edit:$,save:ee};Object(c.registerBlockType)(le,ae(ae({},u),re))}},[[938,0,1,65]]]);
//# sourceMappingURL=story-item-0f62a4b2.js.map