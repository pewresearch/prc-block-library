{"version":3,"sources":["webpack:///./src/tabs/menu-item/edit.js","webpack:///./src/tabs/menu-item/save.js","webpack:///./src/tabs/menu-item/index.js","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./node_modules/classnames/index.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///external [\"wp\",\"i18n\"]","webpack:///external [\"wp\",\"url\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external [\"wp\",\"blocks\"]","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///external [\"wp\",\"data\"]"],"names":["Edit","attributes","setAttributes","className","clientId","isSelected","context","title","uuid","currentlyActive","useDispatch","insertBlock","updateBlockAttributes","moveBlockToPosition","useSelect","select","undefined","getBlock","getBlockRootClientId","getAdjacentBlockClientId","getBlockIndex","menuBlockClientId","controllerBlockClientId","panesBlockClientId","panesBlock","paneClientId","hasOwnProperty","innerBlocks","length","filter","e","targetClientId","targetIndex","currentPaneIndex","toClientId","currentIndex","paneIndex","console","log","controllerClientId","panesClientId","currentPositionIndex","panePositionIndex","useEffect","newUuid","newPaneBlock","createBlock","onBlockInit","active","blockProps","useBlockProps","classnames","tagName","value","allowedFormats","onChange","newTitle","slug","cleanForSlug","placeholder","__","style","textTransform","save","name","metadata","settings","__experimentalLabel","edit","registerBlockType","_typeof","obj","module","exports","Symbol","iterator","constructor","prototype","__esModule","hasOwn","classNames","classes","i","arguments","arg","argType","push","Array","isArray","inner","apply","toString","Object","key","call","join","default","window","__webpack_amd_options__","path","replace","concat","_defineProperty","defineProperty","enumerable","configurable","writable"],"mappings":"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","file":"blocks/tabs-menu-item-2438c0bf.js","sourcesContent":["/**\n * External Dependencies\n */\nimport classnames from 'classnames';\n\n/**\n * WordPress Dependencies\n */\nimport { useEffect } from '@wordpress/element';\nimport { useBlockProps, RichText } from '@wordpress/block-editor';\nimport { createBlock } from '@wordpress/blocks';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { cleanForSlug } from '@wordpress/url';\n\nfunction Edit({\n\tattributes,\n\tsetAttributes,\n\tclassName,\n\tclientId,\n\tisSelected,\n\tcontext,\n}) {\n\tconst { title, uuid } = attributes;\n\tconst currentlyActive = context['prc-block/tabs/active'];\n\n\tconst { insertBlock, updateBlockAttributes, moveBlockToPosition } =\n\t\tuseDispatch('core/block-editor');\n\n\tconst movePane = (\n\t\ttargetClientId,\n\t\ttargetIndex,\n\t\tcurrentPaneIndex,\n\t\ttoClientId,\n\t) => {\n\t\tif (targetIndex === currentPaneIndex || -1 === currentPaneIndex) {\n\t\t\treturn;\n\t\t}\n\n\t\tconsole.log(\n\t\t\t'movePane',\n\t\t\ttargetClientId,\n\t\t\ttargetIndex,\n\t\t\tcurrentPaneIndex,\n\t\t\ttoClientId,\n\t\t);\n\n\t\tmoveBlockToPosition(targetClientId, toClientId, toClientId, targetIndex);\n\t};\n\n\tconst { controllerClientId, panesClientId, currentPositionIndex } = useSelect(\n\t\t(select) => {\n\t\t\tif (undefined === clientId) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst {\n\t\t\t\tgetBlock,\n\t\t\t\tgetBlockRootClientId,\n\t\t\t\tgetAdjacentBlockClientId,\n\t\t\t\tgetBlockIndex,\n\t\t\t} = select('core/block-editor');\n\n\t\t\tconst menuBlockClientId = getBlockRootClientId(clientId);\n\t\t\tconst controllerBlockClientId = getBlockRootClientId(menuBlockClientId);\n\t\t\tconst panesBlockClientId = getAdjacentBlockClientId(menuBlockClientId);\n\t\t\tconst panesBlock = getBlock(panesBlockClientId);\n\n\t\t\tlet paneClientId = false;\n\t\t\tif (\n\t\t\t\tpanesBlock.hasOwnProperty('innerBlocks') &&\n\t\t\t\t1 <= panesBlock.innerBlocks.length &&\n\t\t\t\tnull !== uuid\n\t\t\t) {\n\t\t\t\t// console.log('panesBlock as seen from MenuItem', panesBlock);\n\t\t\t\tconst matchedPane = panesBlock.innerBlocks.filter(\n\t\t\t\t\t(e) => e.attributes.uuid === uuid,\n\t\t\t\t);\n\t\t\t\tpaneClientId = matchedPane[0].clientId;\n\t\t\t}\n\n\t\t\tconst currentIndex = getBlockIndex(clientId, menuBlockClientId);\n\t\t\tconst paneIndex = getBlockIndex(paneClientId, panesBlockClientId);\n\n\t\t\tmovePane(paneClientId, currentIndex, paneIndex, panesBlockClientId);\n\n\t\t\t// eslint-disable-next-line consistent-return\n\t\t\treturn {\n\t\t\t\tcontrollerClientId: controllerBlockClientId,\n\t\t\t\tpanesClientId: panesBlockClientId,\n\t\t\t\tcurrentPositionIndex: currentIndex,\n\t\t\t\tpanePositionIndex: paneIndex,\n\t\t\t};\n\t\t},\n\t\t[clientId],\n\t);\n\n\tconst onBlockInit = () => {\n\t\t// If no uuid is set run init sequence, create a matching tab pane block.\n\t\tif (null === uuid) {\n\t\t\t// We will use the first client id assigned as a uuid.\n\t\t\tconsole.log('onBlockInit', uuid, currentPositionIndex);\n\t\t\tconst newUuid = clientId;\n\t\t\tsetAttributes({ uuid: newUuid });\n\t\t\tconst newPaneBlock = createBlock('prc-block/tabs-pane', {\n\t\t\t\tuuid: newUuid,\n\t\t\t});\n\t\t\tinsertBlock(newPaneBlock, currentPositionIndex, panesClientId);\n\t\t}\n\t};\n\n\tconst onBlockSelection = () => {\n\t\tconsole.log(\"onBlockSelection\", currentlyActive, uuid);\n\t\tif (null !== uuid && undefined !== controllerClientId) {\n\t\t\tupdateBlockAttributes(controllerClientId, { active: uuid });\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tonBlockInit();\n\t}, [panesClientId, currentPositionIndex]);\n\n\tuseEffect(() => {\n\t\tonBlockSelection();\n\t}, [clientId, isSelected]);\n\n\tconst blockProps = useBlockProps({\n\t\tclassName: classnames(className, {\n\t\t\t'aria-selected': uuid === currentlyActive,\n\t\t}),\n\t});\n\n\treturn (\n\t\t<div {...blockProps}>\n\t\t\t{isSelected && (\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"div\" // The tag here is the element output and editable in the admin\n\t\t\t\t\tvalue={title} // Any existing content, either from the database or an attribute default\n\t\t\t\t\tallowedFormats={[]} // Allow the content to be made bold or italic, but do not allow other formatting options\n\t\t\t\t\tonChange={(newTitle) =>\n\t\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\t\ttitle: newTitle,\n\t\t\t\t\t\t\tslug: cleanForSlug(newTitle),\n\t\t\t\t\t\t})\n\t\t\t\t\t} // Store updated content as a block attribute\n\t\t\t\t\tplaceholder={__('Tab Pane 1')} // Display this text before any content has been added by the user\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\ttextTransform: 'none',\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{!isSelected && <div>{title}</div>}\n\t\t</div>\n\t);\n}\n\nexport default Edit;\n","/**\n * WordPress dependencies\n */\nimport { Fragment } from '@wordpress/element';\n\nconst save = () => <Fragment />;\n\nexport default save;\n","/**\n * WordPress dependencies\n */\nimport { registerBlockType } from '@wordpress/blocks';\nimport { __ } from '@wordpress/i18n';\n\n/**\n * Internal dependencies\n */\n// import './style.scss';\nimport metadata from './block.json';\nimport edit from './edit';\nimport save from './save';\n\nconst { name } = metadata;\n\nconst settings = {\n\t__experimentalLabel: ({ title }) => title || 'Menu Item', // Will change the label to match the title, #experimental.\n\tedit,\n\tsave,\n};\n\nregisterBlockType(name, { ...metadata, ...settings });\n","function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\n\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof=require(\"@babel/runtime/helpers/typeof\");/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/ /* global define */(function(){'use strict';var hasOwn={}.hasOwnProperty;function classNames(){var classes=[];for(var i=0;i<arguments.length;i++){var arg=arguments[i];if(!arg)continue;var argType=_typeof(arg);if(argType==='string'||argType==='number'){classes.push(arg);}else if(Array.isArray(arg)){if(arg.length){var inner=classNames.apply(null,arg);if(inner){classes.push(inner);}}}else if(argType==='object'){if(arg.toString===Object.prototype.toString){for(var key in arg){if(hasOwn.call(arg,key)&&arg[key]){classes.push(key);}}}else{classes.push(arg.toString());}}}return classes.join(' ');}if(typeof module!=='undefined'&&module.exports){classNames.default=classNames;module.exports=classNames;}else if(typeof define==='function'&&_typeof(define.amd)==='object'&&define.amd){// register as 'classnames', consistent with npm package name\ndefine('classnames',[],function(){return classNames;});}else{window.classNames=classNames;}})();","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","/* eslint-disable camelcase */ /* eslint-disable babel/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","(function() { module.exports = window[\"wp\"][\"url\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","(function() { module.exports = window[\"wp\"][\"data\"]; }());"],"sourceRoot":""}