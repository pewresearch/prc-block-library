{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///external [\"wp\",\"data\"]","webpack:///external [\"wp\",\"i18n\"]","webpack:///external [\"wp\",\"primitives\"]","webpack:///./node_modules/@wpackio/entrypoint/lib/index.js","webpack:///external [\"wp\",\"components\"]","webpack:///./node_modules/@wordpress/icons/build-module/library/plus-circle-filled.js","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external [\"wp\",\"blocks\"]","webpack:///./src/chart-builder-data-wrapper/edit/index.js","webpack:///./src/chart-builder-data-wrapper/index.js","webpack:///./src/chart-builder-data-wrapper/save.js"],"names":["_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","module","exports","window","path","replace","concat","plusCircleFilled","xmlns","viewBox","d","edit","attributes","setAttributes","clientId","id","useEffect","TEMPLATE","className","head","body","isConvertedChart","label","__","help","hideTable","checked","onChange","tableBlock","select","getBlocks","find","block","name","dispatch","updateBlockAttributes","icon","minus","title","onClick","template","templateLock","metadata","settings","description","category","keywords","supports","html","example","chartType","transforms","from","type","blocks","transform","createBlock","transformed","tableHead","tableBody","to","innerBlocks","table","filter","save","props","Content","registerBlockType"],"mappings":"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","file":"blocks/chart-builder-wrapper-e5a5fa07.js","sourcesContent":["export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","(function() { module.exports = window[\"wp\"][\"data\"]; }());","(function() { module.exports = window[\"wp\"][\"i18n\"]; }());","(function() { module.exports = window[\"wp\"][\"primitives\"]; }());","/* eslint-disable camelcase */ /* eslint-disable babel/camelcase */ /* eslint-disable no-underscore-dangle */ // eslint-disable-next-line no-unused-vars\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\n/* global __webpack_public_path__ */ // eslint-disable-next-line spaced-comment\n///<reference types=\"webpack-env\" />\n// We expect __webpack_public_path__ to be present, thanks to webpack\n// We are not using DOM in the typescript library, so let's just hack our way\n// through window\n// tslint:disable-next-line:no-any\n// We would override __webpack_public_path__ only if __WPACKIO__ webpack plugin is set\nif(__WPACKIO__){var path=(__WPACKIO__.appName+__WPACKIO__.outputPath).replace(/[^a-zA-Z0-9_-]/g,'');// eslint-disable-next-line no-global-assign\n__webpack_public_path__=window[\"__wpackIo\".concat(path)];}","(function() { module.exports = window[\"wp\"][\"components\"]; }());","import{createElement}from\"@wordpress/element\";/**\n * WordPress dependencies\n */import{SVG,Path}from'@wordpress/primitives';var plusCircleFilled=createElement(SVG,{xmlns:\"http://www.w3.org/2000/svg\",viewBox:\"0 0 24 24\"},createElement(Path,{d:\"M2 12C2 6.44444 6.44444 2 12 2C17.5556 2 22 6.44444 22 12C22 17.5556 17.5556 22 12 22C6.44444 22 2 17.5556 2 12ZM13 11V7H11V11H7V13H11V17H13V13H17V11H13Z\"}));export default plusCircleFilled;","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"wp\"][\"blocks\"]; }());","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n    BlockControls,\n    InnerBlocks,\n    InspectorControls,\n} from '@wordpress/block-editor';\nimport {\n    ToolbarButton,\n    ToolbarGroup,\n    ToggleControl,\n    PanelBody,\n} from '@wordpress/components';\nimport { minus, plusCircleFilled } from '@wordpress/icons';\nimport { select, dispatch } from '@wordpress/data';\nimport { useEffect } from '@wordpress/element';\n\nconst edit = ({ attributes, setAttributes, clientId }) => {\n    const {id} = attributes;\n\n    useEffect(()=>{\n        if ( !id ) {\n            setAttributes({id: clientId});\n        }\n    }, []);\n\n    const TEMPLATE = [\n        [\n            'core/table',\n            {\n                className: 'chart-builder-data-table',\n                head: [\n                    {\n                        \"cells\": [\n                            { \"content\": \"x\", \"tag\": \"th\" },\n                            { \"content\": \"y\", \"tag\": \"th\" }\n                        ]\n                    }\n                ],\n                body: [\n                    {\n                        \"cells\": [\n                            { \"content\": \"\", \"tag\": \"td\" },\n                            { \"content\": \"\", \"tag\": \"td\" }\n                        ]\n                    },\n                    {\n                        \"cells\": [\n                            { \"content\": \"\", \"tag\": \"td\" },\n                            { \"content\": \"\", \"tag\": \"td\" }\n                        ]\n                    }\n                ],\n            },\n        ],\n        [\n            'prc-block/chart-builder',\n            {\n                isConvertedChart: attributes.isConvertedChart,\n            },\n        ],\n    ];\n\n    return (\n        <>\n            <InspectorControls>\n                <PanelBody>\n                    <ToggleControl\n                        label={__('Hide table')}\n                        help={\n                            attributes.hideTable\n                                ? 'Table hidden.'\n                                : 'Table visible.'\n                        }\n                        checked={attributes.hideTable}\n                        onChange={() => {\n                            const tableBlock = select('core/block-editor')\n                                .getBlocks(clientId)\n                                .find((block) => block.name === 'core/table');\n                            if (attributes.hideTable) {\n                                dispatch('core/editor').updateBlockAttributes(\n                                    tableBlock.clientId,\n                                    {\n                                        className: 'chart-builder-data-table',\n                                    },\n                                );\n                            } else {\n                                dispatch('core/editor').updateBlockAttributes(\n                                    tableBlock.clientId,\n                                    {\n                                        className:\n                                            'chart-builder-data-table--hidden',\n                                    },\n                                );\n                            }\n                            setAttributes({ hideTable: !attributes.hideTable });\n                        }}\n                    />\n                </PanelBody>\n            </InspectorControls>\n            <BlockControls>\n                <ToolbarGroup>\n                    <ToolbarButton\n                        name=\"hide-table\"\n                        icon={attributes.hideTable ? plusCircleFilled : minus}\n                        title={\n                            attributes.hideTable\n                                ? __('Show Table')\n                                : __('Hide Table')\n                        }\n                        onClick={() => {\n                            const tableBlock = select('core/block-editor')\n                                .getBlocks(clientId)\n                                .find((block) => block.name === 'core/table');\n                            if (attributes.hideTable) {\n                                dispatch('core/editor').updateBlockAttributes(\n                                    tableBlock.clientId,\n                                    {\n                                        className: 'chart-builder-data-table',\n                                    },\n                                );\n                            } else {\n                                dispatch('core/editor').updateBlockAttributes(\n                                    tableBlock.clientId,\n                                    {\n                                        className:\n                                            'chart-builder-data-table--hidden',\n                                    },\n                                );\n                            }\n                            setAttributes({ hideTable: !attributes.hideTable });\n                        }}\n                    />\n                </ToolbarGroup>\n            </BlockControls>\n            <InnerBlocks template={TEMPLATE} templateLock=\"all\" />\n        </>\n    );\n};\n\nexport default edit;\n","/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { registerBlockType, createBlock } from '@wordpress/blocks';\nimport { select } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport edit from './edit';\nimport save from './save';\nimport metadata from './block.json';\n\nconst { name } = metadata;\nconst settings = {\n    title: __('PRC Chart Builder'),\n    description: __('Create a custom data-driven chart.'),\n    category: 'widgets',\n    icon: 'chart-area',\n    keywords: [__('chart')],\n    supports: {\n        html: false,\n    },\n    example: {\n        attributes: {\n            chartType: 'bar',\n            className: 'is-style-bar',\n        },\n    },\n    transforms: {\n        from: [\n            {\n                type: 'block',\n                blocks: ['core/table'],\n                transform: (attributes) => {\n                    return createBlock('prc-block/chart-builder-data-wrapper', {\n                        transformed: true,\n                        isConvertedChart: true,\n                        tableHead: attributes.head,\n                        tableBody: attributes.body,\n                    });\n                },\n            },\n        ],\n        to: [\n            {\n                type: 'block',\n                blocks: ['core/table'],\n                transform: (attributes, innerBlocks) => {\n                    const table = innerBlocks.filter(\n                        (block) => block.name === 'core/table',\n                    );\n                    return createBlock('core/table', table.attributes);\n                },\n            },\n        ],\n    },\n    edit,\n    save,\n};\nregisterBlockType(name, { ...metadata, ...settings });\n","/**\n * WordPress dependencies\n */\nimport { InnerBlocks } from '@wordpress/block-editor';\n\nexport default function save(props) {\n    return <InnerBlocks.Content></InnerBlocks.Content>;\n}\n"],"sourceRoot":""}