/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 2.1.28
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2023 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprcBlocksLibraryblocksJsonp=window.wpackioprcBlocksLibraryblocksJsonp||[]).push([[53],{109:function(t,e,r){var n,o,c,i,a;n=r(278),o=r(181).utf8,c=r(279),i=r(181).bin,(a=function t(e,r){e.constructor==String?e=r&&"binary"===r.encoding?i.stringToBytes(e):o.stringToBytes(e):c(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var a=n.bytesToWords(e),s=8*e.length,u=1732584193,l=-271733879,p=-1732584194,f=271733878,y=0;y<a.length;y++)a[y]=16711935&(a[y]<<8|a[y]>>>24)|4278255360&(a[y]<<24|a[y]>>>8);a[s>>>5]|=128<<s%32,a[14+(s+64>>>9<<4)]=s;var d=t._ff,b=t._gg,g=t._hh,m=t._ii;for(y=0;y<a.length;y+=16){var h=u,v=l,w=p,x=f;u=d(u,l,p,f,a[y+0],7,-680876936),f=d(f,u,l,p,a[y+1],12,-389564586),p=d(p,f,u,l,a[y+2],17,606105819),l=d(l,p,f,u,a[y+3],22,-1044525330),u=d(u,l,p,f,a[y+4],7,-176418897),f=d(f,u,l,p,a[y+5],12,1200080426),p=d(p,f,u,l,a[y+6],17,-1473231341),l=d(l,p,f,u,a[y+7],22,-45705983),u=d(u,l,p,f,a[y+8],7,1770035416),f=d(f,u,l,p,a[y+9],12,-1958414417),p=d(p,f,u,l,a[y+10],17,-42063),l=d(l,p,f,u,a[y+11],22,-1990404162),u=d(u,l,p,f,a[y+12],7,1804603682),f=d(f,u,l,p,a[y+13],12,-40341101),p=d(p,f,u,l,a[y+14],17,-1502002290),u=b(u,l=d(l,p,f,u,a[y+15],22,1236535329),p,f,a[y+1],5,-165796510),f=b(f,u,l,p,a[y+6],9,-1069501632),p=b(p,f,u,l,a[y+11],14,643717713),l=b(l,p,f,u,a[y+0],20,-373897302),u=b(u,l,p,f,a[y+5],5,-701558691),f=b(f,u,l,p,a[y+10],9,38016083),p=b(p,f,u,l,a[y+15],14,-660478335),l=b(l,p,f,u,a[y+4],20,-405537848),u=b(u,l,p,f,a[y+9],5,568446438),f=b(f,u,l,p,a[y+14],9,-1019803690),p=b(p,f,u,l,a[y+3],14,-187363961),l=b(l,p,f,u,a[y+8],20,1163531501),u=b(u,l,p,f,a[y+13],5,-1444681467),f=b(f,u,l,p,a[y+2],9,-51403784),p=b(p,f,u,l,a[y+7],14,1735328473),u=g(u,l=b(l,p,f,u,a[y+12],20,-1926607734),p,f,a[y+5],4,-378558),f=g(f,u,l,p,a[y+8],11,-2022574463),p=g(p,f,u,l,a[y+11],16,1839030562),l=g(l,p,f,u,a[y+14],23,-35309556),u=g(u,l,p,f,a[y+1],4,-1530992060),f=g(f,u,l,p,a[y+4],11,1272893353),p=g(p,f,u,l,a[y+7],16,-155497632),l=g(l,p,f,u,a[y+10],23,-1094730640),u=g(u,l,p,f,a[y+13],4,681279174),f=g(f,u,l,p,a[y+0],11,-358537222),p=g(p,f,u,l,a[y+3],16,-722521979),l=g(l,p,f,u,a[y+6],23,76029189),u=g(u,l,p,f,a[y+9],4,-640364487),f=g(f,u,l,p,a[y+12],11,-421815835),p=g(p,f,u,l,a[y+15],16,530742520),u=m(u,l=g(l,p,f,u,a[y+2],23,-995338651),p,f,a[y+0],6,-198630844),f=m(f,u,l,p,a[y+7],10,1126891415),p=m(p,f,u,l,a[y+14],15,-1416354905),l=m(l,p,f,u,a[y+5],21,-57434055),u=m(u,l,p,f,a[y+12],6,1700485571),f=m(f,u,l,p,a[y+3],10,-1894986606),p=m(p,f,u,l,a[y+10],15,-1051523),l=m(l,p,f,u,a[y+1],21,-2054922799),u=m(u,l,p,f,a[y+8],6,1873313359),f=m(f,u,l,p,a[y+15],10,-30611744),p=m(p,f,u,l,a[y+6],15,-1560198380),l=m(l,p,f,u,a[y+13],21,1309151649),u=m(u,l,p,f,a[y+4],6,-145523070),f=m(f,u,l,p,a[y+11],10,-1120210379),p=m(p,f,u,l,a[y+2],15,718787259),l=m(l,p,f,u,a[y+9],21,-343485551),u=u+h>>>0,l=l+v>>>0,p=p+w>>>0,f=f+x>>>0}return n.endian([u,l,p,f])})._ff=function(t,e,r,n,o,c,i){var a=t+(e&r|~e&n)+(o>>>0)+i;return(a<<c|a>>>32-c)+e},a._gg=function(t,e,r,n,o,c,i){var a=t+(e&n|r&~n)+(o>>>0)+i;return(a<<c|a>>>32-c)+e},a._hh=function(t,e,r,n,o,c,i){var a=t+(e^r^n)+(o>>>0)+i;return(a<<c|a>>>32-c)+e},a._ii=function(t,e,r,n,o,c,i){var a=t+(r^(e|~n))+(o>>>0)+i;return(a<<c|a>>>32-c)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,e){if(null==t)throw new Error("Illegal argument "+t);var r=n.wordsToBytes(a(t,e));return e&&e.asBytes?r:e&&e.asString?i.bytesToString(r):n.bytesToHex(r)}},11:function(t,e,r){"use strict";function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}r.d(e,"a",(function(){return n}))},12:function(t,e,r){var n="prcBlocksLibrarydist".replace(/[^a-zA-Z0-9_-]/g,"");r.p=window["__wpackIo".concat(n)]},15:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=r(22);var o=r(17),c=r(23);function i(t,e){return Object(n.a)(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,c=[],i=!0,a=!1;try{for(r=r.call(t);!(i=(n=r.next()).done)&&(c.push(n.value),!e||c.length!==e);i=!0);}catch(t){a=!0,o=t}finally{try{i||null==r.return||r.return()}finally{if(a)throw o}}return c}}(t,e)||Object(o.a)(t,e)||Object(c.a)()}},17:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(11);function o(t,e){if(t){if("string"==typeof t)return Object(n.a)(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Object(n.a)(t,e):void 0}}},181:function(t,e){var r={utf8:{stringToBytes:function(t){return r.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(r.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],r=0;r<t.length;r++)e.push(255&t.charCodeAt(r));return e},bytesToString:function(t){for(var e=[],r=0;r<t.length;r++)e.push(String.fromCharCode(t[r]));return e.join("")}}};t.exports=r},2:function(t,e){t.exports=window.wp.i18n},22:function(t,e,r){"use strict";function n(t){if(Array.isArray(t))return t}r.d(e,"a",(function(){return n}))},23:function(t,e,r){"use strict";function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}r.d(e,"a",(function(){return n}))},278:function(t,e){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],r=0,n=0;r<t.length;r++,n+=8)e[n>>>5]|=t[r]<<24-n%32;return e},wordsToBytes:function(t){for(var e=[],r=0;r<32*t.length;r+=8)e.push(t[r>>>5]>>>24-r%32&255);return e},bytesToHex:function(t){for(var e=[],r=0;r<t.length;r++)e.push((t[r]>>>4).toString(16)),e.push((15&t[r]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(parseInt(t.substr(r,2),16));return e},bytesToBase64:function(t){for(var e=[],n=0;n<t.length;n+=3)for(var o=t[n]<<16|t[n+1]<<8|t[n+2],c=0;c<4;c++)8*n+6*c<=8*t.length?e.push(r.charAt(o>>>6*(3-c)&63)):e.push("=");return e.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var e=[],n=0,o=0;n<t.length;o=++n%4)0!=o&&e.push((r.indexOf(t.charAt(n-1))&Math.pow(2,-2*o+8)-1)<<2*o|r.indexOf(t.charAt(n))>>>6-2*o);return e}},t.exports=n},279:function(t,e){function r(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(r(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&r(t.slice(0,0))}(t)||!!t._isBuffer)}},3:function(t,e){t.exports=window.wp.components},30:function(t,e){t.exports=window.wp.apiFetch},359:function(t){t.exports=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"prc-block/related-posts","title":"Related Posts","category":"design","description":"Display custom related posts defaulting to posts with the same primary taxonomy term.","keywords":["related posts"],"textdomain":"default","attributes":{"taxonomy":{"type":"string"},"postType":{"type":"string","default":"post"},"perPage":{"type":"number","default":5},"queryId":{"type":"string","default":"related-posts-0"}},"supports":{"anchor":true,"align":["wide","full","left","right","center"],"html":false,"spacing":{"blockGap":true,"margin":["top","bottom"],"padding":true,"__experimentalDefaultControls":{"padding":true}},"typography":{"fontSize":true,"__experimentalFontFamily":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true}}}}')},39:function(t,e){t.exports=window.wp.coreData},4:function(t,e){t.exports=window.wp.element},5:function(t,e){t.exports=window.wp.blockEditor},7:function(t,e){t.exports=window.wp.blocks},753:function(t,e,r){r(12),t.exports=r(775)},775:function(t,e,r){"use strict";r.r(e);var n=r(8),o=r(7),c=r(359),i=r(15),a=r(109),s=r.n(a),u=r(4),l=r(9),p=(r(2),r(5)),f=r(3),y=(r(30),r(39)),d=Array.from(Array(19).keys()).filter((function(t){return 17!==t&&0!==t}));function b(t){var e=t.attributes,r=t.setAttributes,n=e.taxonomy,o=(e.postType,e.perPage,Object(y.useEntityProp)("root","site","siteId")),c=Object(i.a)(o,1)[0];return React.createElement(p.InspectorControls,null,React.createElement(f.PanelBody,{title:"Related Posts Query"},React.createElement(f.SelectControl,{label:"Select Taxonomy To Query",help:"Select the taxonomy to query for related posts. First we will query for custom related posts, if there are not enough we will then query posts with the same primary term in the selected taxonomy. If there are not enough posts, we will query for posts with any term in the selected taxonomy. Lastly, if no posts can be found we will use Jetpack's Related Posts feature.",value:n,options:d.includes(c)?[{label:"Formats",value:"formats"},{label:"Research Teams",value:"research-teams"},{label:"Topics",value:"topic"}]:[{label:"Category",value:"category"}],onChange:function(t){r({taxonomy:t})}})))}var g=["prc-block/story-item","core/post-title","core/post-date","core/post-excerpt"],m=[["prc-block/story-item"]];function h(){var t=Object(p.useInnerBlocksProps)({},{alllowedBlocks:g,template:m});return React.createElement("div",t)}var v=Object(u.memo)((function(t){var e=t.blocks,r=t.blockContextId,n=t.isHidden,o=t.setActiveBlockContextId,c=Object(p.__experimentalUseBlockPreview)({blocks:e}),i=function(){o(r)},a={display:n?"none":void 0};return React.createElement("div",Object.assign({},c,{tabIndex:0,role:"button",onClick:i,onKeyPress:i,style:a}))}));var w=function(){return React.createElement(p.InnerBlocks.Content,null)};function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function O(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach((function(e){Object(n.a)(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var k=c.name,j={edit:function(t){var e=t.clientId,r=(t.context,t.attributes),n=t.setAttributes,o=(r.taxonomy,r.perPage),c=r.postType,a=Object(u.useState)(null),d=Object(i.a)(a,2),g=d[0],m=d[1],w=Object(y.useEntityRecords)("postType",c,{per_page:o,post_parent:0,context:"view"}),x=w.records,O=w.isResolving,k=Object(l.useSelect)((function(t){return{blocks:(0,t(p.store).getBlocks)(e)}}),[e]).blocks,j=Object(u.useMemo)((function(){return!x||O?(console.log("No records! Is Resolving"),[]):(console.log("records...",x),null==x?void 0:x.map((function(t){return console.log("post...",t),{queryId:0,postId:t.id,postType:t.type,props:t.props}})))}),[x,O]);Object(u.useEffect)((function(){if(j.length>0){var t=j[0];m(s()(JSON.stringify(t)))}}),[j]);var B=Object(p.useBlockProps)(),S=c.charAt(0).toUpperCase()+c.slice(1);return!x||O?React.createElement("div",B,React.createElement(f.Spinner,{style:{align:"center"}}),React.createElement("p",null,"Loading ","".concat(S))):React.createElement(u.Fragment,null,React.createElement(b,{attributes:r,setAttributes:n}),React.createElement("div",B,j&&j.map((function(t,e){var r=s()(JSON.stringify(t)),n=r===(g||s()(JSON.stringify(j[0])));return React.createElement(p.BlockContextProvider,{key:"context-key--".concat(e),value:t},null===g||n?React.createElement(h,null):null,React.createElement(v,{blocks:k,blockContextId:r,setActiveBlockContextId:m,isHidden:n}))}))))},save:w,icon:function(){return React.createElement("svg",{width:24,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",preserveAspectRatio:"xMidYMid meet",focusable:"false"},React.createElement("path",{d:"M224 0h64V32H448l64 64-64 64H32V32H224V0zm0 224V192h64v32H480V352H64L0 288l64-64H224zm64 160V512H224V384h64z"}))}};Object(o.registerBlockType)(k,O(O({},c),j))},8:function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",(function(){return n}))},9:function(t,e){t.exports=window.wp.data}},[[753,0]]]);
//# sourceMappingURL=related-posts-576f6fca.js.map