{"version":3,"sources":["webpack:///external \"React\"","webpack:///external \"wp.domReady\"","webpack:///./src/fact-sheet-collection/component.js","webpack:///./src/fact-sheet-collection/frontend.js","webpack:///external \"wp.element\"","webpack:///external \"ReactDOM\"","webpack:///external \"wp.url\""],"names":["module","exports","React","wp","domReady","MobileTOC","prcToc","window","List","small","selection","link","data","map","item","active","Item","title","as","href","ListMenu","items","enableFlags","isSmall","celled","horizontal","className","url","Flag","name","label","toLowerCase","DropdownMenu","Dropdown","placeholder","fluid","search","options","onChange","e","value","location","FactSheetCollection","altPost","collectionName","collectionTerms","download","style","useState","activeIndex","setActiveIndex","useMediaQuery","handleClick","titleProps","index","MenuItems","styleOverride","s","undefined","elms","forEach","elm","obj","classList","contains","innerText","key","cleanForSlug","text","flag","push","DesktopView","Divider","marginTop","color","MobileView","Accordion","styled","Title","onClick","Icon","Content","document","querySelectorAll","collection","props","getAttribute","querySelector","Boolean","render","element","ReactDOM"],"mappings":"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","file":"fact-sheet-collection/frontend-ea4a39fa.js","sourcesContent":["module.exports = React;","module.exports = wp.domReady;","/** WordPress Dependencies */\nimport { Fragment, useState } from '@wordpress/element';\nimport { cleanForSlug } from '@wordpress/url';\n\n/** Third Party Dependencies */\nimport {\n    List,\n    Divider,\n    Dropdown,\n    Icon,\n    Flag,\n    Accordion,\n} from 'semantic-ui-react';\nimport { useMediaQuery } from 'beautiful-react-hooks';\n\nconst MobileTOC = () => {\n    const { prcToc } = window;\n    return (\n        <List small selection link>\n            {prcToc.data.map(item => {\n                if (true === item.active) {\n                    return <List.Item active>{item.title}</List.Item>;\n                }\n                return (\n                    <List.Item as=\"a\" href={item.link}>\n                        {item.title}\n                    </List.Item>\n                );\n            })}\n        </List>\n    );\n};\n\nconst ListMenu = ({ items, enableFlags, isSmall = false }) => {\n    return (\n        <List\n            link\n            celled={!isSmall}\n            horizontal={!isSmall}\n            selection={isSmall}\n            className=\"sans-serif\"\n        >\n            {items.map(item => (\n                <List.Item as=\"a\" href={item.url} active={item.active}>\n                    {true === enableFlags && (\n                        <Flag name={item.label.toLowerCase()} />\n                    )}\n                    {item.label}\n                </List.Item>\n            ))}\n        </List>\n    );\n};\n\nconst DropdownMenu = ({ items }) => {\n    return (\n        <Dropdown\n            placeholder=\"Select Fact Sheet\"\n            fluid\n            search\n            selection\n            options={items}\n            onChange={(e, { value }) => {\n                window.location.href = value;\n            }}\n        />\n    );\n};\n\nconst FactSheetCollection = ({\n    altPost,\n    collectionName,\n    collectionTerms,\n    download,\n    enableFlags,\n    style,\n}) => {\n    const [activeIndex, setActiveIndex] = useState(null);\n    const isSmall = useMediaQuery('(max-width: 767px)');\n\n    const handleClick = (e, titleProps) => {\n        const { index } = titleProps;\n        const newIndex = activeIndex === index ? -1 : index;\n        setActiveIndex(newIndex);\n    };\n\n    const MenuItems = ({ styleOverride }) => {\n        let s = style;\n        if (undefined !== styleOverride) {\n            s = styleOverride;\n        }\n        const elms = [];\n        collectionTerms.forEach(elm => {\n            const obj = {\n                active: elm.classList.contains('active'),\n            };\n            if ('is-style-list' === s) {\n                obj.label = elm.innerText;\n                obj.url = elm.href;\n            } else {\n                obj.key = cleanForSlug(elm.innerText);\n                obj.value = elm.href;\n                obj.text = elm.innerText;\n                if (true === enableFlags) {\n                    obj.flag = elm.innerText.toLowerCase();\n                }\n            }\n            elms.push(obj);\n        });\n        return (\n            <Fragment>\n                {'is-style-dropdown' === s && <DropdownMenu items={elms} />}\n                {'is-style-list' === s && (\n                    <ListMenu\n                        items={elms}\n                        enableFlags={enableFlags}\n                        isSmall={isSmall}\n                    />\n                )}\n            </Fragment>\n        );\n    };\n\n    const DesktopView = () => {\n        if (isSmall) {\n            return <Fragment />;\n        }\n        return (\n            <Fragment>\n                <Divider />\n                <div className=\"ui sub header\" style={{ marginTop: 0 }}>\n                    {collectionName}\n                </div>\n                <MenuItems />\n                <Divider />\n                {false !== download && (\n                    <a\n                        href={download.href}\n                        download\n                        style={{ color: 'black' }}\n                        className=\"sans-serif\"\n                    >\n                        <i className=\"icon file pdf outline\" />\n                        Download a PDF version of this fact sheet\n                    </a>\n                )}\n            </Fragment>\n        );\n    };\n\n    const MobileView = () => {\n        if (!isSmall) {\n            return <Fragment />;\n        }\n        return (\n            <Accordion styled>\n                <Accordion.Title\n                    active={0 === activeIndex}\n                    index={0}\n                    onClick={handleClick}\n                >\n                    <Icon name=\"dropdown\" />\n                    Table Of Contents\n                </Accordion.Title>\n                <Accordion.Content active={0 === activeIndex}>\n                    <MobileTOC />\n                </Accordion.Content>\n                <Accordion.Title\n                    active={1 === activeIndex}\n                    index={1}\n                    onClick={handleClick}\n                >\n                    <Icon name=\"dropdown\" />\n                    {collectionName}\n                </Accordion.Title>\n                <Accordion.Content active={1 === activeIndex}>\n                    <MenuItems styleOverride=\"is-style-list\" />\n                </Accordion.Content>\n                {false !== download && (\n                    <Accordion.Title\n                        active={2 === activeIndex}\n                        index={2}\n                        onClick={() => {\n                            window.location.href = download.href;\n                        }}\n                    >\n                        <i className=\"icon file pdf outline\" />\n                        Download a PDF version of this fact sheet\n                    </Accordion.Title>\n                )}\n            </Accordion>\n        );\n    };\n\n    return (\n        <div>\n            <p className=\"sans-serif\">\n                <a href={altPost.href}>{altPost.innerText}</a>\n            </p>\n            <DesktopView />\n            <MobileView />\n        </div>\n    );\n};\n\nexport default FactSheetCollection;\n","import { render } from '@wordpress/element';\nimport domReady from '@wordpress/dom-ready';\n\nimport FactSheetCollection from './component';\n\nconst factSheetCollectionLoader = () => {\n    const collections = document.querySelectorAll('.wp-block-prc-block-fact-sheet-collection');\n    collections.forEach(collection => {\n        const props = {\n            altPost: false,\n            collectionName: '',\n            collectionTerms: false,\n            download: false,\n            enableFlags: false,\n            style: collection.getAttribute('data-style'),\n        }\n\n        if ( collection.querySelector('.fact-sheet-alt-url') ) {\n            props.altPost = collection.querySelector('.fact-sheet-alt-url');\n        }\n\n        if ( collection.querySelector('.fact-sheet-collection-terms') ) {\n            props.collectionTerms = collection.querySelectorAll('.fact-sheet-collection-terms > .item');\n            props.collectionName = collection.querySelector('.fact-sheet-collection-terms').getAttribute('data-collection-name');\n            props.enableFlags = Boolean(collection.querySelector('.fact-sheet-collection-terms').getAttribute('data-enable-flags'));\n        }\n\n        if ( collection.querySelector('.fact-sheet-download') ) {\n            props.download = collection.querySelector('.fact-sheet-download');\n        }\n\n        render(<FactSheetCollection {...props} />, collection);\n    });\n}\n\ndomReady(() => factSheetCollectionLoader());","module.exports = wp.element;","module.exports = ReactDOM;","module.exports = wp.url;"],"sourceRoot":""}