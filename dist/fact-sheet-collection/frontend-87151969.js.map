{"version":3,"sources":["webpack:///external [\"wp\",\"domReady\"]","webpack:///external [\"wp\",\"viewport\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"data\"]","webpack:///./src/fact-sheet-collection/component.js","webpack:///./src/fact-sheet-collection/frontend.js","webpack:///external [\"wp\",\"url\"]"],"names":["module","exports","window","MobileTOC","prcToc","List","small","selection","link","data","map","item","active","Item","title","as","href","ListMenu","items","enableFlags","isSmall","celled","horizontal","className","url","Flag","name","label","toLowerCase","DropdownMenu","Dropdown","placeholder","fluid","search","options","onChange","e","value","location","FactSheetCollection","altPost","collectionName","collectionTerms","download","style","useState","activeIndex","setActiveIndex","select","store","isViewportMatch","handleClick","titleProps","index","MenuItems","styleOverride","s","undefined","elms","forEach","elm","obj","classList","contains","innerText","key","cleanForSlug","text","flag","push","DesktopView","Divider","marginTop","color","MobileView","Accordion","styled","Title","onClick","Icon","Content","domReady","document","querySelectorAll","collection","props","getAttribute","querySelector","Boolean","render"],"mappings":"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","file":"fact-sheet-collection/frontend-87151969.js","sourcesContent":["(function() { module.exports = window[\"wp\"][\"domReady\"]; }());","(function() { module.exports = window[\"wp\"][\"viewport\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"data\"]; }());","/** WordPress Dependencies */\nimport { Fragment, useState } from '@wordpress/element';\nimport { cleanForSlug } from '@wordpress/url';\nimport { select } from '@wordpress/data';\nimport { store } from '@wordpress/viewport';\n\n/** Third Party Dependencies */\nimport {\n    List,\n    Divider,\n    Dropdown,\n    Icon,\n    Flag,\n    Accordion,\n} from 'semantic-ui-react';\n\nconst MobileTOC = () => {\n    const { prcToc } = window;\n    return (\n        <List small selection link>\n            {prcToc.data.map(item => {\n                if (true === item.active) {\n                    return <List.Item active>{item.title}</List.Item>;\n                }\n                return (\n                    <List.Item as=\"a\" href={item.link}>\n                        {item.title}\n                    </List.Item>\n                );\n            })}\n        </List>\n    );\n};\n\nconst ListMenu = ({ items, enableFlags, isSmall = false }) => {\n    return (\n        <List\n            link\n            celled={!isSmall}\n            horizontal={!isSmall}\n            selection={isSmall}\n            className=\"sans-serif\"\n        >\n            {items.map(item => (\n                <List.Item as=\"a\" href={item.url} active={item.active}>\n                    {true === enableFlags && (\n                        <Flag name={item.label.toLowerCase()} />\n                    )}\n                    {item.label}\n                </List.Item>\n            ))}\n        </List>\n    );\n};\n\nconst DropdownMenu = ({ items }) => {\n    return (\n        <Dropdown\n            placeholder=\"Select Fact Sheet\"\n            fluid\n            search\n            selection\n            options={items}\n            onChange={(e, { value }) => {\n                window.location.href = value;\n            }}\n        />\n    );\n};\n\nconst FactSheetCollection = ({\n    altPost,\n    collectionName,\n    collectionTerms,\n    download,\n    enableFlags,\n    style,\n}) => {\n    const [activeIndex, setActiveIndex] = useState(null);\n    const isSmall = select( store ).isViewportMatch( '< medium' );\n\n    const handleClick = (e, titleProps) => {\n        const { index } = titleProps;\n        const newIndex = activeIndex === index ? -1 : index;\n        setActiveIndex(newIndex);\n    };\n\n    const MenuItems = ({ styleOverride }) => {\n        let s = style;\n        if (undefined !== styleOverride) {\n            s = styleOverride;\n        }\n        const elms = [];\n        collectionTerms.forEach(elm => {\n            const obj = {\n                active: elm.classList.contains('active'),\n            };\n            if ('is-style-list' === s) {\n                obj.label = elm.innerText;\n                obj.url = elm.href;\n            } else {\n                obj.key = cleanForSlug(elm.innerText);\n                obj.value = elm.href;\n                obj.text = elm.innerText;\n                if (true === enableFlags) {\n                    obj.flag = elm.innerText.toLowerCase();\n                }\n            }\n            elms.push(obj);\n        });\n        return (\n            <Fragment>\n                {'is-style-dropdown' === s && <DropdownMenu items={elms} />}\n                {'is-style-list' === s && (\n                    <ListMenu\n                        items={elms}\n                        enableFlags={enableFlags}\n                        isSmall={isSmall}\n                    />\n                )}\n            </Fragment>\n        );\n    };\n\n    const DesktopView = () => {\n        return (\n            <Fragment>\n                <Divider />\n                <div className=\"ui sub header\" style={{ marginTop: 0 }}>\n                    {collectionName}\n                </div>\n                <MenuItems />\n                <Divider />\n                {false !== download && (\n                    <a\n                        href={download.href}\n                        download\n                        style={{ color: 'black' }}\n                        className=\"sans-serif\"\n                    >\n                        <i className=\"icon file pdf outline\" />\n                        Download a PDF version of this fact sheet\n                    </a>\n                )}\n            </Fragment>\n        );\n    };\n\n    const MobileView = () => {\n        return (\n            <Accordion styled>\n                <Accordion.Title\n                    active={0 === activeIndex}\n                    index={0}\n                    onClick={handleClick}\n                >\n                    <Icon name=\"dropdown\" />\n                    Table Of Contents\n                </Accordion.Title>\n                <Accordion.Content active={0 === activeIndex}>\n                    <MobileTOC />\n                </Accordion.Content>\n                <Accordion.Title\n                    active={1 === activeIndex}\n                    index={1}\n                    onClick={handleClick}\n                >\n                    <Icon name=\"dropdown\" />\n                    {collectionName}\n                </Accordion.Title>\n                <Accordion.Content active={1 === activeIndex}>\n                    <MenuItems styleOverride=\"is-style-list\" />\n                </Accordion.Content>\n                {false !== download && (\n                    <Accordion.Title\n                        active={2 === activeIndex}\n                        index={2}\n                        onClick={() => {\n                            window.location.href = download.href;\n                        }}\n                    >\n                        <i className=\"icon file pdf outline\" />\n                        Download a PDF version of this fact sheet\n                    </Accordion.Title>\n                )}\n            </Accordion>\n        );\n    };\n\n    return (\n        <div>\n            <p className=\"sans-serif\">\n                <a href={altPost.href}>{altPost.innerText}</a>\n            </p>\n            {!isSmall && <DesktopView />}\n            {isSmall && <MobileView />}\n        </div>\n    );\n};\n\nexport default FactSheetCollection;\n","import { render } from '@wordpress/element';\nimport domReady from '@wordpress/dom-ready';\n\nimport FactSheetCollection from './component';\n\nconst factSheetCollectionLoader = () => {\n    const collections = document.querySelectorAll('.wp-block-prc-block-fact-sheet-collection');\n    collections.forEach(collection => {\n        const props = {\n            altPost: false,\n            collectionName: '',\n            collectionTerms: false,\n            download: false,\n            enableFlags: false,\n            style: collection.getAttribute('data-style'),\n        }\n\n        if ( collection.querySelector('.fact-sheet-alt-url') ) {\n            props.altPost = collection.querySelector('.fact-sheet-alt-url');\n        }\n\n        if ( collection.querySelector('.fact-sheet-collection-terms') ) {\n            props.collectionTerms = collection.querySelectorAll('.fact-sheet-collection-terms > .item');\n            props.collectionName = collection.querySelector('.fact-sheet-collection-terms').getAttribute('data-collection-name');\n            props.enableFlags = Boolean(collection.querySelector('.fact-sheet-collection-terms').getAttribute('data-enable-flags'));\n        }\n\n        if ( collection.querySelector('.fact-sheet-download') ) {\n            props.download = collection.querySelector('.fact-sheet-download');\n        }\n\n        render(<FactSheetCollection {...props} />, collection);\n    });\n}\n\ndomReady(() => factSheetCollectionLoader());","(function() { module.exports = window[\"wp\"][\"url\"]; }());"],"sourceRoot":""}