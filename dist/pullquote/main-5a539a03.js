/*!
 * 
 * prcBlocksLibrary
 * 
 * @author Seth Rubenstein
 * @version 0.1.0
 * @link UNLICENSED
 * @license UNLICENSED
 * 
 * Copyright (c) 2020 Seth Rubenstein
 * 
 * This software is released under the UNLICENSED License
 * https://opensource.org/licenses/UNLICENSED
 * 
 * Compiled with the help of https://wpack.io
 * A zero setup Webpack Bundler Script for WordPress
 */
(window.wpackioprcBlocksLibrarypullquoteJsonp=window.wpackioprcBlocksLibrarypullquoteJsonp||[]).push([[0],[,function(t,e){t.exports=lodash},function(t,e){t.exports=wp.data},function(t,e){t.exports=wp.element},,function(t,e){t.exports=wp.blocks},function(t,e){t.exports=wp.i18n},,function(t,e){t.exports=wp.blockEditor},,,,,function(t){t.exports=JSON.parse('{"name":"prc-block/pullquote","category":"text","attributes":{"value":{"type":"string","source":"html","selector":"blockquote","multiline":"p"},"citation":{"type":"string","source":"html","selector":"cite","default":""},"mainColor":{"type":"string"},"customMainColor":{"type":"string"},"textColor":{"type":"string"},"customTextColor":{"type":"string"}},"supports":{"anchor":true,"align":["left","right","wide","full"]}}')},,,,,,,,,,,,function(t,e,o){o(26),t.exports=o(28)},,,function(t,e,o){"use strict";o.r(e);var r=o(4),c=o(5),l=o(6),a=o(31),n=o(0),i=o(19),u=o(20),s=o(12),p=o(22),b=o(21),m=o(16),f=o(10),O=o.n(f),h=o(1),j=o(3),y=o(8),v="is-style-".concat("solid-color");function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var o,r=Object(m.a)(t);if(e){var c=Object(m.a)(this).constructor;o=Reflect.construct(r,arguments,c)}else o=r.apply(this,arguments);return Object(b.a)(this,o)}}var C=function(t){Object(p.a)(o,t);var e=g(o);function o(t){var r;return Object(i.a)(this,o),(r=e.call(this,t)).wasTextColorAutomaticallyComputed=!1,r.pullQuoteMainColorSetter=r.pullQuoteMainColorSetter.bind(Object(s.a)(r)),r.pullQuoteTextColorSetter=r.pullQuoteTextColorSetter.bind(Object(s.a)(r)),r}return Object(u.a)(o,[{key:"componentDidUpdate",value:function(t){var e=this.props,o=e.attributes,r=e.className,c=e.mainColor,l=e.setAttributes;o.mainColor&&!Object(h.includes)(r,v)&&Object(h.includes)(t.className,v)&&l({mainColor:void 0,customMainColor:c.color})}},{key:"pullQuoteMainColorSetter",value:function(t){var e=this.props,o=e.colorUtils,r=e.textColor,c=e.setAttributes,l=e.setTextColor,a=e.setMainColor,n=e.className,i=Object(h.includes)(n,v),u=!r.color||this.wasTextColorAutomaticallyComputed,s=i&&u;i?a(t):c({customMainColor:t}),s&&(t?(this.wasTextColorAutomaticallyComputed=!0,l(o.getMostReadableColor(t))):this.wasTextColorAutomaticallyComputed&&(this.wasTextColorAutomaticallyComputed=!1,l()))}},{key:"pullQuoteTextColorSetter",value:function(t){(0,this.props.setTextColor)(t),this.wasTextColorAutomaticallyComputed=!1}},{key:"render",value:function(){var t=this.props,e=t.attributes,o=t.mainColor,r=t.textColor,a=t.setAttributes,i=t.isSelected,u=t.className,s=t.insertBlocksAfter,p=e.value,b=e.citation,m={"--mark-color":o.color},f=O()(u),h={color:r.color},j=r.color&&O()("has-text-color",Object(n.a)({},r.class,r.class));return React.createElement(React.Fragment,null,React.createElement("figure",{style:m,className:f},React.createElement("blockquote",{style:h,className:j},React.createElement(y.RichText,{identifier:"value",multiline:!0,value:p,onChange:function(t){return a({value:t})},placeholder:Object(l.__)("Write quote…"),textAlign:"center"}),(!y.RichText.isEmpty(b)||i)&&React.createElement(y.RichText,{identifier:"citation",value:b,placeholder:Object(l.__)("Write citation…"),onChange:function(t){return a({citation:t})},__unstableMobileNoFocusOnMount:!0,textAlign:"center",__unstableOnSplitAtEnd:function(){return s(Object(c.createBlock)("core/paragraph"))}}))),React.createElement(y.InspectorControls,null,React.createElement(y.PanelColorSettings,{title:Object(l.__)("Color settings"),colorSettings:[{value:o.color,onChange:this.pullQuoteMainColorSetter,label:Object(l.__)("Mark color")},{value:r.color,onChange:this.pullQuoteTextColorSetter,label:Object(l.__)("Text color")}]})))}}]),o}(j.Component),d=Object(y.withColors)({mainColor:"--mark-color",textColor:"color"})(C),k=o(13);var x=o(15),w=o(7);function T(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function _(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?T(Object(o),!0).forEach((function(e){Object(n.a)(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):T(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var R={from:[{type:"block",isMultiBlock:!0,blocks:["core/paragraph"],transform:function(t){return Object(c.createBlock)("prc-block/pullquote",{value:Object(w.d)({value:Object(w.b)(t.map((function(t){var e=t.content;return Object(w.a)({html:e})})),"\u2028"),multilineTag:"p"}),anchor:t.anchor})}},{type:"block",blocks:["core/heading"],transform:function(t){var e=t.content,o=t.anchor;return Object(c.createBlock)("prc-block/pullquote",{value:"<p>".concat(e,"</p>"),anchor:o})}}],to:[{type:"block",blocks:["core/paragraph"],transform:function(t){var e=t.value,o=t.citation,l=[];return e&&"<p></p>"!==e&&l.push.apply(l,Object(r.a)(Object(w.c)(Object(w.a)({html:e,multilineTag:"p"}),"\u2028").map((function(t){return Object(c.createBlock)("core/paragraph",{content:Object(w.d)({value:t})})})))),o&&"<p></p>"!==o&&l.push(Object(c.createBlock)("core/paragraph",{content:o})),0===l.length?Object(c.createBlock)("core/paragraph",{content:""}):l}},{type:"block",blocks:["core/heading"],transform:function(t){var e=t.value,o=t.citation,r=Object(x.a)(t,["value","citation"]);if("<p></p>"===e)return Object(c.createBlock)("core/heading",{content:o});var l=Object(w.c)(Object(w.a)({html:e,multilineTag:"p"}),"\u2028"),a=Object(c.createBlock)("core/heading",{content:Object(w.d)({value:l[0]})});if(!o&&1===l.length)return a;var n=l.slice(1);return[a,Object(c.createBlock)("prc-block/pullquote",_(_({},r),{},{citation:o,value:Object(w.d)({value:n.length?Object(w.b)(l.slice(1),"\u2028"):Object(w.a)(),multilineTag:"p"})}))]}}]},M=k.name,E=k.category,S=k.attributes,B=k.supports,N=[M,{title:Object(l.__)("Pullquote"),description:Object(l.__)("Give special visual emphasis to a quote from your text."),icon:a.a,category:E,attributes:S,supports:B,example:{attributes:{value:"<p>".concat(Object(l.__)("One of the hardest things to do in technology is disrupt yourself."),"</p>"),citation:Object(l.__)("Matt Mullenweg")}},styles:[{name:"has-marks",label:Object(l._x)("Has Marks","block style"),isDefault:!0},{name:"no-marks",label:Object(l.__)("No Marks")}],transforms:R,edit:d,save:function(t){var e=t.attributes,o=e.customMainColor,r=e.textColor,c=e.customTextColor,l=e.value,a=e.citation,i=(e.className,{"--mark-color":o}),u=Object(y.getColorClassName)("color",r),s=(r||c)&&O()("has-text-color",Object(n.a)({},u,u)),p=u?void 0:{color:c};return React.createElement("figure",{className:void 0,style:i},React.createElement("blockquote",{className:s,style:p},React.createElement(y.RichText.Content,{value:l,multiline:!0}),!y.RichText.isEmpty(a)&&React.createElement(y.RichText.Content,{tagName:"cite",value:a})))}}];c.registerBlockType.apply(void 0,Object(r.a)(N))}],[[25,1,2]]]);
//# sourceMappingURL=main-5a539a03.js.map