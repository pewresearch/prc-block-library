{"version":3,"file":"view.js","mappings":"iEAMA,MAWM,QAAEA,GAAYC,EAAM,uBAAwB,CACjDD,QAAS,CACR,WAACE,GACA,MAAM,IAAEC,GAAQC,IAEZD,EAAIE,UAAUC,SAAS,8BAftB,IAAIC,QAAQ,CAACC,EAASC,KAC5B,MAAMC,EAASC,SAASC,cAAc,UACtCF,EAAOG,IACN,4EACDH,EAAOI,OAASN,EAChBE,EAAOK,QAAUN,EACjBE,SAASK,KAAKC,YAAYP,KAWtBQ,KAAK,KACLC,WAAW,qCAAsC,CAChDC,kBAAkB,MAGnBC,MAAOC,IACPC,QAAQD,MACP,oCACAA,KAIL,GAEDE,UAAW,CACV,OAACC,SACMzB,EAAQE,YACf","sources":["webpack://@prc/block-library/./src/core-group/view.js"],"sourcesContent":["/**\n * WordPress Dependencies\n */\n\nimport { store, getElement } from '@wordpress/interactivity';\n\nconst loadStickyBitsScript = () => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst script = document.createElement('script');\n\t\tscript.src =\n\t\t\t'https://cdnjs.cloudflare.com/ajax/libs/stickybits/3.7.4/stickybits.min.js';\n\t\tscript.onload = resolve;\n\t\tscript.onerror = reject;\n\t\tdocument.head.appendChild(script);\n\t});\n};\n\nconst { actions } = store('prc-block/core-group', {\n\tactions: {\n\t\t*initSticky() {\n\t\t\tconst { ref } = getElement();\n\t\t\t// check if the ref has class name of is-position-sticky\n\t\t\tif (ref.classList.contains('is-position-sticky')) {\n\t\t\t\tyield loadStickyBitsScript()\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tstickybits('.wp-block-group.is-position-sticky', {\n\t\t\t\t\t\t\tuseStickyClasses: true,\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.error(\n\t\t\t\t\t\t\t'Failed to load stickybits script:',\n\t\t\t\t\t\t\terror\n\t\t\t\t\t\t);\n\t\t\t\t\t});\n\t\t\t}\n\t\t},\n\t},\n\tcallbacks: {\n\t\t*onInit() {\n\t\t\tyield actions.initSticky();\n\t\t},\n\t},\n});\n"],"names":["actions","store","initSticky","ref","getElement","classList","contains","Promise","resolve","reject","script","document","createElement","src","onload","onerror","head","appendChild","then","stickybits","useStickyClasses","catch","error","console","callbacks","onInit"],"sourceRoot":""}