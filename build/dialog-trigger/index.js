(()=>{"use strict";var e,o={6303:()=>{const e=window.wp.blocks,o=window.wp.i18n,i=window.wp.element,t=window.wp.blockEditor,l=window.wp.components,n=window.wp.data,r={id:null,dialogs:{}},a="prc-block/dialog",s=((0,n.createReduxStore)(a,{reducer:(e=r,o)=>{switch(o.type){case"INIT_DIALOG":{const{id:i}=o;return i?{...e,id:i,dialogs:{...e.dialogs,[i]:{isOpen:!1,closingModal:!1}}}:e}case"DESTROY_DIALOG":{const{id:i}=o;if(!i)return e;const t={...e.dialogs};delete t[i];let l=e.id;return e.id===i&&(l=Object.keys(t)[0]||null),{...e,id:l,dialogs:t}}case"OPEN_DIALOG":{let i=o.id;return i||(i=e.id),i?{...e,dialogs:{...e.dialogs,[i]:{...e.dialogs[i],isOpen:!0,closingModal:!1}}}:e}case"CLOSE_DIALOG":{let i=o.id;return i||(i=e.id),i?{...e,dialogs:{...e.dialogs,[i]:{...e.dialogs[i],isOpen:!1,closingModal:!0}}}:e}default:return e}},actions:{init:e=>({type:"INIT_DIALOG",id:e}),destroy:e=>({type:"DESTROY_DIALOG",id:e}),open:(e=!1)=>({type:"OPEN_DIALOG",id:e}),close:(e=!1)=>({type:"CLOSE_DIALOG",id:e})},selectors:{isOpen:(e,o)=>!(!o||!e.dialogs[o])&&e.dialogs[o].isOpen,isClosingModal:(e,o)=>!(!o||!e.dialogs[o])&&e.dialogs[o].closingModal}}),window.ReactJSXRuntime),d=window.prcIcons,c=[{attributes:{allowedBlocks:{type:"array"},disengageClickHandler:{type:"boolean",default:!1}},save:()=>(0,s.jsx)(t.InnerBlocks.Content,{})}],p=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/dialog-trigger","version":"1.1.0","title":"Dialog Trigger","description":"The content inside this block will act as the clickable \'trigger\' to display the dialog element.","category":"media","attributes":{},"supports":{"html":false,"align":false,"inserter":false,"spacing":{"margin":["top","bottom"],"padding":true,"__experimentalDefaultControls":{"padding":true}},"typography":{"fontSize":true,"__experimentalFontFamily":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true}},"interactivity":true},"usesContext":["dialog/id","dialog/className"],"parent":["prc-block/dialog"],"textdomain":"dialog-trigger","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),{name:g}=p,u={icon:function(){return(0,s.jsx)(d.Icon,{icon:"window-restore"})},edit:function({attributes:e,context:r,clientId:d}){var c;const p=null!==(c=r["dialog/id"])&&void 0!==c?c:null,{dialogElementClientId:g,isDialogOpen:u}=(0,n.useSelect)(e=>{const{getBlock:o,getBlockRootClientId:i}=e(t.store),l=o(i(d)),n=l?.innerBlocks?.find(e=>"prc-block/dialog-element"===e.name),r=n?.clientId;return{dialogElementClientId:r,isDialogOpen:!!r&&e(a).isOpen(r)}},[d]),{open:b,close:k}=(0,n.useDispatch)(a),O=(0,t.useBlockProps)({"aria-haspopup":"dialog","aria-controls":p,"aria-expanded":u?"true":"false",type:"button"}),m=(0,t.useInnerBlocksProps)(O,{templateLock:!1}),h=(0,i.useMemo)(()=>u?(0,o.__)("Close Dialog"):(0,o.__)("Edit Dialog"),[u]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.BlockControls,{__experimentalShareWithChildBlocks:!0,children:(0,s.jsx)(l.ToolbarGroup,{children:(0,s.jsx)(l.ToolbarButton,{label:h,onClick:()=>{g?u?k(g):b(g):console.warn("No dialog-element block found. Please add a dialog-element block to the parent dialog.")},children:h})})}),(0,s.jsx)("button",{...m})]})},save:function({attributes:e}){return(0,s.jsx)(t.InnerBlocks.Content,{})},deprecated:c};(0,e.registerBlockType)(g,{...p,...u})}},i={};function t(e){var l=i[e];if(void 0!==l)return l.exports;var n=i[e]={exports:{}};return o[e](n,n.exports,t),n.exports}t.m=o,e=[],t.O=(o,i,l,n)=>{if(!i){var r=1/0;for(c=0;c<e.length;c++){for(var[i,l,n]=e[c],a=!0,s=0;s<i.length;s++)(!1&n||r>=n)&&Object.keys(t.O).every(e=>t.O[e](i[s]))?i.splice(s--,1):(a=!1,n<r&&(r=n));if(a){e.splice(c--,1);var d=l();void 0!==d&&(o=d)}}return o}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[i,l,n]},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={681:0,8461:0};t.O.j=o=>0===e[o];var o=(o,i)=>{var l,n,[r,a,s]=i,d=0;if(r.some(o=>0!==e[o])){for(l in a)t.o(a,l)&&(t.m[l]=a[l]);if(s)var c=s(t)}for(o&&o(i);d<r.length;d++)n=r[d],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(c)},i=globalThis.webpackChunk_prc_block_library=globalThis.webpackChunk_prc_block_library||[];i.forEach(o.bind(null,0)),i.push=o.bind(null,i.push.bind(i))})();var l=t.O(void 0,[8461],()=>t(6303));l=t.O(l)})();
//# sourceMappingURL=index.js.map