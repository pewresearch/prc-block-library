(()=>{"use strict";var e,t={112:(e,t,i)=>{const a=window.wp.blocks,s=window.prcHooks,r=window.wp.element,o=window.wp.blockEditor,l=window.React,n=window.prcComponents,c=window.wp.i18n,d=window.lodash,p=window.wp.components,h=window.wp.coreData,m=window.classnames;var u=i.n(m);const b=window.wp.apiFetch;var g=i.n(b);const x=window.wp.date,y=(e,t={imageSize:"A1"})=>{if(console.log("getAttributesFromPost",e,t),null===e)return{};const i={title:e.hasOwnProperty("title")&&e.title.hasOwnProperty("rendered")?e.title.rendered:"",excerpt:e.hasOwnProperty("excerpt")&&e.excerpt.hasOwnProperty("rendered")?e.excerpt.rendered:"",url:e.link,label:e.hasOwnProperty("label")?e.label:"report",date:(0,x.date)("M j, Y",e.date),postId:e.id,postType:e.type};if(e.art_direction){const{imageSize:a}=t;i.image=e.art_direction[a].rawUrl,i.isChartArt=e.art_direction[a].chartArt}return i},v=e=>{const{setAttributes:t,postId:i=!1,postType:a="post",imageSize:s="A1",isRefresh:r=!1}=e;if(!1===i||void 0===t)return;const o="post"===a?"posts":a;g()({path:`/wp/v2/${o}/${i}`,method:"GET"}).then(e=>{if(!1!==e){const i=y(e,{imageSize:s});t(i)}}).catch(e=>console.error(e))},w=(e,t=!1)=>{const{imageSlot:i,imageSize:a,enableEmphasis:s,enableExcerptBelow:r,className:l,postId:n}=e,c={bordered:s,"alt-excerpt":r};"disabled"!==i&&(c[i]=!0,c.aligned=!0);const d={className:u()("story item",l,c),"data-post-id":n};return"disabled"!==i&&""!==a&&(d["data-image-size"]=a),(0,o.useBlockProps)(d)},f=window.ReactJSXRuntime,j=function({attributes:e,setAttributes:t,context:i}){const a=void 0!==i.queryId&&void 0!==i.postId&&void 0!==i.postType&&0!==i.postId&&Number.isInteger(i.postId),[s,l]=(0,r.useState)(!1),{imageSize:h,imageSlot:m,enableHeader:u,enableExcerpt:b,enableExcerptBelow:g,enableExtra:x,enableLinkList:y,disableMobileStyles:w,enableMeta:j,metaTaxonomy:A}=e,S=i?.postId||e?.postId,C=(0,c.__)("Story Item Options");return(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(o.InspectorControls,{children:(0,f.jsxs)(p.PanelBody,{title:C,children:[(0,f.jsxs)(p.BaseControl,{help:(0,c.__)("Toggle specific features of a Story Item on or off, for example you can turn off the meta area (date and taxonomy)."),children:[(0,f.jsx)(p.ToggleControl,{label:j?"Meta Enabled":"Meta Disabled",checked:j,onChange:()=>{t({enableMeta:!j})}}),(0,f.jsx)(p.ToggleControl,{label:"disabled"!==m?"Image Enabled":"Image Disabled",checked:"disabled"!==m,onChange:()=>{t({imageSlot:"disabled"===m?"top":"disabled"})}}),(0,f.jsx)(p.ToggleControl,{label:u?"Header Enabled":"Header Disabled",checked:u,onChange:()=>{t({enableHeader:!u})}}),(0,f.jsx)(p.ToggleControl,{label:b?"Excerpt Enabled":"Excerpt Disabled",checked:b,onChange:()=>{t({enableExcerpt:!b})}}),!a&&(0,f.jsx)(p.ToggleControl,{label:x?"Extras Enabled":"Extras Disabled",checked:x,onChange:()=>{t({enableExtra:!x})}})]}),(0,f.jsx)(p.CardDivider,{}),(0,f.jsx)(n.TaxonomySelect,{value:A,onChange:e=>{t({metaTaxonomy:e})}})]})}),(0,f.jsxs)(o.InspectorAdvancedControls,{children:[(0,f.jsx)(p.ToggleControl,{label:w?"Mobile Styling Disabled":"Mobile Styling Enabled",help:(0,c.__)("On mobile left aligned images are right aligned and bottom aligned images are top aligned. Additionally, headers max out at medium on mobile style."),checked:w,onChange:()=>{t({disableMobileStyles:!w})}}),!a&&(0,f.jsxs)(r.Fragment,{children:[(0,d.isInteger)(S)&&0!==S&&(0,f.jsx)("div",{children:(0,f.jsx)(p.Button,{variant:"secondary",isBusy:s,onClick:()=>{l(!0),setTimeout(()=>{v({postId:S,imageSize:h,isRefresh:!0,setAttributes:t}),l(!1)},500)},style:{marginBottom:"1em"},text:(0,c.__)("Refresh Post Data")})}),(0,f.jsx)("div",{children:(0,f.jsx)(p.Button,{isDestructive:!0,variant:"secondary",isBusy:s,onClick:()=>{l(!0),setTimeout(()=>{t({title:"",excerpt:"",extra:"",url:"",label:"",date:"",image:"",postId:0}),l(!1)},500)},style:{marginBottom:"1em"},text:(0,c.__)("Reset Story Item Block")})})]})]})]})},A=window.prcIcons;function S({attributes:e,setAttributes:t}){const{postId:i,postType:a,imageSize:s,url:r}=e,l=(0,o.useBlockProps)();return(0,f.jsx)("div",{...l,children:(0,f.jsxs)(p.Placeholder,{icon:()=>{A.Icon},label:(0,c.__)(" Story Item","prc-block-library"),isColumnLayout:!0,instructions:`Search for a ${a}, or paste a url here to get started.`,children:[(0,f.jsx)(p.SelectControl,{label:(0,c.__)("Post Type","prc-block-library"),value:a,options:[{label:(0,c.__)("Post","prc-block-library"),value:"post"},{label:(0,c.__)("Short Read","prc-block-library"),value:"short-read"},{label:(0,c.__)("Fact Sheet","prc-block-library"),value:"fact-sheet"},{label:(0,c.__)("Editorial Feature","prc-block-library"),value:"feature"}],onChange:e=>t({postType:e})}),(0,f.jsx)(n.WPEntitySearch,{placeholder:"Climate Change",searchValue:r,onSelect:e=>{v({setAttributes:t,postId:e.entityId,postType:e.entitySubType,imageSize:s})},onKeyEnter:()=>{},onKeyESC:()=>{},entityId:i,entityType:"postType",entitySubType:a,perPage:10,hideChildren:!0,clearOnSelect:!1,createNew:!1,showExcerpt:!0,showType:!0,searchSize:"default"}),(0,f.jsx)(p.Button,{isLink:!0,onClick:()=>{t({postId:0})},text:(0,c.__)("Skip"),style:{paddingLeft:"9px",marginTop:"10px"}})]})})}const C=window.wp.primitives,k=(0,f.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(C.Path,{d:"m14.5 6.5-1 1 3.7 3.7H4v1.6h13.2l-3.7 3.7 1 1 5.6-5.5z"})}),I=(0,f.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(C.Path,{d:"M20 11.2H6.8l3.7-3.7-1-1L3.9 12l5.6 5.5 1-1-3.7-3.7H20z"})}),T=(0,f.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(C.Path,{d:"M12 3.9 6.5 9.5l1 1 3.8-3.7V20h1.5V6.8l3.7 3.7 1-1z"})}),M=(0,f.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(C.Path,{d:"m16.5 13.5-3.7 3.7V4h-1.5v13.2l-3.8-3.7-1 1 5.5 5.6 5.5-5.6z"})}),N=(0,f.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,f.jsx)(C.Path,{d:"m13.06 12 6.47-6.47-1.06-1.06L12 10.94 5.53 4.47 4.47 5.53 10.94 12l-6.47 6.47 1.06 1.06L12 13.06l6.47 6.47 1.06-1.06L13.06 12Z"})}),P=(0,f.jsx)(C.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,f.jsx)(C.Path,{d:"M4 9v1.5h16V9H4zm12 5.5h4V13h-4v1.5zm-6 0h4V13h-4v1.5zm-6 0h4V13H4v1.5z"})}),E=(0,r.forwardRef)(({icon:e,size:t=24,...i},a)=>(0,r.cloneElement)(e,{width:t,height:t,...i,ref:a}));function H({svgPath:e=!1,isPressed:t=!1}){return!1===e?null:(0,f.jsx)(p.SVG,{width:24,height:24,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",isPressed:t,children:(0,f.jsx)(p.Path,{d:e})})}function _({selected:e,currentlyActive:t=""}){const i={right:k,left:I,top:T,bottom:M,disabled:N,more:P};return(0,f.jsx)(E,{icon:i[e],isPressed:e===t,size:24})}function z({selected:e,currentlyActive:t=""}){return(0,f.jsx)(H,{svgPath:{A1:"M12.13,18.09h-3l-.74-2.46H4.49l-.75,2.46H1.27l3.84-12H8.36ZM7.72,13.41,6.44,9.2,5.16,13.41Z M13.31,8.35a7,7,0,0,0,4-2.44h2v10h3.33v2.19H13V15.9h3.63V9a23.54,23.54,0,0,1-3.33,1.78Z",A2:"M12.5,18.09h-3l-.74-2.46H4.86l-.75,2.46H1.64l3.83-12H8.73ZM8.09,13.41,6.81,9.2,5.53,13.41Z M22.16,18.09h-9V15.75l.72-.52,1.46-1a31.07,31.07,0,0,0,3.1-2.6,2.74,2.74,0,0,0,.9-1.87,1.55,1.55,0,0,0-1.66-1.6c-1.19,0-1.86.76-2,2.3l-2.48-.55c.56-2.67,2.11-4,4.66-4a4.37,4.37,0,0,1,3,.91A3.5,3.5,0,0,1,22.2,9.69c0,1.51-.69,2.61-2.52,4a33.64,33.64,0,0,1-3.06,2h5.74Z",A3:"M12.52,18h-3l-.74-2.47H4.89L4.13,18H1.67L5.5,6H8.76ZM8.11,13.32,6.83,9.11,5.56,13.32Z M17.38,10.75a1.87,1.87,0,0,0,1.46-.47,1.36,1.36,0,0,0,.38-.94A1.5,1.5,0,0,0,17.6,7.89c-1,0-1.51.45-1.84,1.53L13.28,9a3.62,3.62,0,0,1,1.1-2,4.58,4.58,0,0,1,3.33-1.24C20.24,5.82,22,7.13,22,9a2.69,2.69,0,0,1-2,2.68,3.09,3.09,0,0,1,1.51.74,2.73,2.73,0,0,1,.9,2.11c0,2.19-1.82,3.61-4.64,3.61A4.67,4.67,0,0,1,14.23,17a3.88,3.88,0,0,1-1.31-2.45l2.55-.36A2,2,0,0,0,17.63,16a1.64,1.64,0,0,0,1.84-1.62,1.55,1.55,0,0,0-.61-1.27,3,3,0,0,0-1.66-.27H16.1V10.75Z",A4:"M12.31,18.09h-3l-.74-2.46H4.67l-.75,2.46H1.45l3.84-12H8.54ZM7.9,13.41,6.62,9.2,5.34,13.41Z M20.86,13.22h1.69v2.1H20.86v2.77H18.05V15.32H12.81v-2.1l4.84-7.31h3.21Zm-2.69,0V9.16c0-.09,0-.28,0-.57l0-.51-3.29,5.14Z",XL:"M9.23,11.58,12.94,18H9.7L7.28,13.65,4.87,18H2.21l3.71-6.38L2.62,6H5.9L7.84,9.65,9.88,6h2.63Z M21.79,15.63V18H14.18V6H17v9.64Z"}[e],isPressed:e===t})}function L({postId:e,postType:t="post",url:i,onSelect:a=()=>{},onURLChange:s=()=>{}}){const[o,l]=(0,r.useState)(!1);return(0,f.jsxs)(p.ToolbarGroup,{children:[(0,f.jsx)(p.ToolbarButton,{"aria-expanded":o,"aria-haspopup":"true",label:`Search for a ${t} or paste url here`,icon:"admin-links",onClick:()=>l(!0),showTooltip:!0}),!0===o&&(0,f.jsx)(p.Modal,{title:`Search for a ${t} or paste url here`,onRequestClose:()=>l(!1),shouldCloseOnClickOutside:!1,shouldCloseOnEsc:!1,children:(0,f.jsx)("div",{style:{width:"100%",minWidth:"340px",maxWidth:"640px",margin:"0 auto"},children:(0,f.jsx)(n.WPEntitySearch,{placeholder:"Climate Change",searchValue:i,onSelect:e=>{a(e).then(()=>{l(!1)})},onKeyEnter:()=>{l(!1)},onKeyESC:()=>{l(!1)},entityId:e,entityType:"postType",entitySubType:t,perPage:10,hideChildren:!0,onUpdateURL:e=>{s(e),setTimeout(()=>{l(!1)},500)},clearOnSelect:!0,createNew:!1,showExcerpt:!0,showType:!0})})})]})}const B=function({attributes:e,setAttributes:t,context:i}){const{postId:a,postType:s,url:l,imageSize:n,imageSlot:d,headerSize:h,isChartArt:m}=e,u=void 0!==i["column/gridSpan"]&&i["column/gridSpan"],b=void 0!==i.queryId&&void 0!==i.postId&&void 0!==i.postType&&0!==i.postId&&Number.isInteger(i.postId),x=e=>{t({imageSize:e}),((e,t,i)=>{0!==t&&!1!==i&&g()({path:`/prc-api/v3/art-direction/get/${t}`}).then(t=>{!1!==t&&void 0!==t[e]&&!1!==i&&i({image:t[e].rawUrl,isChartArt:t[e].chartArt})})})(e,a,t)},v=(0,r.useCallback)(()=>(0,f.jsx)(_,{selected:d}),[d]),w=(0,r.useCallback)(()=>(0,f.jsx)(z,{selected:n,currentlyActive:n}),[n]);return(0,f.jsxs)(o.BlockControls,{children:[!b&&(0,f.jsx)(L,{postId:a,postType:s,url:l,onSelect:e=>new Promise(i=>{((e,t,i)=>{const a="post"===t?"posts":t;return new Promise((t,s)=>{g()({path:`/wp/v2/${a}/${e}`,method:"GET"}).then(e=>{!1!==e&&t(y(e,{imageSize:i}))}).catch(e=>s(e))})})(e.entityId,e.entitySubType,n).then(e=>{console.log("getPostAttributes attrs:",e),setTimeout(()=>{t(e)},500),i(e)})}),onURLChange:e=>{t({url:e})}}),(0,f.jsx)(p.ToolbarGroup,{children:(0,f.jsx)(o.HeadingLevelDropdown,{options:[1,2,3],value:h,onChange:e=>t({headerSize:e})})}),(0,f.jsxs)(p.ToolbarGroup,{children:[(0,f.jsx)(p.ToolbarDropdownMenu,{icon:v,label:"Select Image Slot",controls:[{title:"Top",icon:(0,f.jsx)(_,{selected:"top"}),isActive:"top"===d,onClick:()=>{t({imageSlot:"top"})}},{title:"Bottom",icon:(0,f.jsx)(_,{selected:"bottom"}),isActive:"bottom"===d,onClick:()=>{t({imageSlot:"bottom"})}},{title:"Left",icon:(0,f.jsx)(_,{selected:"left"}),isActive:"left"===d,isDisabled:!1!==u&&u<6,onClick:()=>{t({imageSlot:"left"})}},{title:"Right",icon:(0,f.jsx)(_,{selected:"right"}),isActive:"right"===d,isDisabled:!1!==u&&u<6,onClick:()=>{t({imageSlot:"right"})}},{title:"Disabled",icon:(0,f.jsx)(_,{selected:"disabled"}),isActive:"disabled"===d,onClick:()=>{t({imageSlot:"disabled"})}}]}),"disabled"!==d&&(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(p.ToolbarDropdownMenu,{icon:w,label:"Select Image Size",controls:[{title:"A1",icon:(0,f.jsx)(z,{selected:"A1",currentlyActive:n}),isActive:"A1"===n,onClick:()=>x("A1")},{title:"A2",icon:(0,f.jsx)(z,{selected:"A2",currentlyActive:n}),isActive:"A2"===n,onClick:()=>x("A2")},{title:"A3",icon:(0,f.jsx)(z,{selected:"A3",currentlyActive:n}),isActive:"A3"===n,onClick:()=>x("A3")},{title:"A4",icon:(0,f.jsx)(z,{selected:"A4",currentlyActive:n}),isActive:"A4"===n,onClick:()=>x("A4")},{title:"XL",icon:(0,f.jsx)(z,{selected:"XL",currentlyActive:n}),isActive:"XL"===n,onClick:()=>x("XL")}]}),(0,f.jsx)(p.ToolbarButton,{icon:"chart-pie",isPressed:m,label:(0,c.__)("Enable Chart Art"),onClick:()=>{t({isChartArt:!m})}})]})]})]})};function R({attributes:e,setAttributes:t,context:i}){return(0,f.jsxs)(l.Fragment,{children:[(0,f.jsx)(B,{attributes:e,setAttributes:t,context:i}),(0,f.jsx)(j,{attributes:e,setAttributes:t,context:i})]})}const O=window.wp.url,V=["image"],D={default:"564,317",small:"690,388",hidpi:"1128,634",smallHidpi:"1380,776"},F={default:"268,151",small:"690,388",hidpi:"536,301",smallHidpi:"1380,776"},G={default:"194,110",small:"148,84",hidpi:"388,220",smallHidpi:"296,168"},$={default:"268,151",small:"690,388",hidpi:"536,302",smallHidpi:"1380,776"},U={default:"720,405",small:"690,388",hidpi:"1440,810",smallHidpi:"1380,776"};function X({img:e,size:t,onClick:i=!1}){const a=i=>{if(""===e||!1===e)return e;let a={resize:D[i]};return"A2"===t?a={resize:F[i]}:"A3"===t?a={resize:G[i]}:"A4"===t?a={resize:$[i]}:"XL"===t&&(a={resize:U[i]}),(0,O.addQueryArgs)(e,a)},s=(e=767)=>[{srcSet:`${a("default")} 1x, ${a("hidpi")} 2x`,media:`(min-width: ${e}px)`},{srcSet:`${a("small")} 1x, ${a("smallHidpi")} 2x`,media:`(max-width: ${e}px)`}];return!1!==i?(0,f.jsx)("button",{type:"button",onClick:i,style:{padding:0,border:"none",cursor:"pointer"},children:(0,f.jsx)(n.ResponsiveImage,{sources:s(),alt:"Click to edit"})}):(0,f.jsx)(n.ResponsiveImage,{sources:s()})}function Z({attributes:e,setAttributes:t}){const{image:i,imageSlot:a,imageSize:s,isChartArt:l}=e;return"disabled"===a?(0,f.jsx)(r.Fragment,{}):(0,f.jsx)("div",{className:u()({image:!0,XL:"XL"===s,A1:"A1"===s,A2:"A2"===s,A3:"A3"===s,A4:"A4"===s,bordered:l}),children:(0,f.jsx)(o.MediaUploadCheck,{children:(0,f.jsx)(o.MediaUpload,{onSelect:e=>t({image:e.url}),allowedTypes:V,render:({open:e})=>(0,f.jsxs)(r.Fragment,{children:[(void 0===i||0===i.length)&&(0,f.jsx)(p.Placeholder,{className:"block-editor-media-placeholder",withIllustration:!0,label:(0,c.__)("Image"),instructions:(0,c.__)("Upload an image file, pick one from the media library, or add one with a URL."),onClick:e}),void 0!==i&&0<i.length&&(0,f.jsx)(X,{img:i,size:s,onClick:e})]})})})})}function W({attributes:e,setAttributes:t}){const{excerpt:i,enableHeader:a,enableExcerpt:s}=e;if(!s)return(0,f.jsx)(r.Fragment,{});const l=(0,r.useMemo)(()=>(()=>{const e=["In recent years, several new options have emerged in the social media universe, many of which explicitly present themselves as alternatives to more established social media platforms. Free speech ideals and heated political themes prevail on these sites, which draw praise from their users and skepticism from other Americans.","Elections in Italy and Sweden have underscored the growing electoral strength that populist parties have displayed in Europe in recent years.","In less than a decade, the share of Americans who go “cashless” in a typical week has increased by double digits.","72% of U.S. adults say that, on the issues that matter to them, their side in politics has been losing more often than winning.","56% of U.S. adults say that oil executives should be tried for crimes against humanity for their role in climate change."];return e[Math.floor(Math.random()*e.length)]})(),[]),n=u()("description",{"sans-serif":!a});return(0,f.jsx)(o.RichText,{tagName:"div",value:i,onChange:e=>t({excerpt:e}),placeholder:l,className:n})}function Y({attributes:e,setAttributes:t}){const{title:i,headerSize:a,enableExcerpt:s,enableHeader:l}=e;if(!l)return(0,f.jsx)(r.Fragment,{});const n=(0,r.useMemo)(()=>(()=>{const e=["The Role of Alternative Social Media in the News and Information Environment","How Global Public Opinion of China Has Shifted in the Xi Era","Most Latinos Say Democrats Care About Them and Work Hard for Their Vote, Far Fewer Say So of GOP","More Americans are joining the ‘cashless’ economy","Americans Anxious about Climate Change"];return e[Math.floor(Math.random()*e.length)]})(),[]),c=u()("header",{large:1===a,medium:2===a,small:3===a,light:!s});return(0,f.jsx)(o.RichText,{tagName:`h${a}`,value:i,onChange:e=>t({title:e}),allowedFormats:["core/italic","core/bold"],placeholder:n,className:c})}function q({attributes:e,setAttributes:t}){const{date:i,label:a,enableMeta:s,metaTaxonomy:o}=e,[l,n]=(0,r.useState)(!1);void 0===i&&t({date:(0,x.date)("M j, Y",new Date)});const{records:c,isResolving:d}=(0,h.useEntityRecords)("taxonomy",o,{per_page:50,hide_empty:!1,context:"view"}),m=!!c&&0<c.length,u=void 0!==a&&"string"==typeof a?(0,O.cleanForSlug)(a):"report";return s?(0,f.jsxs)("div",{className:"meta",style:{display:"flex",alignItems:"center"},children:["disabled"!==o&&(0,f.jsxs)("div",{className:"label",children:[d&&(0,f.jsx)(p.Spinner,{}),!d&&m&&(0,f.jsx)(p.SelectControl,{value:u,options:c.map(e=>({label:e.name,value:e.slug})),onChange:e=>{t({label:e})},style:{marginBottom:"0px"}})]}),(0,f.jsxs)("div",{className:"date",children:[(0,f.jsx)(p.Button,{variant:"link",onClick:()=>{n(!l)},style:{padding:"0px"},children:(0,x.date)("M j, Y",i)}),l&&(0,f.jsx)(p.Popover,{position:"bottom center",onClose:()=>n(!1),children:(0,f.jsx)("div",{style:{padding:"1em"},children:(0,f.jsx)(p.DatePicker,{currentDate:i,onChange:e=>t({date:(0,x.date)("M j, Y",e)})})})})]})]}):(0,f.jsx)(r.Fragment,{})}const J={A1:[1128,634],A2:[526,301],A3:[388,220],A4:[536,302],XL:[1440,810]};function K({attributes:e}){const{title:t,excerpt:i,label:a,date:s,image:r,imageSlot:l,imageSize:n,isChartArt:c,headerSize:d,enableHeader:h,enableExcerpt:m,enableExtra:b,enableMeta:g}=e,y=w(e),v=(0,o.useInnerBlocksProps)({className:"extra"},{allowedBlocks:["core/list","core/paragraph","core/html"],templateLock:!0}),j=u()("header",{large:1===d,medium:2===d,small:3===d,light:!1}),A=u()("image",{bordered:c,XL:"XL"===n,A4:"A4"===n,A3:"A3"===n,A2:"A2"===n,A1:"A1"===n}),S=u()("description"),C=void 0!==l&&"disabled"!==l&&void 0!==n&&""!==n;return(0,f.jsxs)("article",{...y,children:[g&&(0,f.jsxs)("div",{className:"meta",children:[(0,f.jsx)("span",{className:"label",children:a}),(0,f.jsx)("span",{className:"date",children:(0,x.date)("M j, Y",s)})]}),C&&(0,f.jsxs)("div",{className:`${A}`,children:[(void 0===r||0===r.length)&&(0,f.jsx)(p.Placeholder,{className:"block-editor-media-placeholder",withIllustration:!0}),void 0!==r&&0<r.length&&(0,f.jsx)("picture",{children:(0,f.jsx)("img",{srcSet:r,width:J[n][0],height:J[n][1],alt:""})})]}),h&&(0,f.jsx)(o.RichText.Content,{tagName:`h${d}`,value:t,className:j}),m&&(0,f.jsx)(o.RichText.Content,{tagName:"div",value:i,multiline:"p",className:S}),b&&(0,f.jsx)("div",{...v})]})}const Q=()=>{const e=["The Role of Alternative Social Media in the News and Information Environment","How Global Public Opinion of China Has Shifted in the Xi Era","Most Latinos Say Democrats Care About Them and Work Hard for Their Vote, Far Fewer Say So of GOP","More Americans are joining the ‘cashless’ economy","Americans Anxious about Climate Change"];return e[Math.floor(Math.random()*e.length)]},ee=()=>{const e=["In recent years, several new options have emerged in the social media universe, many of which explicitly present themselves as alternatives to more established social media platforms. Free speech ideals and heated political themes prevail on these sites, which draw praise from their users and skepticism from other Americans.","Elections in Italy and Sweden have underscored the growing electoral strength that populist parties have displayed in Europe in recent years.","In less than a decade, the share of Americans who go “cashless” in a typical week has increased by double digits.","72% of U.S. adults say that, on the issues that matter to them, their side in politics has been losing more often than winning.","56% of U.S. adults say that oil executives should be tried for crimes against humanity for their role in climate change."];return`<p>${e[Math.floor(Math.random()*e.length)]}</p>`},te={A1:[1128,634],A2:[526,301],A3:[388,220],A4:[536,302],XL:[1440,810]};function ie({attributes:e,clientId:t,context:i}){const{postId:a,postType:s}=i,{record:l,isResolving:n}=(0,h.useEntityRecord)("postType",s,a),{title:c,excerpt:d,label:m,date:b,artDirection:g}=(0,r.useMemo)(()=>l?{title:l?.title,excerpt:l?.excerpt,label:l?.label?l?.label:"Format Label",date:l?.date,artDirection:l?.artDirection}:{},[l]),{imageSlot:y,imageSize:v,headerSize:w,enableHeader:j,enableExcerpt:A,enableMeta:S,className:C}=e,k=(0,r.useMemo)(()=>c?c.raw&&!c.rendered?c.raw:c.rendered?c.rendered:Q():Q(),[c]),I=(0,r.useMemo)(()=>d?d.raw&&!d.rendered?d.raw:d.rendered?d.rendered:ee():ee(),[d]),T=u()("header",{large:1===w,medium:2===w,small:3===w,light:!1}),M=u()("image",{bordered:g&&g[v]&&g[v].chartArt,XL:"XL"===v,A4:"A4"===v,A3:"A3"===v,A2:"A2"===v,A1:"A1"===v}),N=u()("description"),P=g&&g[v]&&g[v].url&&void 0!==y&&"disabled"!==y&&void 0!==v&&""!==v,E={};P&&(E[y]=!0,E.aligned=!0);const H={className:u()(C,E)};P&&(H["data-image-size"]=v);const _=(0,o.useBlockProps)(H);return n?(0,f.jsxs)("article",{..._,style:{opacity:.8},children:[S&&(0,f.jsxs)("div",{className:"meta",children:[(0,f.jsx)("span",{className:"label",children:"Report"}),(0,f.jsx)("span",{className:"date",children:(0,x.date)("M j, Y")})]}),P&&(0,f.jsx)("div",{className:`${M}`,children:(0,f.jsx)(p.Placeholder,{className:"block-editor-media-placeholder",withIllustration:!0})}),j&&(0,f.jsx)(o.RichText.Content,{tagName:`h${w}`,value:k,className:T}),A&&(0,f.jsx)(o.RichText.Content,{tagName:"div",value:I,multiline:"p",className:N})]}):(0,f.jsxs)("article",{..._,children:[S&&(0,f.jsxs)("div",{className:"meta",children:[(0,f.jsx)("span",{className:"label",children:m}),(0,f.jsx)("span",{className:"date",children:b?(0,x.date)("M j, Y",b):""})]}),P&&(0,f.jsxs)("div",{className:`${M}`,children:[(void 0===g||!1===g)&&(0,f.jsx)(p.Placeholder,{className:"block-editor-media-placeholder",withIllustration:!0}),void 0!==g&&!1!==g&&(0,f.jsx)("picture",{children:(0,f.jsx)("img",{srcSet:g[v].url,width:te[v][0],height:te[v][1],alt:""})})]}),j&&(0,f.jsx)(o.RichText.Content,{tagName:`h${w}`,value:k,className:T}),A&&(0,f.jsx)(o.RichText.Content,{tagName:"div",value:I,multiline:"p",className:N})]})}const ae={from:[{type:"raw",isMatch:e=>{const t=e.textContent.trim(),i=window.location.href.split("/").slice(0,3).join("/");return"P"==e.nodeName&&(0,O.isURL)(t)&&t.startsWith(i)},transform:e=>{const t=e.textContent.trim(),i=window.location.href.split("/").slice(0,3).join("/");if(t.startsWith(i))return(0,a.createBlock)("prc-block/story-item",{url:t})},priority:0}]},se=JSON.parse('{"lede":{"title":"Lede Story Item","description":"Default lede story item layout: top aligned A1 image with header and excerpt.","attributes":{"imageSlot":"top","imageSize":"A1","headerSize":1,"enableExcerpt":true,"enableHeader":true,"isNewsletterGlue":false}},"publication-listing":{"title":"Publication Listing Story Item","description":"Story item layout for publication listing: left aligned A3 image (right when on mobile).","attributes":{"imageSlot":"left","imageSize":"A3","headerSize":2,"enableExcerpt":true,"enableHeader":true,"isNewsletterGlue":false}},"list-item":{"title":"List Item","description":"Story item layout for list items: no excerpt, no image.","attributes":{"imageSlot":"disabled","enableHeader":true,"enableExcerpt":false,"isNewsletterGlue":false}},"newsletter-glue":{"title":"Newsletter Glue","description":"Newsletter Glue compatible version of a Story Item, ready for Mailchimp markup.","attributes":{"isNewsletterGlue":true}}}'),re=[];Object.keys(se).forEach(e=>{const t=se[e],{attributes:i}=t;re.push({...t,name:`story-item-${e}`,scope:["block","inserter","transform"],isActive:e=>{let t=!0;return Object.keys(i).forEach(a=>{i[a]!==e[a]&&(t=!1)}),t}})});const oe=re,le=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/story-item","title":"Story Item","version":"5.0.0","category":"content-curation","description":"A story item is a visual display of a post, with a title, excerpt, and image. Pre-compiled variations such as pub-listing, list-item, and newsletter-glue are available for each post.","keywords":["prc","story","item","story item","stub"],"usesContext":["postId","postType","query","queryId","enhancedPagination","displayLayout","previewPostType","grid/column/desktop/span","grid/column/tablet/span","grid/column/mobile/span"],"example":{"attributes":{"title":"Ultricies Ipsum Nibh Egestas Purus","excerpt":"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec id elit non mi porta gravida at eget metus. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.</p>","label":"Report","date":"Jan 1, 2023","image":"https://www.pewresearch.org/global/wp-content/uploads/sites/2/2020/04/PG_2020.04.21_U.S.-Views-China_featured.jpg","imageSlot":"top","imageSize":"A2","isPreview":true,"postId":0}},"attributes":{"title":{"type":"string"},"excerpt":{"type":"string","source":"html","multiline":"p","selector":".description"},"url":{"type":"string","default":""},"label":{"type":"string"},"date":{"type":"string"},"image":{"type":"string"},"imageSlot":{"type":"string","default":"top"},"imageSize":{"type":"string","default":"A1"},"isChartArt":{"type":"boolean","default":false},"postId":{"type":"integer"},"postType":{"type":"string"},"headerSize":{"type":"integer","default":2},"enableAltHeaderWeight":{"type":"boolean","default":false},"enableHeader":{"type":"boolean","default":true},"enableExcerpt":{"type":"boolean","default":true},"enableExtra":{"type":"boolean","default":false},"enableMeta":{"type":"boolean","default":true},"metaTaxonomy":{"type":"string","default":"formats"},"isPreview":{"type":"boolean","default":false},"isNewsletterGlue":{"type":"boolean","default":false}},"supports":{"html":false,"spacing":{"margin":["top","bottom"],"padding":true},"__experimentalBorder":{"color":true,"style":false,"width":true,"__experimentalDefaultControls":{"color":true}},"typography":{"fontSize":true,"__experimentalFontFamily":true},"interactivity":{"clientNavigation":true}},"textdomain":"story-item","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":"file:./view.js"}'),{name:ne}=le,ce={icon:function(){return(0,f.jsx)(A.Icon,{icon:"newspaper"})},variations:oe,transforms:ae,__experimentalLabel:({title:e})=>e||"Story Item",edit:function({attributes:e,setAttributes:t,context:i,clientId:a}){const l=(0,s.useHasSelectedInnerBlock)(a),{postId:n,isPreview:c,enableExtra:d}=e,p=w(e),h=(0,o.useInnerBlocksProps)({className:"extra"},{allowedBlocks:["core/list","core/paragraph","core/html"]});return void 0!==i.queryId&&void 0!==i.postId&&void 0!==i.postType&&0!==i.postId&&Number.isInteger(i.postId)?(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(R,{attributes:e,setAttributes:t,context:i}),(0,f.jsx)(ie,{attributes:e,context:i})]}):void 0===n?(0,f.jsx)(S,{attributes:e,setAttributes:t,clientId:a}):!l||c?(0,f.jsx)(K,{attributes:e,context:i}):(0,f.jsxs)(r.Fragment,{children:[(0,f.jsxs)("article",{...p,children:[(0,f.jsx)(Z,{attributes:e,setAttributes:t}),(0,f.jsx)(q,{attributes:e,setAttributes:t}),(0,f.jsx)(Y,{attributes:e,setAttributes:t}),(0,f.jsx)(W,{attributes:e,setAttributes:t}),!0===d&&(0,f.jsx)("div",{...h})]}),(0,f.jsx)(R,{attributes:e,setAttributes:t,context:i})]})},save:function({attributes:e}){const{excerpt:t,enableExtra:i}=e;return(0,f.jsxs)(r.Fragment,{children:[t&&(0,f.jsx)(o.RichText.Content,{className:"description",tagName:"div",value:t}),i&&(0,f.jsx)("div",{className:"extra",children:(0,f.jsx)(o.InnerBlocks.Content,{})})]})}};(0,a.registerBlockType)(ne,{...le,...ce})}},i={};function a(e){var s=i[e];if(void 0!==s)return s.exports;var r=i[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,i,s,r)=>{if(!i){var o=1/0;for(d=0;d<e.length;d++){for(var[i,s,r]=e[d],l=!0,n=0;n<i.length;n++)(!1&r||o>=r)&&Object.keys(a.O).every(e=>a.O[e](i[n]))?i.splice(n--,1):(l=!1,r<o&&(o=r));if(l){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,s,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};a.O.j=t=>0===e[t];var t=(t,i)=>{var s,r,[o,l,n]=i,c=0;if(o.some(t=>0!==e[t])){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(n)var d=n(a)}for(t&&t(i);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},i=globalThis.webpackChunk_prc_block_library=globalThis.webpackChunk_prc_block_library||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var s=a.O(void 0,[350],()=>a(112));s=a.O(s)})();
//# sourceMappingURL=index.js.map