(()=>{"use strict";var e,t={992:()=>{const e=window.wp.blocks;function t(e){var a,l,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(a=0;a<r;a++)e[a]&&(l=t(e[a]))&&(n&&(n+=" "),n+=l)}else for(l in e)e[l]&&(n&&(n+=" "),n+=l);return n}const a=function(){for(var e,a,l=0,n="",r=arguments.length;l<r;l++)(e=arguments[l])&&(a=t(e))&&(n&&(n+=" "),n+=a);return n},l=window.wp.i18n,n=window.wp.blockEditor,r=window.wp.data,s=window.wp.element,o=window.wp.htmlEntities,i=window.wp.components,c=window.ReactJSXRuntime,{Fill:b,Slot:u}=(0,i.createSlotFill)("web"===s.Platform.OS?Symbol("TabsList"):"TabsList"),d=({children:e,tabsClientId:t})=>(0,c.jsx)(b,{name:`TabsList-${t}`,children:e}),p=({tabsClientId:e})=>(0,c.jsx)(u,{name:`TabsList-${e}`,bubblesVirtually:!0,as:"div",role:"tablist",className:"tabs__list"}),f=window.wp.url;function h(e,t){const a=(new window.DOMParser).parseFromString(e,"text/html");return a.body?.textContent?(0,f.cleanForSlug)(a.body.textContent):`tab-panel-${t}`}function g({attributes:e,setAttributes:t,tabsClientId:a,blockIndex:s,isDefaultTab:b}){const{label:u}=e,{updateBlockAttributes:d}=(0,r.useDispatch)(n.store);return(0,c.jsx)(n.InspectorControls,{children:(0,c.jsxs)(i.PanelBody,{title:(0,l.__)("Tab Settings"),children:[(0,c.jsx)(i.TextControl,{label:(0,l.__)("Tab Label"),value:(0,o.decodeEntities)(u),onChange:e=>{t({label:e,anchor:h(e,s)})},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0}),(0,c.jsx)(i.ToggleControl,{label:(0,l.__)("Is Default Tab"),checked:b,onChange:e=>{d(a,{activeTabIndex:e?s:0})},help:(0,l.__)("If toggled, this tab will be selected when the page loads."),__nextHasNoMarginBottom:!0})]})})}const m=[["core/paragraph",{placeholder:(0,l.__)("Type / to add a block to tab")}]],k=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/tab","title":"Tab","description":"Content for a tab in a tabbed interface.","version":"1.0.0","category":"design","attributes":{"label":{"type":"string","default":""}},"parent":["prc-block/tabs"],"supports":{"anchor":true,"html":false,"reusable":false,"layout":{"default":{"type":"default"},"allowSwitching":true,"allowInheriting":false,"allowVerticalAlignment":true,"allowJustification":true,"allowOrientation":true,"allowSizingOnChildren":true},"spacing":{"blockGap":true,"padding":true,"margin":false},"typography":{"fontSize":true,"__experimentalFontFamily":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true},"__experimentalSkipSerialization":true}},"providesContext":{"tab/label":"label"},"textdomain":"prc-block-library","editorScript":"file:./index.js","style":"file:./style-index.css"}'),x=(0,c.jsx)(i.SVG,{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)(i.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.5498 10.3501V6.3501H9.8498V10.3501H11.3498V6.1001C11.3498 5.40974 10.7902 4.8501 10.0998 4.8501H5.2998C4.60945 4.8501 4.0498 5.40974 4.0498 6.1001V10.3501H5.5498ZM20 12.6001H4V14.1001L20 14.1001V12.6001ZM14 17.1001H4V18.6001H14V17.1001Z"})}),{name:w}=k,_={icon:x,edit:function({attributes:e,clientId:t,isSelected:i,setAttributes:b,__unstableLayoutClassNames:u}){const{selectBlock:f}=(0,r.useDispatch)(n.store),k=(0,s.useRef)(null),x=(0,s.useRef)(),w=(0,s.useRef)(),{anchor:_,label:y}=e;(0,s.useEffect)(()=>{if(!y&&x.current){const e=setTimeout(()=>{x.current.focus()},100);return w.current=e,()=>clearTimeout(w.current)}},[y]),(0,s.useEffect)(()=>()=>{w.current&&clearTimeout(w.current)},[]);const{blockIndex:v,hasInnerBlocksSelected:C,tabsHasSelectedBlock:T,tabsClientId:B,tabsAttributes:I,forceDisplay:S,isTabsClientSelected:j,isDefaultTab:V}=(0,r.useSelect)(e=>{const{getBlockRootClientId:a,getBlockIndex:l,isBlockSelected:r,hasSelectedInnerBlock:s,getBlockAttributes:o}=e(n.store),i=a(t),c=s(i,!0),b=o(i),{activeTabIndex:u}=b,d=r(i),p=l(t),f=u===p;return{blockIndex:p,hasInnerBlocksSelected:s(t,!0),tabsClientId:i,forceDisplay:f&&d,tabsHasSelectedBlock:c,isTabsClientSelected:d,isDefaultTab:f,tabsAttributes:b}},[t]),D=(0,s.useMemo)(()=>!(!(i||C||S)&&(console.log("isDefaultTab running..."),!V||j||i||T)),[i,C,S,V,j,T]);(0,s.useEffect)(()=>{},[i,C]);const A=(0,s.useMemo)(()=>_||h(y,v),[_,y,v]),O=(0,s.useMemo)(()=>`${A}--tab`,[A]),E=(0,n.__experimentalUseColorProps)(I),F=(0,n.getTypographyClassesAndStyles)(e),H=(0,n.useBlockProps)({hidden:!D}),L=(0,n.useInnerBlocksProps)({"aria-labelledby":O,id:A,role:"tabpanel",ref:k,tabIndex:D?0:-1,className:a(F.className,"tabs__tab-editor-content",u),style:{...F.style}},{template:m});return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{...H,children:[(0,c.jsx)(g,{attributes:e,setAttributes:b,tabsClientId:B,blockIndex:v,isDefaultTab:V}),(0,c.jsx)(d,{tabsClientId:B,children:(0,c.jsx)("button",{"aria-controls":A,"aria-selected":D,id:O,role:"tab",className:a("tabs__tab-label",E.className),style:{...E.style},tabIndex:0,onClick:e=>{e.preventDefault(),f(t)},onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),f(t),w.current=setTimeout(()=>{x.current.focus()},100))},children:(0,c.jsx)(n.RichText,{ref:x,tagName:"span",allowedFormats:["core/bold","core/italic","core/strikethrough"],placeholder:(0,l.__)("Add tab labelâ€¦"),value:(0,o.decodeEntities)(y),onChange:e=>b({label:e,anchor:h(e,v)})})})}),D&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(p,{tabsClientId:B}),(0,c.jsx)("section",{...L})]})]})})},save:function({attributes:e}){const{anchor:t}=e,a=t,l=n.useBlockProps.save(),r=n.useInnerBlocksProps.save(l);return(0,c.jsx)("section",{...r,id:a})}};(0,e.registerBlockType)(w,{...k,..._}),(0,e.registerBlockBindingsSource)({name:"tab/label",usesContext:["tab/label"],getValues({select:e,context:t}){const a=t["tab/label"];return a?{content:a}:{placeholder:(0,l.__)("Enter tab label","prc-quiz")}},setValues({select:e,dispatch:t,context:a,bindings:l}){const{newValue:r}=l.content,{getSelectedBlockClientId:s,getBlockRootClientId:o,getBlockParentsByBlockName:i}=e(n.store),{updateBlockAttributes:c}=t(n.store),b=i(s(),"prc-block/tab")[0];console.log("tabBlockClientId",b),c(b,{label:r})},canUserEditValue:({select:e,context:t,args:a})=>!0}),(0,e.registerBlockVariation)("core/paragraph",{name:"tab/label",title:(0,l.__)("Tab Label","prc-block-library"),description:(0,l.__)("Tab Label","prc-block-library"),attributes:{metadata:{bindings:{content:{source:"tab/label"}}}},isActive:(e,t)=>e.metadata?.bindings?.content?.source===t.metadata?.bindings.content.source}),(0,e.registerBlockVariation)("core/heading",{name:"tab/label",title:(0,l.__)("Tab Label","prc-block-library"),description:(0,l.__)("Tab Label","prc-block-library"),attributes:{metadata:{bindings:{content:{source:"tab/label"}}}},isActive:(e,t)=>e.metadata?.bindings?.content?.source===t.metadata?.bindings.content.source})}},a={};function l(e){var n=a[e];if(void 0!==n)return n.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=(t,a,n,r)=>{if(!a){var s=1/0;for(b=0;b<e.length;b++){for(var[a,n,r]=e[b],o=!0,i=0;i<a.length;i++)(!1&r||s>=r)&&Object.keys(l.O).every(e=>l.O[e](a[i]))?a.splice(i--,1):(o=!1,r<s&&(s=r));if(o){e.splice(b--,1);var c=n();void 0!==c&&(t=c)}}return t}r=r||0;for(var b=e.length;b>0&&e[b-1][2]>r;b--)e[b]=e[b-1];e[b]=[a,n,r]},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var n,r,[s,o,i]=a,c=0;if(s.some(t=>0!==e[t])){for(n in o)l.o(o,n)&&(l.m[n]=o[n]);if(i)var b=i(l)}for(t&&t(a);c<s.length;c++)r=s[c],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(b)},a=globalThis.webpackChunk_prc_block_library=globalThis.webpackChunk_prc_block_library||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var n=l.O(void 0,[350],()=>l(992));n=l.O(n)})();
//# sourceMappingURL=index.js.map