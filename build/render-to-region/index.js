(()=>{"use strict";var e,o={5801:(e,o,t)=>{const n=window.wp.blocks,r=window.wp.hooks,i=window.wp.blockEditor,s=window.wp.compose,a=window.wp.components,l=window.wp.editor,c=window.wp.data,d=window.wp.element,p=window.wp.i18n,u=window.ReactJSXRuntime,b=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/render-to-region","version":"1.0.0","title":"Render To Region","category":"theme","description":"This block allows other blocks to \\"render to\\" the defined region upon certain conditions.","attributes":{"regionName":{"type":"string"},"activationConditions":{"type":"object","properties":{"isDesktop":{"type":"boolean","default":true},"isMobile":{"type":"boolean","default":false},"isTablet":{"type":"boolean","default":false},"isPortrait":{"type":"boolean","default":false},"isLandscape":{"type":"boolean","default":false}},"default":{"isDesktop":false,"isMobile":false,"isTablet":false,"isPortrait":false,"isLandscape":false}}},"supports":{"html":false,"anchor":true,"reusable":false,"interactivity":true},"textdomain":"render-to-region","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScriptModule":"file:./view.js"}'),h=(window.wp.coreData,window.wp.notices),g=window.wp.apiFetch;var w=t.n(g);const f=window.wp.url;const{name:m}=b,k={edit:function({attributes:e,setAttributes:o,context:t,clientId:n,isSelected:r}){const s=(0,i.useBlockProps)(),{regionName:l,activationConditions:c}=e,b=(0,d.useMemo)(()=>(0,u.jsx)(i.Warning,{children:(0,u.jsxs)("p",{children:["This block is used to render content to a specific region. Please ensure that the regionName is unique and not used by any other block. Current regionName: ",l]})}),[l]);return(0,u.jsxs)(d.Fragment,{children:[(0,u.jsx)(i.InspectorControls,{children:(0,u.jsxs)(a.PanelBody,{title:(0,p.__)("Render To Region","prc-block-library"),initialOpen:!0,children:[(0,u.jsx)(a.PanelRow,{children:(0,u.jsx)(a.TextControl,{label:(0,p.__)("Region Name","prc-block-library"),value:l,onChange:e=>o({regionName:e})})}),(0,u.jsx)(a.PanelRow,{children:(0,u.jsx)(a.ToggleControl,{label:(0,p.__)("Is Desktop","prc-block-library"),checked:c.isDesktop,onChange:e=>o({activationConditions:{...c,isDesktop:e}})})}),(0,u.jsx)(a.PanelRow,{children:(0,u.jsx)(a.ToggleControl,{label:(0,p.__)("Is Mobile","prc-block-library"),checked:c.isMobile,onChange:e=>o({activationConditions:{...c,isMobile:e}})})}),(0,u.jsx)(a.PanelRow,{children:(0,u.jsx)(a.ToggleControl,{label:(0,p.__)("Is Tablet","prc-block-library"),checked:c.isTablet,onChange:e=>o({activationConditions:{...c,isTablet:e}})})}),(0,u.jsx)(a.PanelRow,{children:(0,u.jsx)(a.ToggleControl,{label:(0,p.__)("Is Portrait","prc-block-library"),checked:c.isPortrait,onChange:e=>o({activationConditions:{...c,isPortrait:e}})})}),(0,u.jsx)(a.PanelRow,{children:(0,u.jsx)(a.ToggleControl,{label:(0,p.__)("Is Landscape","prc-block-library"),checked:c.isLandscape,onChange:e=>o({activationConditions:{...c,isLandscape:e}})})})]})}),(0,u.jsx)("div",{...s,children:b})]})},save:function({attributes:e}){const o=i.useBlockProps.save({"data-prc-block--render-to-region--name":e.regionName});return(0,u.jsx)("div",{...o})}};(0,n.registerBlockType)(m,{...b,...k}),(0,r.addFilter)("editor.BlockEdit","prc-block/render-to-region-controls",(0,s.createHigherOrderComponent)(e=>function(o){const{name:t,attributes:n,setAttributes:r,clientId:s}=o,{metadata:p}=n,{postId:b,postType:g,templateId:m}=(0,c.useSelect)(e=>{const{getCurrentPostId:o,getCurrentPostType:t,getCurrentTemplateId:n}=e(l.store);return{postId:o(),postType:t(),templateId:n()}},[]),k=(0,d.useMemo)(()=>b,[b]),v=(0,d.useMemo)(()=>g,[g]),y=(0,d.useMemo)(()=>m,[m]),x=function(e,o){const[t,n]=(0,d.useState)(null),[r,i]=(0,d.useState)(!0);return(0,d.useEffect)(()=>{if(!e||!o)return;let t=!0;return i(!0),function(e){const{createSuccessNotice:o,createErrorNotice:t}=(0,c.dispatch)(h.store);return console.log("getRegionsFromPost::postId",e),new Promise((n,r)=>{w()({path:(0,f.addQueryArgs)("prc-api/v3/render-to-regions",{post:e}),method:"GET"}).then(e=>{console.log("getRegionsFromPost::response",e),o("Regions fetched successfully",{type:"snackbar"}),n(e)}).catch(e=>{console.error("getRegionsFromPost::error",e),t("Error fetching regions",{type:"snackbar"}),r(e)})})}(e).then(e=>{t&&(n(e),i(!1))}),()=>{t=!1}},[e,o]),t}(k,v);return(0,d.useMemo)(()=>{if(!x)return[];const e=[...x];return console.log("combinedRegions",e),[...new Set(e)]},[x]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(i.InspectorAdvancedControls,{children:(0,u.jsx)(a.BaseControl,{label:"Render To Region",id:"prc-block-render-to-region-control",help:"When you select a region, the block will be rendered to that region when that region's activation criteria are met.",children:(0,u.jsxs)("p",{children:["Regions available on this post and on this posts template will be available here...",`postId: ${k}, postType: ${v}, templateId: ${y}`]})})}),(0,u.jsx)(e,{...o})]})},"withRenderToRegionControls"),100)}},t={};function n(e){var r=t[e];if(void 0!==r)return r.exports;var i=t[e]={exports:{}};return o[e](i,i.exports,n),i.exports}n.m=o,e=[],n.O=(o,t,r,i)=>{if(!t){var s=1/0;for(d=0;d<e.length;d++){for(var[t,r,i]=e[d],a=!0,l=0;l<t.length;l++)(!1&i||s>=i)&&Object.keys(n.O).every(e=>n.O[e](t[l]))?t.splice(l--,1):(a=!1,i<s&&(s=i));if(a){e.splice(d--,1);var c=r();void 0!==c&&(o=c)}}return o}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[t,r,i]},n.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return n.d(o,{a:o}),o},n.d=(e,o)=>{for(var t in o)n.o(o,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},n.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={7529:0,941:0};n.O.j=o=>0===e[o];var o=(o,t)=>{var r,i,[s,a,l]=t,c=0;if(s.some(o=>0!==e[o])){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)var d=l(n)}for(o&&o(t);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(d)},t=globalThis.webpackChunk_prc_block_library=globalThis.webpackChunk_prc_block_library||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var r=n.O(void 0,[941],()=>n(5801));r=n.O(r)})();
//# sourceMappingURL=index.js.map