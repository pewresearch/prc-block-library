(()=>{"use strict";var e,t={8582:(e,t,r)=>{const o=window.wp.primitives,a=window.ReactJSXRuntime,n=(0,a.jsx)(o.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)(o.Path,{d:"M3 6h11v1.5H3V6Zm3.5 5.5h11V13h-11v-1.5ZM21 17H10v1.5h11V17Z"})}),s=window.wp.i18n,i=window.wp.blocks,l=window.classnames;var p=r.n(l);const c=window.prcBlockUtils,u=window.wp.data,d=window.wp.blockEditor,h=window.wp.components,g=window.wp.element,b=window.wp.coreData,w=window.wp.htmlEntities;function y({addLeadingSeparator:e,crumbTitle:t,editableTitleField:r,isSelected:o,placeholder:n,separator:i,setAttributes:l,showSeparator:p}){let c,u;const[h,b]=(0,g.useState)();return(0,g.useEffect)(()=>{o||b(!1)},[o]),(i||o)&&(u=(0,a.jsx)("span",{className:"prc-block-breadcrumbs__separator",children:(0,a.jsx)(d.RichText,{"aria-label":(0,s.__)("Separator character"),placeholder:(0,s.__)("/"),withoutInteractiveFormatting:!0,value:i,onChange:e=>l({separator:e})})})),r?c=(0,a.jsx)("a",{href:"#",onClick:e=>e.preventDefault(),children:o?(0,a.jsx)(d.RichText,{"aria-label":(0,s.__)("Title override"),placeholder:n,withoutInteractiveFormatting:!0,value:h?null!=t?t:n:t||n,onChange:e=>{b(!0),l({[r]:e})}}):t||n}):t&&(c=(0,a.jsx)("a",{href:"#",onClick:e=>e.preventDefault(),children:t})),(0,a.jsxs)("li",{className:"prc-block-breadcrumbs__item",children:[e?u:null,c,p?u:null]})}const m=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/breadcrumbs","version":"1.0.0","title":"Breadcrumbs","category":"theme","attributes":{"contentJustification":{"type":"string"},"separator":{"type":"string","default":"/"},"showCurrentPageTitle":{"type":"boolean","default":false},"showLeadingSeparator":{"type":"boolean","default":false},"showHome":{"type":"boolean","default":false},"homeCrumb":{"type":"object","properties":{"id":{"type":"string"},"url":{"type":"string"},"text":{"type":"string"},"asIcon":{"type":"boolean"}}},"crumbs":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"url":{"type":"string"},"text":{"type":"string"},"is_current_page":{"type":"boolean"},"crumbs":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"url":{"type":"string"},"text":{"type":"string"},"is_current_page":{"type":"boolean"}}}}}}},"style":{"type":"object","default":{"spacing":{"blockGap":{"left":"var:preset|spacing|50"}}}}},"supports":{"anchor":true,"html":false,"color":{"background":true,"text":true,"link":true,"heading":true},"spacing":{"blockGap":{"sides":["horizontal"]},"margin":["top","bottom"],"padding":true,"__experimentalDefaultControls":{"padding":true}},"typography":{"fontSize":true,"__experimentalFontFamily":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true}}},"usesContext":["postId","postType","query","queryId","previewPostType"],"textdomain":"breadcrumbs","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),{name:f}=m,_={icon:n,edit:function({attributes:e,isSelected:t,setAttributes:r,context:{postType:o,postId:n}}){const{contentJustification:i,separator:l,showCurrentPageTitle:m,showLeadingSeparator:f,siteTitleOverride:_}=e,{categories:v,parents:x,post:j,siteTitle:k}=(0,u.useSelect)(e=>{const{getEntityRecord:t,getEditedEntityRecord:r}=e(b.store),a=t("root","__unstableBase"),s=r("postType",o,n),i=[],l=[];let p=s?.categories?.[0],c=s?.parent;for(;c;){const e=t("postType",o,c);c=null,e&&(l.push(e),c=e?.parent||null)}for(;p;){const e=t("taxonomy","category",p);p=null,e&&(i.push(e),p=e?.parent||null)}return{categories:i,post:s,parents:l.reverse(),siteTitle:(0,w.decodeEntities)(a?.name)}},[n,o]),C=(0,g.useMemo)(()=>{const e=[];let o;return o=x?.length?x.map(e=>e?.title?.rendered||" "):v?.length?v.map(e=>e?.name||" "):[(0,s.__)("Top-level page"),(0,s.__)("Child page")],m&&o.push(j?.title||(0,s.__)("Current page")),o.forEach((n,s)=>{e.push((0,a.jsx)(y,{addLeadingSeparator:0===s&&f,crumbTitle:n,isSelected:t,separator:l,setAttributes:r,showSeparator:s<o.length-1},s))}),e},[v,t,x,j?.title,l,r,m,f]),S=(0,d.useBlockProps)({className:p()({[`is-content-justification-${i}`]:i}),style:{"--breadcrumbs-gap":(0,c.getBlockGapSupportValue)(e,"horizontal")}});return(0,a.jsxs)(g.Fragment,{children:[(0,a.jsx)(d.BlockControls,{group:"block",children:(0,a.jsx)(d.JustifyContentControl,{allowedControls:["left","center","right"],value:i,onChange:e=>r({contentJustification:e}),popoverProps:{position:"bottom right",isAlternate:!0}})}),(0,a.jsx)(d.InspectorControls,{children:(0,a.jsxs)(h.PanelBody,{title:(0,s.__)("Display"),children:[(0,a.jsx)(h.ToggleControl,{label:(0,s.__)("Show leading separator"),checked:f,onChange:()=>r({showLeadingSeparator:!f})}),(0,a.jsx)(h.ToggleControl,{label:(0,s.__)("Show current page title"),checked:m,onChange:()=>r({showCurrentPageTitle:!m})})]})}),(0,a.jsx)("nav",{...S,children:(0,a.jsx)("ol",{children:C})})]})}};(0,i.registerBlockType)(f,{...m,..._})}},r={};function o(e){var a=r[e];if(void 0!==a)return a.exports;var n=r[e]={exports:{}};return t[e](n,n.exports,o),n.exports}o.m=t,e=[],o.O=(t,r,a,n)=>{if(!r){var s=1/0;for(c=0;c<e.length;c++){for(var[r,a,n]=e[c],i=!0,l=0;l<r.length;l++)(!1&n||s>=n)&&Object.keys(o.O).every(e=>o.O[e](r[l]))?r.splice(l--,1):(i=!1,n<s&&(s=n));if(i){e.splice(c--,1);var p=a();void 0!==p&&(t=p)}}return t}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[r,a,n]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={3790:0,5298:0};o.O.j=t=>0===e[t];var t=(t,r)=>{var a,n,[s,i,l]=r,p=0;if(s.some(t=>0!==e[t])){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(l)var c=l(o)}for(t&&t(r);p<s.length;p++)n=s[p],o.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return o.O(c)},r=globalThis.webpackChunk_prc_block_library=globalThis.webpackChunk_prc_block_library||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=o.O(void 0,[5298],()=>o(8582));a=o.O(a)})();
//# sourceMappingURL=index.js.map