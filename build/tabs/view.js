import{getContext as t,getElement as e,store as n,withSyncEvent as i}from"@wordpress/interactivity";const{state:o,actions:s}=n("prc-block/tabs",{state:{get tabsList(){const e=t(),n=e?.tabsId;return o[n]},get tabIndex(){const{attributes:t}=e(),n=t?.id?.replace("tab__","")||null;if(!n)return null;const{tabsList:i}=o;return i.findIndex(t=>t.id===n)},get isActiveTab(){const{activeTabIndex:e}=t(),{tabIndex:n}=o;return e===n},get isMobileDropdown(){const e=t();return e?.isMobileDropdown||!1},get tabIndexAttribute(){return o.isActiveTab?-1:0}},actions:{handleTabKeyDown:i(e=>{const{isVertical:n}=t();if("Enter"===e.key){const{tabIndex:t}=o;null!==t&&s.setActiveTab(t)}else if("ArrowRight"!==e.key||n)if("ArrowLeft"!==e.key||n){if("ArrowDown"===e.key&&n){const{tabIndex:t}=o;null!==t&&s.setActiveTab(t+1)}else if("ArrowUp"===e.key&&n){const{tabIndex:t}=o;null!==t&&s.setActiveTab(t-1)}}else{const{tabIndex:t}=o;null!==t&&s.setActiveTab(t-1)}else{const{tabIndex:t}=o;null!==t&&s.setActiveTab(t+1)}}),handleTabClick:i(t=>{t.preventDefault();const{tabIndex:e}=o;null!==e&&s.setActiveTab(e)}),handleSelectChange:i(t=>{const e=t.target.selectedIndex-1;e>=0&&s.setActiveTab(e)}),updateMobileDropdownState:()=>{const e=t(),{mobileDropdown:n,mobileDropdownWidth:i}=e;if(!n)return void(e.isMobileDropdown=!1);const o=window.innerWidth;e.isMobileDropdown=!!(o<i&&n)},setActiveTab:(e,n=!1)=>{if(t().activeTabIndex=e,n){const t=o.tabsList[e].id,n=document.getElementById(t);n&&setTimeout(()=>{n.scrollIntoView({behavior:"smooth"})},100)}},signalTabsReady:()=>{window.dispatchEvent(new CustomEvent("tabsReady"))}},callbacks:{onTabsInit:()=>{const{tabsList:t}=o;if(0===t.length)return;const{hash:e}=window.location,n=e.replace("#",""),i=t.findIndex(t=>t.id===n);i>=0&&s.setActiveTab(i,!0),s.updateMobileDropdownState(),window.addEventListener("resize",s.updateMobileDropdownState),s.signalTabsReady()}}});
//# sourceMappingURL=view.js.map