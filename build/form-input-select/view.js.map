{"version":3,"file":"view.js","mappings":"2CACA,IAAIA,EAAsB,CCA1BA,EAAwB,CAACC,EAASC,KACjC,IAAI,IAAIC,KAAOD,EACXF,EAAoBI,EAAEF,EAAYC,KAASH,EAAoBI,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAE1E,ECNDH,EAAwB,CAACS,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,ICIlF,MAAM,GAJGI,EAI8B,CAAE,WAAgB,IAAOC,EAAwE,WAAG,MAAW,IAAOA,EAAmE,MAAG,cAAmB,IAAOA,EAA2E,eAHnUC,EAAI,CAAC,EAAGhB,EAAoBiB,EAAED,EAAGF,GAAWE,ICU3C,MAAEE,EAAK,QAAEC,IAAYC,EAAAA,EAAAA,OAAM,8BAA+B,CAC/DF,MAAO,CACN,eAAIG,GACH,MAAMC,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACf,OAAKE,GAAON,EAAMM,IAGXN,EAAMM,GAAIH,aAFT,CAGT,EACA,UAAII,GACH,MAAMH,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACf,OAAKE,GAAON,EAAMM,IAGXN,EAAMM,GAAIC,SAFT,CAGT,EACA,aAAIC,GACH,MAAMJ,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACf,IAAKE,IAAON,EAAMM,GACjB,MAAO,CAAC,EAET,MAAM,KACLG,EAAI,MACJC,EAAK,MACLC,EAAK,SACLC,EAAQ,YACRC,EAAW,OACXC,EAAM,SACNC,EAAQ,SACRC,EAAQ,MACRC,EAAK,QACLC,GACGlB,EAAMM,GACV,MAAO,CACNG,OACAC,QACAC,QACAC,WACAC,cACAC,SACAC,WACAC,WACAC,QACAC,UAEF,EACA,mBAAIC,GACH,MAAMf,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACf,OAAKE,GAAON,EAAMM,IAGXN,EAAMM,GAAIM,WAFT,CAGT,EACA,mBAAIQ,GACH,MAAMhB,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACf,OAAKE,GAAON,EAAMM,IAGXN,EAAMM,GAAIe,aAFT,CAGT,EACA,mBAAIC,GACH,MAAMlB,GAAUC,EAAAA,EAAAA,eACV,YAAEkB,GAAgBnB,EAExB,OAAQmB,CACT,EACA,WAAIC,GACH,MAAMpB,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACf,SAAKE,IAAON,EAAMM,KAGXA,CACR,EACA,cAAImB,GACH,MAAMrB,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACf,SAAKE,IAAON,EAAMM,MAGXN,EAAMM,GAAII,OAAS,GAC3B,EACA,cAAIgB,GACH,MAAMtB,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACf,OAAKE,GAAON,EAAMM,IAGXN,EAAMM,GAAIK,OAFT,EAGT,EACA,oBAAIgB,GACH,MAAMvB,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACf,SAAKE,IAAON,EAAMM,MAGXN,EAAMM,GAAIO,aAAe,GACjC,EACA,YAAIe,GACH,MAAMxB,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACf,SAAKE,IAAON,EAAMM,KAGTN,EAAMM,GAAIK,MACpB,EACA,gBAAIkB,GACH,MAAMzB,GAAUC,EAAAA,EAAAA,eACV,GAAEC,EAAE,aAAEuB,GAAiBzB,EAC7B,SAAKE,IAAON,EAAMM,KAGduB,IACM7B,EAAMM,GAAIK,QAAWmB,WAGhC,EAKA,gBAAIC,GACH,MAAM3B,GAAUC,EAAAA,EAAAA,eACV,GAAEC,EAAE,WAAEwB,GAAe1B,EAC3B,IAAKE,IAAON,EAAMM,GACjB,MAAO,GAER,IAAIY,EAAUlB,EAAMM,GAAIY,SAAW,GACnC,GAAIY,GAAcA,EAAWE,OAAS,GAAKd,EAAS,CACnD,MAAMe,EAAkBf,EAAQgB,QAAQC,GACvCA,EAAOzB,MACL0B,cACAC,SAASP,EAAWM,iBAEnBH,EAAgBD,OAAS,IAC5Bd,EAAUe,EAIZ,CACA,OAAOf,CACR,GAEDjB,QAAS,CACRqC,wBAAyBA,CAACC,EAASC,KAElC,MAAQxC,MAAOyC,IAAgBvC,EAAAA,EAAAA,OAAMsC,GACrC,IAAKC,EACJ,OAED,MAAM,WAAEC,GAAeD,EACvB,IAAKC,EACJ,OAED,IAAIlC,EAAYkC,EAAWC,MAAMC,GAAUA,EAAMtC,KAAOiC,IACxD,IAAK/B,EACJ,OAED,MAAMqC,EAAe7C,EAAMQ,UACtBqC,IAILrC,EAAY,IAAKA,KAAcqC,GAE/BJ,EAAYC,WAAaA,EAAWI,KAAKF,GACxCA,EAAMtC,KAAOiC,EAAU/B,EAAYoC,IACnC,EAEFG,gBAAgBC,EAAAA,EAAAA,gBAAeC,IAC9B,MAAM,YAAE9C,EAAW,GAAEG,EAAE,gBAAEkC,EAAe,YAAEjB,IACzClB,EAAAA,EAAAA,cAUK6C,EAPiB,CACtB,YACA,UACA,QACA,SACA,OAEsCb,SAASY,EAAMhE,KAGtD,GAAkB,cAAdgE,EAAMhE,KAAqC,YAAdgE,EAAMhE,IAItC,OAHAgE,EAAME,sBACNF,EAAMG,kBAMP,IAAK7B,IAAgB2B,EAGpB,OAFAD,EAAME,sBACNF,EAAMG,kBAKP,GAAkB,UAAdH,EAAMhE,IAAiB,CAC1BgE,EAAME,iBACNF,EAAMG,kBACN,MAAM,aAAErB,GAAiB/B,EACzB,GAAI+B,GAAgBA,EAAa5B,GAAc,CAC9C,MAAM,MAAEO,EAAK,MAAEC,GAAUoB,EAAa5B,GAEtCH,EAAMM,GAAIK,MAAQA,EAClBX,EAAMM,GAAII,MAAQA,EAClBV,EAAMM,GAAIC,QAAS,EAEnBN,EAAQqC,wBAAwBhC,EAAIkC,EACrC,CACD,KAEDa,cAAcL,EAAAA,EAAAA,gBAAeC,IAC5B,MAAM7C,GAAUC,EAAAA,EAAAA,eACV,GAAEC,EAAE,YAAEiB,GAAgBnB,EAa5B,OAVImB,IACHnB,EAAQ0B,WAAamB,EAAMK,OAAO3C,OAI9BX,EAAMM,GAAIC,SACdP,EAAMM,GAAIC,QAAS,GAIF,cAAd0C,EAAMhE,KACTgE,EAAME,iBACNF,EAAMG,uBACNnD,EAAQsD,mBAAmB,EAAGN,EAAMK,SAGnB,YAAdL,EAAMhE,KACTgE,EAAME,iBACNF,EAAMG,uBACNnD,EAAQsD,oBAAoB,EAAGN,EAAMK,cAKpB,WAAdL,EAAMhE,MACTe,EAAMM,GAAIC,QAAS,GACpB,IAEDiD,cAAcR,EAAAA,EAAAA,gBAAeC,IAC5B,MAAM,GAAE3C,IAAOD,EAAAA,EAAAA,cAEToD,EAAQC,SAASC,eAAerD,GAClCmD,GACHA,EAAMG,OACP,IAEDC,yBAAyBb,EAAAA,EAAAA,gBAAeC,IACvC,MAAM,GAAE3C,IAAOD,EAAAA,EAAAA,eACT,gBAAEmC,IAAoBnC,EAAAA,EAAAA,eAC5BA,EAAAA,EAAAA,cAAayB,WAAa,GAC1B9B,EAAMM,GAAIK,MAAQ,GAClBX,EAAMM,GAAII,MAAQ,GAClBV,EAAMM,GAAIC,QAAS,EACnBN,EAAQqC,wBAAwBhC,EAAIkC,EAAgB,IAErDe,mBAAoBA,CAACO,EAAWC,KAC/B,MAAM,aAAEhC,GAAiB/B,GACnB,YAAEG,IAAgBE,EAAAA,EAAAA,cAGxB,IAAI2D,EAAa,KAEhBA,EADmB,OAAhB7D,GAAwB8D,MAAM9D,GACpB,EAEAA,EAAc2D,EAExBE,EAAa,IAChBA,EAAajC,EAAaC,OAAS,GAEhCgC,GAAcjC,EAAaC,SAC9BgC,EAAa,GAId,MAAME,EAAkBnC,EAAaiC,GAAYrD,MAE3CwD,EAAUJ,EAAIK,cAAcA,cAAcC,cAC/C,+CAEKC,EAAaH,EAAQE,cAC1B,oBAAoBH,OAErB,GAAII,EAAY,CAEf,MAAMC,EAAiBJ,EAAQE,cAAc,gBACzCE,GACHA,EAAeC,UAAUC,OAAO,eAEjCH,EAAWE,UAAUE,IAAI,eACzBJ,EAAWK,eAAe,CACzBC,MAAO,WAET,EAEAvE,EAAAA,EAAAA,cAAaF,YAAc6D,CAAU,EAEtCa,oBAAoB7B,EAAAA,EAAAA,gBAAeC,IAClCA,EAAME,iBACN,MAAM/C,GAAUC,EAAAA,EAAAA,eACV,GAAEC,EAAE,gBAAEkC,GAAoBpC,GAC1B,MAAEO,EAAK,MAAED,GAAUN,EAAQ+B,OACjCnC,EAAMM,GAAIK,MAAQA,EAClBX,EAAMM,GAAII,MAAQA,EAElBT,EAAQqC,wBAAwBhC,EAAIkC,EAAgB,IAErDsC,cAAc9B,EAAAA,EAAAA,gBAAeC,IAC5B,MAAM7C,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACXJ,EAAMM,KACTN,EAAMM,GAAIC,QAAS,EACpB,IAEDwE,aAAa/B,EAAAA,EAAAA,gBAAeC,IAM3B,IAAI+B,GAAY,EAChB,IAAKA,EAAW,CACfA,GAAY,EACZ,MAAM5E,GAAUC,EAAAA,EAAAA,eACV,GAAEC,GAAOF,EACf6E,YAAW,KACNjF,EAAMM,KACTN,EAAMM,GAAIC,QAAS,GAEpByE,GAAY,CAAK,GACf,IACJ,MAGFE,UAAW,CAAC,IDtWL,IAACtF,EACJE","sources":["webpack://@prc/block-library/webpack/bootstrap","webpack://@prc/block-library/webpack/runtime/define property getters","webpack://@prc/block-library/webpack/runtime/hasOwnProperty shorthand","webpack://@prc/block-library/external module \"@wordpress/interactivity\"","webpack://@prc/block-library/./src/form-input-select/view.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"getContext\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.getContext), [\"store\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.store), [\"withSyncEvent\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.withSyncEvent) });","/**\n * WordPress Dependencies\n */\nimport {\n\tstore,\n\tgetContext,\n\tgetElement,\n\tgetServerState,\n\twithSyncEvent,\n} from '@wordpress/interactivity';\n\nconst { state, actions } = store('prc-block/form-input-select', {\n\tstate: {\n\t\tget activeIndex() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\treturn state[id].activeIndex || 0;\n\t\t},\n\t\tget isOpen() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn state[id].isOpen || false;\n\t\t},\n\t\tget formField() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn {};\n\t\t\t}\n\t\t\tconst {\n\t\t\t\tname,\n\t\t\t\tlabel,\n\t\t\t\tvalue,\n\t\t\t\trequired,\n\t\t\t\tplaceholder,\n\t\t\t\thidden,\n\t\t\t\treadonly,\n\t\t\t\tdisabled,\n\t\t\t\terror,\n\t\t\t\toptions,\n\t\t\t} = state[id];\n\t\t\treturn {\n\t\t\t\tname,\n\t\t\t\tlabel,\n\t\t\t\tvalue,\n\t\t\t\trequired,\n\t\t\t\tplaceholder,\n\t\t\t\thidden,\n\t\t\t\treadonly,\n\t\t\t\tdisabled,\n\t\t\t\terror,\n\t\t\t\toptions,\n\t\t\t};\n\t\t},\n\t\tget isInputRequired() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn state[id].required || false;\n\t\t},\n\t\tget isInputDisabled() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn state[id].isDisabled || false;\n\t\t},\n\t\tget isInputReadonly() {\n\t\t\tconst context = getContext();\n\t\t\tconst { allowSearch } = context;\n\t\t\t// If allowSearch is false, make the input readonly\n\t\t\treturn !allowSearch;\n\t\t},\n\t\tget inputId() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn id;\n\t\t},\n\t\tget inputLabel() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn state[id].label || '';\n\t\t},\n\t\tget inputValue() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\treturn state[id].value || '';\n\t\t},\n\t\tget inputPlaceholder() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn state[id].placeholder || '';\n\t\t},\n\t\tget hasValue() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn !!state[id].value;\n\t\t},\n\t\tget hasClearIcon() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id, hasClearIcon } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (hasClearIcon) {\n\t\t\t\treturn !!state[id].value || !!searchTerm;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\t/**\n\t\t * Gets the full options list, or a filtered list based on the search term\n\t\t * for the input.\n\t\t */\n\t\tget inputOptions() {\n\t\t\tconst context = getContext();\n\t\t\tconst { id, searchTerm } = context;\n\t\t\tif (!id || !state[id]) {\n\t\t\t\treturn [];\n\t\t\t}\n\t\t\tlet options = state[id].options || [];\n\t\t\tif (searchTerm && searchTerm.length > 0 && options) {\n\t\t\t\tconst filteredOptions = options.filter((option) =>\n\t\t\t\t\toption.label\n\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t.includes(searchTerm.toLowerCase())\n\t\t\t\t);\n\t\t\t\tif (filteredOptions.length > 0) {\n\t\t\t\t\toptions = filteredOptions;\n\t\t\t\t} else {\n\t\t\t\t\toptions = options;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn options;\n\t\t},\n\t},\n\tactions: {\n\t\thoistValueToTargetState: (fieldId, targetNamespace) => {\n\t\t\t// Hoist value up to the target namespace.\n\t\t\tconst { state: targetState } = store(targetNamespace);\n\t\t\tif (!targetState) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst { formFields } = targetState;\n\t\t\tif (!formFields) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet formField = formFields.find((field) => field.id === fieldId);\n\t\t\tif (!formField) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst newFormField = state.formField;\n\t\t\tif (!newFormField) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Update the form field with the new state.\n\t\t\tformField = { ...formField, ...newFormField };\n\t\t\t// Update the form field in the target namespace. Only update matching on field id.\n\t\t\ttargetState.formFields = formFields.map((field) =>\n\t\t\t\tfield.id === fieldId ? formField : field\n\t\t\t);\n\t\t},\n\t\tonInputKeyDown: withSyncEvent((event) => {\n\t\t\tconst { activeIndex, id, targetNamespace, allowSearch } =\n\t\t\t\tgetContext();\n\n\t\t\t// Define navigation keys that should always work\n\t\t\tconst navigationKeys = [\n\t\t\t\t'ArrowDown',\n\t\t\t\t'ArrowUp',\n\t\t\t\t'Enter',\n\t\t\t\t'Escape',\n\t\t\t\t'Tab',\n\t\t\t];\n\t\t\tconst isNavigationKey = navigationKeys.includes(event.key);\n\n\t\t\t// Handle arrow keys specifically to prevent page scrolling\n\t\t\tif (event.key === 'ArrowDown' || event.key === 'ArrowUp') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t// Let onInputKeyUp handle the actual navigation logic\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// If search is not allowed and this is not a navigation key, prevent the default behavior\n\t\t\tif (!allowSearch && !isNavigationKey) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Handle specific key actions\n\t\t\tif (event.key === 'Enter') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tconst { inputOptions } = state;\n\t\t\t\tif (inputOptions && inputOptions[activeIndex]) {\n\t\t\t\t\tconst { label, value } = inputOptions[activeIndex];\n\n\t\t\t\t\tstate[id].value = value;\n\t\t\t\t\tstate[id].label = label;\n\t\t\t\t\tstate[id].isOpen = false;\n\n\t\t\t\t\tactions.hoistValueToTargetState(id, targetNamespace);\n\t\t\t\t}\n\t\t\t}\n\t\t}),\n\t\tonInputKeyUp: withSyncEvent((event) => {\n\t\t\tconst context = getContext();\n\t\t\tconst { id, allowSearch } = context;\n\n\t\t\t// Only update search term if search is allowed\n\t\t\tif (allowSearch) {\n\t\t\t\tcontext.searchTerm = event.target.value;\n\t\t\t}\n\n\t\t\t// Open dropdown if not already open\n\t\t\tif (!state[id].isOpen) {\n\t\t\t\tstate[id].isOpen = true;\n\t\t\t}\n\n\t\t\t// Handle arrow key navigation (works regardless of allowSearch)\n\t\t\tif (event.key === 'ArrowDown') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tactions.moveThroughChoices(1, event.target);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (event.key === 'ArrowUp') {\n\t\t\t\tevent.preventDefault();\n\t\t\t\tevent.stopPropagation();\n\t\t\t\tactions.moveThroughChoices(-1, event.target);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Close dropdown on escape key\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\tstate[id].isOpen = false;\n\t\t\t}\n\t\t}),\n\t\tonLabelClick: withSyncEvent((event) => {\n\t\t\tconst { id } = getContext();\n\t\t\t// find the input element and focus it.\n\t\t\tconst input = document.getElementById(id);\n\t\t\tif (input) {\n\t\t\t\tinput.focus();\n\t\t\t}\n\t\t}),\n\t\tonInputClearButtonClick: withSyncEvent((event) => {\n\t\t\tconst { id } = getContext();\n\t\t\tconst { targetNamespace } = getContext();\n\t\t\tgetContext().searchTerm = '';\n\t\t\tstate[id].value = '';\n\t\t\tstate[id].label = '';\n\t\t\tstate[id].isOpen = false;\n\t\t\tactions.hoistValueToTargetState(id, targetNamespace);\n\t\t}),\n\t\tmoveThroughChoices: (direction, ref) => {\n\t\t\tconst { inputOptions } = state;\n\t\t\tconst { activeIndex } = getContext();\n\n\t\t\t// Determine next active index.\n\t\t\tlet nextActive = null;\n\t\t\tif (activeIndex === null || isNaN(activeIndex)) {\n\t\t\t\tnextActive = 0;\n\t\t\t} else {\n\t\t\t\tnextActive = activeIndex + direction;\n\t\t\t}\n\t\t\tif (nextActive < 0) {\n\t\t\t\tnextActive = inputOptions.length - 1;\n\t\t\t}\n\t\t\tif (nextActive >= inputOptions.length) {\n\t\t\t\tnextActive = 0;\n\t\t\t}\n\n\t\t\t// Get the next active value.\n\t\t\tconst nextActiveValue = inputOptions[nextActive].value;\n\t\t\t// And then scroll the listbox to the active item.\n\t\t\tconst listbox = ref.parentElement.parentElement.querySelector(\n\t\t\t\t'.wp-block-prc-block-form-input-select__list'\n\t\t\t);\n\t\t\tconst activeItem = listbox.querySelector(\n\t\t\t\t`[data-ref-value=\"${nextActiveValue}\"]`\n\t\t\t);\n\t\t\tif (activeItem) {\n\t\t\t\t// Remove the active class from the previous active item.\n\t\t\t\tconst previousActive = listbox.querySelector('.is-selected');\n\t\t\t\tif (previousActive) {\n\t\t\t\t\tpreviousActive.classList.remove('is-selected');\n\t\t\t\t}\n\t\t\t\tactiveItem.classList.add('is-selected');\n\t\t\t\tactiveItem.scrollIntoView({\n\t\t\t\t\tblock: 'nearest',\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tgetContext().activeIndex = nextActive;\n\t\t},\n\t\tonInputOptionClick: withSyncEvent((event) => {\n\t\t\tevent.preventDefault();\n\t\t\tconst context = getContext();\n\t\t\tconst { id, targetNamespace } = context;\n\t\t\tconst { value, label } = context.option;\n\t\t\tstate[id].value = value;\n\t\t\tstate[id].label = label;\n\n\t\t\tactions.hoistValueToTargetState(id, targetNamespace);\n\t\t}),\n\t\tonInputFocus: withSyncEvent((event) => {\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tif (state[id]) {\n\t\t\t\tstate[id].isOpen = true;\n\t\t\t}\n\t\t}),\n\t\tonInputBlur: withSyncEvent((event) => {\n\t\t\t// By default this runs on the on-blur directive on the input element\n\t\t\t// but we also use it as a shortcut to close the listbox on click,\n\n\t\t\t// Because the on-blur event fires before the click event\n\t\t\t// we need to slow things down a bit, 150 ms should do it...\n\t\t\tlet isRunning = false;\n\t\t\tif (!isRunning) {\n\t\t\t\tisRunning = true;\n\t\t\t\tconst context = getContext();\n\t\t\t\tconst { id } = context;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tif (state[id]) {\n\t\t\t\t\t\tstate[id].isOpen = false;\n\t\t\t\t\t}\n\t\t\t\t\tisRunning = false;\n\t\t\t\t}, 150);\n\t\t\t}\n\t\t}),\n\t},\n\tcallbacks: {},\n});\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","y","__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__","x","d","state","actions","store","activeIndex","context","getContext","id","isOpen","formField","name","label","value","required","placeholder","hidden","readonly","disabled","error","options","isInputRequired","isInputDisabled","isDisabled","isInputReadonly","allowSearch","inputId","inputLabel","inputValue","inputPlaceholder","hasValue","hasClearIcon","searchTerm","inputOptions","length","filteredOptions","filter","option","toLowerCase","includes","hoistValueToTargetState","fieldId","targetNamespace","targetState","formFields","find","field","newFormField","map","onInputKeyDown","withSyncEvent","event","isNavigationKey","preventDefault","stopPropagation","onInputKeyUp","target","moveThroughChoices","onLabelClick","input","document","getElementById","focus","onInputClearButtonClick","direction","ref","nextActive","isNaN","nextActiveValue","listbox","parentElement","querySelector","activeItem","previousActive","classList","remove","add","scrollIntoView","block","onInputOptionClick","onInputFocus","onInputBlur","isRunning","setTimeout","callbacks"],"sourceRoot":""}