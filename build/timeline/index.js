(()=>{"use strict";var e,t={4379:()=>{const e=window.wp.blocks,t=window.wp.element,r=window.wp.blockEditor,n=window.wp.data,a=window.wp.components,i=window.ReactJSXRuntime;function s({attributes:e,setAttributes:t,clientId:n}){const{autoPlayInterval:s,enableAutoPlay:l}=e;return(0,i.jsx)(r.InspectorControls,{children:(0,i.jsxs)(a.PanelBody,{title:"Block Controls",children:[(0,i.jsx)(a.ToggleControl,{label:"Auto Play",checked:l,onChange:()=>t({enableAutoPlay:!l})}),(0,i.jsx)(a.RangeControl,{label:"Interval (seconds)",value:s/1e3,onChange:e=>t({autoPlayInterval:1e3*e}),min:1,max:10,step:.5,marks:[{value:1,label:"1s"},{value:3,label:"3s"},{value:5,label:"5s"},{value:10,label:"10s"}]})]})})}const l=window.prcIcons,o={from:[{type:"block",blocks:["prc-block/tabs"],priority:1,transform:(t,r)=>{const n=[];return r.forEach((e=>{const{label:t}=e.attributes,r={name:"prc-block/timeline-slide",attributes:{metadata:{name:t}},innerBlocks:e.innerBlocks};n.push(r)})),(0,e.createBlock)("prc-block/timeline",{},(0,e.createBlocksFromInnerBlocksTemplate)(n))}}],to:[{type:"block",blocks:["prc-block/tabs"],transform:(t,r)=>{const n=[];return r.forEach((t=>{const{metadata:r}=t.attributes,{name:a}=r;n.push((0,e.createBlock)("prc-block/tab",{label:a,metadata:{...r}},t.innerBlocks))})),(0,e.createBlock)("prc-block/tabs",{},n)}},{type:"block",blocks:["core/group"],transform:(t,r)=>{const n=[];return r.forEach((t=>{n.push((0,e.createBlock)("core/group",{metadata:{...t.attributes.metadata}},t.innerBlocks))})),(0,e.createBlock)("core/group",{},n)}},{type:"block",blocks:["core/details"],transform:(t,r)=>{const n=[];return r.forEach((t=>{const{metadata:r}=t.attributes,{name:a}=r;n.push((0,e.createBlock)("core/details",{summary:a,metadata:{...r}},t.innerBlocks))})),(0,e.createBlock)("core/group",{},n)}}]},c=window.wp.i18n,p=(e=2e3,t=2025)=>{const r=[];for(let n=e;n<t;n++){const e=["prc-block/timeline-slide",{metadata:{name:n.toString()}},[["core/paragraph",{placeholder:"Add content to timeline slide here..."}]]];r.push([...e])}return r},u=[{name:"timeline-2000",title:(0,c.__)("Timeline: 2000","prc-block-library"),excerpt:(0,c.__)("Display content in a timeline that starts 25 years ago.","prc-block-library"),attributes:{className:"starting-point-2000"},category:"media",innerBlocks:p(2e3,2025),scope:["inserter","transform"],isActive:({className:e})=>!!e&&e.includes("starting-point-2000")},{name:"timeline-1990",title:(0,c.__)("Timeline: 1990","prc-block-library"),excerpt:(0,c.__)("Display content in a timeline that starts 35 years ago.","prc-block-library"),attributes:{className:"starting-point-1990"},category:"media",innerBlocks:p(1990,2025),scope:["inserter","transform"],isActive:({className:e})=>!!e&&e.includes("starting-point-1990")},{name:"timeline-1980",title:(0,c.__)("Timeline: 1980","prc-block-library"),excerpt:(0,c.__)("Display content in a timeline that starts 45 years ago.","prc-block-library"),attributes:{className:"starting-point-1980"},category:"media",innerBlocks:p(1980,2025),scope:["inserter","transform"],isActive:({className:e})=>!!e&&e.includes("starting-point-1980")},{name:"timeline-1970",title:(0,c.__)("Timeline: 1970","prc-block-library"),excerpt:(0,c.__)("Display content in a timeline that starts 55 years ago.","prc-block-library"),attributes:{className:"starting-point-1970"},category:"media",innerBlocks:p(1970,2025),scope:["inserter","transform"],isActive:({className:e})=>!!e&&e.includes("starting-point-1970")}],m=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/timeline","version":"0.1.0","title":"Timeline","category":"design","description":"Display a series of blocks in a timeline","allowedBlocks":["prc-block/timeline-slide"],"attributes":{"defaultLabel":{"type":"string","default":"Timeline"},"currentActiveIndex":{"type":"number","default":0},"enableAutoPlay":{"type":"boolean","default":false},"autoPlayInterval":{"type":"number","default":3000}},"supports":{"anchor":true,"html":false,"interactivity":true,"spacing":{"blockGap":true,"margin":["top","bottom"],"padding":true,"__experimentalDefaultControls":{"padding":true}},"typography":{"fontSize":true,"__experimentalFontFamily":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true}}},"providesContext":{"timeline/currentActiveIndex":"currentActiveIndex"},"textdomain":"timeline","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php","viewScriptModule":"file:./view.js"}'),{name:d}=m,b={icon:function(){return(0,i.jsx)(l.Icon,{icon:"timeline"})},edit:function({attributes:e,setAttributes:a,clientId:l,isSelected:o}){const{currentActiveIndex:c}=e,p=(0,t.useRef)(),{selectBlock:u,updateBlockAttributes:m}=(0,n.useDispatch)(r.store),{maxSteps:d,ticks:b}=(0,n.useSelect)((e=>({maxSteps:e(r.store).getBlocks(l).length,ticks:e(r.store).getBlocks(l)})),[l]),k=(0,t.useMemo)((()=>b.map((e=>e.clientId))),[b]),h=(0,t.useMemo)((()=>b.map(((e,t)=>{const r=b.length;return r>1?t/(r-1)*100:0}))),[b]),y=(0,t.useCallback)((e=>{a({currentActiveIndex:e}),u(k[e],k,e)}),[a,u,k]),f=(0,t.useMemo)((()=>{return e=b?.length,e<=10?"sparse":e<=20?"medium":e<=40?"dense":"very-dense";var e}),[b]),v=(0,r.useBlockProps)({"data-tick-density":f}),g=(0,r.useInnerBlocksProps)({},{__experimentalCaptureToolbars:!0,clientId:l,orientation:"horizontal"});return(0,t.useEffect)((()=>{const e=p.current,t=function(){const{value:e}=this;y(e-1)};return e.addEventListener("input",t),()=>{e.removeEventListener("input",t)}}),[y,u]),(0,t.useEffect)((()=>{c&&(console.log("Update slider value to match currentActiveIndex"),p.current.value=c)}),[c]),(0,i.jsxs)(t.Fragment,{children:[(0,i.jsx)(s,{attributes:e,setAttributes:a,clientId:l}),(0,i.jsxs)("div",{...v,children:[(0,i.jsxs)("div",{className:"tick-slider",children:[(0,i.jsx)("ul",{className:"ticks",children:b.map(((e,t)=>{const{metadata:n}=e.attributes,{name:a}=n,s=h[t];return(0,i.jsx)("li",{className:"tick",role:"presentation",style:{left:`${s}%`},children:(0,i.jsx)(r.RichText,{tagName:"span",onChange:t=>m(e.clientId,{metadata:{...n,name:t}}),placeholder:"Tick",value:a,withoutInteractiveFormatting:!0})},e.clientId)}))}),(0,i.jsx)("div",{className:"timeline-controls",children:(0,i.jsx)("input",{ref:p,type:"range",min:1,max:d,value:c})})]}),g.children]})]})},save:function(){return(0,i.jsx)(r.InnerBlocks.Content,{})},transforms:o,variations:u};(0,e.registerBlockType)(d,{...m,...b})}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var i=r[e]={exports:{}};return t[e](i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,r,a,i)=>{if(!r){var s=1/0;for(p=0;p<e.length;p++){for(var[r,a,i]=e[p],l=!0,o=0;o<r.length;o++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](r[o])))?r.splice(o--,1):(l=!1,i<s&&(s=i));if(l){e.splice(p--,1);var c=a();void 0!==c&&(t=c)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[r,a,i]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={2643:0,9627:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,i,[s,l,o]=r,c=0;if(s.some((t=>0!==e[t]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(o)var p=o(n)}for(t&&t(r);c<s.length;c++)i=s[c],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(p)},r=globalThis.webpackChunk_pewresearch_prc_block_library=globalThis.webpackChunk_pewresearch_prc_block_library||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[9627],(()=>n(4379)));a=n.O(a)})();
//# sourceMappingURL=index.js.map