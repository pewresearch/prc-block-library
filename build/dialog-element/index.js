(()=>{"use strict";var e,o={502:()=>{const e=window.wp.i18n,o=window.wp.blocks,l=window.prcIcons,t=window.ReactJSXRuntime,r=window.wp.element,i=(0,r.forwardRef)(({icon:e,size:o=24,...l},t)=>(0,r.cloneElement)(e,{width:o,height:o,...l,ref:t})),a=window.wp.primitives,n=(0,t.jsx)(a.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)(a.Path,{d:"M12 4c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8Zm3.8 10.7-1.1 1.1-2.7-2.7-2.7 2.7-1.1-1.1 2.7-2.7-2.7-2.7 1.1-1.1 2.7 2.7 2.7-2.7 1.1 1.1-2.7 2.7 2.7 2.7Z"})});function s(e){var o,l,t="";if("string"==typeof e||"number"==typeof e)t+=e;else if("object"==typeof e)if(Array.isArray(e)){var r=e.length;for(o=0;o<r;o++)e[o]&&(l=s(e[o]))&&(t&&(t+=" "),t+=l)}else for(l in e)e[l]&&(t&&(t+=" "),t+=l);return t}const c=function(){for(var e,o,l=0,t="",r=arguments.length;l<r;l++)(e=arguments[l])&&(o=s(e))&&(t&&(t+=" "),t+=o);return t},d=window.wp.blockEditor,p=window.wp.components,u=window.wp.data;function b({openDialog:e,closeDialog:o,isOpen:l,clientId:i}){const{selectBlock:a}=(0,u.useDispatch)("core/block-editor"),{rootClientId:n}=(0,u.useSelect)(e=>({rootClientId:e("core/block-editor").getBlockRootClientId(i)}),[]),s=(0,r.useMemo)(()=>l?"Close Dialog":"Open Dialog",[l]);return(0,t.jsx)(d.BlockControls,{children:(0,t.jsx)(p.ToolbarGroup,{children:(0,t.jsx)(p.ToolbarButton,{label:s,isActive:l,onClick:()=>{l?(a(n),o()):e()},children:s})})})}function g({openDialog:o,closeDialog:l,colors:i,clientId:a,context:n}){const s=n?.["dialog/autoActivationTimer"]||-1,c=n?.["dialog/animationDuration"]||500,b=n?.["dialog/type"]||"modal",g=n?.["dialog/size"]||"medium",{updateBlockAttributes:m}=(0,u.useDispatch)("core/block-editor"),{rootClientId:h}=(0,u.useSelect)(e=>({rootClientId:e("core/block-editor").getBlockRootClientId(a)}),[]),{backdropColor:k,setBackdropColor:f}=i,C=(0,d.__experimentalUseMultipleOriginColorsAndGradients)();return(0,t.jsxs)(r.Fragment,{children:[(0,t.jsxs)(d.InspectorControls,{children:[(0,t.jsxs)(p.PanelBody,{title:(0,e.__)("Dialog Settings","prc-block-library"),children:[(0,t.jsx)(p.SelectControl,{label:"Dialog Type",help:"Choose the type of dialog to display. A modal dialog will block the rest of the page from being interacted with. A dialog will allow the user to interact with the rest of the page. Changing this value will close the current dialog.",value:b,options:[{label:(0,e.__)("Modal","prc-block-library"),value:"modal"},{label:(0,e.__)("Dialog","prc-block-library"),value:"dialog"}],onChange:e=>{m(h,{dialogType:e}),l()}}),(0,t.jsx)(p.SelectControl,{label:"Dialog Size",help:"Choose the size of the dialog to display.",value:g,options:[{label:(0,e.__)("Small","prc-block-library"),value:"small"},{label:(0,e.__)("Medium","prc-block-library"),value:"medium"},{label:(0,e.__)("Large","prc-block-library"),value:"large"}],onChange:e=>{m(h,{dialogSize:e})}}),"modal"===b&&(0,t.jsxs)(r.Fragment,{children:[(0,t.jsx)(p.ToggleControl,{label:(0,e.__)("Auto Activation Timer","prc-block-library"),help:(0,e.__)("Automatically open the dialog after the specified time, in milliseconds.","prc-block-library"),checked:1<=s,onChange:e=>m(h,{autoActivationTimer:e?5e3:-1})}),1<=s&&(0,t.jsx)(p.__experimentalNumberControl,{label:"Activation Timer Duration",isShiftStepEnabled:!0,onChange:e=>m(h,{autoActivationTimer:e}),shiftStep:100,value:s})]})]}),(0,t.jsx)(p.PanelBody,{title:(0,e.__)("Animation","prc-block-library"),children:(0,t.jsx)(p.__experimentalNumberControl,{label:"Animation Duration",help:"The duration of the dialog animation in milliseconds.",isShiftStepEnabled:!0,onChange:e=>m(h,{animationDuration:e}),shiftStep:100,value:c})})]}),(0,t.jsx)(d.InspectorControls,{group:"color",children:(0,t.jsx)(d.__experimentalColorGradientSettingsDropdown,{settings:[{colorValue:k?.color,onColorChange:f,label:(0,e.__)("Backdrop","prc-block-library")}],panelId:a,hasColorsOrGradients:!1,disableCustomColors:!0,__experimentalIsRenderedInSidebar:!0,...C})})]})}const m=(0,d.withColors)({backdropColor:"backdrop-color"})(function({attributes:e,setAttributes:o,context:l,clientId:a,className:s,backdropColor:m,setBackdropColor:h,isSelected:k}){const f=l?.["dialog/size"]||"medium",C=l?.["dialog/type"]||"modal",{selectBlock:w}=(0,u.useDispatch)("core/block-editor"),{deviceType:x,rootClientId:y}=(0,u.useSelect)(e=>({deviceType:e("core/editor").getDeviceType().toLowerCase(),rootClientId:e("core/block-editor").getBlockRootClientId(a)}),[]),{updateBlockAttributes:_}=(0,u.useDispatch)("core/block-editor"),v=(0,r.useRef)(null),j=(0,r.useMemo)(()=>!!v.current&&v.current.open,[v.current,v.current?.open]),D=()=>"modal"===C?v.current.showModal():v.current.show(),S=()=>{v.current.close(),w(y)},I=(0,d.useBlockProps)({ref:v,className:c(s,{"has-backdrop-color":!!m.color||m.class,[(0,d.getColorClassName)("backdrop-color",m?.slug)]:!!m?.slug,"is-mobile":"mobile"===x,"is-size-small":"small"===f,"is-size-medium":"medium"===f,"is-size-large":"large"===f}),"data-wp-dialog-type":C}),B=(0,d.useInnerBlocksProps)({className:"wp-block-prc-block-dialog-element__inner"},{templateLock:!1,__experimentalCaptureToolbars:!0});return(0,t.jsxs)(r.Fragment,{children:[(0,t.jsx)(g,{colors:{backdropColor:m,setBackdropColor:h},openDialog:D,closeDialog:S,clientId:a,context:l}),(0,t.jsx)(p.KeyboardShortcuts,{bindGlobal:!0,shortcuts:{esc:e=>{e.preventDefault(),S()}},children:(0,t.jsxs)("dialog",{...I,children:[(0,t.jsx)(b,{openDialog:D,closeDialog:S,isOpen:j,clientId:a}),(0,t.jsx)("button",{className:"wp-block-prc-block-dialog-element__close-button",type:"button","aria-label":"Close dialog",onClick:()=>S(),children:(0,t.jsx)(i,{icon:n})}),(0,t.jsx)("div",{...B})]})})]})}),h=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/dialog-element","version":"1.0.0","title":"Dialog Element","category":"media","attributes":{"allowedBlocks":{"type":"array"},"backdropColor":{"type":"string"}},"supports":{"html":false,"align":false,"inserter":false,"animations":true,"color":{"background":true,"text":true,"link":true,"enableContrastChecker":true,"gradients":true},"shadow":true,"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true},"spacing":{"blockGap":true,"padding":true},"typography":{"fontSize":true,"__experimentalFontFamily":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true}},"interactivity":true},"usesContext":["dialog/id","dialog/className","dialog/size","dialog/animationDuration","dialog/type","dialog/autoActivationTimer"],"parent":["prc-block/dialog"],"textdomain":"dialog-element","editorScript":"file:./index.js","editorStyle":"file:./index.css","render":"file:./render.php","style":"file:./style-index.css"}'),{name:k}=h,f={icon:function(){return(0,t.jsx)(l.Icon,{icon:"window-restore"})},edit:m,save:function({attributes:e}){return(0,t.jsx)(d.InnerBlocks.Content,{})}};(0,o.registerBlockType)(k,{...h,...f})}},l={};function t(e){var r=l[e];if(void 0!==r)return r.exports;var i=l[e]={exports:{}};return o[e](i,i.exports,t),i.exports}t.m=o,e=[],t.O=(o,l,r,i)=>{if(!l){var a=1/0;for(d=0;d<e.length;d++){for(var[l,r,i]=e[d],n=!0,s=0;s<l.length;s++)(!1&i||a>=i)&&Object.keys(t.O).every(e=>t.O[e](l[s]))?l.splice(s--,1):(n=!1,i<a&&(a=i));if(n){e.splice(d--,1);var c=r();void 0!==c&&(o=c)}}return o}i=i||0;for(var d=e.length;d>0&&e[d-1][2]>i;d--)e[d]=e[d-1];e[d]=[l,r,i]},t.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};t.O.j=o=>0===e[o];var o=(o,l)=>{var r,i,[a,n,s]=l,c=0;if(a.some(o=>0!==e[o])){for(r in n)t.o(n,r)&&(t.m[r]=n[r]);if(s)var d=s(t)}for(o&&o(l);c<a.length;c++)i=a[c],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(d)},l=globalThis.webpackChunk_prc_block_library=globalThis.webpackChunk_prc_block_library||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))})();var r=t.O(void 0,[350],()=>t(502));r=t.O(r)})();
//# sourceMappingURL=index.js.map