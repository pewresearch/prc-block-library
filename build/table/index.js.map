{"version":3,"file":"index.js","mappings":"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","sources":["webpack://@pewresearch/prc-block-library/webpack/runtime/chunk loaded","webpack://@pewresearch/prc-block-library/./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","webpack://@pewresearch/prc-block-library/./node_modules/react-is/index.js","webpack://@pewresearch/prc-block-library/./node_modules/react-is/cjs/react-is.production.min.js","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"i18n\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"blocks\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"blockEditor\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"hooks\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"compose\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"plugins\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"apiFetch\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"data\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"primitives\"]","webpack://@pewresearch/prc-block-library/external window \"ReactJSXRuntime\"","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/justify-left.js","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/justify-center.js","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/justify-right.js","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/align-left.js","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/align-center.js","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/align-right.js","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"components\"]","webpack://@pewresearch/prc-block-library/./src/table/icons.tsx","webpack://@pewresearch/prc-block-library/./src/table/constants.ts","webpack://@pewresearch/prc-block-library/./src/table/store.ts","webpack://@pewresearch/prc-block-library/./src/table/example.ts","webpack://@pewresearch/prc-block-library/external window \"React\"","webpack://@pewresearch/prc-block-library/./node_modules/clsx/dist/clsx.mjs","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"element\"]","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/link.js","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/link-off.js","webpack://@pewresearch/prc-block-library/./src/table/controls/color-indicator-button.tsx","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/use-insertion-effect-with-fallbacks/dist/emotion-use-insertion-effect-with-fallbacks.browser.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/unitless/dist/emotion-unitless.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/memoize/dist/emotion-memoize.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/serialize/dist/emotion-serialize.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/hash/dist/emotion-hash.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/sheet/dist/emotion-sheet.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/stylis/src/Utility.js","webpack://@pewresearch/prc-block-library/./node_modules/stylis/src/Tokenizer.js","webpack://@pewresearch/prc-block-library/./node_modules/stylis/src/Enum.js","webpack://@pewresearch/prc-block-library/./node_modules/stylis/src/Serializer.js","webpack://@pewresearch/prc-block-library/./node_modules/stylis/src/Parser.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/cache/dist/emotion-cache.browser.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/stylis/src/Middleware.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/react/dist/emotion-react.browser.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/is-prop-valid/dist/emotion-is-prop-valid.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/react/dist/emotion-element-5486c51c.browser.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/utils/dist/emotion-utils.browser.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js","webpack://@pewresearch/prc-block-library/./node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js","webpack://@pewresearch/prc-block-library/./src/table/controls/styles.tsx","webpack://@pewresearch/prc-block-library/./src/table/controls/indicator-control.tsx","webpack://@pewresearch/prc-block-library/./src/table/controls/border-color-control.tsx","webpack://@pewresearch/prc-block-library/./src/table/utils/helper.ts","webpack://@pewresearch/prc-block-library/./src/table/controls/border-radius-control.tsx","webpack://@pewresearch/prc-block-library/./src/table/controls/border-style-control.tsx","webpack://@pewresearch/prc-block-library/./src/table/controls/border-width-control.tsx","webpack://@pewresearch/prc-block-library/./src/table/controls/border-spacing-control.tsx","webpack://@pewresearch/prc-block-library/./src/table/controls/color-control.tsx","webpack://@pewresearch/prc-block-library/./src/table/controls/padding-control.tsx","webpack://@pewresearch/prc-block-library/./src/table/controls/go-to-cell-modal.tsx","webpack://@pewresearch/prc-block-library/./src/table/utils/style-converter.ts","webpack://@pewresearch/prc-block-library/./src/table/utils/style-updater.ts","webpack://@pewresearch/prc-block-library/./src/table/utils/table-state.ts","webpack://@pewresearch/prc-block-library/./src/table/utils/style-picker.ts","webpack://@pewresearch/prc-block-library/./src/table/settings/table-settings.tsx","webpack://@pewresearch/prc-block-library/./src/table/settings/table-caption-settings.tsx","webpack://@pewresearch/prc-block-library/./src/table/settings/table-cell-settings.tsx","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"coreData\"]","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"keycodes\"]","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/block-table.js","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"notices\"]","webpack://@pewresearch/prc-block-library/external window \"prcIcons\"","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/title.js","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/caption.js","webpack://@pewresearch/prc-block-library/./node_modules/turndown/lib/turndown.browser.es.js","webpack://@pewresearch/prc-block-library/./src/table/components/ai-loading.tsx","webpack://@pewresearch/prc-block-library/./src/table/utils/ai-generators.js","webpack://@pewresearch/prc-block-library/./src/table/settings/table-toolbar.tsx","webpack://@pewresearch/prc-block-library/external window \"CSV\"","webpack://@pewresearch/prc-block-library/./src/table/csv-parser.js","webpack://@pewresearch/prc-block-library/./src/table/settings/table-data-settings.tsx","webpack://@pewresearch/prc-block-library/./src/table/settings/table-title-settings.tsx","webpack://@pewresearch/prc-block-library/./src/table/elements/context-menu.tsx","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/plus.js","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/chevron-right.js","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/trash.js","webpack://@pewresearch/prc-block-library/./node_modules/@wordpress/icons/build-module/library/chevron-down.js","webpack://@pewresearch/prc-block-library/./src/table/elements/table-row-select-button.tsx","webpack://@pewresearch/prc-block-library/./src/table/elements/table-cell-controls.tsx","webpack://@pewresearch/prc-block-library/./src/table/elements/table.tsx","webpack://@pewresearch/prc-block-library/./src/table/elements/table-caption.tsx","webpack://@pewresearch/prc-block-library/./src/table/elements/table-placeholder.tsx","webpack://@pewresearch/prc-block-library/./src/table/elements/table-title.tsx","webpack://@pewresearch/prc-block-library/./src/table/elements/table-source-note.tsx","webpack://@pewresearch/prc-block-library/./src/table/edit.tsx","webpack://@pewresearch/prc-block-library/./src/table/transforms.tsx","webpack://@pewresearch/prc-block-library/./src/table/deprecated.tsx","webpack://@pewresearch/prc-block-library/external window [\"wp\",\"editPost\"]","webpack://@pewresearch/prc-block-library/./src/table/components/ai-pre-publish-check.tsx","webpack://@pewresearch/prc-block-library/./src/table/index.js","webpack://@pewresearch/prc-block-library/./src/table/save.tsx","webpack://@pewresearch/prc-block-library/webpack/bootstrap","webpack://@pewresearch/prc-block-library/webpack/runtime/compat get default export","webpack://@pewresearch/prc-block-library/webpack/runtime/define property getters","webpack://@pewresearch/prc-block-library/webpack/runtime/hasOwnProperty shorthand","webpack://@pewresearch/prc-block-library/webpack/runtime/jsonp chunk loading","webpack://@pewresearch/prc-block-library/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","'use strict';\n\nvar reactIs = require('react-is');\n\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextType: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromError: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar FORWARD_REF_STATICS = {\n  '$$typeof': true,\n  render: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true\n};\nvar MEMO_STATICS = {\n  '$$typeof': true,\n  compare: true,\n  defaultProps: true,\n  displayName: true,\n  propTypes: true,\n  type: true\n};\nvar TYPE_STATICS = {};\nTYPE_STATICS[reactIs.ForwardRef] = FORWARD_REF_STATICS;\nTYPE_STATICS[reactIs.Memo] = MEMO_STATICS;\n\nfunction getStatics(component) {\n  // React v16.11 and below\n  if (reactIs.isMemo(component)) {\n    return MEMO_STATICS;\n  } // React v16.12 and above\n\n\n  return TYPE_STATICS[component['$$typeof']] || REACT_STATICS;\n}\n\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = Object.prototype;\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    var targetStatics = getStatics(targetComponent);\n    var sourceStatics = getStatics(sourceComponent);\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!KNOWN_STATICS[key] && !(blacklist && blacklist[key]) && !(sourceStatics && sourceStatics[key]) && !(targetStatics && targetStatics[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n","/** @license React v16.13.1\n * react-is.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';var b=\"function\"===typeof Symbol&&Symbol.for,c=b?Symbol.for(\"react.element\"):60103,d=b?Symbol.for(\"react.portal\"):60106,e=b?Symbol.for(\"react.fragment\"):60107,f=b?Symbol.for(\"react.strict_mode\"):60108,g=b?Symbol.for(\"react.profiler\"):60114,h=b?Symbol.for(\"react.provider\"):60109,k=b?Symbol.for(\"react.context\"):60110,l=b?Symbol.for(\"react.async_mode\"):60111,m=b?Symbol.for(\"react.concurrent_mode\"):60111,n=b?Symbol.for(\"react.forward_ref\"):60112,p=b?Symbol.for(\"react.suspense\"):60113,q=b?\nSymbol.for(\"react.suspense_list\"):60120,r=b?Symbol.for(\"react.memo\"):60115,t=b?Symbol.for(\"react.lazy\"):60116,v=b?Symbol.for(\"react.block\"):60121,w=b?Symbol.for(\"react.fundamental\"):60117,x=b?Symbol.for(\"react.responder\"):60118,y=b?Symbol.for(\"react.scope\"):60119;\nfunction z(a){if(\"object\"===typeof a&&null!==a){var u=a.$$typeof;switch(u){case c:switch(a=a.type,a){case l:case m:case e:case g:case f:case p:return a;default:switch(a=a&&a.$$typeof,a){case k:case n:case t:case r:case h:return a;default:return u}}case d:return u}}}function A(a){return z(a)===m}exports.AsyncMode=l;exports.ConcurrentMode=m;exports.ContextConsumer=k;exports.ContextProvider=h;exports.Element=c;exports.ForwardRef=n;exports.Fragment=e;exports.Lazy=t;exports.Memo=r;exports.Portal=d;\nexports.Profiler=g;exports.StrictMode=f;exports.Suspense=p;exports.isAsyncMode=function(a){return A(a)||z(a)===l};exports.isConcurrentMode=A;exports.isContextConsumer=function(a){return z(a)===k};exports.isContextProvider=function(a){return z(a)===h};exports.isElement=function(a){return\"object\"===typeof a&&null!==a&&a.$$typeof===c};exports.isForwardRef=function(a){return z(a)===n};exports.isFragment=function(a){return z(a)===e};exports.isLazy=function(a){return z(a)===t};\nexports.isMemo=function(a){return z(a)===r};exports.isPortal=function(a){return z(a)===d};exports.isProfiler=function(a){return z(a)===g};exports.isStrictMode=function(a){return z(a)===f};exports.isSuspense=function(a){return z(a)===p};\nexports.isValidElementType=function(a){return\"string\"===typeof a||\"function\"===typeof a||a===e||a===m||a===g||a===f||a===p||a===q||\"object\"===typeof a&&null!==a&&(a.$$typeof===t||a.$$typeof===r||a.$$typeof===h||a.$$typeof===k||a.$$typeof===n||a.$$typeof===w||a.$$typeof===x||a.$$typeof===y||a.$$typeof===v)};exports.typeOf=z;\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"i18n\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blocks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"blockEditor\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"hooks\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"compose\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"plugins\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"data\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"primitives\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"ReactJSXRuntime\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst justifyLeft = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M9 9v6h11V9H9zM4 20h1.5V4H4v16z\"\n  })\n});\nexport default justifyLeft;\n//# sourceMappingURL=justify-left.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst justifyCenter = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M12.5 15v5H11v-5H4V9h7V4h1.5v5h7v6h-7Z\"\n  })\n});\nexport default justifyCenter;\n//# sourceMappingURL=justify-center.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst justifyRight = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M4 15h11V9H4v6zM18.5 4v16H20V4h-1.5z\"\n  })\n});\nexport default justifyRight;\n//# sourceMappingURL=justify-right.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst alignLeft = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z\"\n  })\n});\nexport default alignLeft;\n//# sourceMappingURL=align-left.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst alignCenter = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z\"\n  })\n});\nexport default alignCenter;\n//# sourceMappingURL=align-center.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst alignRight = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z\"\n  })\n});\nexport default alignRight;\n//# sourceMappingURL=align-right.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","/**\n * WordPress Dependencies\n */\nimport { Path, SVG, Circle, Polygon } from '@wordpress/components';\n\nexport const blockIcon = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Polygon points=\"17.5 1 7.8 5.6 10.8 6 6.5 10 16.5 5.5 13.4 5 17.5 1\" />\n\t\t<Path d=\"M19,11H5c-1.1,0-2,.9-2,2v8c0,1.1.9,2,2,2h14c1.1,0,2-.9,2-2v-8c0-1.1-.9-2-2-2ZM11.5,16.5h-7v-3.5c0-.3.2-.5.5-.5h6.5v4ZM13,12.5h6c.3,0,.5.2.5.5v3.5h-6.5v-4ZM4.5,21v-3h7v3.5h-6.5c-.3,0-.5-.2-.5-.5ZM19,21.5h-6v-3.5h6.5v3c0,.3-.2.5-.5.5Z\" />\n\t</SVG>\n);\n\nexport const alignTop = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M9 20h6V9H9v11zM4 4v1.5h16V4H4z\" />\n\t</SVG>\n);\n\nexport const alignMiddle = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z\" />\n\t</SVG>\n);\n\nexport const alignBottom = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z\" />\n\t</SVG>\n);\n\nexport const tableRowBefore = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.8,8.3h-3v-3s-1.5,0-1.5,0v3h-3s0,1.5,0,1.5h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5ZM4,2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2ZM20.5,14.5V4c0-.3-.2-.5-.5-.5H4c-.3,0-.5.2-.5.5v10.5s17,0,17,0ZM20.4,20v-4s-4.7,0-4.7,0v4.5s4.3,0,4.3,0c.3,0,.5-.2.4-.5ZM14.2,20.5v-4.5s-4.5,0-4.5,0v4.5s4.5,0,4.5,0ZM8.2,20.5v-4.5s-4.8,0-4.8,0v4c0,.3.2.5.5.5h4.2s.1,0,.1,0Z\" />\n\t</SVG>\n);\n\nexport const tableRowAfter = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M8.2,15.7h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5h-3v-3s-1.5,0-1.5,0v3h-3s0,1.5,0,1.5ZM20,22H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2ZM3.5,9.5v10.5c0,.3.2.5.5.5h16c.3,0,.5-.2.5-.5v-10.5s-17,0-17,0ZM3.6,4v4s4.7,0,4.7,0V3.5s-4.3,0-4.3,0c-.3,0-.5.2-.4.5ZM9.8,3.5v4.5s4.5,0,4.5,0V3.5s-4.5,0-4.5,0ZM15.8,3.5v4.5s4.8,0,4.8,0v-4c0-.3-.2-.5-.5-.5h-4.2s-.1,0-.1,0Z\" />\n\t</SVG>\n);\n\nexport const tableColumnBefore = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M8.3,8.2v3h-3s0,1.5,0,1.5h3v3s1.5,0,1.5,0v-3h3s0-1.5,0-1.5h-3v-3s-1.5,0-1.5,0ZM2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM14.5,3.5H4c-.3,0-.5.2-.5.5v16c0,.3.2.5.5.5h10.5s0-17,0-17ZM20,3.6h-4s0,4.7,0,4.7h4.5s0-4.3,0-4.3c0-.3-.2-.5-.5-.4ZM20.5,9.8h-4.5s0,4.5,0,4.5h4.5s0-4.5,0-4.5ZM20.5,15.8h-4.5s0,4.8,0,4.8h4c.3,0,.5-.2.5-.5v-4.2s0-.1,0-.1Z\" />\n\t</SVG>\n);\n\nexport const tableColumnAfter = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M15.8,15.8v-3h3v-1.5h-3v-3h-1.5v3h-3v1.5h3v3h1.5ZM22,4v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2ZM9.5,20.5h10.5c.3,0,.5-.2.5-.5V4c0-.3-.2-.5-.5-.5h-10.5v17ZM4,20.4h4v-4.7H3.5v4.3c0,.3.2.5.5.4ZM3.5,14.2h4.5v-4.5H3.5v4.5ZM3.5,8.2h4.5V3.4h-4c-.3,0-.5.2-.5.5v4.2h0Z\" />\n\t</SVG>\n);\n\nexport const tableRowDelete = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M20,2H4c-1.1,0-2,.9-2,2v16c0,1.1.9,2,2,2h16c1.1,0,2-.9,2-2V4c0-1.1-.9-2-2-2ZM20.5,4v4.4h-4.1l.6.7-.6.8h4.1v4.2h-4.1l.6.8-.6.8h4.1v4.4c0,.3-.2.5-.5.5H4c-.3,0-.5-.3-.5-.6v-4.3h4.1l-.6-.8.6-.8H3.5v-4.2h4.1l-.6-.8.6-.7H3.5v-4.4c0-.3.2-.5.5-.5h16c.3,0,.5.2.5.5ZM8.1,14.8l2.8-2.8-2.8-2.8,1.1-1.1,2.8,2.8,2.8-2.8,1.1,1.1-2.8,2.8,2.8,2.8-1.1,1.1-2.8-2.8-2.8,2.8-1.1-1.1Z\" />\n\t</SVG>\n);\n\nexport const tableColumnDelete = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M2,4v16c0,1.1.9,2,2,2h16c1.1,0,2-.9,2-2V4c0-1.1-.9-2-2-2H4c-1.1,0-2,.9-2,2ZM4,3.5h4.4v4.1s.7-.6.7-.6l.8.6V3.5h4.2v4.1s.7-.6.7-.6l.7.6V3.5h4.4c.3,0,.5.2.5.5v16c0,.3-.3.5-.6.5h-4.3v-4.1s-.7.6-.7.6l-.7-.6v4.1h-4.2v-4.1s-.8.6-.8.6l-.7-.6v4.1h-4.4c-.3,0-.5-.2-.5-.5V4c0-.3.2-.5.5-.5ZM14.8,15.9l-2.8-2.8-2.8,2.8-1.1-1.1,2.8-2.8-2.8-2.8,1.1-1.1,2.8,2.8,2.8-2.8,1.1,1.1-2.8,2.8,2.8,2.8-1.1,1.1Z\" />\n\t</SVG>\n);\n\nexport const tableMergeCell = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM8.2,3.5h-4.2c-.3,0-.5.2-.5.5v3.5h4.7V3.5ZM14.2,3.5h-4.5v4h4.5s0-4,0-4ZM20,3.5h-4.3v4h4.8v-3.5c0-.3-.2-.5-.5-.5ZM19,10.5H5v3h14v-3ZM8.2,16.5H3.5v3.5c0,.3.2.5.5.5h4.2v-4ZM14.2,16.5h-4.5v4h4.5s0-4,0-4ZM20.5,16.5h-4.8v4h4.3c.3,0,.5-.2.5-.5v-3.5Z\" />\n\t</SVG>\n);\n\nexport const tableSplitCell = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M2,20V4c0-1.1.9-2,2-2h16c1.1,0,2,.9,2,2v16c0,1.1-.9,2-2,2H4c-1.1,0-2-.9-2-2ZM4,3.5c-.3,0-.5.2-.5.5v3.5h17v-3.5c0-.3-.2-.5-.5-.5H4ZM15.2,13.5h3.8v-3h-3.8v3ZM10.2,10.5v3h3.5v-3h-3.5ZM8.7,10.5h-3.7v3h3.7v-3ZM20,20.5c.3,0,.5-.2.5-.5v-3.5H3.5v3.5c0,.3.2.5.5.5h16Z\" />\n\t</SVG>\n);\n\nexport const borderSeparate = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M9.2,3h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM9.2,9.8h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\n\t\t<Path d=\"M19,3h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM19,9.8h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\n\t\t<Path d=\"M9.2,12.8h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM9.2,19.5h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\n\t\t<Path d=\"M19,12.7h-4.2c-1.1,0-2,.9-2,2v4.8c0,.8.7,1.5,1.5,1.5h4.8c1.1,0,2-.9,2-2v-4.2c0-1.1-.9-2-2-2ZM19,19.5h-4.2c-.3,0-.5-.2-.5-.5v-4.2c0-.3.2-.5.5-.5h4.2c.3,0,.5.2.5.5v4.2c0,.3-.2.5-.5.5Z\" />\n\t</SVG>\n);\n\nexport const borderCollapse = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M19,3H5c-1.1,0-2,.9-2,2v14c0,1.1.9,2,2,2h14c1.1,0,2-.9,2-2V5c0-1.1-.9-2-2-2ZM5,19.5c-.3,0-.5-.2-.5-.5v-6.2h6.8v6.8M11.2,11.2h-6.8v-6.2c0-.3.2-.5.5-.5h6.2v6.8ZM19.5,19c0,.3-.2.5-.5.5h-6.2v-6.8h6.8v6.2c.1,0,0,0,0,0ZM19.5,11.2h-6.8v-6.8h6.2c.3,0,.5.2.5.5v6.2Z\" />\n\t</SVG>\n);\n\nexport const borderSolid = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<path d=\"M4,11.2h16v1.5H4v-1.5Z\" />\n\t</SVG>\n);\n\nexport const borderDotted = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Circle cx=\"6\" cy=\"12\" r=\"2\" />\n\t\t<Circle cx=\"18\" cy=\"12\" r=\"2\" />\n\t\t<Circle cx=\"12\" cy=\"12\" r=\"2\" />\n\t</SVG>\n);\n\nexport const borderDashed = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M4,11.2h4v1.5h-4v-1.5Z\" />\n\t\t<Path d=\"M16,11.2h4v1.5h-4v-1.5Z\" />\n\t\t<Path d=\"M10,11.2h4v1.5h-4v-1.5Z\" />\n\t</SVG>\n);\n\nexport const borderDouble = (\n\t<SVG xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\">\n\t\t<Path d=\"M4,9.2h16v1.5H4v-1.5Z\" />\n\t\t<Path d=\"M4,13.2h16v1.5H4v-1.5Z\" />\n\t</SVG>\n);\n","/**\n * WordPress Dependencies\n */\nimport { __, _x } from '@wordpress/i18n';\nimport {\n\tjustifyLeft,\n\tjustifyCenter,\n\tjustifyRight,\n\talignLeft,\n\talignCenter,\n\talignRight,\n} from '@wordpress/icons';\n\n/**\n * Internal dependencies\n */\nimport {\n\talignTop,\n\talignMiddle,\n\talignBottom,\n\tborderSolid,\n\tborderDotted,\n\tborderDashed,\n\tborderDouble,\n\tborderCollapse as borderCollapseIcon,\n\tborderSeparate as borderSeparateIcon,\n} from './icons';\n\n// Custom store name.\nexport const STORE_NAME = 'prc-block' as const;\n\n// Rest API routes.\nexport const REST_API_ROUTE = '/flexible-table-block/v1/options' as const;\n\n// Table placeholder default settings.\nexport const DEFAULT_PREVIEW_ROWS = 3 as const;\nexport const DEFAULT_PREVIEW_COLUMNS = 3 as const;\nexport const MIN_PREVIEW_TABLE_HEIGHT = 150 as const;\nexport const MAX_PREVIEW_TABLE_COL = 50 as const;\nexport const MAX_PREVIEW_TABLE_ROW = 50 as const;\nexport const THRESHOLD_PREVIEW_TABLE_COL = 10 as const;\nexport const THRESHOLD_PREVIEW_TABLE_ROW = 10 as const;\n\n// Upper and lower limits.\nexport const MAX_BORDER_RADIUS = {\n\tpx: 200,\n\tem: 20,\n\trem: 20,\n} as const;\n\nexport const MAX_BORDER_WIDTH = {\n\tpx: 50,\n\tem: 5,\n\trem: 5,\n} as const;\n\nexport const MAX_BORDER_SPACING = {\n\tpx: 50,\n\tem: 5,\n\trem: 5,\n} as const;\n\n// Responsive breakpoint settings.\nexport const DEFAULT_RESPONSIVE_BREAKPOINT = 768 as const;\nexport const MIN_RESPONSIVE_BREAKPOINT = 200 as const;\nexport const MAX_RESPONSIVE_BREAKPOINT = 1200 as const;\n\n// Available units on UnitControl component.\nexport const FONT_SIZE_UNITS = ['px', 'em', 'rem', '%'];\nexport const TABLE_WIDTH_UNITS = ['px', 'em', 'rem', '%'];\nexport const CELL_WIDTH_UNITS = ['px', 'em', 'rem', '%'];\nexport const BORDER_SPACING_UNITS = ['px', 'em', 'rem'];\nexport const BORDER_RADIUS_UNITS = ['px', 'em', 'rem'];\nexport const BORDER_WIDTH_UNITS = ['px', 'em', 'rem'];\nexport const PADDING_UNITS = ['px', '%', 'em', 'rem', 'vw', 'vh'];\n\n// Cell label & text variations.\nexport const CELL_ARIA_LABEL = {\n\thead: __('Header cell text', 'prc-block'),\n\tbody: __('Body cell text', 'prc-block'),\n\tfoot: __('Footer cell text', 'prc-block'),\n} as const;\n\n// Controls variations.\nexport const CONTENT_JUSTIFY_CONTROLS = [\n\t{\n\t\ticon: justifyLeft,\n\t\tlabel: __('Justify table left', 'prc-block'),\n\t\tvalue: 'left',\n\t},\n\t{\n\t\ticon: justifyCenter,\n\t\tlabel: __('Justify table center', 'prc-block'),\n\t\tvalue: 'center',\n\t},\n\t{\n\t\ticon: justifyRight,\n\t\tlabel: __('Justify table right', 'prc-block'),\n\t\tvalue: 'right',\n\t},\n];\n\nexport const BORDER_COLLAPSE_CONTROLS = [\n\t{\n\t\ticon: borderCollapseIcon,\n\t\tlabel: __('Share', 'prc-block'),\n\t\tvalue: 'collapse',\n\t},\n\t{\n\t\ticon: borderSeparateIcon,\n\t\tlabel: __('Separate', 'prc-block'),\n\t\tvalue: 'separate',\n\t},\n] as const;\n\nexport const BORDER_STYLE_CONTROLS = [\n\t{\n\t\tlabel: __('Solid', 'prc-block'),\n\t\tvalue: 'solid',\n\t\ticon: borderSolid,\n\t},\n\t{\n\t\tlabel: __('Dotted', 'prc-block'),\n\t\tvalue: 'dotted',\n\t\ticon: borderDotted,\n\t},\n\t{\n\t\tlabel: __('Dashed', 'prc-block'),\n\t\tvalue: 'dashed',\n\t\ticon: borderDashed,\n\t},\n\t{\n\t\tlabel: __('Double', 'prc-block'),\n\t\tvalue: 'double',\n\t\ticon: borderDouble,\n\t},\n] as const;\n\nexport const TEXT_ALIGNMENT_CONTROLS = [\n\t{\n\t\ticon: alignLeft,\n\t\tlabel: __('Align left', 'prc-block'),\n\t\tvalue: 'left',\n\t},\n\t{\n\t\ticon: alignCenter,\n\t\tlabel: __('Align center', 'prc-block'),\n\t\tvalue: 'center',\n\t},\n\t{\n\t\ticon: alignRight,\n\t\tlabel: __('Align right', 'prc-block'),\n\t\tvalue: 'right',\n\t},\n] as const;\n\nexport const VERTICAL_ALIGNMENT_CONTROLS = [\n\t{\n\t\ticon: alignTop,\n\t\tlabel: __('Align top', 'prc-block'),\n\t\tvalue: 'top',\n\t},\n\t{\n\t\ticon: alignMiddle,\n\t\tlabel: __('Align middle', 'prc-block'),\n\t\tvalue: 'middle',\n\t},\n\t{\n\t\ticon: alignBottom,\n\t\tlabel: __('Align bottom', 'prc-block'),\n\t\tvalue: 'bottom',\n\t},\n] as const;\n\nexport const STICKY_CONTROLS = [\n\t{\n\t\tlabel: _x('none', 'Fixed control', 'prc-block'),\n\t\tvalue: 'none',\n\t},\n\t{\n\t\tlabel: __('Fixed header', 'prc-block'),\n\t\tvalue: 'header',\n\t},\n\t{\n\t\tlabel: __('Fixed first column', 'prc-block'),\n\t\tvalue: 'first-column',\n\t},\n] as const;\n\nexport const CELL_TAG_CONTROLS = [\n\t{\n\t\tlabel: __('TH', 'prc-block'),\n\t\tvalue: 'th',\n\t},\n\t{\n\t\tlabel: __('TD', 'prc-block'),\n\t\tvalue: 'td',\n\t},\n] as const;\n\nexport const CELL_SCOPE_CONTROLS = [\n\t{\n\t\tlabel: _x('none', 'Cell scope control', 'prc-block'),\n\t\tvalue: 'none',\n\t},\n\t{\n\t\tlabel: __('row', 'prc-block'),\n\t\tvalue: 'row',\n\t},\n\t{\n\t\tlabel: __('col', 'prc-block'),\n\t\tvalue: 'col',\n\t},\n\t{\n\t\tlabel: __('rowgroup', 'prc-block'),\n\t\tvalue: 'rowgroup',\n\t},\n\t{\n\t\tlabel: __('colgroup', 'prc-block'),\n\t\tvalue: 'colgroup',\n\t},\n] as const;\n\nexport const CAPTION_SIDE_CONTROLS = [\n\t{\n\t\tlabel: __('Top', 'prc-block'),\n\t\tvalue: 'top',\n\t},\n\t{\n\t\tlabel: __('Bottom', 'prc-block'),\n\t\tvalue: 'bottom',\n\t},\n] as const;\n\nexport const CORNER_CONTROLS = [\n\t{\n\t\tlabel: __('Top left', 'prc-block'),\n\t\tvalue: 'topLeft',\n\t},\n\t{\n\t\tlabel: __('Top right', 'prc-block'),\n\t\tvalue: 'topRight',\n\t},\n\t{\n\t\tlabel: __('Bottom right', 'prc-block'),\n\t\tvalue: 'bottomRight',\n\t},\n\t{\n\t\tlabel: __('Bottom left', 'prc-block'),\n\t\tvalue: 'bottomLeft',\n\t},\n] as const;\n\nexport const DIRECTION_CONTROLS = [\n\t{\n\t\tlabel: __('Vertical', 'prc-block'),\n\t\tvalue: 'vertical',\n\t},\n\t{\n\t\tlabel: __('Horizontal', 'prc-block'),\n\t\tvalue: 'horizontal',\n\t},\n] as const;\n\nexport const SIDE_CONTROLS = [\n\t{\n\t\tlabel: __('Top', 'prc-block'),\n\t\tvalue: 'top',\n\t},\n\t{\n\t\tlabel: __('Right', 'prc-block'),\n\t\tvalue: 'right',\n\t},\n\t{\n\t\tlabel: __('Bottom', 'prc-block'),\n\t\tvalue: 'bottom',\n\t},\n\t{\n\t\tlabel: __('Left', 'prc-block'),\n\t\tvalue: 'left',\n\t},\n] as const;\n","/**\n * External Dependencies\n */\nimport type { AnyAction as Action } from 'redux';\nimport type { Property } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport apiFetch from '@wordpress/api-fetch';\nimport { createReduxStore, register } from '@wordpress/data';\nimport type { NoticeProps } from '@wordpress/components/build-types/notice/types';\n\n/**\n * Internal Dependencies\n */\nimport { STORE_NAME, REST_API_ROUTE } from './constants';\n\nexport interface ApiResponse {\n\tstatus?: NoticeProps['status'];\n\tmessage?: string;\n\toptions?: StoreOptions;\n\t// eslint-disable-next-line camelcase\n\tblock_css?: string;\n}\n\nexport interface StoreOptions {\n\t/* eslint-disable camelcase */\n\tshow_label_on_section: boolean;\n\tshow_control_button: boolean;\n\tfocus_control_button: boolean;\n\tshow_dot_on_th: boolean;\n\ttab_move: boolean;\n\tmerge_content: boolean;\n\tshow_global_setting: boolean;\n\tbreakpoint: number;\n\tblock_style: {\n\t\ttable_width?: string;\n\t\ttable_max_width?: string;\n\t\trow_odd_color?: string;\n\t\trow_even_color?: string;\n\t\ttable_border_collapse?: string;\n\t\tcell_text_color_th?: string;\n\t\tcell_text_color_td?: string;\n\t\tcell_background_color_th?: string;\n\t\tcell_background_color_td?: string;\n\t\tcell_padding?: {\n\t\t\ttop?: Property.PaddingTop;\n\t\t\tright?: Property.PaddingRight;\n\t\t\tbottom?: Property.PaddingBottom;\n\t\t\tleft?: Property.PaddingLeft;\n\t\t};\n\t\tcell_border_width?: string;\n\t\tcell_border_style?: string;\n\t\tcell_border_color?: string;\n\t\tcell_text_align?: string;\n\t\tcell_vertical_align?: string;\n\t};\n\t/* eslint-enable camelcase */\n}\n\nconst DEFAULT_STATE = {\n\toptions: {},\n};\n\nconst actions = {\n\tgetOptions(path: string) {\n\t\treturn {\n\t\t\ttype: 'GET_OPTIONS',\n\t\t\tpath,\n\t\t};\n\t},\n\tsetOptions(options: StoreOptions) {\n\t\treturn {\n\t\t\ttype: 'SET_OPTIONS',\n\t\t\toptions,\n\t\t};\n\t},\n};\n\nconst reducer = (state = DEFAULT_STATE, action: Action) => {\n\tswitch (action.type) {\n\t\tcase 'SET_OPTIONS': {\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\toptions: action.options,\n\t\t\t};\n\t\t}\n\t\tdefault: {\n\t\t\treturn state;\n\t\t}\n\t}\n};\n\nconst selectors = {\n\tgetOptions(state: { options: StoreOptions }) {\n\t\tconst { options } = state;\n\t\treturn options;\n\t},\n};\n\nconst controls = {\n\tGET_OPTIONS(action: Action) {\n\t\treturn apiFetch<ApiResponse>({ path: action.path });\n\t},\n};\n\nconst resolvers = {\n\t*getOptions() {\n\t\tconst options: StoreOptions = yield actions.getOptions(REST_API_ROUTE);\n\t\treturn actions.setOptions(options);\n\t},\n};\n\nconst store = createReduxStore(STORE_NAME, {\n\treducer,\n\tcontrols,\n\tselectors,\n\tresolvers,\n\tactions,\n});\n\nregister(store);\n\nexport { STORE_NAME };\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\n\nexport default {\n\tattributes: {\n\t\thead: [\n\t\t\t{\n\t\t\t\tcells: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: __('Version', 'flexible-table-block'),\n\t\t\t\t\t\ttag: 'th',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: __('Jazz Musician', 'flexible-table-block'),\n\t\t\t\t\t\ttag: 'th',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: __('Release Date', 'flexible-table-block'),\n\t\t\t\t\t\ttag: 'th',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t\tbody: [\n\t\t\t{\n\t\t\t\tcells: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: '5.9',\n\t\t\t\t\t\ttag: 'td',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: 'Josphine Baker',\n\t\t\t\t\t\ttag: 'td',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: __('January 25, 2022', 'flexible-table-block'),\n\t\t\t\t\t\ttag: 'td',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\tcells: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: '5.8',\n\t\t\t\t\t\ttag: 'td',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: 'Art Tatum',\n\t\t\t\t\t\ttag: 'td',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: __('July 20, 2021', 'flexible-table-block'),\n\t\t\t\t\t\ttag: 'td',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\tcells: [\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: '5.7',\n\t\t\t\t\t\ttag: 'td',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: 'Esperanza Spalding',\n\t\t\t\t\t\ttag: 'td',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tcontent: __('March 9, 2021', 'flexible-table-block'),\n\t\t\t\t\t\ttag: 'td',\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t},\n};\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"React\"];","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst link = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z\"\n  })\n});\nexport default link;\n//# sourceMappingURL=link.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst linkOff = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z\"\n  })\n});\nexport default linkOff;\n//# sourceMappingURL=link-off.js.map","/**\n * External Dependencies\n */\nimport clsx from 'clsx';\nimport type { Property } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport { Button, ColorIndicator } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\n\ntype Props = {\n\tlabel: string;\n\tvalue?: Property.Color;\n\tisNone: boolean;\n\tisTransparent: boolean;\n\tisMixed?: boolean;\n\tonClick: () => void;\n};\n\nexport default function ColorIndicatorButton({\n\tlabel,\n\tvalue,\n\tisNone,\n\tisTransparent,\n\tisMixed = false,\n\tonClick,\n}: Props) {\n\treturn (\n\t\t<Button\n\t\t\tlabel={label}\n\t\t\tclassName={clsx('ftb-color-indicator-button', {\n\t\t\t\t'is-none': isNone,\n\t\t\t\t'is-mixed': isMixed,\n\t\t\t\t'is-transparent': isTransparent,\n\t\t\t})}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t{isMixed ? (\n\t\t\t\t__('Mixed', 'flexible-table-block')\n\t\t\t) : (\n\t\t\t\t<ColorIndicator colorValue={value || ''} />\n\t\t\t)}\n\t\t</Button>\n\t);\n}\n","import * as React from 'react';\n\nvar syncFallback = function syncFallback(create) {\n  return create();\n};\n\nvar useInsertionEffect = React['useInsertion' + 'Effect'] ? React['useInsertion' + 'Effect'] : false;\nvar useInsertionEffectAlwaysWithSyncFallback = useInsertionEffect || syncFallback;\nvar useInsertionEffectWithLayoutFallback = useInsertionEffect || React.useLayoutEffect;\n\nexport { useInsertionEffectAlwaysWithSyncFallback, useInsertionEffectWithLayoutFallback };\n","var unitlessKeys = {\n  animationIterationCount: 1,\n  aspectRatio: 1,\n  borderImageOutset: 1,\n  borderImageSlice: 1,\n  borderImageWidth: 1,\n  boxFlex: 1,\n  boxFlexGroup: 1,\n  boxOrdinalGroup: 1,\n  columnCount: 1,\n  columns: 1,\n  flex: 1,\n  flexGrow: 1,\n  flexPositive: 1,\n  flexShrink: 1,\n  flexNegative: 1,\n  flexOrder: 1,\n  gridRow: 1,\n  gridRowEnd: 1,\n  gridRowSpan: 1,\n  gridRowStart: 1,\n  gridColumn: 1,\n  gridColumnEnd: 1,\n  gridColumnSpan: 1,\n  gridColumnStart: 1,\n  msGridRow: 1,\n  msGridRowSpan: 1,\n  msGridColumn: 1,\n  msGridColumnSpan: 1,\n  fontWeight: 1,\n  lineHeight: 1,\n  opacity: 1,\n  order: 1,\n  orphans: 1,\n  scale: 1,\n  tabSize: 1,\n  widows: 1,\n  zIndex: 1,\n  zoom: 1,\n  WebkitLineClamp: 1,\n  // SVG-related properties\n  fillOpacity: 1,\n  floodOpacity: 1,\n  stopOpacity: 1,\n  strokeDasharray: 1,\n  strokeDashoffset: 1,\n  strokeMiterlimit: 1,\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nexport { unitlessKeys as default };\n","function memoize(fn) {\n  var cache = Object.create(null);\n  return function (arg) {\n    if (cache[arg] === undefined) cache[arg] = fn(arg);\n    return cache[arg];\n  };\n}\n\nexport { memoize as default };\n","import hashString from '@emotion/hash';\nimport unitless from '@emotion/unitless';\nimport memoize from '@emotion/memoize';\n\nvar isDevelopment = false;\n\nvar hyphenateRegex = /[A-Z]|^ms/g;\nvar animationRegex = /_EMO_([^_]+?)_([^]*?)_EMO_/g;\n\nvar isCustomProperty = function isCustomProperty(property) {\n  return property.charCodeAt(1) === 45;\n};\n\nvar isProcessableValue = function isProcessableValue(value) {\n  return value != null && typeof value !== 'boolean';\n};\n\nvar processStyleName = /* #__PURE__ */memoize(function (styleName) {\n  return isCustomProperty(styleName) ? styleName : styleName.replace(hyphenateRegex, '-$&').toLowerCase();\n});\n\nvar processStyleValue = function processStyleValue(key, value) {\n  switch (key) {\n    case 'animation':\n    case 'animationName':\n      {\n        if (typeof value === 'string') {\n          return value.replace(animationRegex, function (match, p1, p2) {\n            cursor = {\n              name: p1,\n              styles: p2,\n              next: cursor\n            };\n            return p1;\n          });\n        }\n      }\n  }\n\n  if (unitless[key] !== 1 && !isCustomProperty(key) && typeof value === 'number' && value !== 0) {\n    return value + 'px';\n  }\n\n  return value;\n};\n\nvar noComponentSelectorMessage = 'Component selectors can only be used in conjunction with ' + '@emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware ' + 'compiler transform.';\n\nfunction handleInterpolation(mergedProps, registered, interpolation) {\n  if (interpolation == null) {\n    return '';\n  }\n\n  var componentSelector = interpolation;\n\n  if (componentSelector.__emotion_styles !== undefined) {\n\n    return componentSelector;\n  }\n\n  switch (typeof interpolation) {\n    case 'boolean':\n      {\n        return '';\n      }\n\n    case 'object':\n      {\n        var keyframes = interpolation;\n\n        if (keyframes.anim === 1) {\n          cursor = {\n            name: keyframes.name,\n            styles: keyframes.styles,\n            next: cursor\n          };\n          return keyframes.name;\n        }\n\n        var serializedStyles = interpolation;\n\n        if (serializedStyles.styles !== undefined) {\n          var next = serializedStyles.next;\n\n          if (next !== undefined) {\n            // not the most efficient thing ever but this is a pretty rare case\n            // and there will be very few iterations of this generally\n            while (next !== undefined) {\n              cursor = {\n                name: next.name,\n                styles: next.styles,\n                next: cursor\n              };\n              next = next.next;\n            }\n          }\n\n          var styles = serializedStyles.styles + \";\";\n\n          return styles;\n        }\n\n        return createStringFromObject(mergedProps, registered, interpolation);\n      }\n\n    case 'function':\n      {\n        if (mergedProps !== undefined) {\n          var previousCursor = cursor;\n          var result = interpolation(mergedProps);\n          cursor = previousCursor;\n          return handleInterpolation(mergedProps, registered, result);\n        }\n\n        break;\n      }\n  } // finalize string values (regular strings and functions interpolated into css calls)\n\n\n  var asString = interpolation;\n\n  if (registered == null) {\n    return asString;\n  }\n\n  var cached = registered[asString];\n  return cached !== undefined ? cached : asString;\n}\n\nfunction createStringFromObject(mergedProps, registered, obj) {\n  var string = '';\n\n  if (Array.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      string += handleInterpolation(mergedProps, registered, obj[i]) + \";\";\n    }\n  } else {\n    for (var key in obj) {\n      var value = obj[key];\n\n      if (typeof value !== 'object') {\n        var asString = value;\n\n        if (registered != null && registered[asString] !== undefined) {\n          string += key + \"{\" + registered[asString] + \"}\";\n        } else if (isProcessableValue(asString)) {\n          string += processStyleName(key) + \":\" + processStyleValue(key, asString) + \";\";\n        }\n      } else {\n        if (key === 'NO_COMPONENT_SELECTOR' && isDevelopment) {\n          throw new Error(noComponentSelectorMessage);\n        }\n\n        if (Array.isArray(value) && typeof value[0] === 'string' && (registered == null || registered[value[0]] === undefined)) {\n          for (var _i = 0; _i < value.length; _i++) {\n            if (isProcessableValue(value[_i])) {\n              string += processStyleName(key) + \":\" + processStyleValue(key, value[_i]) + \";\";\n            }\n          }\n        } else {\n          var interpolated = handleInterpolation(mergedProps, registered, value);\n\n          switch (key) {\n            case 'animation':\n            case 'animationName':\n              {\n                string += processStyleName(key) + \":\" + interpolated + \";\";\n                break;\n              }\n\n            default:\n              {\n\n                string += key + \"{\" + interpolated + \"}\";\n              }\n          }\n        }\n      }\n    }\n  }\n\n  return string;\n}\n\nvar labelPattern = /label:\\s*([^\\s;{]+)\\s*(;|$)/g;\n// keyframes are stored on the SerializedStyles object as a linked list\n\n\nvar cursor;\nfunction serializeStyles(args, registered, mergedProps) {\n  if (args.length === 1 && typeof args[0] === 'object' && args[0] !== null && args[0].styles !== undefined) {\n    return args[0];\n  }\n\n  var stringMode = true;\n  var styles = '';\n  cursor = undefined;\n  var strings = args[0];\n\n  if (strings == null || strings.raw === undefined) {\n    stringMode = false;\n    styles += handleInterpolation(mergedProps, registered, strings);\n  } else {\n    var asTemplateStringsArr = strings;\n\n    styles += asTemplateStringsArr[0];\n  } // we start at 1 since we've already handled the first arg\n\n\n  for (var i = 1; i < args.length; i++) {\n    styles += handleInterpolation(mergedProps, registered, args[i]);\n\n    if (stringMode) {\n      var templateStringsArr = strings;\n\n      styles += templateStringsArr[i];\n    }\n  }\n\n\n  labelPattern.lastIndex = 0;\n  var identifierName = '';\n  var match; // https://esbench.com/bench/5b809c2cf2949800a0f61fb5\n\n  while ((match = labelPattern.exec(styles)) !== null) {\n    identifierName += '-' + match[1];\n  }\n\n  var name = hashString(styles) + identifierName;\n\n  return {\n    name: name,\n    styles: styles,\n    next: cursor\n  };\n}\n\nexport { serializeStyles };\n","/* eslint-disable */\n// Inspired by https://github.com/garycourt/murmurhash-js\n// Ported from https://github.com/aappleby/smhasher/blob/61a0530f28277f2e850bfc39600ce61d02b518de/src/MurmurHash2.cpp#L37-L86\nfunction murmur2(str) {\n  // 'm' and 'r' are mixing constants generated offline.\n  // They're not really 'magic', they just happen to work well.\n  // const m = 0x5bd1e995;\n  // const r = 24;\n  // Initialize the hash\n  var h = 0; // Mix 4 bytes at a time into the hash\n\n  var k,\n      i = 0,\n      len = str.length;\n\n  for (; len >= 4; ++i, len -= 4) {\n    k = str.charCodeAt(i) & 0xff | (str.charCodeAt(++i) & 0xff) << 8 | (str.charCodeAt(++i) & 0xff) << 16 | (str.charCodeAt(++i) & 0xff) << 24;\n    k =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16);\n    k ^=\n    /* k >>> r: */\n    k >>> 24;\n    h =\n    /* Math.imul(k, m): */\n    (k & 0xffff) * 0x5bd1e995 + ((k >>> 16) * 0xe995 << 16) ^\n    /* Math.imul(h, m): */\n    (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Handle the last few bytes of the input array\n\n\n  switch (len) {\n    case 3:\n      h ^= (str.charCodeAt(i + 2) & 0xff) << 16;\n\n    case 2:\n      h ^= (str.charCodeAt(i + 1) & 0xff) << 8;\n\n    case 1:\n      h ^= str.charCodeAt(i) & 0xff;\n      h =\n      /* Math.imul(h, m): */\n      (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  } // Do a few final mixes of the hash to ensure the last few\n  // bytes are well-incorporated.\n\n\n  h ^= h >>> 13;\n  h =\n  /* Math.imul(h, m): */\n  (h & 0xffff) * 0x5bd1e995 + ((h >>> 16) * 0xe995 << 16);\n  return ((h ^ h >>> 15) >>> 0).toString(36);\n}\n\nexport { murmur2 as default };\n","var isDevelopment = false;\n\n/*\n\nBased off glamor's StyleSheet, thanks Sunil \n\nhigh performance StyleSheet for css-in-js systems\n\n- uses multiple style tags behind the scenes for millions of rules\n- uses `insertRule` for appending in production for *much* faster performance\n\n// usage\n\nimport { StyleSheet } from '@emotion/sheet'\n\nlet styleSheet = new StyleSheet({ key: '', container: document.head })\n\nstyleSheet.insert('#box { border: 1px solid red; }')\n- appends a css rule into the stylesheet\n\nstyleSheet.flush()\n- empties the stylesheet of all its contents\n\n*/\n\nfunction sheetForTag(tag) {\n  if (tag.sheet) {\n    return tag.sheet;\n  } // this weirdness brought to you by firefox\n\n  /* istanbul ignore next */\n\n\n  for (var i = 0; i < document.styleSheets.length; i++) {\n    if (document.styleSheets[i].ownerNode === tag) {\n      return document.styleSheets[i];\n    }\n  } // this function should always return with a value\n  // TS can't understand it though so we make it stop complaining here\n\n\n  return undefined;\n}\n\nfunction createStyleElement(options) {\n  var tag = document.createElement('style');\n  tag.setAttribute('data-emotion', options.key);\n\n  if (options.nonce !== undefined) {\n    tag.setAttribute('nonce', options.nonce);\n  }\n\n  tag.appendChild(document.createTextNode(''));\n  tag.setAttribute('data-s', '');\n  return tag;\n}\n\nvar StyleSheet = /*#__PURE__*/function () {\n  // Using Node instead of HTMLElement since container may be a ShadowRoot\n  function StyleSheet(options) {\n    var _this = this;\n\n    this._insertTag = function (tag) {\n      var before;\n\n      if (_this.tags.length === 0) {\n        if (_this.insertionPoint) {\n          before = _this.insertionPoint.nextSibling;\n        } else if (_this.prepend) {\n          before = _this.container.firstChild;\n        } else {\n          before = _this.before;\n        }\n      } else {\n        before = _this.tags[_this.tags.length - 1].nextSibling;\n      }\n\n      _this.container.insertBefore(tag, before);\n\n      _this.tags.push(tag);\n    };\n\n    this.isSpeedy = options.speedy === undefined ? !isDevelopment : options.speedy;\n    this.tags = [];\n    this.ctr = 0;\n    this.nonce = options.nonce; // key is the value of the data-emotion attribute, it's used to identify different sheets\n\n    this.key = options.key;\n    this.container = options.container;\n    this.prepend = options.prepend;\n    this.insertionPoint = options.insertionPoint;\n    this.before = null;\n  }\n\n  var _proto = StyleSheet.prototype;\n\n  _proto.hydrate = function hydrate(nodes) {\n    nodes.forEach(this._insertTag);\n  };\n\n  _proto.insert = function insert(rule) {\n    // the max length is how many rules we have per style tag, it's 65000 in speedy mode\n    // it's 1 in dev because we insert source maps that map a single rule to a location\n    // and you can only have one source map per style tag\n    if (this.ctr % (this.isSpeedy ? 65000 : 1) === 0) {\n      this._insertTag(createStyleElement(this));\n    }\n\n    var tag = this.tags[this.tags.length - 1];\n\n    if (this.isSpeedy) {\n      var sheet = sheetForTag(tag);\n\n      try {\n        // this is the ultrafast version, works across browsers\n        // the big drawback is that the css won't be editable in devtools\n        sheet.insertRule(rule, sheet.cssRules.length);\n      } catch (e) {\n      }\n    } else {\n      tag.appendChild(document.createTextNode(rule));\n    }\n\n    this.ctr++;\n  };\n\n  _proto.flush = function flush() {\n    this.tags.forEach(function (tag) {\n      var _tag$parentNode;\n\n      return (_tag$parentNode = tag.parentNode) == null ? void 0 : _tag$parentNode.removeChild(tag);\n    });\n    this.tags = [];\n    this.ctr = 0;\n  };\n\n  return StyleSheet;\n}();\n\nexport { StyleSheet };\n","/**\n * @param {number}\n * @return {number}\n */\nexport var abs = Math.abs\n\n/**\n * @param {number}\n * @return {string}\n */\nexport var from = String.fromCharCode\n\n/**\n * @param {object}\n * @return {object}\n */\nexport var assign = Object.assign\n\n/**\n * @param {string} value\n * @param {number} length\n * @return {number}\n */\nexport function hash (value, length) {\n\treturn charat(value, 0) ^ 45 ? (((((((length << 2) ^ charat(value, 0)) << 2) ^ charat(value, 1)) << 2) ^ charat(value, 2)) << 2) ^ charat(value, 3) : 0\n}\n\n/**\n * @param {string} value\n * @return {string}\n */\nexport function trim (value) {\n\treturn value.trim()\n}\n\n/**\n * @param {string} value\n * @param {RegExp} pattern\n * @return {string?}\n */\nexport function match (value, pattern) {\n\treturn (value = pattern.exec(value)) ? value[0] : value\n}\n\n/**\n * @param {string} value\n * @param {(string|RegExp)} pattern\n * @param {string} replacement\n * @return {string}\n */\nexport function replace (value, pattern, replacement) {\n\treturn value.replace(pattern, replacement)\n}\n\n/**\n * @param {string} value\n * @param {string} search\n * @return {number}\n */\nexport function indexof (value, search) {\n\treturn value.indexOf(search)\n}\n\n/**\n * @param {string} value\n * @param {number} index\n * @return {number}\n */\nexport function charat (value, index) {\n\treturn value.charCodeAt(index) | 0\n}\n\n/**\n * @param {string} value\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function substr (value, begin, end) {\n\treturn value.slice(begin, end)\n}\n\n/**\n * @param {string} value\n * @return {number}\n */\nexport function strlen (value) {\n\treturn value.length\n}\n\n/**\n * @param {any[]} value\n * @return {number}\n */\nexport function sizeof (value) {\n\treturn value.length\n}\n\n/**\n * @param {any} value\n * @param {any[]} array\n * @return {any}\n */\nexport function append (value, array) {\n\treturn array.push(value), value\n}\n\n/**\n * @param {string[]} array\n * @param {function} callback\n * @return {string}\n */\nexport function combine (array, callback) {\n\treturn array.map(callback).join('')\n}\n","import {from, trim, charat, strlen, substr, append, assign} from './Utility.js'\n\nexport var line = 1\nexport var column = 1\nexport var length = 0\nexport var position = 0\nexport var character = 0\nexport var characters = ''\n\n/**\n * @param {string} value\n * @param {object | null} root\n * @param {object | null} parent\n * @param {string} type\n * @param {string[] | string} props\n * @param {object[] | string} children\n * @param {number} length\n */\nexport function node (value, root, parent, type, props, children, length) {\n\treturn {value: value, root: root, parent: parent, type: type, props: props, children: children, line: line, column: column, length: length, return: ''}\n}\n\n/**\n * @param {object} root\n * @param {object} props\n * @return {object}\n */\nexport function copy (root, props) {\n\treturn assign(node('', null, null, '', null, null, 0), root, {length: -root.length}, props)\n}\n\n/**\n * @return {number}\n */\nexport function char () {\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function prev () {\n\tcharacter = position > 0 ? charat(characters, --position) : 0\n\n\tif (column--, character === 10)\n\t\tcolumn = 1, line--\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function next () {\n\tcharacter = position < length ? charat(characters, position++) : 0\n\n\tif (column++, character === 10)\n\t\tcolumn = 1, line++\n\n\treturn character\n}\n\n/**\n * @return {number}\n */\nexport function peek () {\n\treturn charat(characters, position)\n}\n\n/**\n * @return {number}\n */\nexport function caret () {\n\treturn position\n}\n\n/**\n * @param {number} begin\n * @param {number} end\n * @return {string}\n */\nexport function slice (begin, end) {\n\treturn substr(characters, begin, end)\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function token (type) {\n\tswitch (type) {\n\t\t// \\0 \\t \\n \\r \\s whitespace token\n\t\tcase 0: case 9: case 10: case 13: case 32:\n\t\t\treturn 5\n\t\t// ! + , / > @ ~ isolate token\n\t\tcase 33: case 43: case 44: case 47: case 62: case 64: case 126:\n\t\t// ; { } breakpoint token\n\t\tcase 59: case 123: case 125:\n\t\t\treturn 4\n\t\t// : accompanied token\n\t\tcase 58:\n\t\t\treturn 3\n\t\t// \" ' ( [ opening delimit token\n\t\tcase 34: case 39: case 40: case 91:\n\t\t\treturn 2\n\t\t// ) ] closing delimit token\n\t\tcase 41: case 93:\n\t\t\treturn 1\n\t}\n\n\treturn 0\n}\n\n/**\n * @param {string} value\n * @return {any[]}\n */\nexport function alloc (value) {\n\treturn line = column = 1, length = strlen(characters = value), position = 0, []\n}\n\n/**\n * @param {any} value\n * @return {any}\n */\nexport function dealloc (value) {\n\treturn characters = '', value\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function delimit (type) {\n\treturn trim(slice(position - 1, delimiter(type === 91 ? type + 2 : type === 40 ? type + 1 : type)))\n}\n\n/**\n * @param {string} value\n * @return {string[]}\n */\nexport function tokenize (value) {\n\treturn dealloc(tokenizer(alloc(value)))\n}\n\n/**\n * @param {number} type\n * @return {string}\n */\nexport function whitespace (type) {\n\twhile (character = peek())\n\t\tif (character < 33)\n\t\t\tnext()\n\t\telse\n\t\t\tbreak\n\n\treturn token(type) > 2 || token(character) > 3 ? '' : ' '\n}\n\n/**\n * @param {string[]} children\n * @return {string[]}\n */\nexport function tokenizer (children) {\n\twhile (next())\n\t\tswitch (token(character)) {\n\t\t\tcase 0: append(identifier(position - 1), children)\n\t\t\t\tbreak\n\t\t\tcase 2: append(delimit(character), children)\n\t\t\t\tbreak\n\t\t\tdefault: append(from(character), children)\n\t\t}\n\n\treturn children\n}\n\n/**\n * @param {number} index\n * @param {number} count\n * @return {string}\n */\nexport function escaping (index, count) {\n\twhile (--count && next())\n\t\t// not 0-9 A-F a-f\n\t\tif (character < 48 || character > 102 || (character > 57 && character < 65) || (character > 70 && character < 97))\n\t\t\tbreak\n\n\treturn slice(index, caret() + (count < 6 && peek() == 32 && next() == 32))\n}\n\n/**\n * @param {number} type\n * @return {number}\n */\nexport function delimiter (type) {\n\twhile (next())\n\t\tswitch (character) {\n\t\t\t// ] ) \" '\n\t\t\tcase type:\n\t\t\t\treturn position\n\t\t\t// \" '\n\t\t\tcase 34: case 39:\n\t\t\t\tif (type !== 34 && type !== 39)\n\t\t\t\t\tdelimiter(character)\n\t\t\t\tbreak\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (type === 41)\n\t\t\t\t\tdelimiter(type)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tnext()\n\t\t\t\tbreak\n\t\t}\n\n\treturn position\n}\n\n/**\n * @param {number} type\n * @param {number} index\n * @return {number}\n */\nexport function commenter (type, index) {\n\twhile (next())\n\t\t// //\n\t\tif (type + character === 47 + 10)\n\t\t\tbreak\n\t\t// /*\n\t\telse if (type + character === 42 + 42 && peek() === 47)\n\t\t\tbreak\n\n\treturn '/*' + slice(index, position - 1) + '*' + from(type === 47 ? type : next())\n}\n\n/**\n * @param {number} index\n * @return {string}\n */\nexport function identifier (index) {\n\twhile (!token(peek()))\n\t\tnext()\n\n\treturn slice(index, position)\n}\n","export var MS = '-ms-'\nexport var MOZ = '-moz-'\nexport var WEBKIT = '-webkit-'\n\nexport var COMMENT = 'comm'\nexport var RULESET = 'rule'\nexport var DECLARATION = 'decl'\n\nexport var PAGE = '@page'\nexport var MEDIA = '@media'\nexport var IMPORT = '@import'\nexport var CHARSET = '@charset'\nexport var VIEWPORT = '@viewport'\nexport var SUPPORTS = '@supports'\nexport var DOCUMENT = '@document'\nexport var NAMESPACE = '@namespace'\nexport var KEYFRAMES = '@keyframes'\nexport var FONT_FACE = '@font-face'\nexport var COUNTER_STYLE = '@counter-style'\nexport var FONT_FEATURE_VALUES = '@font-feature-values'\nexport var LAYER = '@layer'\n","import {IMPORT, LAYER, COMMENT, RULESET, DECLARATION, KEYFRAMES} from './Enum.js'\nimport {strlen, sizeof} from './Utility.js'\n\n/**\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function serialize (children, callback) {\n\tvar output = ''\n\tvar length = sizeof(children)\n\n\tfor (var i = 0; i < length; i++)\n\t\toutput += callback(children[i], i, children, callback) || ''\n\n\treturn output\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n * @return {string}\n */\nexport function stringify (element, index, children, callback) {\n\tswitch (element.type) {\n\t\tcase LAYER: if (element.children.length) break\n\t\tcase IMPORT: case DECLARATION: return element.return = element.return || element.value\n\t\tcase COMMENT: return ''\n\t\tcase KEYFRAMES: return element.return = element.value + '{' + serialize(element.children, callback) + '}'\n\t\tcase RULESET: element.value = element.props.join(',')\n\t}\n\n\treturn strlen(children = serialize(element.children, callback)) ? element.return = element.value + '{' + children + '}' : ''\n}\n","import {COMMENT, RULESET, DECLARATION} from './Enum.js'\nimport {abs, charat, trim, from, sizeof, strlen, substr, append, replace, indexof} from './Utility.js'\nimport {node, char, prev, next, peek, caret, alloc, dealloc, delimit, whitespace, escaping, identifier, commenter} from './Tokenizer.js'\n\n/**\n * @param {string} value\n * @return {object[]}\n */\nexport function compile (value) {\n\treturn dealloc(parse('', null, null, null, [''], value = alloc(value), 0, [0], value))\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {string[]} rule\n * @param {string[]} rules\n * @param {string[]} rulesets\n * @param {number[]} pseudo\n * @param {number[]} points\n * @param {string[]} declarations\n * @return {object}\n */\nexport function parse (value, root, parent, rule, rules, rulesets, pseudo, points, declarations) {\n\tvar index = 0\n\tvar offset = 0\n\tvar length = pseudo\n\tvar atrule = 0\n\tvar property = 0\n\tvar previous = 0\n\tvar variable = 1\n\tvar scanning = 1\n\tvar ampersand = 1\n\tvar character = 0\n\tvar type = ''\n\tvar props = rules\n\tvar children = rulesets\n\tvar reference = rule\n\tvar characters = type\n\n\twhile (scanning)\n\t\tswitch (previous = character, character = next()) {\n\t\t\t// (\n\t\t\tcase 40:\n\t\t\t\tif (previous != 108 && charat(characters, length - 1) == 58) {\n\t\t\t\t\tif (indexof(characters += replace(delimit(character), '&', '&\\f'), '&\\f') != -1)\n\t\t\t\t\t\tampersand = -1\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t// \" ' [\n\t\t\tcase 34: case 39: case 91:\n\t\t\t\tcharacters += delimit(character)\n\t\t\t\tbreak\n\t\t\t// \\t \\n \\r \\s\n\t\t\tcase 9: case 10: case 13: case 32:\n\t\t\t\tcharacters += whitespace(previous)\n\t\t\t\tbreak\n\t\t\t// \\\n\t\t\tcase 92:\n\t\t\t\tcharacters += escaping(caret() - 1, 7)\n\t\t\t\tcontinue\n\t\t\t// /\n\t\t\tcase 47:\n\t\t\t\tswitch (peek()) {\n\t\t\t\t\tcase 42: case 47:\n\t\t\t\t\t\tappend(comment(commenter(next(), caret()), root, parent), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tcharacters += '/'\n\t\t\t\t}\n\t\t\t\tbreak\n\t\t\t// {\n\t\t\tcase 123 * variable:\n\t\t\t\tpoints[index++] = strlen(characters) * ampersand\n\t\t\t// } ; \\0\n\t\t\tcase 125 * variable: case 59: case 0:\n\t\t\t\tswitch (character) {\n\t\t\t\t\t// \\0 }\n\t\t\t\t\tcase 0: case 125: scanning = 0\n\t\t\t\t\t// ;\n\t\t\t\t\tcase 59 + offset: if (ampersand == -1) characters = replace(characters, /\\f/g, '')\n\t\t\t\t\t\tif (property > 0 && (strlen(characters) - length))\n\t\t\t\t\t\t\tappend(property > 32 ? declaration(characters + ';', rule, parent, length - 1) : declaration(replace(characters, ' ', '') + ';', rule, parent, length - 2), declarations)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @ ;\n\t\t\t\t\tcase 59: characters += ';'\n\t\t\t\t\t// { rule/at-rule\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tappend(reference = ruleset(characters, root, parent, index, offset, rules, points, type, props = [], children = [], length), rulesets)\n\n\t\t\t\t\t\tif (character === 123)\n\t\t\t\t\t\t\tif (offset === 0)\n\t\t\t\t\t\t\t\tparse(characters, root, reference, reference, props, rulesets, length, points, children)\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tswitch (atrule === 99 && charat(characters, 3) === 110 ? 100 : atrule) {\n\t\t\t\t\t\t\t\t\t// d l m s\n\t\t\t\t\t\t\t\t\tcase 100: case 108: case 109: case 115:\n\t\t\t\t\t\t\t\t\t\tparse(value, reference, reference, rule && append(ruleset(value, reference, reference, 0, 0, rules, points, type, rules, props = [], length), children), rules, children, length, points, rule ? props : children)\n\t\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\t\tparse(characters, reference, reference, reference, [''], children, 0, points, children)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tindex = offset = property = 0, variable = ampersand = 1, type = characters = '', length = pseudo\n\t\t\t\tbreak\n\t\t\t// :\n\t\t\tcase 58:\n\t\t\t\tlength = 1 + strlen(characters), property = previous\n\t\t\tdefault:\n\t\t\t\tif (variable < 1)\n\t\t\t\t\tif (character == 123)\n\t\t\t\t\t\t--variable\n\t\t\t\t\telse if (character == 125 && variable++ == 0 && prev() == 125)\n\t\t\t\t\t\tcontinue\n\n\t\t\t\tswitch (characters += from(character), character * variable) {\n\t\t\t\t\t// &\n\t\t\t\t\tcase 38:\n\t\t\t\t\t\tampersand = offset > 0 ? 1 : (characters += '\\f', -1)\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// ,\n\t\t\t\t\tcase 44:\n\t\t\t\t\t\tpoints[index++] = (strlen(characters) - 1) * ampersand, ampersand = 1\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// @\n\t\t\t\t\tcase 64:\n\t\t\t\t\t\t// -\n\t\t\t\t\t\tif (peek() === 45)\n\t\t\t\t\t\t\tcharacters += delimit(next())\n\n\t\t\t\t\t\tatrule = peek(), offset = length = strlen(type = characters += identifier(caret())), character++\n\t\t\t\t\t\tbreak\n\t\t\t\t\t// -\n\t\t\t\t\tcase 45:\n\t\t\t\t\t\tif (previous === 45 && strlen(characters) == 2)\n\t\t\t\t\t\t\tvariable = 0\n\t\t\t\t}\n\t\t}\n\n\treturn rulesets\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} index\n * @param {number} offset\n * @param {string[]} rules\n * @param {number[]} points\n * @param {string} type\n * @param {string[]} props\n * @param {string[]} children\n * @param {number} length\n * @return {object}\n */\nexport function ruleset (value, root, parent, index, offset, rules, points, type, props, children, length) {\n\tvar post = offset - 1\n\tvar rule = offset === 0 ? rules : ['']\n\tvar size = sizeof(rule)\n\n\tfor (var i = 0, j = 0, k = 0; i < index; ++i)\n\t\tfor (var x = 0, y = substr(value, post + 1, post = abs(j = points[i])), z = value; x < size; ++x)\n\t\t\tif (z = trim(j > 0 ? rule[x] + ' ' + y : replace(y, /&\\f/g, rule[x])))\n\t\t\t\tprops[k++] = z\n\n\treturn node(value, root, parent, offset === 0 ? RULESET : type, props, children, length)\n}\n\n/**\n * @param {number} value\n * @param {object} root\n * @param {object?} parent\n * @return {object}\n */\nexport function comment (value, root, parent) {\n\treturn node(value, root, parent, COMMENT, from(char()), substr(value, 2, -2), 0)\n}\n\n/**\n * @param {string} value\n * @param {object} root\n * @param {object?} parent\n * @param {number} length\n * @return {object}\n */\nexport function declaration (value, root, parent, length) {\n\treturn node(value, root, parent, DECLARATION, substr(value, 0, length), substr(value, length + 1, -1), length)\n}\n","import { StyleSheet } from '@emotion/sheet';\nimport { dealloc, alloc, next, token, from, peek, delimit, slice, position, RULESET, combine, match, serialize, copy, replace, WEBKIT, MOZ, MS, KEYFRAMES, DECLARATION, hash, charat, strlen, indexof, stringify, rulesheet, middleware, compile } from 'stylis';\nimport '@emotion/weak-memoize';\nimport '@emotion/memoize';\n\nvar identifierWithPointTracking = function identifierWithPointTracking(begin, points, index) {\n  var previous = 0;\n  var character = 0;\n\n  while (true) {\n    previous = character;\n    character = peek(); // &\\f\n\n    if (previous === 38 && character === 12) {\n      points[index] = 1;\n    }\n\n    if (token(character)) {\n      break;\n    }\n\n    next();\n  }\n\n  return slice(begin, position);\n};\n\nvar toRules = function toRules(parsed, points) {\n  // pretend we've started with a comma\n  var index = -1;\n  var character = 44;\n\n  do {\n    switch (token(character)) {\n      case 0:\n        // &\\f\n        if (character === 38 && peek() === 12) {\n          // this is not 100% correct, we don't account for literal sequences here - like for example quoted strings\n          // stylis inserts \\f after & to know when & where it should replace this sequence with the context selector\n          // and when it should just concatenate the outer and inner selectors\n          // it's very unlikely for this sequence to actually appear in a different context, so we just leverage this fact here\n          points[index] = 1;\n        }\n\n        parsed[index] += identifierWithPointTracking(position - 1, points, index);\n        break;\n\n      case 2:\n        parsed[index] += delimit(character);\n        break;\n\n      case 4:\n        // comma\n        if (character === 44) {\n          // colon\n          parsed[++index] = peek() === 58 ? '&\\f' : '';\n          points[index] = parsed[index].length;\n          break;\n        }\n\n      // fallthrough\n\n      default:\n        parsed[index] += from(character);\n    }\n  } while (character = next());\n\n  return parsed;\n};\n\nvar getRules = function getRules(value, points) {\n  return dealloc(toRules(alloc(value), points));\n}; // WeakSet would be more appropriate, but only WeakMap is supported in IE11\n\n\nvar fixedElements = /* #__PURE__ */new WeakMap();\nvar compat = function compat(element) {\n  if (element.type !== 'rule' || !element.parent || // positive .length indicates that this rule contains pseudo\n  // negative .length indicates that this rule has been already prefixed\n  element.length < 1) {\n    return;\n  }\n\n  var value = element.value,\n      parent = element.parent;\n  var isImplicitRule = element.column === parent.column && element.line === parent.line;\n\n  while (parent.type !== 'rule') {\n    parent = parent.parent;\n    if (!parent) return;\n  } // short-circuit for the simplest case\n\n\n  if (element.props.length === 1 && value.charCodeAt(0) !== 58\n  /* colon */\n  && !fixedElements.get(parent)) {\n    return;\n  } // if this is an implicitly inserted rule (the one eagerly inserted at the each new nested level)\n  // then the props has already been manipulated beforehand as they that array is shared between it and its \"rule parent\"\n\n\n  if (isImplicitRule) {\n    return;\n  }\n\n  fixedElements.set(element, true);\n  var points = [];\n  var rules = getRules(value, points);\n  var parentRules = parent.props;\n\n  for (var i = 0, k = 0; i < rules.length; i++) {\n    for (var j = 0; j < parentRules.length; j++, k++) {\n      element.props[k] = points[i] ? rules[i].replace(/&\\f/g, parentRules[j]) : parentRules[j] + \" \" + rules[i];\n    }\n  }\n};\nvar removeLabel = function removeLabel(element) {\n  if (element.type === 'decl') {\n    var value = element.value;\n\n    if ( // charcode for l\n    value.charCodeAt(0) === 108 && // charcode for b\n    value.charCodeAt(2) === 98) {\n      // this ignores label\n      element[\"return\"] = '';\n      element.value = '';\n    }\n  }\n};\n\n/* eslint-disable no-fallthrough */\n\nfunction prefix(value, length) {\n  switch (hash(value, length)) {\n    // color-adjust\n    case 5103:\n      return WEBKIT + 'print-' + value + value;\n    // animation, animation-(delay|direction|duration|fill-mode|iteration-count|name|play-state|timing-function)\n\n    case 5737:\n    case 4201:\n    case 3177:\n    case 3433:\n    case 1641:\n    case 4457:\n    case 2921: // text-decoration, filter, clip-path, backface-visibility, column, box-decoration-break\n\n    case 5572:\n    case 6356:\n    case 5844:\n    case 3191:\n    case 6645:\n    case 3005: // mask, mask-image, mask-(mode|clip|size), mask-(repeat|origin), mask-position, mask-composite,\n\n    case 6391:\n    case 5879:\n    case 5623:\n    case 6135:\n    case 4599:\n    case 4855: // background-clip, columns, column-(count|fill|gap|rule|rule-color|rule-style|rule-width|span|width)\n\n    case 4215:\n    case 6389:\n    case 5109:\n    case 5365:\n    case 5621:\n    case 3829:\n      return WEBKIT + value + value;\n    // appearance, user-select, transform, hyphens, text-size-adjust\n\n    case 5349:\n    case 4246:\n    case 4810:\n    case 6968:\n    case 2756:\n      return WEBKIT + value + MOZ + value + MS + value + value;\n    // flex, flex-direction\n\n    case 6828:\n    case 4268:\n      return WEBKIT + value + MS + value + value;\n    // order\n\n    case 6165:\n      return WEBKIT + value + MS + 'flex-' + value + value;\n    // align-items\n\n    case 5187:\n      return WEBKIT + value + replace(value, /(\\w+).+(:[^]+)/, WEBKIT + 'box-$1$2' + MS + 'flex-$1$2') + value;\n    // align-self\n\n    case 5443:\n      return WEBKIT + value + MS + 'flex-item-' + replace(value, /flex-|-self/, '') + value;\n    // align-content\n\n    case 4675:\n      return WEBKIT + value + MS + 'flex-line-pack' + replace(value, /align-content|flex-|-self/, '') + value;\n    // flex-shrink\n\n    case 5548:\n      return WEBKIT + value + MS + replace(value, 'shrink', 'negative') + value;\n    // flex-basis\n\n    case 5292:\n      return WEBKIT + value + MS + replace(value, 'basis', 'preferred-size') + value;\n    // flex-grow\n\n    case 6060:\n      return WEBKIT + 'box-' + replace(value, '-grow', '') + WEBKIT + value + MS + replace(value, 'grow', 'positive') + value;\n    // transition\n\n    case 4554:\n      return WEBKIT + replace(value, /([^-])(transform)/g, '$1' + WEBKIT + '$2') + value;\n    // cursor\n\n    case 6187:\n      return replace(replace(replace(value, /(zoom-|grab)/, WEBKIT + '$1'), /(image-set)/, WEBKIT + '$1'), value, '') + value;\n    // background, background-image\n\n    case 5495:\n    case 3959:\n      return replace(value, /(image-set\\([^]*)/, WEBKIT + '$1' + '$`$1');\n    // justify-content\n\n    case 4968:\n      return replace(replace(value, /(.+:)(flex-)?(.*)/, WEBKIT + 'box-pack:$3' + MS + 'flex-pack:$3'), /s.+-b[^;]+/, 'justify') + WEBKIT + value + value;\n    // (margin|padding)-inline-(start|end)\n\n    case 4095:\n    case 3583:\n    case 4068:\n    case 2532:\n      return replace(value, /(.+)-inline(.+)/, WEBKIT + '$1$2') + value;\n    // (min|max)?(width|height|inline-size|block-size)\n\n    case 8116:\n    case 7059:\n    case 5753:\n    case 5535:\n    case 5445:\n    case 5701:\n    case 4933:\n    case 4677:\n    case 5533:\n    case 5789:\n    case 5021:\n    case 4765:\n      // stretch, max-content, min-content, fill-available\n      if (strlen(value) - 1 - length > 6) switch (charat(value, length + 1)) {\n        // (m)ax-content, (m)in-content\n        case 109:\n          // -\n          if (charat(value, length + 4) !== 45) break;\n        // (f)ill-available, (f)it-content\n\n        case 102:\n          return replace(value, /(.+:)(.+)-([^]+)/, '$1' + WEBKIT + '$2-$3' + '$1' + MOZ + (charat(value, length + 3) == 108 ? '$3' : '$2-$3')) + value;\n        // (s)tretch\n\n        case 115:\n          return ~indexof(value, 'stretch') ? prefix(replace(value, 'stretch', 'fill-available'), length) + value : value;\n      }\n      break;\n    // position: sticky\n\n    case 4949:\n      // (s)ticky?\n      if (charat(value, length + 1) !== 115) break;\n    // display: (flex|inline-flex)\n\n    case 6444:\n      switch (charat(value, strlen(value) - 3 - (~indexof(value, '!important') && 10))) {\n        // stic(k)y\n        case 107:\n          return replace(value, ':', ':' + WEBKIT) + value;\n        // (inline-)?fl(e)x\n\n        case 101:\n          return replace(value, /(.+:)([^;!]+)(;|!.+)?/, '$1' + WEBKIT + (charat(value, 14) === 45 ? 'inline-' : '') + 'box$3' + '$1' + WEBKIT + '$2$3' + '$1' + MS + '$2box$3') + value;\n      }\n\n      break;\n    // writing-mode\n\n    case 5936:\n      switch (charat(value, length + 11)) {\n        // vertical-l(r)\n        case 114:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb') + value;\n        // vertical-r(l)\n\n        case 108:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'tb-rl') + value;\n        // horizontal(-)tb\n\n        case 45:\n          return WEBKIT + value + MS + replace(value, /[svh]\\w+-[tblr]{2}/, 'lr') + value;\n      }\n\n      return WEBKIT + value + MS + value + value;\n  }\n\n  return value;\n}\n\nvar prefixer = function prefixer(element, index, children, callback) {\n  if (element.length > -1) if (!element[\"return\"]) switch (element.type) {\n    case DECLARATION:\n      element[\"return\"] = prefix(element.value, element.length);\n      break;\n\n    case KEYFRAMES:\n      return serialize([copy(element, {\n        value: replace(element.value, '@', '@' + WEBKIT)\n      })], callback);\n\n    case RULESET:\n      if (element.length) return combine(element.props, function (value) {\n        switch (match(value, /(::plac\\w+|:read-\\w+)/)) {\n          // :read-(only|write)\n          case ':read-only':\n          case ':read-write':\n            return serialize([copy(element, {\n              props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]\n            })], callback);\n          // :placeholder\n\n          case '::placeholder':\n            return serialize([copy(element, {\n              props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]\n            }), copy(element, {\n              props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]\n            }), copy(element, {\n              props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]\n            })], callback);\n        }\n\n        return '';\n      });\n  }\n};\n\nvar defaultStylisPlugins = [prefixer];\n\nvar createCache = function\n  /*: EmotionCache */\ncreateCache(options\n/*: Options */\n) {\n  var key = options.key;\n\n  if (key === 'css') {\n    var ssrStyles = document.querySelectorAll(\"style[data-emotion]:not([data-s])\"); // get SSRed styles out of the way of React's hydration\n    // document.head is a safe place to move them to(though note document.head is not necessarily the last place they will be)\n    // note this very very intentionally targets all style elements regardless of the key to ensure\n    // that creating a cache works inside of render of a React component\n\n    Array.prototype.forEach.call(ssrStyles, function (node\n    /*: HTMLStyleElement */\n    ) {\n      // we want to only move elements which have a space in the data-emotion attribute value\n      // because that indicates that it is an Emotion 11 server-side rendered style elements\n      // while we will already ignore Emotion 11 client-side inserted styles because of the :not([data-s]) part in the selector\n      // Emotion 10 client-side inserted styles did not have data-s (but importantly did not have a space in their data-emotion attributes)\n      // so checking for the space ensures that loading Emotion 11 after Emotion 10 has inserted some styles\n      // will not result in the Emotion 10 styles being destroyed\n      var dataEmotionAttribute = node.getAttribute('data-emotion');\n\n      if (dataEmotionAttribute.indexOf(' ') === -1) {\n        return;\n      }\n\n      document.head.appendChild(node);\n      node.setAttribute('data-s', '');\n    });\n  }\n\n  var stylisPlugins = options.stylisPlugins || defaultStylisPlugins;\n\n  var inserted = {};\n  var container;\n  /* : Node */\n\n  var nodesToHydrate = [];\n\n  {\n    container = options.container || document.head;\n    Array.prototype.forEach.call( // this means we will ignore elements which don't have a space in them which\n    // means that the style elements we're looking at are only Emotion 11 server-rendered style elements\n    document.querySelectorAll(\"style[data-emotion^=\\\"\" + key + \" \\\"]\"), function (node\n    /*: HTMLStyleElement */\n    ) {\n      var attrib = node.getAttribute(\"data-emotion\").split(' ');\n\n      for (var i = 1; i < attrib.length; i++) {\n        inserted[attrib[i]] = true;\n      }\n\n      nodesToHydrate.push(node);\n    });\n  }\n\n  var _insert;\n  /*: (\n  selector: string,\n  serialized: SerializedStyles,\n  sheet: StyleSheet,\n  shouldCache: boolean\n  ) => string | void */\n\n\n  var omnipresentPlugins = [compat, removeLabel];\n\n  {\n    var currentSheet;\n    var finalizingPlugins = [stringify, rulesheet(function (rule) {\n      currentSheet.insert(rule);\n    })];\n    var serializer = middleware(omnipresentPlugins.concat(stylisPlugins, finalizingPlugins));\n\n    var stylis = function stylis(styles) {\n      return serialize(compile(styles), serializer);\n    };\n\n    _insert = function\n      /*: void */\n    insert(selector\n    /*: string */\n    , serialized\n    /*: SerializedStyles */\n    , sheet\n    /*: StyleSheet */\n    , shouldCache\n    /*: boolean */\n    ) {\n      currentSheet = sheet;\n\n      stylis(selector ? selector + \"{\" + serialized.styles + \"}\" : serialized.styles);\n\n      if (shouldCache) {\n        cache.inserted[serialized.name] = true;\n      }\n    };\n  }\n\n  var cache\n  /*: EmotionCache */\n  = {\n    key: key,\n    sheet: new StyleSheet({\n      key: key,\n      container: container,\n      nonce: options.nonce,\n      speedy: options.speedy,\n      prepend: options.prepend,\n      insertionPoint: options.insertionPoint\n    }),\n    nonce: options.nonce,\n    inserted: inserted,\n    registered: {},\n    insert: _insert\n  };\n  cache.sheet.hydrate(nodesToHydrate);\n  return cache;\n};\n\nexport { createCache as default };\n","import {MS, MOZ, WEBKIT, RULESET, KEYFRAMES, DECLARATION} from './Enum.js'\nimport {match, charat, substr, strlen, sizeof, replace, combine} from './Utility.js'\nimport {copy, tokenize} from './Tokenizer.js'\nimport {serialize} from './Serializer.js'\nimport {prefix} from './Prefixer.js'\n\n/**\n * @param {function[]} collection\n * @return {function}\n */\nexport function middleware (collection) {\n\tvar length = sizeof(collection)\n\n\treturn function (element, index, children, callback) {\n\t\tvar output = ''\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\toutput += collection[i](element, index, children, callback) || ''\n\n\t\treturn output\n\t}\n}\n\n/**\n * @param {function} callback\n * @return {function}\n */\nexport function rulesheet (callback) {\n\treturn function (element) {\n\t\tif (!element.root)\n\t\t\tif (element = element.return)\n\t\t\t\tcallback(element)\n\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n */\nexport function prefixer (element, index, children, callback) {\n\tif (element.length > -1)\n\t\tif (!element.return)\n\t\t\tswitch (element.type) {\n\t\t\t\tcase DECLARATION: element.return = prefix(element.value, element.length, children)\n\t\t\t\t\treturn\n\t\t\t\tcase KEYFRAMES:\n\t\t\t\t\treturn serialize([copy(element, {value: replace(element.value, '@', '@' + WEBKIT)})], callback)\n\t\t\t\tcase RULESET:\n\t\t\t\t\tif (element.length)\n\t\t\t\t\t\treturn combine(element.props, function (value) {\n\t\t\t\t\t\t\tswitch (match(value, /(::plac\\w+|:read-\\w+)/)) {\n\t\t\t\t\t\t\t\t// :read-(only|write)\n\t\t\t\t\t\t\t\tcase ':read-only': case ':read-write':\n\t\t\t\t\t\t\t\t\treturn serialize([copy(element, {props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]})], callback)\n\t\t\t\t\t\t\t\t// :placeholder\n\t\t\t\t\t\t\t\tcase '::placeholder':\n\t\t\t\t\t\t\t\t\treturn serialize([\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]}),\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]}),\n\t\t\t\t\t\t\t\t\t\tcopy(element, {props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]})\n\t\t\t\t\t\t\t\t\t], callback)\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn ''\n\t\t\t\t\t\t})\n\t\t\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n */\nexport function namespace (element) {\n\tswitch (element.type) {\n\t\tcase RULESET:\n\t\t\telement.props = element.props.map(function (value) {\n\t\t\t\treturn combine(tokenize(value), function (value, index, children) {\n\t\t\t\t\tswitch (charat(value, 0)) {\n\t\t\t\t\t\t// \\f\n\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\treturn substr(value, 1, strlen(value))\n\t\t\t\t\t\t// \\0 ( + > ~\n\t\t\t\t\t\tcase 0: case 40: case 43: case 62: case 126:\n\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t// :\n\t\t\t\t\t\tcase 58:\n\t\t\t\t\t\t\tif (children[++index] === 'global')\n\t\t\t\t\t\t\t\tchildren[index] = '', children[++index] = '\\f' + substr(children[index], index = 1, -1)\n\t\t\t\t\t\t// \\s\n\t\t\t\t\t\tcase 32:\n\t\t\t\t\t\t\treturn index === 1 ? '' : value\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tswitch (index) {\n\t\t\t\t\t\t\t\tcase 0: element = value\n\t\t\t\t\t\t\t\t\treturn sizeof(children) > 1 ? '' : value\n\t\t\t\t\t\t\t\tcase index = sizeof(children) - 1: case 2:\n\t\t\t\t\t\t\t\t\treturn index === 2 ? value + element + element : value + element\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t}\n}\n","import { h as hasOwn, E as Emotion, c as createEmotionProps, w as withEmotionCache, T as ThemeContext, i as isDevelopment } from './emotion-element-5486c51c.browser.esm.js';\nexport { C as CacheProvider, T as ThemeContext, a as ThemeProvider, _ as __unsafe_useEmotionCache, u as useTheme, w as withEmotionCache, b as withTheme } from './emotion-element-5486c51c.browser.esm.js';\nimport * as React from 'react';\nimport { insertStyles, registerStyles, getRegisteredStyles } from '@emotion/utils';\nimport { useInsertionEffectWithLayoutFallback, useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\nimport { serializeStyles } from '@emotion/serialize';\nimport '@emotion/cache';\nimport '@babel/runtime/helpers/extends';\nimport '@emotion/weak-memoize';\nimport '../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport 'hoist-non-react-statics';\n\nvar jsx\n/*: typeof React.createElement */\n= function jsx\n/*: typeof React.createElement */\n(type\n/*: React.ElementType */\n, props\n/*: Object */\n) {\n  var args = arguments;\n\n  if (props == null || !hasOwn.call(props, 'css')) {\n    return React.createElement.apply(undefined, args);\n  }\n\n  var argsLength = args.length;\n  var createElementArgArray = new Array(argsLength);\n  createElementArgArray[0] = Emotion;\n  createElementArgArray[1] = createEmotionProps(type, props);\n\n  for (var i = 2; i < argsLength; i++) {\n    createElementArgArray[i] = args[i];\n  }\n\n  return React.createElement.apply(null, createElementArgArray);\n};\n\n// initial render from browser, insertBefore context.sheet.tags[0] or if a style hasn't been inserted there yet, appendChild\n// initial client-side render from SSR, use place of hydrating tag\n\nvar Global\n/*: React.AbstractComponent<\nGlobalProps\n> */\n= /* #__PURE__ */withEmotionCache(function (props\n/*: GlobalProps */\n, cache) {\n\n  var styles = props.styles;\n  var serialized = serializeStyles([styles], undefined, React.useContext(ThemeContext));\n  // but it is based on a constant that will never change at runtime\n  // it's effectively like having two implementations and switching them out\n  // so it's not actually breaking anything\n\n\n  var sheetRef = React.useRef();\n  useInsertionEffectWithLayoutFallback(function () {\n    var key = cache.key + \"-global\"; // use case of https://github.com/emotion-js/emotion/issues/2675\n\n    var sheet = new cache.sheet.constructor({\n      key: key,\n      nonce: cache.sheet.nonce,\n      container: cache.sheet.container,\n      speedy: cache.sheet.isSpeedy\n    });\n    var rehydrating = false;\n    var node\n    /*: HTMLStyleElement | null*/\n    = document.querySelector(\"style[data-emotion=\\\"\" + key + \" \" + serialized.name + \"\\\"]\");\n\n    if (cache.sheet.tags.length) {\n      sheet.before = cache.sheet.tags[0];\n    }\n\n    if (node !== null) {\n      rehydrating = true; // clear the hash so this node won't be recognizable as rehydratable by other <Global/>s\n\n      node.setAttribute('data-emotion', key);\n      sheet.hydrate([node]);\n    }\n\n    sheetRef.current = [sheet, rehydrating];\n    return function () {\n      sheet.flush();\n    };\n  }, [cache]);\n  useInsertionEffectWithLayoutFallback(function () {\n    var sheetRefCurrent = sheetRef.current;\n    var sheet = sheetRefCurrent[0],\n        rehydrating = sheetRefCurrent[1];\n\n    if (rehydrating) {\n      sheetRefCurrent[1] = false;\n      return;\n    }\n\n    if (serialized.next !== undefined) {\n      // insert keyframes\n      insertStyles(cache, serialized.next, true);\n    }\n\n    if (sheet.tags.length) {\n      // if this doesn't exist then it will be null so the style element will be appended\n      var element = sheet.tags[sheet.tags.length - 1].nextElementSibling;\n      sheet.before = element;\n      sheet.flush();\n    }\n\n    cache.insert(\"\", serialized, sheet, false);\n  }, [cache, serialized.name]);\n  return null;\n});\n\n/* import type { Interpolation, SerializedStyles } from '@emotion/utils' */\n\nfunction css()\n/*: SerializedStyles */\n{\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return serializeStyles(args);\n}\n\n/*\ntype Keyframes = {|\n  name: string,\n  styles: string,\n  anim: 1,\n  toString: () => string\n|} & string\n*/\n\nvar keyframes = function\n  /*: Keyframes */\nkeyframes() {\n  var insertable = css.apply(void 0, arguments);\n  var name = \"animation-\" + insertable.name;\n  return {\n    name: name,\n    styles: \"@keyframes \" + name + \"{\" + insertable.styles + \"}\",\n    anim: 1,\n    toString: function toString() {\n      return \"_EMO_\" + this.name + \"_\" + this.styles + \"_EMO_\";\n    }\n  };\n};\n\n/*\ntype ClassNameArg =\n  | string\n  | boolean\n  | { [key: string]: boolean }\n  | Array<ClassNameArg>\n  | null\n  | void\n*/\n\nvar classnames = function\n  /*: string */\nclassnames(args\n/*: Array<ClassNameArg> */\n) {\n  var len = args.length;\n  var i = 0;\n  var cls = '';\n\n  for (; i < len; i++) {\n    var arg = args[i];\n    if (arg == null) continue;\n    var toAdd = void 0;\n\n    switch (typeof arg) {\n      case 'boolean':\n        break;\n\n      case 'object':\n        {\n          if (Array.isArray(arg)) {\n            toAdd = classnames(arg);\n          } else {\n\n            toAdd = '';\n\n            for (var k in arg) {\n              if (arg[k] && k) {\n                toAdd && (toAdd += ' ');\n                toAdd += k;\n              }\n            }\n          }\n\n          break;\n        }\n\n      default:\n        {\n          toAdd = arg;\n        }\n    }\n\n    if (toAdd) {\n      cls && (cls += ' ');\n      cls += toAdd;\n    }\n  }\n\n  return cls;\n};\n\nfunction merge(registered\n/*: Object */\n, css\n/*: (...args: Array<any>) => string */\n, className\n/*: string */\n) {\n  var registeredStyles = [];\n  var rawClassName = getRegisteredStyles(registered, registeredStyles, className);\n\n  if (registeredStyles.length < 2) {\n    return className;\n  }\n\n  return rawClassName + css(registeredStyles);\n}\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serializedArr = _ref.serializedArr;\n  useInsertionEffectAlwaysWithSyncFallback(function () {\n\n    for (var i = 0; i < serializedArr.length; i++) {\n      insertStyles(cache, serializedArr[i], false);\n    }\n  });\n\n  return null;\n};\n/*\ntype Props = {\n  children: ({\n    css: (...args: any) => string,\n    cx: (...args: Array<ClassNameArg>) => string,\n    theme: Object\n  }) => React.Node\n} */\n\n\nvar ClassNames\n/*: React.AbstractComponent<Props>*/\n= /* #__PURE__ */withEmotionCache(function (props, cache) {\n  var hasRendered = false;\n  var serializedArr = [];\n\n  var css = function css() {\n    if (hasRendered && isDevelopment) {\n      throw new Error('css can only be used during render');\n    }\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var serialized = serializeStyles(args, cache.registered);\n    serializedArr.push(serialized); // registration has to happen here as the result of this might get consumed by `cx`\n\n    registerStyles(cache, serialized, false);\n    return cache.key + \"-\" + serialized.name;\n  };\n\n  var cx = function cx() {\n    if (hasRendered && isDevelopment) {\n      throw new Error('cx can only be used during render');\n    }\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    return merge(cache.registered, css, classnames(args));\n  };\n\n  var content = {\n    css: css,\n    cx: cx,\n    theme: React.useContext(ThemeContext)\n  };\n  var ele = props.children(content);\n  hasRendered = true;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Insertion, {\n    cache: cache,\n    serializedArr: serializedArr\n  }), ele);\n});\n\nexport { ClassNames, Global, jsx as createElement, css, jsx, keyframes };\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import memoize from '@emotion/memoize';\n\n// eslint-disable-next-line no-undef\nvar reactPropsRegex = /^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/; // https://esbench.com/bench/5bfee68a4cd7e6009ef61d23\n\nvar isPropValid = /* #__PURE__ */memoize(function (prop) {\n  return reactPropsRegex.test(prop) || prop.charCodeAt(0) === 111\n  /* o */\n  && prop.charCodeAt(1) === 110\n  /* n */\n  && prop.charCodeAt(2) < 91;\n}\n/* Z+1 */\n);\n\nexport { isPropValid as default };\n","import * as React from 'react';\nimport { useContext, forwardRef } from 'react';\nimport createCache from '@emotion/cache';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport weakMemoize from '@emotion/weak-memoize';\nimport hoistNonReactStatics from '../_isolated-hnrs/dist/emotion-react-_isolated-hnrs.browser.esm.js';\nimport { getRegisteredStyles, registerStyles, insertStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\nimport { useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\n\nvar isDevelopment = false;\n\n/* import { type EmotionCache } from '@emotion/utils' */\nvar EmotionCacheContext\n/*: React.Context<EmotionCache | null> */\n= /* #__PURE__ */React.createContext( // we're doing this to avoid preconstruct's dead code elimination in this one case\n// because this module is primarily intended for the browser and node\n// but it's also required in react native and similar environments sometimes\n// and we could have a special build just for that\n// but this is much easier and the native packages\n// might use a different theme context in the future anyway\ntypeof HTMLElement !== 'undefined' ? /* #__PURE__ */createCache({\n  key: 'css'\n}) : null);\n\nvar CacheProvider = EmotionCacheContext.Provider;\nvar __unsafe_useEmotionCache = function useEmotionCache()\n/*: EmotionCache | null*/\n{\n  return useContext(EmotionCacheContext);\n};\n\nvar withEmotionCache = function withEmotionCache\n/* <Props, Ref: React.Ref<*>> */\n(func\n/*: (props: Props, cache: EmotionCache, ref: Ref) => React.Node */\n)\n/*: React.AbstractComponent<Props> */\n{\n  return /*#__PURE__*/forwardRef(function (props\n  /*: Props */\n  , ref\n  /*: Ref */\n  ) {\n    // the cache will never be null in the browser\n    var cache = useContext(EmotionCacheContext);\n    return func(props, cache, ref);\n  });\n};\n\nvar ThemeContext = /* #__PURE__ */React.createContext({});\n\nvar useTheme = function useTheme() {\n  return React.useContext(ThemeContext);\n};\n\nvar getTheme = function getTheme(outerTheme\n/*: Object */\n, theme\n/*: Object | (Object => Object) */\n) {\n  if (typeof theme === 'function') {\n    var mergedTheme = theme(outerTheme);\n\n    return mergedTheme;\n  }\n\n  return _extends({}, outerTheme, theme);\n};\n\nvar createCacheWithTheme = /* #__PURE__ */weakMemoize(function (outerTheme) {\n  return weakMemoize(function (theme) {\n    return getTheme(outerTheme, theme);\n  });\n});\n/*\ntype ThemeProviderProps = {\n  theme: Object | (Object => Object),\n  children: React.Node\n}\n*/\n\nvar ThemeProvider = function ThemeProvider(props\n/*: ThemeProviderProps */\n) {\n  var theme = React.useContext(ThemeContext);\n\n  if (props.theme !== theme) {\n    theme = createCacheWithTheme(theme)(props.theme);\n  }\n\n  return /*#__PURE__*/React.createElement(ThemeContext.Provider, {\n    value: theme\n  }, props.children);\n};\nfunction withTheme\n/* <Config: {}> */\n(Component\n/*: React.AbstractComponent<Config> */\n)\n/*: React.AbstractComponent<$Diff<Config, { theme: Object }>> */\n{\n  var componentName = Component.displayName || Component.name || 'Component';\n\n  var render = function render(props, ref) {\n    var theme = React.useContext(ThemeContext);\n    return /*#__PURE__*/React.createElement(Component, _extends({\n      theme: theme,\n      ref: ref\n    }, props));\n  };\n\n  var WithTheme = /*#__PURE__*/React.forwardRef(render);\n  WithTheme.displayName = \"WithTheme(\" + componentName + \")\";\n  return hoistNonReactStatics(WithTheme, Component);\n}\n\nvar hasOwn = {}.hasOwnProperty;\n\nvar typePropName = '__EMOTION_TYPE_PLEASE_DO_NOT_USE__';\nvar createEmotionProps = function createEmotionProps(type\n/*: React.ElementType */\n, props\n/*: Object */\n) {\n\n  var newProps\n  /*: any */\n  = {};\n\n  for (var key in props) {\n    if (hasOwn.call(props, key)) {\n      newProps[key] = props[key];\n    }\n  }\n\n  newProps[typePropName] = type; // Runtime labeling is an opt-in feature because:\n\n  return newProps;\n};\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serialized = _ref.serialized,\n      isStringTag = _ref.isStringTag;\n  registerStyles(cache, serialized, isStringTag);\n  useInsertionEffectAlwaysWithSyncFallback(function () {\n    return insertStyles(cache, serialized, isStringTag);\n  });\n\n  return null;\n};\n\nvar Emotion = /* #__PURE__ */withEmotionCache(\n/* <any, any> */\nfunction (props, cache, ref) {\n  var cssProp = props.css; // so that using `css` from `emotion` and passing the result to the css prop works\n  // not passing the registered cache to serializeStyles because it would\n  // make certain babel optimisations not possible\n\n  if (typeof cssProp === 'string' && cache.registered[cssProp] !== undefined) {\n    cssProp = cache.registered[cssProp];\n  }\n\n  var WrappedComponent = props[typePropName];\n  var registeredStyles = [cssProp];\n  var className = '';\n\n  if (typeof props.className === 'string') {\n    className = getRegisteredStyles(cache.registered, registeredStyles, props.className);\n  } else if (props.className != null) {\n    className = props.className + \" \";\n  }\n\n  var serialized = serializeStyles(registeredStyles, undefined, React.useContext(ThemeContext));\n\n  className += cache.key + \"-\" + serialized.name;\n  var newProps = {};\n\n  for (var key in props) {\n    if (hasOwn.call(props, key) && key !== 'css' && key !== typePropName && (!isDevelopment )) {\n      newProps[key] = props[key];\n    }\n  }\n\n  newProps.className = className;\n\n  if (ref) {\n    newProps.ref = ref;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Insertion, {\n    cache: cache,\n    serialized: serialized,\n    isStringTag: typeof WrappedComponent === 'string'\n  }), /*#__PURE__*/React.createElement(WrappedComponent, newProps));\n});\n\nvar Emotion$1 = Emotion;\n\nexport { CacheProvider as C, Emotion$1 as E, ThemeContext as T, __unsafe_useEmotionCache as _, ThemeProvider as a, withTheme as b, createEmotionProps as c, hasOwn as h, isDevelopment as i, useTheme as u, withEmotionCache as w };\n","var isBrowser = true;\n\nfunction getRegisteredStyles(registered, registeredStyles, classNames) {\n  var rawClassName = '';\n  classNames.split(' ').forEach(function (className) {\n    if (registered[className] !== undefined) {\n      registeredStyles.push(registered[className] + \";\");\n    } else if (className) {\n      rawClassName += className + \" \";\n    }\n  });\n  return rawClassName;\n}\nvar registerStyles = function registerStyles(cache, serialized, isStringTag) {\n  var className = cache.key + \"-\" + serialized.name;\n\n  if ( // we only need to add the styles to the registered cache if the\n  // class name could be used further down\n  // the tree but if it's a string tag, we know it won't\n  // so we don't have to add it to registered cache.\n  // this improves memory usage since we can avoid storing the whole style string\n  (isStringTag === false || // we need to always store it if we're in compat mode and\n  // in node since emotion-server relies on whether a style is in\n  // the registered cache to know whether a style is global or not\n  // also, note that this check will be dead code eliminated in the browser\n  isBrowser === false ) && cache.registered[className] === undefined) {\n    cache.registered[className] = serialized.styles;\n  }\n};\nvar insertStyles = function insertStyles(cache, serialized, isStringTag) {\n  registerStyles(cache, serialized, isStringTag);\n  var className = cache.key + \"-\" + serialized.name;\n\n  if (cache.inserted[serialized.name] === undefined) {\n    var current = serialized;\n\n    do {\n      cache.insert(serialized === current ? \".\" + className : '', current, cache.sheet, true);\n\n      current = current.next;\n    } while (current !== undefined);\n  }\n};\n\nexport { getRegisteredStyles, insertStyles, registerStyles };\n","import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport isPropValid from '@emotion/is-prop-valid';\nimport { withEmotionCache, ThemeContext } from '@emotion/react';\nimport { getRegisteredStyles, registerStyles, insertStyles } from '@emotion/utils';\nimport { serializeStyles } from '@emotion/serialize';\nimport { useInsertionEffectAlwaysWithSyncFallback } from '@emotion/use-insertion-effect-with-fallbacks';\n\n/* import type {\n  ElementType,\n  StatelessFunctionalComponent,\n  AbstractComponent\n} from 'react' */\n/*\nexport type Interpolations = Array<any>\n\nexport type StyledElementType<Props> =\n  | string\n  | AbstractComponent<{ ...Props, className: string }, mixed>\n\nexport type StyledOptions = {\n  label?: string,\n  shouldForwardProp?: string => boolean,\n  target?: string\n}\n\nexport type StyledComponent<Props> = StatelessFunctionalComponent<Props> & {\n  defaultProps: any,\n  toString: () => string,\n  withComponent: (\n    nextTag: StyledElementType<Props>,\n    nextOptions?: StyledOptions\n  ) => StyledComponent<Props>\n}\n\nexport type PrivateStyledComponent<Props> = StyledComponent<Props> & {\n  __emotion_real: StyledComponent<Props>,\n  __emotion_base: any,\n  __emotion_styles: any,\n  __emotion_forwardProp: any\n}\n*/\n\nvar testOmitPropsOnStringTag = isPropValid;\n\nvar testOmitPropsOnComponent = function testOmitPropsOnComponent(key\n/*: string */\n) {\n  return key !== 'theme';\n};\n\nvar getDefaultShouldForwardProp = function getDefaultShouldForwardProp(tag\n/*: ElementType */\n) {\n  return typeof tag === 'string' && // 96 is one less than the char code\n  // for \"a\" so this is checking that\n  // it's a lowercase character\n  tag.charCodeAt(0) > 96 ? testOmitPropsOnStringTag : testOmitPropsOnComponent;\n};\nvar composeShouldForwardProps = function composeShouldForwardProps(tag\n/*: PrivateStyledComponent<any> */\n, options\n/*: StyledOptions | void */\n, isReal\n/*: boolean */\n) {\n  var shouldForwardProp;\n\n  if (options) {\n    var optionsShouldForwardProp = options.shouldForwardProp;\n    shouldForwardProp = tag.__emotion_forwardProp && optionsShouldForwardProp ? function (propName\n    /*: string */\n    ) {\n      return tag.__emotion_forwardProp(propName) && optionsShouldForwardProp(propName);\n    } : optionsShouldForwardProp;\n  }\n\n  if (typeof shouldForwardProp !== 'function' && isReal) {\n    shouldForwardProp = tag.__emotion_forwardProp;\n  }\n\n  return shouldForwardProp;\n};\n/*\nexport type CreateStyledComponent = <Props>(\n  ...args: Interpolations\n) => StyledComponent<Props>\n\nexport type CreateStyled = {\n  <Props>(\n    tag: StyledElementType<Props>,\n    options?: StyledOptions\n  ): (...args: Interpolations) => StyledComponent<Props>,\n  [key: string]: CreateStyledComponent,\n  bind: () => CreateStyled\n}\n*/\n\nvar isDevelopment = false;\n\nvar Insertion = function Insertion(_ref) {\n  var cache = _ref.cache,\n      serialized = _ref.serialized,\n      isStringTag = _ref.isStringTag;\n  registerStyles(cache, serialized, isStringTag);\n  useInsertionEffectAlwaysWithSyncFallback(function () {\n    return insertStyles(cache, serialized, isStringTag);\n  });\n\n  return null;\n};\n\nvar createStyled\n/*: CreateStyled */\n= function createStyled\n/*: CreateStyled */\n(tag\n/*: any */\n, options\n/* ?: StyledOptions */\n) {\n\n  var isReal = tag.__emotion_real === tag;\n  var baseTag = isReal && tag.__emotion_base || tag;\n  var identifierName;\n  var targetClassName;\n\n  if (options !== undefined) {\n    identifierName = options.label;\n    targetClassName = options.target;\n  }\n\n  var shouldForwardProp = composeShouldForwardProps(tag, options, isReal);\n  var defaultShouldForwardProp = shouldForwardProp || getDefaultShouldForwardProp(baseTag);\n  var shouldUseAs = !defaultShouldForwardProp('as');\n  /* return function<Props>(): PrivateStyledComponent<Props> { */\n\n  return function () {\n    var args = arguments;\n    var styles = isReal && tag.__emotion_styles !== undefined ? tag.__emotion_styles.slice(0) : [];\n\n    if (identifierName !== undefined) {\n      styles.push(\"label:\" + identifierName + \";\");\n    }\n\n    if (args[0] == null || args[0].raw === undefined) {\n      styles.push.apply(styles, args);\n    } else {\n\n      styles.push(args[0][0]);\n      var len = args.length;\n      var i = 1;\n\n      for (; i < len; i++) {\n\n        styles.push(args[i], args[0][i]);\n      }\n    }\n\n    var Styled\n    /*: PrivateStyledComponent<Props> */\n    = withEmotionCache(function (props, cache, ref) {\n      var FinalTag = shouldUseAs && props.as || baseTag;\n      var className = '';\n      var classInterpolations = [];\n      var mergedProps = props;\n\n      if (props.theme == null) {\n        mergedProps = {};\n\n        for (var key in props) {\n          mergedProps[key] = props[key];\n        }\n\n        mergedProps.theme = React.useContext(ThemeContext);\n      }\n\n      if (typeof props.className === 'string') {\n        className = getRegisteredStyles(cache.registered, classInterpolations, props.className);\n      } else if (props.className != null) {\n        className = props.className + \" \";\n      }\n\n      var serialized = serializeStyles(styles.concat(classInterpolations), cache.registered, mergedProps);\n      className += cache.key + \"-\" + serialized.name;\n\n      if (targetClassName !== undefined) {\n        className += \" \" + targetClassName;\n      }\n\n      var finalShouldForwardProp = shouldUseAs && shouldForwardProp === undefined ? getDefaultShouldForwardProp(FinalTag) : defaultShouldForwardProp;\n      var newProps = {};\n\n      for (var _key in props) {\n        if (shouldUseAs && _key === 'as') continue;\n\n        if (finalShouldForwardProp(_key)) {\n          newProps[_key] = props[_key];\n        }\n      }\n\n      newProps.className = className;\n\n      if (ref) {\n        newProps.ref = ref;\n      }\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Insertion, {\n        cache: cache,\n        serialized: serialized,\n        isStringTag: typeof FinalTag === 'string'\n      }), /*#__PURE__*/React.createElement(FinalTag, newProps));\n    });\n    Styled.displayName = identifierName !== undefined ? identifierName : \"Styled(\" + (typeof baseTag === 'string' ? baseTag : baseTag.displayName || baseTag.name || 'Component') + \")\";\n    Styled.defaultProps = tag.defaultProps;\n    Styled.__emotion_real = Styled;\n    Styled.__emotion_base = baseTag;\n    Styled.__emotion_styles = styles;\n    Styled.__emotion_forwardProp = shouldForwardProp;\n    Object.defineProperty(Styled, 'toString', {\n      value: function value() {\n        if (targetClassName === undefined && isDevelopment) {\n          return 'NO_COMPONENT_SELECTOR';\n        }\n\n        return \".\" + targetClassName;\n      }\n    });\n\n    Styled.withComponent = function (nextTag\n    /*: StyledElementType<Props> */\n    , nextOptions\n    /* ?: StyledOptions */\n    ) {\n      return createStyled(nextTag, _extends({}, options, nextOptions, {\n        shouldForwardProp: composeShouldForwardProps(Styled, nextOptions, true)\n      })).apply(void 0, styles);\n    };\n\n    return Styled;\n  };\n};\n\nexport { createStyled as default };\n","import createStyled from '../base/dist/emotion-styled-base.browser.esm.js';\nimport '@babel/runtime/helpers/extends';\nimport 'react';\nimport '@emotion/is-prop-valid';\nimport '@emotion/react';\nimport '@emotion/utils';\nimport '@emotion/serialize';\nimport '@emotion/use-insertion-effect-with-fallbacks';\n\nvar tags = ['a', 'abbr', 'address', 'area', 'article', 'aside', 'audio', 'b', 'base', 'bdi', 'bdo', 'big', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dd', 'del', 'details', 'dfn', 'dialog', 'div', 'dl', 'dt', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'iframe', 'img', 'input', 'ins', 'kbd', 'keygen', 'label', 'legend', 'li', 'link', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meta', 'meter', 'nav', 'noscript', 'object', 'ol', 'optgroup', 'option', 'output', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'script', 'section', 'select', 'small', 'source', 'span', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'track', 'u', 'ul', 'var', 'video', 'wbr', // SVG\n'circle', 'clipPath', 'defs', 'ellipse', 'foreignObject', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\n\nvar newStyled = createStyled.bind();\ntags.forEach(function (tagName) {\n  newStyled[tagName] = newStyled(tagName);\n});\n\nexport { newStyled as default };\n","/**\n * External Dependencies\n */\nimport { css } from '@emotion/react';\nimport styled from '@emotion/styled';\n\nexport const ViewBox = styled.span`\n\tposition: relative;\n\twidth: 24px;\n\theight: 24px;\n`;\n\nconst Side = styled.span<{ isFocused: boolean }>`\n\tbackground-color: currentColor;\n\tbox-sizing: border-box;\n\tdisplay: block;\n\tpointer-events: none;\n\tposition: absolute;\n\t${({ isFocused }) => !isFocused && css({ opacity: 0.3 })}\n`;\n\nconst Corner = styled.span<{ isFocused: boolean }>`\n\tbox-sizing: border-box;\n\tdisplay: block;\n\tpointer-events: none;\n\tposition: absolute;\n\twidth: 8px;\n\theight: 8px;\n\t${({ isFocused }) => !isFocused && css({ opacity: 0.3 })}\n`;\n\nexport const TopStroke = styled(Side)`\n\ttop: 3px;\n\tright: 6px;\n\tleft: 6px;\n\theight: 2px;\n`;\n\nexport const RightStroke = styled(Side)`\n\ttop: 6px;\n\tright: 3px;\n\tbottom: 6px;\n\twidth: 2px;\n\tbackground-color: currentColor;\n`;\n\nexport const BottomStroke = styled(Side)`\n\tright: 6px;\n\tbottom: 3px;\n\tleft: 6px;\n\theight: 2px;\n\tbackground-color: currentColor;\n`;\n\nexport const LeftStroke = styled(Side)`\n\ttop: 6px;\n\tbottom: 6px;\n\tleft: 3px;\n\twidth: 2px;\n\tbackground-color: currentColor;\n`;\n\nexport const TopLeftStroke = styled(Corner)`\n\ttop: 3px;\n\tleft: 3px;\n\tborder-top: 2px solid;\n\tborder-left: 2px solid;\n`;\n\nexport const TopRightStroke = styled(Corner)`\n\ttop: 3px;\n\tright: 3px;\n\tborder-top: 2px solid;\n\tborder-right: 2px solid;\n`;\n\nexport const BottomRightStroke = styled(Corner)`\n\tright: 3px;\n\tbottom: 3px;\n\tborder-right: 2px solid;\n\tborder-bottom: 2px solid;\n`;\n\nexport const BottomLeftStroke = styled(Corner)`\n\tbottom: 3px;\n\tleft: 3px;\n\tborder-bottom: 2px solid;\n\tborder-left: 2px solid;\n`;\n","/**\n * Internal dependencies\n */\nimport {\n\tViewBox,\n\tTopStroke,\n\tRightStroke,\n\tBottomStroke,\n\tLeftStroke,\n\tTopLeftStroke,\n\tTopRightStroke,\n\tBottomRightStroke,\n\tBottomLeftStroke,\n} from './styles';\nimport type {\n\tSideValue,\n\tCornerValue,\n\tDirectionValue,\n} from '../block-attributes';\n\nexport function SideIndicatorControl({ sides }: { sides?: SideValue[] }) {\n\tconst top: boolean = !sides || sides.includes('top');\n\tconst right: boolean = !sides || sides.includes('right');\n\tconst bottom: boolean = !sides || sides.includes('bottom');\n\tconst left: boolean = !sides || sides.includes('left');\n\n\treturn (\n\t\t<ViewBox>\n\t\t\t<TopStroke isFocused={top} />\n\t\t\t<RightStroke isFocused={right} />\n\t\t\t<BottomStroke isFocused={bottom} />\n\t\t\t<LeftStroke isFocused={left} />\n\t\t</ViewBox>\n\t);\n}\n\nexport function CornerIndicatorControl({\n\tcorners,\n}: {\n\tcorners?: CornerValue[];\n}) {\n\tconst topLeft = !corners || corners.includes('topLeft');\n\tconst topRight = !corners || corners.includes('topRight');\n\tconst bottomRight = !corners || corners.includes('bottomRight');\n\tconst bottomLeft = !corners || corners.includes('bottomLeft');\n\n\treturn (\n\t\t<ViewBox>\n\t\t\t<TopLeftStroke isFocused={topLeft} />\n\t\t\t<TopRightStroke isFocused={topRight} />\n\t\t\t<BottomRightStroke isFocused={bottomRight} />\n\t\t\t<BottomLeftStroke isFocused={bottomLeft} />\n\t\t</ViewBox>\n\t);\n}\n\nexport function DirectionIndicatorControl({\n\tdirections,\n}: {\n\tdirections?: DirectionValue[];\n}) {\n\tconst horizontal = !directions || directions.includes('horizontal');\n\tconst vertical = !directions || directions.includes('vertical');\n\n\treturn (\n\t\t<ViewBox>\n\t\t\t<TopStroke isFocused={vertical} />\n\t\t\t<RightStroke isFocused={horizontal} />\n\t\t\t<BottomStroke isFocused={vertical} />\n\t\t\t<LeftStroke isFocused={horizontal} />\n\t\t</ViewBox>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport type { Property } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { link, linkOff } from '@wordpress/icons';\nimport { useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tPopover,\n\tColorPalette,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal Dependencies\n */\nimport ColorIndicatorButton from './color-indicator-button';\nimport { SideIndicatorControl } from './indicator-control';\nimport { SIDE_CONTROLS } from '../constants';\nimport type { SideValue } from '../block-attributes';\n\ntype Props = {\n\tlabel: string;\n\thelp?: string;\n\tonChange: (event: any) => void;\n\tvalues: {\n\t\ttop?: Property.BorderTopColor;\n\t\tright?: Property.BorderRightColor;\n\t\tbottom?: Property.BorderBottomColor;\n\t\tleft?: Property.BorderLeftColor;\n\t};\n};\n\nconst DEFAULT_VALUES = {\n\ttop: '',\n\tright: '',\n\tbottom: '',\n\tleft: '',\n};\n\nexport default function BorderColorControl({\n\tlabel = __('Border color', 'flexible-table-block'),\n\thelp,\n\tonChange,\n\tvalues: valuesProp,\n}: Props) {\n\tconst values = {\n\t\t...DEFAULT_VALUES,\n\t\t...valuesProp,\n\t};\n\tconst instanceId = useInstanceId(\n\t\tBorderColorControl,\n\t\t'ftb-border-color-control'\n\t);\n\tconst headingId = `${instanceId}-heading`;\n\n\tconst isMixed = !(\n\t\tvalues.top === values.right &&\n\t\tvalues.top === values.bottom &&\n\t\tvalues.top === values.left\n\t);\n\n\tconst colors = useSelect((select) => {\n\t\tconst settings = select(\n\t\t\tblockEditorStore\n\t\t\t// @ts-ignore\n\t\t).getSettings();\n\t\treturn settings?.colors ?? [];\n\t}, []);\n\n\tconst [isLinked, setIsLinked] = useState<boolean>(true);\n\tconst [isPickerOpen, setIsPickerOpen] = useState<boolean>(false);\n\tconst [pickerIndex, setPickerIndex] = useState<number | undefined>(\n\t\tundefined\n\t);\n\n\tconst linkedLabel: string = isLinked\n\t\t? __('Unlink sides', 'flexible-table-block')\n\t\t: __('Link sides', 'flexible-table-block');\n\n\tconst allInputValue: string | 0 = isMixed ? '' : values.top;\n\n\tconst toggleLinked = () => setIsLinked(!isLinked);\n\n\tconst handleOnReset = () => {\n\t\tsetIsLinked(true);\n\t\tonChange(DEFAULT_VALUES);\n\t};\n\n\tconst handleOnChangeAll = (inputValue: string | undefined) => {\n\t\tonChange({\n\t\t\ttop: inputValue,\n\t\t\tright: inputValue,\n\t\t\tbottom: inputValue,\n\t\t\tleft: inputValue,\n\t\t});\n\t};\n\n\tconst handleOnChange = (\n\t\tinputValue: string | undefined,\n\t\ttargetSide: SideValue\n\t) => {\n\t\tonChange({\n\t\t\t...values,\n\t\t\t[targetSide]: inputValue,\n\t\t});\n\t};\n\n\tconst handleOnPickerOpen = (targetPickerIndex: number | undefined) => {\n\t\tsetIsPickerOpen(true);\n\t\tsetPickerIndex(targetPickerIndex);\n\t};\n\n\tconst handleOnPickerClose = () => {\n\t\tsetIsPickerOpen(false);\n\t\tsetPickerIndex(undefined);\n\t};\n\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName=\"ftb-border-color-control\"\n\t\t\thelp={help}\n\t\t\t__nextHasNoMarginBottom\n\t\t>\n\t\t\t<VStack aria-labelledby={headingId} role=\"group\">\n\t\t\t\t<Flex>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tid={headingId}\n\t\t\t\t\t\tupperCase\n\t\t\t\t\t\tsize=\"11\"\n\t\t\t\t\t\tweight=\"500\"\n\t\t\t\t\t\tas={FlexBlock}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleOnReset}\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__('Reset', 'flexible-table-block')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t\t<HStack alignment=\"start\" justify=\"space-between\">\n\t\t\t\t\t{isLinked ? (\n\t\t\t\t\t\t<HStack spacing={3} justify=\"start\">\n\t\t\t\t\t\t\t<SideIndicatorControl />\n\t\t\t\t\t\t\t<ColorIndicatorButton\n\t\t\t\t\t\t\t\tlabel={__('All', 'flexible-table-block')}\n\t\t\t\t\t\t\t\tvalue={allInputValue}\n\t\t\t\t\t\t\t\tonClick={() => handleOnPickerOpen(undefined)}\n\t\t\t\t\t\t\t\tisNone={!allInputValue && !isMixed}\n\t\t\t\t\t\t\t\tisTransparent={allInputValue === 'transparent'}\n\t\t\t\t\t\t\t\tisMixed={isMixed}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t{isPickerOpen && !pickerIndex && (\n\t\t\t\t\t\t\t\t<Popover\n\t\t\t\t\t\t\t\t\tplacement=\"left-start\"\n\t\t\t\t\t\t\t\t\tshift\n\t\t\t\t\t\t\t\t\toffset={36}\n\t\t\t\t\t\t\t\t\tonClose={handleOnPickerClose}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Spacer padding={4} marginBottom={0}>\n\t\t\t\t\t\t\t\t\t\t<ColorPalette\n\t\t\t\t\t\t\t\t\t\t\tcolors={colors}\n\t\t\t\t\t\t\t\t\t\t\tvalue={allInputValue || ''}\n\t\t\t\t\t\t\t\t\t\t\tonChange={handleOnChangeAll}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</Spacer>\n\t\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<VStack>\n\t\t\t\t\t\t\t{SIDE_CONTROLS.map((item, index) => (\n\t\t\t\t\t\t\t\t<HStack\n\t\t\t\t\t\t\t\t\tspacing={3}\n\t\t\t\t\t\t\t\t\tjustify=\"start\"\n\t\t\t\t\t\t\t\t\tkey={item.value}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SideIndicatorControl\n\t\t\t\t\t\t\t\t\t\tsides={[item.value]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<ColorIndicatorButton\n\t\t\t\t\t\t\t\t\t\tlabel={item.label}\n\t\t\t\t\t\t\t\t\t\tvalue={values[item.value]}\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\thandleOnPickerOpen(index)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tisNone={!values[item.value]}\n\t\t\t\t\t\t\t\t\t\tisTransparent={\n\t\t\t\t\t\t\t\t\t\t\tvalues[item.value] === 'transparent'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t{isPickerOpen && pickerIndex === index && (\n\t\t\t\t\t\t\t\t\t\t<Popover\n\t\t\t\t\t\t\t\t\t\t\tplacement=\"left-start\"\n\t\t\t\t\t\t\t\t\t\t\tshift\n\t\t\t\t\t\t\t\t\t\t\toffset={36}\n\t\t\t\t\t\t\t\t\t\t\tonClose={handleOnPickerClose}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Spacer\n\t\t\t\t\t\t\t\t\t\t\t\tpadding={4}\n\t\t\t\t\t\t\t\t\t\t\t\tmarginBottom={0}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<ColorPalette\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolors={colors}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalues[item.value] || ''\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOnChange(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.value\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</Spacer>\n\t\t\t\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t)}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlabel={linkedLabel}\n\t\t\t\t\t\tonClick={toggleLinked}\n\t\t\t\t\t\ticon={isLinked ? link : linkOff}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</BaseControl>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport type { PropertyValue } from 'csstype';\n\nconst DEFAULT_PRECISION: number = 4;\n\n// Array with four values for CSS\nexport type FourCssValues = [string, string, string, string];\n\n// sanitizeUnitValue function option\ninterface SanitizeOptions {\n\tminNum?: number;\n\tmaxNum?: number;\n\tprecision?: number;\n}\n\n/**\n * Removed falsy values from nested object.\n *\n * @param object Nested object.\n * @return Object cleaned from falsy values.\n */\nexport function cleanEmptyObject(object: {}): {} | undefined {\n\tif (\n\t\tobject === null ||\n\t\ttypeof object !== 'object' ||\n\t\tArray.isArray(object)\n\t) {\n\t\treturn object;\n\t}\n\n\tconst cleanedNestedObjects = Object.entries(object)\n\t\t.map(([key, value]) => [key, cleanEmptyObject(value)])\n\t\t.filter(([, value]) => value !== undefined);\n\treturn !cleanedNestedObjects.length\n\t\t? undefined\n\t\t: Object.fromEntries(cleanedNestedObjects);\n}\n\n/**\n * Convert short-hand/long-hand CSS values into an array with four values.\n *\n * @param cssValue CSS value.\n * @return Array with four values.\n */\nexport function parseCssValue(cssValue: string): FourCssValues {\n\tconst cssValues: string[] = cssValue\n\t\t.split(' ')\n\t\t.map((value: string) => value.toLowerCase());\n\n\tswitch (cssValues.length) {\n\t\tcase 1:\n\t\t\treturn [cssValues[0], cssValues[0], cssValues[0], cssValues[0]];\n\t\tcase 2:\n\t\t\treturn [cssValues[0], cssValues[1], cssValues[0], cssValues[1]];\n\t\tcase 3:\n\t\t\treturn [cssValues[0], cssValues[1], cssValues[2], cssValues[1]];\n\t\tcase 4:\n\t\t\treturn [cssValues[0], cssValues[1], cssValues[2], cssValues[3]];\n\t\tdefault:\n\t\t\treturn ['', '', '', ''];\n\t}\n}\n\n/**\n * Sanitize the value of UnitControl.\n *\n * @param initialValue      UnitControl value.\n * @param options           Sanitize options.\n * @param options.minNum    Minimum number.\n * @param options.maxNum    Minimum number.\n * @param options.precision Precision.\n * @return Sanitized UnitControl value.\n */\nexport function sanitizeUnitValue(\n\tinitialValue: PropertyValue<string | number> | undefined,\n\toptions?: SanitizeOptions\n): string {\n\tconst value: string = String(initialValue).trim();\n\tlet num: number = parseFloat(value);\n\n\tif (isNaN(num)) {\n\t\treturn '';\n\t} else if (num < 0) {\n\t\treturn '';\n\t} else if (num === 0) {\n\t\treturn '0';\n\t}\n\n\t// Sanitize value.\n\tif (options?.minNum) {\n\t\tnum = Math.max(options.minNum, num);\n\t}\n\n\tif (options?.maxNum) {\n\t\tnum = Math.min(options.maxNum, num);\n\t}\n\n\tconst modifier = 10 ** (options?.precision || DEFAULT_PRECISION);\n\tnum = Math.round(num * modifier) / modifier;\n\n\tconst unit: string = value.match(/[\\d.\\-+]*\\s*(.*)/)?.[1] ?? '';\n\n\treturn `${num}${unit.toLowerCase()}`;\n}\n\n/**\n * Parses a number and unit from a value.\n *\n * @param initialValue Value to parse\n * @return The extracted number and unit.\n */\nexport function parseUnit(initialValue: string): [number, string] {\n\tconst value: string = String(initialValue).trim();\n\tconst num: number = parseFloat(value);\n\n\tif (isNaN(num)) {\n\t\treturn [0, ''];\n\t}\n\n\tconst unit: string = value.match(/[\\d.\\-+]*\\s*(.*)/)?.[1] ?? '';\n\n\treturn [num, unit.toLowerCase()];\n}\n\n// Convert string to number.\n// JSDoc is not used because parsing in eslint fails\nexport function toInteger(\n\tvalue: number | string | undefined,\n\tdefaultValue = 0\n): number {\n\tif (!value) {\n\t\treturn defaultValue;\n\t}\n\n\tconst converted = parseInt(String(value), 10);\n\n\tif (isNaN(converted)) {\n\t\treturn defaultValue;\n\t}\n\n\treturn converted || defaultValue;\n}\n\n/**\n * Normalize the rowspan/colspan value.\n * Returns undefined if the parameter is not a positive number\n * or the default value (1) for rowspan/colspan.\n *\n * @param rowColSpan rowspan/colspan value.\n * @return normalized rowspan/colspan value.\n */\nexport function normalizeRowColSpan(rowColSpan: any) {\n\tconst parsedValue = parseInt(rowColSpan, 10);\n\tif (!Number.isInteger(parsedValue)) {\n\t\treturn undefined;\n\t}\n\treturn parsedValue < 0 || parsedValue === 1\n\t\t? undefined\n\t\t: parsedValue.toString();\n}\n","/**\n * External Dependencies\n */\nimport type { Property } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { link, linkOff } from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n\t__experimentalGrid as Grid,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalText as Text,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal Dependencies\n */\nimport {\n\tBORDER_RADIUS_UNITS,\n\tMAX_BORDER_RADIUS,\n\tCORNER_CONTROLS,\n} from '../constants';\nimport { CornerIndicatorControl } from './indicator-control';\nimport { parseUnit, sanitizeUnitValue } from '../utils/helper';\nimport type { CornerValue } from '../block-attributes';\n\nconst DEFAULT_VALUES = {\n\ttopLeft: '',\n\ttopRight: '',\n\tbottomRight: '',\n\tbottomLeft: '',\n};\n\ntype Props = {\n\tlabel: string;\n\thelp?: string;\n\tonChange: (event: any) => void;\n\tvalues: {\n\t\ttopLeft?: Property.BorderTopLeftRadius;\n\t\ttopRight?: Property.BorderTopRightRadius;\n\t\tbottomRight?: Property.BorderBottomRightRadius;\n\t\tbottomLeft?: Property.BorderBottomLeftRadius;\n\t};\n};\n\ntype ValuesKey = keyof typeof DEFAULT_VALUES;\ntype MaxBorderRadiusKey = keyof typeof MAX_BORDER_RADIUS;\n\nexport default function BorderRadiusControl({\n\tlabel = __('Border radius', 'flexible-table-block'),\n\thelp,\n\tonChange,\n\tvalues: valuesProp,\n}: Props) {\n\tconst values = {\n\t\t...DEFAULT_VALUES,\n\t\t...valuesProp,\n\t};\n\tconst instanceId = useInstanceId(\n\t\tBorderRadiusControl,\n\t\t'ftb-border-radius-control'\n\t);\n\tconst headingId = `${instanceId}-heading`;\n\n\tconst isMixed = !(\n\t\tvalues.topLeft === values.topRight &&\n\t\tvalues.topLeft === values.bottomRight &&\n\t\tvalues.topLeft === values.bottomLeft\n\t);\n\n\tconst borderRadiusUnits = useCustomUnits({\n\t\tavailableUnits: BORDER_RADIUS_UNITS,\n\t});\n\n\tconst [isLinked, setIsLinked] = useState<boolean>(true);\n\tconst [corner, setCorner] = useState<CornerValue | undefined>(undefined);\n\n\tconst linkedLabel: string = isLinked\n\t\t? __('Unlink sides', 'flexible-table-block')\n\t\t: __('Link sides', 'flexible-table-block');\n\n\tconst allInputPlaceholder: string = isMixed\n\t\t? __('Mixed', 'flexible-table-block')\n\t\t: '';\n\tconst allInputValue: string | 0 = isMixed ? '' : values.topLeft;\n\n\tconst toggleLinked = () => {\n\t\tsetIsLinked(!isLinked);\n\t\tsetCorner(undefined);\n\t};\n\n\tconst handleOnReset = () => {\n\t\tsetIsLinked(true);\n\t\tsetCorner(undefined);\n\t\tonChange(DEFAULT_VALUES);\n\t};\n\n\tconst handleOnFocus = (focusCorner: CornerValue) => setCorner(focusCorner);\n\n\tconst handleOnChangeAll = (inputValue: string | undefined) => {\n\t\tif (inputValue) {\n\t\t\tconst [, unit] = parseUnit(inputValue);\n\t\t\tconst sanitizedValue = sanitizeUnitValue(inputValue, {\n\t\t\t\tmaxNum: MAX_BORDER_RADIUS[unit as MaxBorderRadiusKey],\n\t\t\t});\n\n\t\t\tonChange({\n\t\t\t\ttopLeft: sanitizedValue,\n\t\t\t\ttopRight: sanitizedValue,\n\t\t\t\tbottomRight: sanitizedValue,\n\t\t\t\tbottomLeft: sanitizedValue,\n\t\t\t});\n\t\t} else {\n\t\t\tonChange({\n\t\t\t\ttopLeft: undefined,\n\t\t\t\ttopRight: undefined,\n\t\t\t\tbottomRight: undefined,\n\t\t\t\tbottomLeft: undefined,\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleOnChange = (\n\t\tinputValue: string | undefined,\n\t\ttargetCorner: CornerValue\n\t) => {\n\t\tif (inputValue) {\n\t\t\tconst [, unit] = parseUnit(inputValue);\n\t\t\tconst sanitizedValue = sanitizeUnitValue(inputValue, {\n\t\t\t\tmaxNum: MAX_BORDER_RADIUS[unit as MaxBorderRadiusKey],\n\t\t\t});\n\n\t\t\tonChange({\n\t\t\t\t...values,\n\t\t\t\t[targetCorner]: sanitizedValue,\n\t\t\t});\n\t\t} else {\n\t\t\tonChange({\n\t\t\t\t...values,\n\t\t\t\t[targetCorner]: undefined,\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName=\"ftb-border-radius-control\"\n\t\t\thelp={help}\n\t\t\t__nextHasNoMarginBottom\n\t\t>\n\t\t\t<VStack aria-labelledby={headingId} role=\"group\">\n\t\t\t\t<Flex>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tid={headingId}\n\t\t\t\t\t\tupperCase\n\t\t\t\t\t\tsize=\"11\"\n\t\t\t\t\t\tweight=\"500\"\n\t\t\t\t\t\tas={FlexBlock}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleOnReset}\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__('Reset', 'flexible-table-block')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t\t<HStack\n\t\t\t\t\talignment=\"center\"\n\t\t\t\t\tjustify=\"space-between\"\n\t\t\t\t\tstyle={{ minHeight: '40px' }}\n\t\t\t\t>\n\t\t\t\t\t<HStack justify=\"start\">\n\t\t\t\t\t\t<CornerIndicatorControl\n\t\t\t\t\t\t\tcorners={\n\t\t\t\t\t\t\t\tcorner === undefined ? undefined : [corner]\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{isLinked && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\t\tlabel={__('All', 'flexible-table-block')}\n\t\t\t\t\t\t\t\t\tplaceholder={allInputPlaceholder}\n\t\t\t\t\t\t\t\t\tonChange={handleOnChangeAll}\n\t\t\t\t\t\t\t\t\tvalue={allInputValue}\n\t\t\t\t\t\t\t\t\tunits={borderRadiusUnits}\n\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\t\t\t__unstableInputWidth=\"100px\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</HStack>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlabel={linkedLabel}\n\t\t\t\t\t\tonClick={toggleLinked}\n\t\t\t\t\t\ticon={isLinked ? link : linkOff}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t\t{!isLinked && (\n\t\t\t\t\t<Grid gap={2}>\n\t\t\t\t\t\t{CORNER_CONTROLS.map((item) => (\n\t\t\t\t\t\t\t<div key={item.value}>\n\t\t\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\t\t\taria-label={item.label}\n\t\t\t\t\t\t\t\t\tvalue={values[item.value as ValuesKey]}\n\t\t\t\t\t\t\t\t\tunits={borderRadiusUnits}\n\t\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\t\tonFocus={() => handleOnFocus(item.value)}\n\t\t\t\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\t\t\t\thandleOnChange(value, item.value)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 0 }}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</VStack>\n\t\t</BaseControl>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport type { PropertyValue } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { link, linkOff } from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal Dependencies\n */\nimport { BORDER_STYLE_CONTROLS, SIDE_CONTROLS } from '../constants';\nimport { SideIndicatorControl } from './indicator-control';\n\nconst DEFAULT_VALUES = {\n\ttop: '',\n\tright: '',\n\tbottom: '',\n\tleft: '',\n};\n\ntype Props = {\n\tlabel: string;\n\thelp?: string;\n\tonChange: (event: any) => void;\n\tvalues: {\n\t\ttop?: PropertyValue<string>;\n\t\tright?: PropertyValue<string>;\n\t\tbottom?: PropertyValue<string>;\n\t\tleft?: PropertyValue<string>;\n\t};\n\tallowSides?: boolean;\n\thasIndicator?: boolean;\n};\n\ntype ValuesKey = keyof typeof DEFAULT_VALUES;\n\nexport default function BorderStyleControl({\n\tlabel = __('Border style', 'flexible-table-block'),\n\thelp,\n\tonChange,\n\tvalues: valuesProp,\n\tallowSides = true,\n\thasIndicator = true,\n}: Props) {\n\tconst values = {\n\t\t...DEFAULT_VALUES,\n\t\t...valuesProp,\n\t};\n\tconst instanceId = useInstanceId(\n\t\tBorderStyleControl,\n\t\t'ftb-border-style-control'\n\t);\n\tconst headingId = `${instanceId}-heading`;\n\n\tconst isMixed =\n\t\tallowSides &&\n\t\t!(\n\t\t\tvalues.top === values.right &&\n\t\t\tvalues.top === values.bottom &&\n\t\t\tvalues.top === values.left\n\t\t);\n\n\tconst [isLinked, setIsLinked] = useState<boolean>(true);\n\n\tconst linkedLabel: string = isLinked\n\t\t? __('Unlink sides', 'flexible-table-block')\n\t\t: __('Link sides', 'flexible-table-block');\n\n\tconst allInputValue: string | 0 = isMixed ? '' : values.top;\n\n\tconst toggleLinked = () => setIsLinked(!isLinked);\n\n\tconst handleOnReset = () => {\n\t\tsetIsLinked(true);\n\t\tonChange(DEFAULT_VALUES);\n\t};\n\n\tconst handleOnClickAll = (value: string | number | undefined) => {\n\t\tconst newValue =\n\t\t\tvalue === values.top &&\n\t\t\tvalue === values.right &&\n\t\t\tvalue === values.bottom &&\n\t\t\tvalue === values.left\n\t\t\t\t? undefined\n\t\t\t\t: value;\n\n\t\tonChange({\n\t\t\ttop: newValue,\n\t\t\tright: newValue,\n\t\t\tbottom: newValue,\n\t\t\tleft: newValue,\n\t\t});\n\t};\n\n\tconst handleOnClick = (\n\t\tvalue: string | number | undefined,\n\t\ttargetSide: ValuesKey\n\t) => {\n\t\tconst newValue =\n\t\t\tvalues[targetSide as ValuesKey] &&\n\t\t\tvalue === values[targetSide as ValuesKey]\n\t\t\t\t? undefined\n\t\t\t\t: value;\n\n\t\tonChange({\n\t\t\t...values,\n\t\t\t[targetSide]: newValue,\n\t\t});\n\t};\n\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName=\"ftb-border-style-control\"\n\t\t\thelp={help}\n\t\t\t__nextHasNoMarginBottom\n\t\t>\n\t\t\t<VStack aria-labelledby={headingId} role=\"group\">\n\t\t\t\t<Flex>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tid={headingId}\n\t\t\t\t\t\tupperCase\n\t\t\t\t\t\tsize=\"11\"\n\t\t\t\t\t\tweight=\"500\"\n\t\t\t\t\t\tas={FlexBlock}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isMixed && isLinked\n\t\t\t\t\t\t\t? `${label} ${__('(Mixed)', 'flexible-table-block')}`\n\t\t\t\t\t\t\t: label}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleOnReset}\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__('Reset', 'flexible-table-block')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t\t<HStack alignment=\"start\" justify=\"space-between\">\n\t\t\t\t\t{isLinked ? (\n\t\t\t\t\t\t<HStack spacing={2} justify=\"start\">\n\t\t\t\t\t\t\t{hasIndicator && <SideIndicatorControl />}\n\t\t\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\tvalue={allInputValue}\n\t\t\t\t\t\t\t\tisDeselectable\n\t\t\t\t\t\t\t\tonChange={handleOnClickAll}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{BORDER_STYLE_CONTROLS.map((borderStyle) => (\n\t\t\t\t\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\t\t\t\t\tkey={borderStyle.value}\n\t\t\t\t\t\t\t\t\t\tlabel={borderStyle.label}\n\t\t\t\t\t\t\t\t\t\tvalue={borderStyle.value}\n\t\t\t\t\t\t\t\t\t\ticon={borderStyle.icon}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<VStack spacing={1}>\n\t\t\t\t\t\t\t{SIDE_CONTROLS.map((item) => (\n\t\t\t\t\t\t\t\t<HStack\n\t\t\t\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\t\t\t\tjustify=\"start\"\n\t\t\t\t\t\t\t\t\tkey={item.value}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{hasIndicator && (\n\t\t\t\t\t\t\t\t\t\t<SideIndicatorControl\n\t\t\t\t\t\t\t\t\t\t\tsides={[item.value]}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\t\t\t\tlabel={item.label}\n\t\t\t\t\t\t\t\t\t\tvalue={values[item.value as ValuesKey]}\n\t\t\t\t\t\t\t\t\t\tisDeselectable\n\t\t\t\t\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\t\t\t\t\thandleOnClick(\n\t\t\t\t\t\t\t\t\t\t\t\tvalue,\n\t\t\t\t\t\t\t\t\t\t\t\titem.value as ValuesKey\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{BORDER_STYLE_CONTROLS.map(\n\t\t\t\t\t\t\t\t\t\t\t(borderStyle) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={borderStyle.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={borderStyle.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={borderStyle.value}\n\t\t\t\t\t\t\t\t\t\t\t\t\ticon={borderStyle.icon}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t)}\n\t\t\t\t\t{allowSides && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tlabel={linkedLabel}\n\t\t\t\t\t\t\tonClick={toggleLinked}\n\t\t\t\t\t\t\ticon={isLinked ? link : linkOff}\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tstyle={{ marginTop: '6px' }}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</BaseControl>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport type { Property } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { link, linkOff } from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n\t__experimentalGrid as Grid,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalText as Text,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal Dependencies\n */\nimport {\n\tBORDER_WIDTH_UNITS,\n\tMAX_BORDER_WIDTH,\n\tSIDE_CONTROLS,\n} from '../constants';\nimport { parseUnit, sanitizeUnitValue } from '../utils/helper';\nimport { SideIndicatorControl } from './indicator-control';\nimport type { SideValue } from '../block-attributes';\n\nconst DEFAULT_VALUES = {\n\ttop: '',\n\tright: '',\n\tbottom: '',\n\tleft: '',\n};\n\ntype Props = {\n\tlabel: string;\n\thelp?: string;\n\tonChange: (event: any) => void;\n\tvalues: {\n\t\ttop?: Property.BorderTopWidth;\n\t\tright?: Property.BorderRightWidth;\n\t\tbottom?: Property.BorderBottomWidth;\n\t\tleft?: Property.BorderLeftWidth;\n\t};\n\tallowSides?: boolean;\n\thasIndicator?: boolean;\n};\n\ntype ValuesKey = keyof typeof DEFAULT_VALUES;\ntype MaxBorderWidthKey = keyof typeof MAX_BORDER_WIDTH;\n\nexport default function BorderWidthControl({\n\tlabel = __('Border width', 'flexible-table-block'),\n\thelp,\n\tonChange,\n\tvalues: valuesProp,\n\tallowSides = true,\n\thasIndicator = true,\n}: Props) {\n\tconst values = {\n\t\t...DEFAULT_VALUES,\n\t\t...valuesProp,\n\t};\n\tconst instanceId = useInstanceId(\n\t\tBorderWidthControl,\n\t\t'ftb-border-width-control'\n\t);\n\tconst headingId = `${instanceId}-heading`;\n\n\tconst isMixed =\n\t\tallowSides &&\n\t\t!(\n\t\t\tvalues.top === values.right &&\n\t\t\tvalues.top === values.bottom &&\n\t\t\tvalues.top === values.left\n\t\t);\n\n\tconst borderWidthUnits = useCustomUnits({\n\t\tavailableUnits: BORDER_WIDTH_UNITS,\n\t});\n\n\tconst [isLinked, setIsLinked] = useState<boolean>(true);\n\tconst [side, setSide] = useState<SideValue | undefined>(undefined);\n\n\tconst linkedLabel: string = isLinked\n\t\t? __('Unlink sides', 'flexible-table-block')\n\t\t: __('Link sides', 'flexible-table-block');\n\n\tconst allInputPlaceholder: string = isMixed\n\t\t? __('Mixed', 'flexible-table-block')\n\t\t: '';\n\tconst allInputValue: string | 0 = isMixed ? '' : values.top;\n\n\tconst toggleLinked = () => {\n\t\tsetIsLinked(!isLinked);\n\t\tsetSide(undefined);\n\t};\n\n\tconst handleOnReset = () => {\n\t\tsetIsLinked(true);\n\t\tsetSide(undefined);\n\t\tonChange(DEFAULT_VALUES);\n\t};\n\n\tconst handleOnFocus = (focusSide: SideValue) => setSide(focusSide);\n\n\tconst handleOnChangeAll = (inputValue: string | undefined) => {\n\t\tif (inputValue) {\n\t\t\tconst [, unit] = parseUnit(inputValue);\n\t\t\tconst sanitizedValue = sanitizeUnitValue(inputValue, {\n\t\t\t\tmaxNum: MAX_BORDER_WIDTH[unit as MaxBorderWidthKey],\n\t\t\t});\n\t\t\tonChange({\n\t\t\t\ttop: sanitizedValue,\n\t\t\t\tright: sanitizedValue,\n\t\t\t\tbottom: sanitizedValue,\n\t\t\t\tleft: sanitizedValue,\n\t\t\t});\n\t\t} else {\n\t\t\tonChange({\n\t\t\t\ttop: undefined,\n\t\t\t\tright: undefined,\n\t\t\t\tbottom: undefined,\n\t\t\t\tleft: undefined,\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleOnChange = (\n\t\tinputValue: string | undefined,\n\t\ttargetSide: SideValue\n\t) => {\n\t\tif (inputValue) {\n\t\t\tconst [, unit] = parseUnit(inputValue);\n\t\t\tconst sanitizedValue = sanitizeUnitValue(inputValue, {\n\t\t\t\tmaxNum: MAX_BORDER_WIDTH[unit as MaxBorderWidthKey],\n\t\t\t});\n\t\t\tonChange({\n\t\t\t\t...values,\n\t\t\t\t[targetSide]: sanitizedValue,\n\t\t\t});\n\t\t} else {\n\t\t\tonChange({\n\t\t\t\t...values,\n\t\t\t\t[targetSide]: undefined,\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName=\"ftb-border-width-control\"\n\t\t\thelp={help}\n\t\t\t__nextHasNoMarginBottom\n\t\t>\n\t\t\t<VStack aria-labelledby={headingId} role=\"group\">\n\t\t\t\t<Flex>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tid={headingId}\n\t\t\t\t\t\tupperCase\n\t\t\t\t\t\tsize=\"11\"\n\t\t\t\t\t\tweight=\"500\"\n\t\t\t\t\t\tas={FlexBlock}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleOnReset}\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__('Reset', 'flexible-table-block')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t\t<HStack\n\t\t\t\t\talignment=\"center\"\n\t\t\t\t\tjustify=\"space-between\"\n\t\t\t\t\tstyle={{ minHeight: '40px' }}\n\t\t\t\t>\n\t\t\t\t\t<HStack justify=\"start\">\n\t\t\t\t\t\t{hasIndicator && (\n\t\t\t\t\t\t\t<SideIndicatorControl\n\t\t\t\t\t\t\t\tsides={side === undefined ? undefined : [side]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{(isLinked || !allowSides) && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\t\t\taria-label={__(\n\t\t\t\t\t\t\t\t\t\t'All',\n\t\t\t\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tvalue={allInputValue}\n\t\t\t\t\t\t\t\t\tunits={borderWidthUnits}\n\t\t\t\t\t\t\t\t\tplaceholder={allInputPlaceholder}\n\t\t\t\t\t\t\t\t\tonChange={handleOnChangeAll}\n\t\t\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\t\t\t__unstableInputWidth=\"100px\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</HStack>\n\t\t\t\t\t{allowSides && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tlabel={linkedLabel}\n\t\t\t\t\t\t\ticon={isLinked ? link : linkOff}\n\t\t\t\t\t\t\tonClick={toggleLinked}\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</HStack>\n\t\t\t\t{!isLinked && allowSides && (\n\t\t\t\t\t<Grid gap={2} columns={2} rows={3}>\n\t\t\t\t\t\t{SIDE_CONTROLS.map((item) => {\n\t\t\t\t\t\t\tconst gridStyles = (value: SideValue) => {\n\t\t\t\t\t\t\t\tif (value === 'top' || value === 'bottom') {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tgridColumn: 'span 2',\n\t\t\t\t\t\t\t\t\t\tmargin: '0 auto',\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (value === 'right') {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tgridColumn: 2,\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'flex-end',\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn { gridRow: 2 };\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={item.value}\n\t\t\t\t\t\t\t\t\tstyle={gridStyles(item.value)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\t\t\t\taria-label={item.label}\n\t\t\t\t\t\t\t\t\t\tvalue={values[item.value as ValuesKey]}\n\t\t\t\t\t\t\t\t\t\tunits={borderWidthUnits}\n\t\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\t\thandleOnFocus(item.value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\t\t\t\t\thandleOnChange(value, item.value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\t\t\t\t__unstableInputWidth=\"100px\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</VStack>\n\t\t</BaseControl>\n\t);\n}\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { link, linkOff } from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalText as Text,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal Dependencies\n */\nimport {\n\tBORDER_SPACING_UNITS,\n\tMAX_BORDER_SPACING,\n\tDIRECTION_CONTROLS,\n} from '../constants';\nimport { DirectionIndicatorControl } from './indicator-control';\nimport { parseUnit, sanitizeUnitValue } from '../utils/helper';\nimport type { DirectionValue } from '../block-attributes';\n\nconst DEFAULT_VALUES = {\n\thorizontal: '',\n\tvertical: '',\n};\n\ntype Props = {\n\tlabel: string;\n\thelp?: string;\n\tonChange: (event: any) => void;\n\tvalues: typeof DEFAULT_VALUES;\n};\n\ntype ValuesKey = keyof typeof DEFAULT_VALUES;\ntype MaxBorderSpacingKey = keyof typeof MAX_BORDER_SPACING;\n\nexport default function BorderSpacingControl({\n\tlabel = __('Border spacing', 'flexible-table-block'),\n\thelp,\n\tonChange,\n\tvalues: valuesProp,\n}: Props) {\n\tconst values = {\n\t\t...DEFAULT_VALUES,\n\t\t...valuesProp,\n\t};\n\tconst instanceId = useInstanceId(\n\t\tBorderSpacingControl,\n\t\t'ftb-border-spacing-control'\n\t);\n\tconst headingId = `${instanceId}-heading`;\n\n\tconst isMixed = !(values.horizontal === values.vertical);\n\n\tconst borderSpacingUnits = useCustomUnits({\n\t\tavailableUnits: BORDER_SPACING_UNITS,\n\t});\n\n\tconst [isLinked, setIsLinked] = useState<boolean>(true);\n\n\tconst linkedLabel: string = isLinked\n\t\t? __('Unlink directions', 'flexible-table-block')\n\t\t: __('Link directions', 'flexible-table-block');\n\n\tconst allInputPlaceholder: string = isMixed\n\t\t? __('Mixed', 'flexible-table-block')\n\t\t: '';\n\tconst allInputValue: string | 0 = isMixed ? '' : values.horizontal;\n\n\tconst toggleLinked = () => {\n\t\tsetIsLinked(!isLinked);\n\t};\n\n\tconst handleOnReset = () => {\n\t\tsetIsLinked(true);\n\t\tonChange(DEFAULT_VALUES);\n\t};\n\n\tconst handleOnChangeAll = (inputValue: string | undefined) => {\n\t\tif (inputValue) {\n\t\t\tconst [, unit] = parseUnit(inputValue);\n\t\t\tconst sanitizedValue = sanitizeUnitValue(inputValue, {\n\t\t\t\tmaxNum: MAX_BORDER_SPACING[unit as MaxBorderSpacingKey],\n\t\t\t});\n\n\t\t\tonChange({\n\t\t\t\thorizontal: sanitizedValue,\n\t\t\t\tvertical: sanitizedValue,\n\t\t\t});\n\t\t} else {\n\t\t\tonChange({\n\t\t\t\thorizontal: undefined,\n\t\t\t\tvertical: undefined,\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleOnChange = (\n\t\tinputValue: string | undefined,\n\t\ttargetDirection: DirectionValue\n\t) => {\n\t\tif (inputValue) {\n\t\t\tconst [, unit] = parseUnit(inputValue);\n\t\t\tconst sanitizedValue = sanitizeUnitValue(inputValue, {\n\t\t\t\tmaxNum: MAX_BORDER_SPACING[unit as MaxBorderSpacingKey],\n\t\t\t});\n\n\t\t\tonChange({\n\t\t\t\t...values,\n\t\t\t\t[targetDirection]: sanitizedValue,\n\t\t\t});\n\t\t} else {\n\t\t\tonChange({\n\t\t\t\t...values,\n\t\t\t\t[targetDirection]: undefined,\n\t\t\t});\n\t\t}\n\t};\n\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName=\"ftb-border-spacing-control\"\n\t\t\thelp={help}\n\t\t\t__nextHasNoMarginBottom\n\t\t>\n\t\t\t<VStack aria-labelledby={headingId} role=\"group\">\n\t\t\t\t<Flex>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tid={headingId}\n\t\t\t\t\t\tupperCase\n\t\t\t\t\t\tsize=\"11\"\n\t\t\t\t\t\tweight=\"500\"\n\t\t\t\t\t\tas={FlexBlock}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleOnReset}\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__('Reset', 'flexible-table-block')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t\t<HStack alignment=\"start\" justify=\"space-between\">\n\t\t\t\t\t{isLinked ? (\n\t\t\t\t\t\t<HStack justify=\"start\">\n\t\t\t\t\t\t\t<DirectionIndicatorControl />\n\t\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\t\taria-label={__('All', 'flexible-table-block')}\n\t\t\t\t\t\t\t\tvalue={allInputValue}\n\t\t\t\t\t\t\t\tunits={borderSpacingUnits}\n\t\t\t\t\t\t\t\tplaceholder={allInputPlaceholder}\n\t\t\t\t\t\t\t\tonChange={handleOnChangeAll}\n\t\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\t\t__unstableInputWidth=\"100px\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</HStack>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<VStack spacing={1}>\n\t\t\t\t\t\t\t{DIRECTION_CONTROLS.map((item) => (\n\t\t\t\t\t\t\t\t<HStack justify=\"start\" key={item.value}>\n\t\t\t\t\t\t\t\t\t<DirectionIndicatorControl\n\t\t\t\t\t\t\t\t\t\tdirections={[item.value]}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\t\t\t\tkey={item.value}\n\t\t\t\t\t\t\t\t\t\taria-label={item.label}\n\t\t\t\t\t\t\t\t\t\tvalue={values[item.value as ValuesKey]}\n\t\t\t\t\t\t\t\t\t\tunits={borderSpacingUnits}\n\t\t\t\t\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\t\t\t\t\thandleOnChange(value, item.value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\t\t\t\t__unstableInputWidth=\"100px\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</HStack>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t)}\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlabel={linkedLabel}\n\t\t\t\t\t\ticon={isLinked ? link : linkOff}\n\t\t\t\t\t\tonClick={toggleLinked}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tstyle={{ marginTop: '8px' }}\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</BaseControl>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport type { Property } from 'csstype';\nimport type { ReactElement } from 'react';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport { useState } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n\tPopover,\n\tColorPalette,\n\t__experimentalVStack as VStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal Dependencies\n */\nimport ColorIndicatorButton from './color-indicator-button';\n\ntype Props = {\n\tlabel: string | ReactElement;\n\thelp?: string;\n\tonChange: (event: any) => void;\n\tcolors?: {\n\t\tname: string;\n\t\tslug: string;\n\t\tcolor: Property.Color;\n\t}[];\n\tvalue: Property.Color | undefined;\n};\n\nexport default function ColorControl({\n\tlabel = __('Color', 'flexible-table-block'),\n\thelp,\n\tonChange,\n\tcolors: colorsProp = [],\n\tvalue,\n}: Props) {\n\tconst instanceId = useInstanceId(ColorControl, 'ftb-color-control');\n\tconst headingId = `${instanceId}-heading`;\n\n\tconst colors = useSelect((select) => {\n\t\tconst settings = select(\n\t\t\tblockEditorStore\n\t\t\t// @ts-ignore\n\t\t).getSettings();\n\t\treturn settings?.colors ?? [];\n\t}, []);\n\n\tconst [isPickerOpen, setIsPickerOpen] = useState<boolean>(false);\n\n\tconst handleOnReset = () => onChange(undefined);\n\n\tconst handleOnChange = (inputValue: Property.Color | undefined) =>\n\t\tonChange(inputValue);\n\n\tconst handleOnPickerOpen = () => setIsPickerOpen(true);\n\n\tconst handleOnPickerClose = () => setIsPickerOpen(false);\n\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName=\"ftb-color-control\"\n\t\t\thelp={help}\n\t\t\t__nextHasNoMarginBottom\n\t\t>\n\t\t\t<VStack aria-labelledby={headingId} role=\"group\">\n\t\t\t\t<Flex>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tid={headingId}\n\t\t\t\t\t\tupperCase\n\t\t\t\t\t\tsize=\"11\"\n\t\t\t\t\t\tweight=\"500\"\n\t\t\t\t\t\tas={FlexBlock}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleOnReset}\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__('Reset', 'flexible-table-block')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t\t<ColorIndicatorButton\n\t\t\t\t\tlabel={__('Color', 'flexible-table-block')}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonClick={handleOnPickerOpen}\n\t\t\t\t\tisNone={!value}\n\t\t\t\t\tisTransparent={value === 'transparent'}\n\t\t\t\t/>\n\t\t\t</VStack>\n\t\t\t{isPickerOpen && (\n\t\t\t\t<Popover\n\t\t\t\t\tplacement=\"left-start\"\n\t\t\t\t\tshift\n\t\t\t\t\toffset={36}\n\t\t\t\t\tonClose={handleOnPickerClose}\n\t\t\t\t>\n\t\t\t\t\t<Spacer padding={4} marginBottom={0}>\n\t\t\t\t\t\t<ColorPalette\n\t\t\t\t\t\t\tcolors={[...colors, ...colorsProp]}\n\t\t\t\t\t\t\tvalue={value || ''}\n\t\t\t\t\t\t\tonChange={handleOnChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Spacer>\n\t\t\t\t</Popover>\n\t\t\t)}\n\t\t</BaseControl>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport type { Property } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { link, linkOff } from '@wordpress/icons';\nimport { useState } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n\t__experimentalGrid as Grid,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalText as Text,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n} from '@wordpress/components';\nimport { useInstanceId } from '@wordpress/compose';\n\n/**\n * Internal Dependencies\n */\nimport { PADDING_UNITS, SIDE_CONTROLS } from '../constants';\nimport { sanitizeUnitValue } from '../utils/helper';\nimport { SideIndicatorControl } from './indicator-control';\nimport type { SideValue } from '../block-attributes';\n\nconst DEFAULT_VALUES = {\n\ttop: '',\n\tright: '',\n\tbottom: '',\n\tleft: '',\n};\n\ntype Props = {\n\tlabel: string;\n\thelp?: string;\n\tonChange: (event: any) => void;\n\tvalues: {\n\t\ttop?: Property.PaddingTop;\n\t\tright?: Property.PaddingRight;\n\t\tbottom?: Property.PaddingBottom;\n\t\tleft?: Property.PaddingLeft;\n\t};\n};\n\ntype ValuesKey = keyof typeof DEFAULT_VALUES;\n\nexport default function PaddingControl({\n\tlabel = __('Padding', 'flexible-table-block'),\n\thelp,\n\tonChange,\n\tvalues: valuesProp,\n}: Props) {\n\tconst values = { ...DEFAULT_VALUES, ...valuesProp };\n\tconst instanceId = useInstanceId(PaddingControl, 'ftb-padding-control');\n\tconst headingId = `${instanceId}-heading`;\n\n\tconst isMixed = !(\n\t\tvalues.top === values.right &&\n\t\tvalues.top === values.bottom &&\n\t\tvalues.top === values.left\n\t);\n\n\tconst paddingUnits = useCustomUnits({ availableUnits: PADDING_UNITS });\n\n\tconst [isLinked, setIsLinked] = useState<boolean>(true);\n\tconst [side, setSide] = useState<SideValue | undefined>(undefined);\n\n\tconst linkedLabel: string = isLinked\n\t\t? __('Unlink sides', 'flexible-table-block')\n\t\t: __('Link sides', 'flexible-table-block');\n\n\tconst allInputPlaceholder: string = isMixed\n\t\t? __('Mixed', 'flexible-table-block')\n\t\t: '';\n\tconst allInputValue: string | 0 = isMixed ? '' : values.top;\n\n\tconst toggleLinked = () => {\n\t\tsetIsLinked(!isLinked);\n\t\tsetSide(undefined);\n\t};\n\n\tconst handleOnReset = () => {\n\t\tsetIsLinked(true);\n\t\tsetSide(undefined);\n\t\tonChange(DEFAULT_VALUES);\n\t};\n\n\tconst handleOnFocus = (focusSide: SideValue) => setSide(focusSide);\n\n\tconst handleOnChangeAll = (inputValue: string | undefined) => {\n\t\tconst sanitizedValue = sanitizeUnitValue(inputValue);\n\t\tonChange({\n\t\t\ttop: sanitizedValue,\n\t\t\tright: sanitizedValue,\n\t\t\tbottom: sanitizedValue,\n\t\t\tleft: sanitizedValue,\n\t\t});\n\t};\n\n\tconst handleOnChange = (\n\t\tinputValue: string | undefined,\n\t\ttargetSide: SideValue\n\t) => {\n\t\tonChange({\n\t\t\t...values,\n\t\t\t[targetSide]: sanitizeUnitValue(inputValue),\n\t\t});\n\t};\n\n\treturn (\n\t\t<BaseControl\n\t\t\tclassName=\"ftb-padding-control\"\n\t\t\thelp={help}\n\t\t\t__nextHasNoMarginBottom\n\t\t>\n\t\t\t<VStack aria-labelledby={headingId} role=\"group\">\n\t\t\t\t<Flex>\n\t\t\t\t\t<Text\n\t\t\t\t\t\tid={headingId}\n\t\t\t\t\t\tupperCase\n\t\t\t\t\t\tsize=\"11\"\n\t\t\t\t\t\tweight=\"500\"\n\t\t\t\t\t\tas={FlexBlock}\n\t\t\t\t\t>\n\t\t\t\t\t\t{label}\n\t\t\t\t\t</Text>\n\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\tonClick={handleOnReset}\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__('Reset', 'flexible-table-block')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</FlexItem>\n\t\t\t\t</Flex>\n\t\t\t\t<HStack\n\t\t\t\t\talignment=\"center\"\n\t\t\t\t\tjustify=\"space-between\"\n\t\t\t\t\tstyle={{ minHeight: '40px' }}\n\t\t\t\t>\n\t\t\t\t\t<HStack justify=\"start\">\n\t\t\t\t\t\t<SideIndicatorControl\n\t\t\t\t\t\t\tsides={side === undefined ? undefined : [side]}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{isLinked && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\t\t\tplaceholder={allInputPlaceholder}\n\t\t\t\t\t\t\t\t\taria-label={__(\n\t\t\t\t\t\t\t\t\t\t'All',\n\t\t\t\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tonChange={handleOnChangeAll}\n\t\t\t\t\t\t\t\t\tvalue={allInputValue}\n\t\t\t\t\t\t\t\t\tunits={paddingUnits}\n\t\t\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\t\t\t__unstableInputWidth=\"100px\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</HStack>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tlabel={linkedLabel}\n\t\t\t\t\t\tonClick={toggleLinked}\n\t\t\t\t\t\ticon={isLinked ? link : linkOff}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t\t{!isLinked && (\n\t\t\t\t\t<Grid gap={2} columns={2} rows={3}>\n\t\t\t\t\t\t{SIDE_CONTROLS.map((item) => {\n\t\t\t\t\t\t\tconst gridStyles = (value: SideValue) => {\n\t\t\t\t\t\t\t\tif (value === 'top' || value === 'bottom') {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tgridColumn: 'span 2',\n\t\t\t\t\t\t\t\t\t\tmargin: '0 auto',\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (value === 'right') {\n\t\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t\tgridColumn: 2,\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'flex-end',\n\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\treturn { gridRow: 2 };\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tkey={item.value}\n\t\t\t\t\t\t\t\t\tstyle={gridStyles(item.value)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<UnitControl\n\t\t\t\t\t\t\t\t\t\taria-label={item.label}\n\t\t\t\t\t\t\t\t\t\tvalue={values[item.value as ValuesKey]}\n\t\t\t\t\t\t\t\t\t\tunits={paddingUnits}\n\t\t\t\t\t\t\t\t\t\tonFocus={() =>\n\t\t\t\t\t\t\t\t\t\t\thandleOnFocus(item.value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\t\t\t\t\thandleOnChange(value, item.value)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\t\t\t\t__unstableInputWidth=\"100px\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</Grid>\n\t\t\t\t)}\n\t\t\t</VStack>\n\t\t</BaseControl>\n\t);\n}\n","/* eslint-disable max-len */\nimport { __ } from '@wordpress/i18n';\nimport { Modal, TextControl, Button } from '@wordpress/components';\nimport type { KeyboardEvent, RefObject } from 'react';\nimport { useKeyboardShortcut } from '@wordpress/compose';\n\n/**\n * @typedef {Object} GoToCellModalProps\n * @property {boolean}                     isOpen   - Whether the modal is open.\n * @property {string}                      value    - The value of the input.\n * @property {Function}                    onChange - The function to call when the input value changes.\n * @property {Function}                    onClose  - The function to call when the modal is closed.\n * @property {Function}                    onOpen   - The function to call when the modal is opened.\n * @property {Function}                    onGoTo   - The function to call when the user clicks the \"Go to Cell\" button.\n * @property {RefObject<HTMLInputElement>} inputRef - The ref to the input element.\n */\nexport type GoToCellModalProps = {\n\tisOpen: boolean;\n\tvalue: string;\n\tonChange: (value: string) => void;\n\tonClose: () => void;\n\tonOpen: () => void;\n\tonGoTo: (value: string) => void;\n\tinputRef: RefObject<HTMLInputElement>;\n};\n\nexport default function GoToCellModal({\n\tisOpen,\n\tvalue,\n\tonChange,\n\tonOpen,\n\tonClose,\n\tonGoTo,\n\tinputRef,\n}: GoToCellModalProps) {\n\t/**\n\t * Open the modal when the user presses the shortcut key.\n\t */\n\tuseKeyboardShortcut(\n\t\t'mod+g',\n\t\t(event: KeyboardEvent) => {\n\t\t\tevent.preventDefault();\n\t\t\tonOpen();\n\t\t\t// Focus the input on next tick after modal opens\n\t\t\tsetTimeout(() => {\n\t\t\t\tinputRef.current?.focus();\n\t\t\t}, 0);\n\t\t},\n\t\t{\n\t\t\tbindGlobal: true,\n\t\t}\n\t);\n\n\tif (!isOpen) return null;\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={__('Go to Cell', 'flexible-table-block')}\n\t\t\tonRequestClose={onClose}\n\t\t\tclassName=\"ftb-goto-cell-modal\"\n\t\t>\n\t\t\t<div className=\"ftb-goto-cell-modal__content\">\n\t\t\t\t<p>\n\t\t\t\t\t{__(\n\t\t\t\t\t\t'Enter the cell coordinates in row:column format (e.g., \"1:1\" for first cell)',\n\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t)}\n\t\t\t\t</p>\n\t\t\t\t<TextControl\n\t\t\t\t\tref={inputRef}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\tonChange={onChange}\n\t\t\t\t\tplaceholder=\"row:column\"\n\t\t\t\t\tonKeyDown={(event: KeyboardEvent<HTMLInputElement>) => {\n\t\t\t\t\t\tif (event.key === 'Enter') {\n\t\t\t\t\t\t\tonGoTo(value);\n\t\t\t\t\t\t} else if (event.key === 'Escape') {\n\t\t\t\t\t\t\tonClose();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div className=\"ftb-goto-cell-modal__buttons\">\n\t\t\t\t\t<Button variant=\"primary\" onClick={() => onGoTo(value)}>\n\t\t\t\t\t\t{__('Go to Cell', 'flexible-table-block')}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<Button variant=\"secondary\" onClick={onClose}>\n\t\t\t\t\t\t{__('Cancel', 'flexible-table-block')}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport type { Properties } from 'csstype';\n\n/**\n * Convert inline CSS styles to object.\n *\n * @param inlineStyles Inline CSS styles.\n * @return CSS styles object.\n */\nexport function convertToObject(inlineStyles: string | undefined): Properties {\n\tif (!inlineStyles) {\n\t\treturn {};\n\t}\n\n\treturn inlineStyles\n\t\t.split(';')\n\t\t.filter((style) => style.split(':')[0] && style.split(':')[1])\n\t\t.map((style) => [\n\t\t\tstyle\n\t\t\t\t.split(':')[0]\n\t\t\t\t.trim()\n\t\t\t\t.replace(/-./g, (c) => c.substr(1).toUpperCase()),\n\t\t\tstyle.split(':')[1].trim(),\n\t\t])\n\t\t.reduce(\n\t\t\t(styleObj, style) => ({\n\t\t\t\t...styleObj,\n\t\t\t\t[style[0]]: style[1],\n\t\t\t}),\n\t\t\t{}\n\t\t);\n}\n\n/**\n * Convert CSS styles object to Inline CSS styles.\n *\n * @param stylesObj CSS styles object.\n * @return Inline CSS styles\n */\nexport function convertToInline(stylesObj: Properties): string {\n\tconst lines: string[] = Object.keys(stylesObj).reduce<string[]>(\n\t\t(result: string[], key: string) => {\n\t\t\tconst property = key\n\t\t\t\t.replace(/([a-z])([A-Z])/g, '$1-$2')\n\t\t\t\t.toLowerCase();\n\t\t\tconst value = stylesObj[key as keyof Properties];\n\n\t\t\tif (\n\t\t\t\tvalue !== undefined &&\n\t\t\t\t(typeof value === 'string' || value === 0)\n\t\t\t) {\n\t\t\t\tresult.push(`${property}:${value};`);\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t[] as string[]\n\t);\n\n\treturn lines.join('');\n}\n","/**\n * External Dependencies\n */\nimport type { Properties } from 'csstype';\n\n/**\n * Internal Dependencies\n */\nimport { cleanEmptyObject, sanitizeUnitValue } from './helper';\nimport type { CornerProps, DirectionProps } from './style-picker';\n\nfunction getCssPropertyWithFourDirection(\n\tproperty: keyof Properties,\n\ttop: string,\n\tright: string,\n\tbottom: string,\n\tleft: string\n): Properties {\n\tif (top === right && top === bottom && top === left) {\n\t\treturn {\n\t\t\t[property]: top,\n\t\t};\n\t}\n\n\tif (top === bottom && left === right) {\n\t\treturn {\n\t\t\t[property]: `${top} ${left}`,\n\t\t};\n\t}\n\n\tif (left === right) {\n\t\treturn {\n\t\t\t[property]: `${top} ${left} ${bottom}`,\n\t\t};\n\t}\n\n\treturn {\n\t\t[property]: `${top} ${right} ${bottom} ${left}`,\n\t};\n}\n\n/**\n * Update padding style of styles object.\n *\n * @param styles Styles object.\n * @param values padding values object.\n * @return  New Styles object.\n */\nexport function updatePadding(\n\tstyles: Properties,\n\tvalues: Partial<DirectionProps> | undefined\n): Properties {\n\tif (!values) {\n\t\treturn styles;\n\t}\n\n\tconst top = values.top ? sanitizeUnitValue(values.top) : undefined;\n\tconst right = values.right ? sanitizeUnitValue(values.right) : undefined;\n\tconst bottom = values.bottom ? sanitizeUnitValue(values.bottom) : undefined;\n\tconst left = values.left ? sanitizeUnitValue(values.left) : undefined;\n\n\tconst {\n\t\tpadding,\n\t\tpaddingTop,\n\t\tpaddingRight,\n\t\tpaddingBottom,\n\t\tpaddingLeft,\n\t\t...newStyles\n\t} = styles;\n\n\tif (!top || !right || !bottom || !left) {\n\t\treturn {\n\t\t\t...newStyles,\n\t\t\t...cleanEmptyObject({\n\t\t\t\tpaddingTop: top,\n\t\t\t\tpaddingRight: right,\n\t\t\t\tpaddingBottom: bottom,\n\t\t\t\tpaddingLeft: left,\n\t\t\t}),\n\t\t};\n\t}\n\n\treturn {\n\t\t...newStyles,\n\t\t...getCssPropertyWithFourDirection('padding', top, right, bottom, left),\n\t};\n}\n\n/**\n * Update border-width style of styles object.\n *\n * @param styles Styles object.\n * @param values border-width values object.\n * @return  New Styles object.\n */\nexport function updateBorderWidth(\n\tstyles: Properties,\n\tvalues: Partial<DirectionProps> | undefined\n): Properties {\n\tif (!values) {\n\t\treturn styles;\n\t}\n\n\tconst top = values.top ? sanitizeUnitValue(values.top) : undefined;\n\tconst right = values.right ? sanitizeUnitValue(values.right) : undefined;\n\tconst bottom = values.bottom ? sanitizeUnitValue(values.bottom) : undefined;\n\tconst left = values.left ? sanitizeUnitValue(values.left) : undefined;\n\n\tconst {\n\t\tborderWidth,\n\t\tborderTopWidth,\n\t\tborderRightWidth,\n\t\tborderBottomWidth,\n\t\tborderLeftWidth,\n\t\t...newStyles\n\t} = styles;\n\n\tif (!top || !right || !bottom || !left) {\n\t\treturn {\n\t\t\t...newStyles,\n\t\t\t...cleanEmptyObject({\n\t\t\t\tborderTopWidth: top,\n\t\t\t\tborderRightWidth: right,\n\t\t\t\tborderBottomWidth: bottom,\n\t\t\t\tborderLeftWidth: left,\n\t\t\t}),\n\t\t};\n\t}\n\n\treturn {\n\t\t...newStyles,\n\t\t...getCssPropertyWithFourDirection(\n\t\t\t'borderWidth',\n\t\t\ttop,\n\t\t\tright,\n\t\t\tbottom,\n\t\t\tleft\n\t\t),\n\t};\n}\n\n/**\n * Update border-style style of styles object.\n *\n * @param styles Styles object.\n * @param values border-style values object.\n * @return New Styles object.\n */\nexport function updateBorderStyle(\n\tstyles: Properties,\n\tvalues: Partial<DirectionProps> | undefined\n): Properties {\n\tif (!values) {\n\t\treturn styles;\n\t}\n\n\tconst top = values.top ?? undefined;\n\tconst right = values.right ?? undefined;\n\tconst bottom = values.bottom ?? undefined;\n\tconst left = values.left ?? undefined;\n\n\tconst {\n\t\tborderStyle,\n\t\tborderTopStyle,\n\t\tborderRightStyle,\n\t\tborderBottomStyle,\n\t\tborderLeftStyle,\n\t\t...newStyles\n\t} = styles;\n\n\tif (!top || !right || !bottom || !left) {\n\t\treturn {\n\t\t\t...newStyles,\n\t\t\t...cleanEmptyObject({\n\t\t\t\tborderTopStyle: top,\n\t\t\t\tborderRightStyle: right,\n\t\t\t\tborderBottomStyle: bottom,\n\t\t\t\tborderLeftStyle: left,\n\t\t\t}),\n\t\t};\n\t}\n\n\treturn {\n\t\t...newStyles,\n\t\t...getCssPropertyWithFourDirection(\n\t\t\t'borderStyle',\n\t\t\ttop,\n\t\t\tright,\n\t\t\tbottom,\n\t\t\tleft\n\t\t),\n\t};\n}\n\n/**\n * Update border-color style of styles object.\n *\n * @param styles Styles object.\n * @param values border-color values object.\n * @return New Styles object.\n */\nexport function updateBorderColor(\n\tstyles: Properties,\n\tvalues: Partial<DirectionProps> | undefined\n): Properties {\n\tif (!values) {\n\t\treturn styles;\n\t}\n\n\tconst top = values.top ?? undefined;\n\tconst right = values.right ?? undefined;\n\tconst bottom = values.bottom ?? undefined;\n\tconst left = values.left ?? undefined;\n\n\tconst {\n\t\tborderColor,\n\t\tborderTopColor,\n\t\tborderRightColor,\n\t\tborderBottomColor,\n\t\tborderLeftColor,\n\t\t...newStyles\n\t} = styles;\n\n\tif (!top || !right || !bottom || !left) {\n\t\treturn {\n\t\t\t...newStyles,\n\t\t\t...cleanEmptyObject({\n\t\t\t\tborderTopColor: top,\n\t\t\t\tborderRightColor: right,\n\t\t\t\tborderBottomColor: bottom,\n\t\t\t\tborderLeftColor: left,\n\t\t\t}),\n\t\t};\n\t}\n\n\treturn {\n\t\t...newStyles,\n\t\t...getCssPropertyWithFourDirection(\n\t\t\t'borderColor',\n\t\t\ttop,\n\t\t\tright,\n\t\t\tbottom,\n\t\t\tleft\n\t\t),\n\t};\n}\n\n/**\n * Update border-spacing style of styles object.\n *\n * @param styles            Styles object.\n * @param values            border-spacing values object.\n * @param values.horizontal\n * @param values.vertical\n * @return New Styles object.\n */\nexport function updateBorderSpacing(\n\tstyles: Properties,\n\tvalues: { horizontal?: string; vertical?: string } | undefined\n): Properties {\n\tif (!values) {\n\t\treturn styles;\n\t}\n\n\tconst { borderSpacing, ...newStyles } = styles;\n\n\tconst horizontal = values.horizontal\n\t\t? sanitizeUnitValue(values.horizontal)\n\t\t: undefined;\n\tconst vertical = values.vertical\n\t\t? sanitizeUnitValue(values.vertical)\n\t\t: undefined;\n\n\tif (horizontal === undefined && vertical === undefined) {\n\t\treturn newStyles;\n\t}\n\tif (horizontal === vertical) {\n\t\treturn {\n\t\t\t...newStyles,\n\t\t\tborderSpacing: horizontal,\n\t\t};\n\t}\n\n\treturn {\n\t\t...newStyles,\n\t\tborderSpacing: `${horizontal} ${vertical}`,\n\t};\n}\n\n/**\n * Update border-radius style of styles object.\n *\n * @param styles Styles object.\n * @param values border-radius values object.\n * @return  New Styles object.\n */\nexport function updateBorderRadius(\n\tstyles: Properties,\n\tvalues: Partial<CornerProps> | undefined\n): Properties {\n\tif (!values) {\n\t\treturn styles;\n\t}\n\n\tconst topLeft = values?.topLeft\n\t\t? sanitizeUnitValue(values.topLeft)\n\t\t: undefined;\n\tconst topRight = values?.topRight\n\t\t? sanitizeUnitValue(values.topRight)\n\t\t: undefined;\n\tconst bottomRight = values?.bottomRight\n\t\t? sanitizeUnitValue(values.bottomRight)\n\t\t: undefined;\n\tconst bottomLeft = values?.bottomLeft\n\t\t? sanitizeUnitValue(values.bottomLeft)\n\t\t: undefined;\n\n\tconst {\n\t\tborderRadius,\n\t\tborderTopLeftRadius,\n\t\tborderTopRightRadius,\n\t\tborderBottomRightRadius,\n\t\tborderBottomLeftRadius,\n\t\t...newStyles\n\t} = styles;\n\n\tif (!topLeft || !topRight || !bottomRight || !bottomLeft) {\n\t\treturn {\n\t\t\t...newStyles,\n\t\t\t...cleanEmptyObject({\n\t\t\t\tborderTopLeftRadius: topLeft,\n\t\t\t\tborderTopRightRadius: topRight,\n\t\t\t\tborderBottomRightRadius: bottomRight,\n\t\t\t\tborderBottomLeftRadius: bottomLeft,\n\t\t\t}),\n\t\t};\n\t}\n\n\treturn {\n\t\t...newStyles,\n\t\t...getCssPropertyWithFourDirection(\n\t\t\t'borderRadius',\n\t\t\ttopLeft,\n\t\t\ttopRight,\n\t\t\tbottomRight,\n\t\t\tbottomLeft\n\t\t),\n\t};\n}\n","/* eslint-disable max-lines */\n/**\n * External Dependencies\n */\nimport type { Properties } from 'csstype';\n\n/**\n * Internal dependencies\n */\nimport { convertToInline, convertToObject } from './style-converter';\nimport {\n\tupdateBorderColor,\n\tupdateBorderRadius,\n\tupdateBorderStyle,\n\tupdateBorderWidth,\n\tupdatePadding,\n} from './style-updater';\nimport { toInteger } from './helper';\nimport type {\n\tCellTagValue,\n\tCellScopeValue,\n\tCell,\n\tRow,\n\tSectionName,\n\tTableAttributes,\n} from '../block-attributes';\n\n// Virtual table\nexport type VTable = Record<SectionName, VRow[]>;\n\n// Virtual table section type\ntype VSection = VRow[];\n\n// Virtual table row state\nexport interface VRow {\n\tcells: VCell[];\n}\n\n// Virtual table cell state\nexport interface VCell extends Omit<Cell, 'rowSpan' | 'colSpan'> {\n\trowSpan: number;\n\tcolSpan: number;\n\tsectionName: SectionName;\n\trowIndex: number;\n\tvColIndex: number;\n\tisHidden: boolean;\n\tisFirstSelected?: boolean;\n\tisFilled?: boolean;\n}\n\n// Virtual table selected line state\nexport type VSelectedLine =\n\t| { sectionName: SectionName; rowIndex: number }\n\t| { vColIndex: number }\n\t| undefined;\n\n// Virtual table selected cells state\nexport type VSelectedCells = VCell[] | undefined;\n\n// Minimum / maximum row / column virtual indexes on virtual table\ninterface VRangeIndexes {\n\tminRowIndex: number;\n\tmaxRowIndex: number;\n\tminColIndex: number;\n\tmaxColIndex: number;\n}\n\n/**\n * Creates a table state.\n *\n * @param options\n * @param options.rowCount      Row count for the table to create.\n * @param options.colCount      Column count for the table to create.\n * @param options.headerSection With/without header section.\n * @param options.footerSection With/without footer section.\n * @return New virtual table state.\n */\nexport function createTable({\n\trowCount,\n\tcolCount,\n\theaderSection,\n\tfooterSection,\n}: {\n\trowCount: number;\n\tcolCount: number;\n\theaderSection: boolean;\n\tfooterSection: boolean;\n}) {\n\tconst createSection = (\n\t\trows: number,\n\t\tcols: number,\n\t\tsectionName: SectionName\n\t): VSection => {\n\t\treturn Array.from({ length: rows }).map(\n\t\t\t(_row, rowIndex): VRow => ({\n\t\t\t\tcells: Array.from({ length: cols }).map(\n\t\t\t\t\t(_col, vColIndex): VCell => ({\n\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\ttag: sectionName === 'head' ? 'th' : 'td',\n\t\t\t\t\t\trowSpan: 1,\n\t\t\t\t\t\tcolSpan: 1,\n\t\t\t\t\t\tsectionName,\n\t\t\t\t\t\trowIndex,\n\t\t\t\t\t\tvColIndex,\n\t\t\t\t\t\tisFirstSelected: false,\n\t\t\t\t\t\tisHidden: false,\n\t\t\t\t\t})\n\t\t\t\t),\n\t\t\t})\n\t\t);\n\t};\n\n\treturn {\n\t\thead: createSection(Number(headerSection), colCount, 'head'),\n\t\tbody: createSection(rowCount, colCount, 'body'),\n\t\tfoot: createSection(Number(footerSection), colCount, 'foot'),\n\t};\n}\n\n/**\n * Inserts a row in the virtual table state.\n *\n * @param vTable              Virtual table in which to insert the row.\n * @param options\n * @param options.sectionName Section in which to insert the row.\n * @param options.rowIndex    Row index at which to insert the row.\n * @return  New virtual table state.\n */\n\nexport function insertRow(\n\tvTable: VTable,\n\t{ sectionName, rowIndex }: { sectionName: SectionName; rowIndex: number }\n): VTable {\n\t// Number of columns in the row to be inserted.\n\tconst newRowColCount: number = vTable.body[0].cells.length;\n\n\tconst vRows: VRow[] = toVirtualRows(vTable);\n\n\t// Row state to be inserted.\n\tconst newRow: VRow = {\n\t\tcells: Array.from({ length: newRowColCount }).map(\n\t\t\t(_, vColIndex): VCell => {\n\t\t\t\t// Find the cell with rowspan that covers the cell in the inserted row.\n\t\t\t\tconst rowSpanCells: VCell[] = vRows\n\t\t\t\t\t.reduce(\n\t\t\t\t\t\t(cells: VCell[], row) => cells.concat(row.cells),\n\t\t\t\t\t\t[]\n\t\t\t\t\t)\n\t\t\t\t\t.filter(\n\t\t\t\t\t\t(cell: VCell) =>\n\t\t\t\t\t\t\tcell.sectionName === sectionName &&\n\t\t\t\t\t\t\tcell.rowIndex < rowIndex &&\n\t\t\t\t\t\t\tcell.rowIndex + cell.rowSpan - 1 >= rowIndex &&\n\t\t\t\t\t\t\tcell.vColIndex <= vColIndex &&\n\t\t\t\t\t\t\tvColIndex <= cell.vColIndex + cell.colSpan - 1\n\t\t\t\t\t);\n\n\t\t\t\treturn {\n\t\t\t\t\tcontent: '',\n\t\t\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\n\t\t\t\t\trowSpan: 1,\n\t\t\t\t\tcolSpan: 1,\n\t\t\t\t\tsectionName,\n\t\t\t\t\trowIndex,\n\t\t\t\t\tvColIndex,\n\t\t\t\t\tisFirstSelected: false,\n\t\t\t\t\tisHidden: !!rowSpanCells.length,\n\t\t\t\t};\n\t\t\t}\n\t\t),\n\t};\n\n\treturn {\n\t\t...vTable,\n\t\t[sectionName]: [\n\t\t\t...vTable[sectionName].slice(0, rowIndex),\n\t\t\tnewRow,\n\t\t\t...vTable[sectionName].slice(rowIndex).map(({ cells }) => ({\n\t\t\t\tcells: cells.map((cell) => {\n\t\t\t\t\t// increment row index.\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...cell,\n\t\t\t\t\t\trowIndex: cell.rowIndex + 1,\n\t\t\t\t\t};\n\t\t\t\t}),\n\t\t\t})),\n\t\t].map(({ cells }, cRowIndex) => ({\n\t\t\tcells: cells.map((cell) => {\n\t\t\t\t// Expand cells with rowspan in the before and inserted rows.\n\t\t\t\tif (\n\t\t\t\t\tcell.sectionName === sectionName &&\n\t\t\t\t\tcell.rowSpan > 1 &&\n\t\t\t\t\tcRowIndex <= rowIndex &&\n\t\t\t\t\tcRowIndex + cell.rowSpan - 1 >= rowIndex\n\t\t\t\t) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...cell,\n\t\t\t\t\t\tsectionName,\n\t\t\t\t\t\trowIndex: cRowIndex,\n\t\t\t\t\t\trowSpan: cell.rowSpan + 1,\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\treturn cell;\n\t\t\t}),\n\t\t})),\n\t};\n}\n\n/**\n * Deletes a row from the virtual table.\n *\n * @param vTable              Virtual table in which to delete the row.\n * @param options\n * @param options.sectionName Section in which to delete the row.\n * @param options.rowIndex    Row index at which to delete the row.\n * @return  New virtual table state.\n */\nexport function deleteRow(\n\tvTable: VTable,\n\t{ sectionName, rowIndex }: { sectionName: SectionName; rowIndex: number }\n) {\n\t// Find the number of rowspan cells in the row to be deleted.\n\tconst rowSpanCellsCount: number = vTable[sectionName][\n\t\trowIndex\n\t].cells.filter((cell) => cell.rowSpan > 1).length;\n\n\t// Split the found rowspan cells.\n\tif (rowSpanCellsCount) {\n\t\tfor (let i = 0; i < rowSpanCellsCount; i++) {\n\t\t\tconst vMergedCells: VCell[] = vTable[sectionName]\n\t\t\t\t.reduce(\n\t\t\t\t\t(cells: VCell[], row: VRow) => cells.concat(row.cells),\n\t\t\t\t\t[]\n\t\t\t\t)\n\t\t\t\t.filter(\n\t\t\t\t\t(cell: VCell) =>\n\t\t\t\t\t\tcell.rowSpan > 1 && cell.rowIndex === rowIndex\n\t\t\t\t);\n\n\t\t\tif (vMergedCells.length) {\n\t\t\t\tvTable = splitMergedCell(vTable, vMergedCells[0]);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\t...vTable,\n\t\t[sectionName]: vTable[sectionName].reduce(\n\t\t\t(newRows: VRow[], row, cRowIndex) => {\n\t\t\t\tif (cRowIndex === rowIndex) {\n\t\t\t\t\treturn newRows;\n\t\t\t\t}\n\n\t\t\t\tnewRows.push({\n\t\t\t\t\tcells: row.cells.map((cell) => {\n\t\t\t\t\t\t// Contract cells with rowspan in the before rows.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tcell.rowSpan > 1 &&\n\t\t\t\t\t\t\tcRowIndex < rowIndex &&\n\t\t\t\t\t\t\tcRowIndex + cell.rowSpan - 1 >= rowIndex\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\t\trowSpan: cell.rowSpan - 1,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// decrement row index.\n\t\t\t\t\t\tif (cRowIndex > rowIndex) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\t\trowIndex: cell.rowIndex - 1,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn cell;\n\t\t\t\t\t}),\n\t\t\t\t});\n\t\t\t\treturn newRows;\n\t\t\t},\n\t\t\t[]\n\t\t),\n\t};\n}\n\n/**\n * Inserts a column in the virtual table.\n *\n * @param vTable            Virtual table in which to insert column.\n * @param options\n * @param options.vColIndex Virtual column index at which to insert column.\n * @return  New virtual table state.\n */\nexport function insertColumn(\n\tvTable: VTable,\n\t{ vColIndex }: { vColIndex: number }\n): VTable {\n\t// Whether to add a column after the last column.\n\tconst isLastColumnInsert: boolean =\n\t\tvTable.body[0].cells.length === vColIndex;\n\n\tconst vRows: VRow[] = toVirtualRows(vTable);\n\n\treturn Object.entries(vTable).reduce(\n\t\t(newVTable: VTable, [sectionName, section]) => {\n\t\t\tif (!section.length) {\n\t\t\t\treturn newVTable;\n\t\t\t}\n\t\t\tnewVTable[sectionName as SectionName] = section.map(\n\t\t\t\t({ cells }, cRowIndex) => ({\n\t\t\t\t\tcells: cells.reduce(\n\t\t\t\t\t\t(newCells: VCell[], cell, cVColIndex) => {\n\t\t\t\t\t\t\t// Expand cells with colspan in the before columns.\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tcell.colSpan > 1 &&\n\t\t\t\t\t\t\t\tcVColIndex < vColIndex &&\n\t\t\t\t\t\t\t\tcVColIndex + cell.colSpan - 1 >= vColIndex\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tnewCells.push({\n\t\t\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\t\t\tcolSpan: cell.colSpan + 1,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\treturn newCells;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Insert cell (after the last column).\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tisLastColumnInsert &&\n\t\t\t\t\t\t\t\tcVColIndex + 1 === vColIndex\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tnewCells.push(cell, {\n\t\t\t\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\t\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\n\t\t\t\t\t\t\t\t\trowSpan: 1,\n\t\t\t\t\t\t\t\t\tcolSpan: 1,\n\t\t\t\t\t\t\t\t\tsectionName: cell.sectionName,\n\t\t\t\t\t\t\t\t\trowIndex: cell.rowIndex,\n\t\t\t\t\t\t\t\t\tvColIndex: vColIndex + 1,\n\t\t\t\t\t\t\t\t\tisHidden: false,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\treturn newCells;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Insert cell (between columns).\n\t\t\t\t\t\t\tif (cVColIndex === vColIndex) {\n\t\t\t\t\t\t\t\t// Whether the cell to be inserted is a virtual cell filled with colSpan.\n\t\t\t\t\t\t\t\tconst colSpanCells: VCell[] = vRows\n\t\t\t\t\t\t\t\t\t.reduce(\n\t\t\t\t\t\t\t\t\t\t(colSpancells: VCell[], row) =>\n\t\t\t\t\t\t\t\t\t\t\tcolSpancells.concat(row.cells),\n\t\t\t\t\t\t\t\t\t\t[]\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t.filter(\n\t\t\t\t\t\t\t\t\t\t(colSpancell: VCell) =>\n\t\t\t\t\t\t\t\t\t\t\tcolSpancell.sectionName ===\n\t\t\t\t\t\t\t\t\t\t\t\tsectionName &&\n\t\t\t\t\t\t\t\t\t\t\tcolSpancell.colSpan > 1 &&\n\t\t\t\t\t\t\t\t\t\t\tcolSpancell.rowIndex <= cRowIndex &&\n\t\t\t\t\t\t\t\t\t\t\tcolSpancell.rowIndex +\n\t\t\t\t\t\t\t\t\t\t\t\tcolSpancell.rowSpan -\n\t\t\t\t\t\t\t\t\t\t\t\t1 >=\n\t\t\t\t\t\t\t\t\t\t\t\tcRowIndex &&\n\t\t\t\t\t\t\t\t\t\t\tcolSpancell.vColIndex < vColIndex &&\n\t\t\t\t\t\t\t\t\t\t\tvColIndex <=\n\t\t\t\t\t\t\t\t\t\t\t\tcolSpancell.vColIndex +\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolSpancell.colSpan -\n\t\t\t\t\t\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\tnewCells.push(\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\t\t\t\t\ttag:\n\t\t\t\t\t\t\t\t\t\t\t'head' === sectionName\n\t\t\t\t\t\t\t\t\t\t\t\t? 'th'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'td',\n\t\t\t\t\t\t\t\t\t\trowSpan: 1,\n\t\t\t\t\t\t\t\t\t\tcolSpan: 1,\n\t\t\t\t\t\t\t\t\t\tsectionName: cell.sectionName,\n\t\t\t\t\t\t\t\t\t\trowIndex: cell.rowIndex,\n\t\t\t\t\t\t\t\t\t\tvColIndex,\n\t\t\t\t\t\t\t\t\t\tisHidden: !!colSpanCells.length,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\t\t\t\tvColIndex: vColIndex + 1,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\treturn newCells;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// increment after column vCol index.\n\t\t\t\t\t\t\tif (vColIndex <= cVColIndex) {\n\t\t\t\t\t\t\t\tnewCells.push({\n\t\t\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\t\t\tvColIndex: cVColIndex + 1,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\treturn newCells;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tnewCells.push(cell);\n\t\t\t\t\t\t\treturn newCells;\n\t\t\t\t\t\t},\n\t\t\t\t\t\t[]\n\t\t\t\t\t),\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn newVTable;\n\t\t},\n\t\t{\n\t\t\thead: [],\n\t\t\tbody: [],\n\t\t\tfoot: [],\n\t\t}\n\t);\n}\n\n/**\n * Deletes a column from the virtual table.\n *\n * @param vTable            Virtual table in which to delete column.\n * @param options\n * @param options.vColIndex Virtual column index at which to delete column.\n * @return  New virtual table state.\n */\nexport function deleteColumn(\n\tvTable: VTable,\n\t{ vColIndex }: { vColIndex: number }\n): VTable {\n\t// Find the colspan cells in the column to be deleted.\n\tconst vRows: VRow[] = toVirtualRows(vTable);\n\n\tconst colSpanCells: VCell[] = vRows\n\t\t.reduce((cells: VCell[], row) => cells.concat(row.cells), [])\n\t\t.filter(\n\t\t\t(cell: VCell) => cell.colSpan > 1 && cell.vColIndex === vColIndex\n\t\t);\n\n\t// Split the found colspan cells.\n\tif (colSpanCells.length) {\n\t\tcolSpanCells.forEach(\n\t\t\t(cell) => (vTable = splitMergedCell(vTable, cell))\n\t\t);\n\t}\n\n\treturn Object.entries(vTable).reduce(\n\t\t(newVTable: VTable, [sectionName, section]) => {\n\t\t\tif (!section.length) {\n\t\t\t\treturn newVTable;\n\t\t\t}\n\t\t\tnewVTable[sectionName as SectionName] = section.map(\n\t\t\t\t({ cells }) => ({\n\t\t\t\t\tcells: cells.reduce((newCells: VCell[], cell) => {\n\t\t\t\t\t\t// Cells to be deleted.\n\t\t\t\t\t\tif (cell.vColIndex === vColIndex) {\n\t\t\t\t\t\t\treturn newCells;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Contract cells with colspan in the before columns.\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tcell.colSpan > 1 &&\n\t\t\t\t\t\t\tcell.vColIndex < vColIndex &&\n\t\t\t\t\t\t\tcell.vColIndex + cell.colSpan - 1 >= vColIndex\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tnewCells.push({\n\t\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\t\tcolSpan: cell.colSpan - 1,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn newCells;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// decrement vCol index.\n\t\t\t\t\t\tif (cell.vColIndex > vColIndex) {\n\t\t\t\t\t\t\tnewCells.push({\n\t\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\t\tvColIndex: cell.vColIndex - 1,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\treturn newCells;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnewCells.push(cell);\n\t\t\t\t\t\treturn newCells;\n\t\t\t\t\t}, []),\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn newVTable;\n\t\t},\n\t\t{\n\t\t\thead: [],\n\t\t\tbody: [],\n\t\t\tfoot: [],\n\t\t}\n\t);\n}\n\n/**\n * Merge cells in the virtual table.\n *\n * @param vTable         Current virtual table state.\n * @param selectedCells  Current selected cells.\n * @param isMergeContent Whether keep the contents of all cells when merging cells.\n * @return New virtual table state.\n */\nexport function mergeCells(\n\tvTable: VTable,\n\tselectedCells: VSelectedCells,\n\tisMergeContent: boolean\n): VTable {\n\tif (!selectedCells || !selectedCells.length) {\n\t\treturn vTable;\n\t}\n\n\tconst sectionName: SectionName = selectedCells[0]\n\t\t.sectionName as SectionName;\n\n\t// Create the minimum / maximum virtual indexes of the matrix from the selected cells.\n\tconst vRangeIndexes: VRangeIndexes = getVirtualRangeIndexes(selectedCells);\n\n\tconst { minRowIndex, maxRowIndex, minColIndex, maxColIndex } =\n\t\tvRangeIndexes;\n\n\t// Find the rowspan & colspan cells in selected cells.\n\tconst rowColSpanCellsCount: number = selectedCells.filter(\n\t\t({ rowSpan, colSpan }) => rowSpan > 1 || colSpan > 1\n\t).length;\n\n\t// Split the found rowspan & colspan cells before merge cell.\n\tif (rowColSpanCellsCount) {\n\t\tfor (let i = 0; i < rowColSpanCellsCount; i++) {\n\t\t\tconst vMergedCells: VCell[] = vTable[sectionName as SectionName]\n\t\t\t\t.reduce((cells: VCell[], row) => cells.concat(row.cells), [])\n\t\t\t\t.filter(\n\t\t\t\t\t(cell: VCell) =>\n\t\t\t\t\t\t(cell.rowSpan > 1 || cell.colSpan > 1) &&\n\t\t\t\t\t\tminRowIndex <= cell.rowIndex &&\n\t\t\t\t\t\tmaxRowIndex >= cell.rowIndex &&\n\t\t\t\t\t\tminColIndex <= cell.vColIndex &&\n\t\t\t\t\t\tmaxColIndex >= cell.vColIndex\n\t\t\t\t);\n\n\t\t\tif (vMergedCells.length) {\n\t\t\t\tvTable = splitMergedCell(vTable, vMergedCells[0]);\n\t\t\t}\n\t\t}\n\t}\n\n\t// Merge the contents of the cells to be merged.\n\tconst mergedCellsContent: string = vTable[sectionName as SectionName]\n\t\t.reduce((cells: VCell[], row: VRow) => cells.concat(row.cells), [])\n\t\t.reduce((result: string[], cell: VCell) => {\n\t\t\tif (\n\t\t\t\tcell.rowIndex >= minRowIndex &&\n\t\t\t\tcell.rowIndex <= maxRowIndex &&\n\t\t\t\tcell.vColIndex >= minColIndex &&\n\t\t\t\tcell.vColIndex <= maxColIndex &&\n\t\t\t\tcell.content\n\t\t\t) {\n\t\t\t\tresult.push(cell.content);\n\t\t\t}\n\t\t\treturn result;\n\t\t}, [])\n\t\t.join('<br>');\n\n\treturn {\n\t\t...vTable,\n\t\t[sectionName]: vTable[sectionName as SectionName].map(\n\t\t\t(row, rowIndex) => {\n\t\t\t\tif (rowIndex < minRowIndex || rowIndex > maxRowIndex) {\n\t\t\t\t\t// Row not to be merged.\n\t\t\t\t\treturn row;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tcells: row.cells.map((cell, vColIndex) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tvColIndex === minColIndex &&\n\t\t\t\t\t\t\trowIndex === minRowIndex\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t// Cell to merge.\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\t\trowSpan:\n\t\t\t\t\t\t\t\t\tMath.abs(maxRowIndex - minRowIndex) + 1,\n\t\t\t\t\t\t\t\tcolSpan:\n\t\t\t\t\t\t\t\t\tMath.abs(maxColIndex - minColIndex) + 1,\n\t\t\t\t\t\t\t\tcontent: isMergeContent\n\t\t\t\t\t\t\t\t\t? mergedCellsContent\n\t\t\t\t\t\t\t\t\t: cell.content,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Cells to be merged (Mark as deletion).\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\trowIndex >= minRowIndex &&\n\t\t\t\t\t\t\trowIndex <= maxRowIndex &&\n\t\t\t\t\t\t\tvColIndex >= minColIndex &&\n\t\t\t\t\t\t\tvColIndex <= maxColIndex\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\t\tisHidden: true,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Cells not to be merged.\n\t\t\t\t\t\treturn cell;\n\t\t\t\t\t}),\n\t\t\t\t};\n\t\t\t}\n\t\t),\n\t};\n}\n\n/**\n * Split selected cells in the virtual table state.\n *\n * @param vTable        Current virtual table state.\n * @param selectedCells Current selected cells.\n * @return  New virtual table state.\n */\nexport function splitMergedCells(\n\tvTable: VTable,\n\tselectedCells: VSelectedCells\n): VTable {\n\tif (!selectedCells) {\n\t\treturn vTable;\n\t}\n\t// Find the rowspan & colspan cells.\n\tconst rowColSpanCells: VCell[] = selectedCells.filter(\n\t\t({ rowSpan, colSpan }) => rowSpan > 1 || colSpan > 1\n\t);\n\n\t// Split the found rowspan & colspan cells.\n\tif (rowColSpanCells.length) {\n\t\trowColSpanCells.forEach((cell) => {\n\t\t\tvTable = splitMergedCell(vTable, cell);\n\t\t});\n\t}\n\n\treturn vTable;\n}\n\n/**\n * Split single cell in the virtual table state.\n *\n * @param vTable       Current virtual table state.\n * @param selectedCell Current selected cells.\n * @return New virtual table state.\n */\nexport function splitMergedCell(vTable: VTable, selectedCell: VCell): VTable {\n\tconst { sectionName, rowIndex, vColIndex, rowSpan, colSpan } = selectedCell;\n\n\tconst vSection: VSection = vTable[sectionName as SectionName];\n\n\t// Split the selected cells and map them on the virtual section.\n\tvSection[rowIndex].cells[vColIndex] = {\n\t\t...vSection[rowIndex].cells[vColIndex],\n\t\trowSpan: 1,\n\t\tcolSpan: 1,\n\t};\n\n\tif (colSpan > 1) {\n\t\tfor (let i = 1; i < colSpan; i++) {\n\t\t\tvSection[rowIndex].cells[vColIndex + i] = {\n\t\t\t\t...vSection[rowIndex].cells[vColIndex],\n\t\t\t\tcontent: '',\n\t\t\t\tvColIndex: vColIndex + i,\n\t\t\t\tisHidden: false,\n\t\t\t};\n\t\t}\n\t}\n\n\tif (rowSpan > 1) {\n\t\tfor (let i = 1; i < rowSpan; i++) {\n\t\t\tvSection[rowIndex + i].cells[vColIndex] = {\n\t\t\t\t...vSection[rowIndex].cells[vColIndex],\n\t\t\t\tcontent: '',\n\t\t\t\trowIndex: rowIndex + i,\n\t\t\t\tisHidden: false,\n\t\t\t};\n\n\t\t\tif (colSpan > 1) {\n\t\t\t\tfor (let j = 1; j < colSpan; j++) {\n\t\t\t\t\tvSection[rowIndex + i].cells[vColIndex + j] = {\n\t\t\t\t\t\t...vSection[rowIndex].cells[vColIndex],\n\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\trowIndex: rowIndex + i,\n\t\t\t\t\t\tvColIndex: vColIndex + i,\n\t\t\t\t\t\tisHidden: false,\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn {\n\t\t...vTable,\n\t\t[sectionName]: vSection,\n\t};\n}\n\n/**\n * Update cells state( styles, tag ) of selected section.\n *\n * @param vTable              Current virtual table state.\n * @param cellState           Cell states to update.\n * @param cellState.styles    Cell styles.\n * @param cellState.tag       Cell tag.\n * @param cellState.className Cell classes.\n * @param cellState.id        Cell id.\n * @param cellState.headers   Cell headers attribute.\n * @param cellState.scope     Cell scope attribute.\n * @param selectedCells       Current selected cells.\n * @return  New virtual table state.\n */\nexport function updateCells(\n\tvTable: VTable,\n\tcellState: {\n\t\tstyles?: any;\n\t\ttag?: CellTagValue;\n\t\tclassName?: string;\n\t\tid?: string;\n\t\theaders?: string;\n\t\tscope?: CellScopeValue;\n\t},\n\tselectedCells: VCell[]\n): VTable {\n\treturn Object.entries(vTable).reduce(\n\t\t(newVTable: VTable, [sectionName, section]) => {\n\t\t\tif (!section.length) {\n\t\t\t\treturn newVTable;\n\t\t\t}\n\t\t\tnewVTable[sectionName as SectionName] = section.map(\n\t\t\t\t({ cells }, cRowIndex) => ({\n\t\t\t\t\tcells: cells.map((cell, cVColIndex) => {\n\t\t\t\t\t\t// Refer to the selected cell to determine if it is the target cell to update.\n\t\t\t\t\t\tconst isTargetCell: boolean = selectedCells.some(\n\t\t\t\t\t\t\t(targetCell) =>\n\t\t\t\t\t\t\t\ttargetCell.sectionName === sectionName &&\n\t\t\t\t\t\t\t\ttargetCell.rowIndex === cRowIndex &&\n\t\t\t\t\t\t\t\ttargetCell.vColIndex === cVColIndex\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (!isTargetCell) {\n\t\t\t\t\t\t\treturn cell;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet stylesObj: Properties = convertToObject(\n\t\t\t\t\t\t\tcell?.styles\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tif (cellState.styles) {\n\t\t\t\t\t\t\tstylesObj = {\n\t\t\t\t\t\t\t\t...stylesObj,\n\t\t\t\t\t\t\t\t...cellState.styles,\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tstylesObj = updatePadding(\n\t\t\t\t\t\t\t\tstylesObj,\n\t\t\t\t\t\t\t\tcellState.styles?.padding\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tstylesObj = updateBorderWidth(\n\t\t\t\t\t\t\t\tstylesObj,\n\t\t\t\t\t\t\t\tcellState.styles?.borderWidth\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tstylesObj = updateBorderRadius(\n\t\t\t\t\t\t\t\tstylesObj,\n\t\t\t\t\t\t\t\tcellState.styles?.borderRadius\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tstylesObj = updateBorderStyle(\n\t\t\t\t\t\t\t\tstylesObj,\n\t\t\t\t\t\t\t\tcellState.styles?.borderStyle\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tstylesObj = updateBorderColor(\n\t\t\t\t\t\t\t\tstylesObj,\n\t\t\t\t\t\t\t\tcellState.styles?.borderColor\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\tstyles: convertToInline(stylesObj),\n\t\t\t\t\t\t\ttag: cellState.tag || cell.tag,\n\t\t\t\t\t\t\tclassName:\n\t\t\t\t\t\t\t\t'className' in cellState\n\t\t\t\t\t\t\t\t\t? cellState.className\n\t\t\t\t\t\t\t\t\t: cell.className,\n\t\t\t\t\t\t\tid: 'id' in cellState ? cellState.id : cell.id,\n\t\t\t\t\t\t\theaders:\n\t\t\t\t\t\t\t\t'headers' in cellState\n\t\t\t\t\t\t\t\t\t? cellState.headers\n\t\t\t\t\t\t\t\t\t: cell.headers,\n\t\t\t\t\t\t\tscope:\n\t\t\t\t\t\t\t\t'scope' in cellState\n\t\t\t\t\t\t\t\t\t? cellState.scope\n\t\t\t\t\t\t\t\t\t: cell.scope,\n\t\t\t\t\t\t};\n\t\t\t\t\t}, []),\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn newVTable;\n\t\t},\n\t\t{\n\t\t\thead: [],\n\t\t\tbody: [],\n\t\t\tfoot: [],\n\t\t}\n\t);\n}\n\n/**\n * Determines whether a virtual section is empty.\n *\n * @param section Virtual section state.\n * @return True if the virtual section is empty, false otherwise.\n */\nexport function isEmptySection(section: VSection): boolean {\n\treturn (\n\t\t!section ||\n\t\t!section.length ||\n\t\tsection.every(\n\t\t\t({ cells }: { cells: VCell[] }) => !(cells && cells.length)\n\t\t)\n\t);\n}\n\n/**\n * Determines whether multiple sections are selected on the virtual table.\n *\n * @param selectedCells Current selected cells.\n * @return True if multiple sections are selected, false otherwise.\n */\nexport function isMultiSectionSelected(selectedCells: VCell[]): boolean {\n\tconst selectedSections: SectionName[] = selectedCells.reduce(\n\t\t(result: SectionName[], selectedCell) => {\n\t\t\tif (!result.includes(selectedCell.sectionName as SectionName)) {\n\t\t\t\tresult.push(selectedCell.sectionName as SectionName);\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t[]\n\t);\n\n\treturn selectedSections.length > 1;\n}\n\n/**\n * Create virtual table object with the cells placed in positions based on how they actually look.\n * This function is used to determine the apparent position of a cell when insert / delete row / column, or merge / split cells, etc.\n *\n * @param state Current table state.\n * @return Object of virtual table.\n */\nexport function toVirtualTable(state: TableAttributes): VTable {\n\tconst { head, body, foot } = state;\n\tconst vSections = {\n\t\thead,\n\t\tbody,\n\t\tfoot,\n\t};\n\n\treturn Object.entries(vSections).reduce(\n\t\t(vTable: VTable, [sectionName, section]) => {\n\t\t\tif (!section.length) {\n\t\t\t\treturn vTable;\n\t\t\t}\n\n\t\t\t// Create a virtual section array.\n\t\t\tconst rowCount: number = section.length;\n\t\t\tconst colCount: number = section[0].cells.reduce(\n\t\t\t\t(count: number, cell: Cell) => {\n\t\t\t\t\treturn count + toInteger(cell.colSpan, 1);\n\t\t\t\t},\n\t\t\t\t0\n\t\t\t);\n\n\t\t\tconst vSection: VSection = Array.from({ length: rowCount }).map(\n\t\t\t\t(_row, rowIndex): VRow => ({\n\t\t\t\t\tcells: Array.from({ length: colCount }).map(\n\t\t\t\t\t\t(_col, vColIndex): VCell => ({\n\t\t\t\t\t\t\tcontent: '',\n\t\t\t\t\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\n\t\t\t\t\t\t\trowSpan: 1,\n\t\t\t\t\t\t\tcolSpan: 1,\n\t\t\t\t\t\t\tsectionName: sectionName as SectionName,\n\t\t\t\t\t\t\tisHidden: false,\n\t\t\t\t\t\t\t// Whether the actual cell is placed or not.\n\t\t\t\t\t\t\tisFilled: false,\n\t\t\t\t\t\t\t// Dummy indexes.\n\t\t\t\t\t\t\trowIndex,\n\t\t\t\t\t\t\tvColIndex,\n\t\t\t\t\t\t})\n\t\t\t\t\t),\n\t\t\t\t})\n\t\t\t);\n\n\t\t\t// Mapping the actual section cells on the virtual section cell.\n\t\t\tsection.forEach((row: Row, cRowIndex: number) => {\n\t\t\t\trow.cells.forEach((cell) => {\n\t\t\t\t\t// Colmun index on the virtual section excluding cells already marked as \"filled\".\n\t\t\t\t\tconst vColIndex: number = vSection[\n\t\t\t\t\t\tcRowIndex\n\t\t\t\t\t].cells.findIndex(({ isFilled }) => !isFilled);\n\t\t\t\t\tconst rowSpan = toInteger(cell.rowSpan, 1);\n\t\t\t\t\tconst colSpan = toInteger(cell.colSpan, 1);\n\n\t\t\t\t\t// Mark the cell as \"filled\" and record the position on the virtual section.\n\t\t\t\t\tvSection[cRowIndex].cells[vColIndex] = {\n\t\t\t\t\t\t...cell,\n\t\t\t\t\t\tisFilled: true,\n\t\t\t\t\t\tsectionName: sectionName as SectionName,\n\t\t\t\t\t\trowSpan,\n\t\t\t\t\t\tcolSpan,\n\t\t\t\t\t\trowIndex: cRowIndex,\n\t\t\t\t\t\tvColIndex,\n\t\t\t\t\t\tisHidden: false,\n\t\t\t\t\t};\n\n\t\t\t\t\t// For cells with rowspan / colspan, mark cells that are visually filled as \"filled\".\n\t\t\t\t\t// Additionaly mark it as a cell to be deleted because it does not exist in the actual section.\n\t\t\t\t\tif (colSpan > 1) {\n\t\t\t\t\t\tfor (let i = 1; i < colSpan; i++) {\n\t\t\t\t\t\t\tvSection[cRowIndex].cells[vColIndex + i].isFilled =\n\t\t\t\t\t\t\t\ttrue;\n\t\t\t\t\t\t\tvSection[cRowIndex].cells[vColIndex + i].isHidden =\n\t\t\t\t\t\t\t\ttrue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (rowSpan > 1) {\n\t\t\t\t\t\tfor (let i = 1; i < rowSpan; i++) {\n\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[vColIndex].isFilled =\n\t\t\t\t\t\t\t\ttrue;\n\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[vColIndex].isHidden =\n\t\t\t\t\t\t\t\ttrue;\n\n\t\t\t\t\t\t\tif (colSpan > 1) {\n\t\t\t\t\t\t\t\tfor (let j = 1; j < colSpan; j++) {\n\t\t\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[\n\t\t\t\t\t\t\t\t\t\tvColIndex + j\n\t\t\t\t\t\t\t\t\t].isFilled = true;\n\t\t\t\t\t\t\t\t\tvSection[cRowIndex + i].cells[\n\t\t\t\t\t\t\t\t\t\tvColIndex + j\n\t\t\t\t\t\t\t\t\t].isHidden = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tvTable[sectionName as SectionName] = vSection;\n\t\t\treturn vTable;\n\t\t},\n\t\t{\n\t\t\thead: [],\n\t\t\tbody: [],\n\t\t\tfoot: [],\n\t\t}\n\t);\n}\n\n/**\n * Remove cells from the virtual table that are not actually needed and convert them to table attributes.\n *\n * @param  vTable Current table state.\n * @return {Object} Table attributes.\n */\nexport function toTableAttributes(vTable: VTable): TableAttributes {\n\tconsole.log('toTableAttributes', vTable);\n\treturn Object.entries(vTable).reduce(\n\t\t(newTableAttributes: TableAttributes, [sectionName, section]) => {\n\t\t\tif (!section.length) {\n\t\t\t\treturn newTableAttributes;\n\t\t\t}\n\t\t\tnewTableAttributes[sectionName as SectionName] = section.map(\n\t\t\t\t({ cells }) => ({\n\t\t\t\t\tcells: cells\n\t\t\t\t\t\t// Delete cells marked as deletion.\n\t\t\t\t\t\t.filter((cell) => !cell.isHidden)\n\t\t\t\t\t\t// Keep only the properties needed.\n\t\t\t\t\t\t.map((cell) => ({\n\t\t\t\t\t\t\tcontent: cell.content,\n\t\t\t\t\t\t\tstyles: cell.styles,\n\t\t\t\t\t\t\ttag: cell.tag,\n\t\t\t\t\t\t\tclassName: cell.className,\n\t\t\t\t\t\t\tid: cell.id,\n\t\t\t\t\t\t\theaders: cell.headers,\n\t\t\t\t\t\t\tscope: cell.scope,\n\t\t\t\t\t\t\trowSpan:\n\t\t\t\t\t\t\t\tcell.rowSpan > 1\n\t\t\t\t\t\t\t\t\t? String(cell.rowSpan)\n\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\tcolSpan:\n\t\t\t\t\t\t\t\tcell.colSpan > 1\n\t\t\t\t\t\t\t\t\t? String(cell.colSpan)\n\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t})),\n\t\t\t\t})\n\t\t\t);\n\t\t\treturn newTableAttributes;\n\t\t},\n\t\t{\n\t\t\thead: [],\n\t\t\tbody: [],\n\t\t\tfoot: [],\n\t\t}\n\t);\n}\n\n/**\n * Create an array of rows from a virtual table by removing empty sections.\n *\n * @param vTable Current virtual table state.\n * @return virtual table rows array.\n */\nexport function toVirtualRows(vTable: VTable): VRow[] {\n\treturn Object.keys(vTable).reduce((result: VRow[], sectionName) => {\n\t\tif (isEmptySection(vTable[sectionName as SectionName])) {\n\t\t\treturn result;\n\t\t}\n\t\tresult.push(...vTable[sectionName as SectionName]);\n\t\treturn result;\n\t}, []);\n}\n\n/**\n * Get the minimum / maximum row / column virtual indexes on virtual table from selected cells.\n *\n * @param selectedCells Current selected cells.\n * @return Minimum / maximum virtual indexes.\n */\nexport function getVirtualRangeIndexes(selectedCells: VCell[]): VRangeIndexes {\n\treturn selectedCells.reduce(\n\t\t({ minRowIndex, maxRowIndex, minColIndex, maxColIndex }, cell) => {\n\t\t\tconst VRowIndex: number =\n\t\t\t\tcell.rowSpan > 1\n\t\t\t\t\t? cell.rowIndex + cell.rowSpan - 1\n\t\t\t\t\t: cell.rowIndex;\n\t\t\tconst vColIndex: number =\n\t\t\t\tcell.colSpan > 1\n\t\t\t\t\t? cell.vColIndex + cell.colSpan - 1\n\t\t\t\t\t: cell.vColIndex;\n\n\t\t\treturn {\n\t\t\t\tminRowIndex:\n\t\t\t\t\tminRowIndex < cell.rowIndex ? minRowIndex : cell.rowIndex,\n\t\t\t\tmaxRowIndex: maxRowIndex > VRowIndex ? maxRowIndex : VRowIndex,\n\t\t\t\tminColIndex:\n\t\t\t\t\tminColIndex < cell.vColIndex ? minColIndex : cell.vColIndex,\n\t\t\t\tmaxColIndex: maxColIndex > vColIndex ? maxColIndex : vColIndex,\n\t\t\t};\n\t\t},\n\t\t{\n\t\t\tminRowIndex: selectedCells[0].rowIndex,\n\t\t\tmaxRowIndex: selectedCells[0].rowIndex,\n\t\t\tminColIndex: selectedCells[0].vColIndex,\n\t\t\tmaxColIndex: selectedCells[0].vColIndex,\n\t\t}\n\t);\n}\n\n/**\n * Determines whether a rectangle will be formed from the selected cells in the virtual table.\n * This function is used to determines whether to allow cell merging from the selected cells.\n *\n * @param selectedCells Current selected cells.\n * @return True if a rectangle will be formed from the selected cells, false otherwise.\n */\nexport function isRectangleSelected(selectedCells: VSelectedCells): boolean {\n\tif (!selectedCells) {\n\t\treturn false;\n\t}\n\n\t// No need to merge If only one or no cell is selected.\n\tif (selectedCells.length <= 1) {\n\t\treturn false;\n\t}\n\n\t// Check if multiple sections are selected.\n\tif (isMultiSectionSelected(selectedCells)) {\n\t\treturn false;\n\t}\n\n\t// Get the minimum / maximum virtual indexes of the matrix from the selected cells.\n\tconst vRangeIndexes: VRangeIndexes = getVirtualRangeIndexes(selectedCells);\n\n\t// Generate indexed matrix from the indexes.\n\tconst vRange: boolean[][] = [];\n\n\tfor (\n\t\tlet i = vRangeIndexes.minRowIndex;\n\t\ti <= vRangeIndexes.maxRowIndex;\n\t\ti++\n\t) {\n\t\tvRange[i] = [];\n\t\tfor (\n\t\t\tlet j = vRangeIndexes.minColIndex;\n\t\t\tj <= vRangeIndexes.maxColIndex;\n\t\t\tj++\n\t\t) {\n\t\t\tvRange[i][j] = false;\n\t\t}\n\t}\n\n\t// Map the selected cells to the matrix (mark the cell as \"true\").\n\tselectedCells.forEach((cell: VCell) => {\n\t\tif (\n\t\t\tcell.rowIndex in vRange &&\n\t\t\tcell.vColIndex in vRange[cell.rowIndex]\n\t\t) {\n\t\t\tvRange[cell.rowIndex][cell.vColIndex] = true;\n\n\t\t\tif (cell.colSpan > 1) {\n\t\t\t\tfor (let i = 1; i < cell.colSpan; i++) {\n\t\t\t\t\tvRange[cell.rowIndex][cell.vColIndex + i] = true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (cell.rowSpan > 1) {\n\t\t\t\tfor (let i = 1; i < cell.rowSpan; i++) {\n\t\t\t\t\tvRange[cell.rowIndex + i][cell.vColIndex] = true;\n\n\t\t\t\t\tif (cell.colSpan > 1) {\n\t\t\t\t\t\tfor (let j = 1; j < cell.colSpan; j++) {\n\t\t\t\t\t\t\tvRange[cell.rowIndex + i][cell.vColIndex + j] =\n\t\t\t\t\t\t\t\ttrue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n\n\t// Whether all cells in the matrix are filled (whether cell merging is possible).\n\treturn vRange\n\t\t.reduce((cells, row) => cells.concat(row), [])\n\t\t.every((cell) => cell);\n}\n\n/**\n * Return a set of cells from the start cell and the end cell that will form a rectangle, taking into account the join cells.\n *\n * @param vTable           Current virtual table state.\n * @param options\n * @param options.fromCell Start cell of the selected range.\n * @param options.toCell   End cell of the selected range.\n * @return Selected cells that represent a rectangle.\n */\nexport function toRectangledSelectedCells(\n\tvTable: VTable,\n\t{ fromCell, toCell }: { fromCell: VCell; toCell: VCell }\n): VCell[] {\n\tif (!fromCell || !toCell) {\n\t\treturn [];\n\t}\n\n\t// Check if multiple sections are selected.\n\tif (fromCell.sectionName !== toCell.sectionName) {\n\t\treturn [];\n\t}\n\n\t// Get the minimum / maximum virtual indexes of the matrix from the selected cells.\n\tconst vRangeIndexes: VRangeIndexes = getVirtualRangeIndexes([\n\t\tfromCell,\n\t\ttoCell,\n\t]);\n\n\tlet isRectangled: boolean = false;\n\n\tlet { minRowIndex, maxRowIndex, minColIndex, maxColIndex } = vRangeIndexes;\n\n\tconst currentSection: VSection =\n\t\tvTable[fromCell.sectionName as SectionName];\n\tconst rowCount: number = currentSection.length;\n\tconst colCount: number = currentSection[0].cells.length;\n\n\tconst VCells: VCell[] = currentSection\n\t\t.reduce((cells: VCell[], row: VRow) => cells.concat(row.cells), [])\n\t\t.map((cell: VCell) => {\n\t\t\tif (\n\t\t\t\tcell.rowIndex === fromCell.rowIndex &&\n\t\t\t\tcell.vColIndex === fromCell.vColIndex\n\t\t\t) {\n\t\t\t\tcell.isFirstSelected = true;\n\t\t\t}\n\t\t\treturn cell;\n\t\t})\n\t\t.filter((cell: VCell) => !cell.isHidden);\n\n\t// Expand the rectangle if there is a combined cell that passes through each edge.\n\twhile (!isRectangled) {\n\t\t// Extend the virtual range to top if there are cells that overlap to top.\n\t\tconst topCells: VCell[] = VCells.filter((cell: VCell) => {\n\t\t\treturn (\n\t\t\t\t((cell.vColIndex + cell.colSpan - 1 >= minColIndex &&\n\t\t\t\t\tcell.vColIndex + cell.colSpan - 1 <= maxColIndex) ||\n\t\t\t\t\t(cell.vColIndex >= minColIndex &&\n\t\t\t\t\t\tcell.vColIndex <= maxColIndex)) &&\n\t\t\t\tcell.rowIndex < minRowIndex &&\n\t\t\t\tcell.rowIndex + cell.rowSpan - 1 >= minRowIndex &&\n\t\t\t\tcell.rowSpan > 1\n\t\t\t);\n\t\t});\n\n\t\tconst isTopFixed: boolean = minRowIndex === 0 || !topCells.length;\n\t\tif (!isTopFixed) {\n\t\t\tminRowIndex--;\n\t\t}\n\n\t\t// Extend the virtual range to right if there are cells that overlap to right.\n\t\tconst rightCells: VCell[] = VCells.filter((cell: VCell) => {\n\t\t\treturn (\n\t\t\t\t((cell.rowIndex + cell.rowSpan - 1 >= minRowIndex &&\n\t\t\t\t\tcell.rowIndex + cell.rowSpan - 1 <= maxRowIndex) ||\n\t\t\t\t\t(cell.rowIndex >= minRowIndex &&\n\t\t\t\t\t\tcell.rowIndex <= maxRowIndex)) &&\n\t\t\t\tcell.vColIndex <= maxColIndex &&\n\t\t\t\tcell.vColIndex + cell.colSpan - 1 > maxColIndex &&\n\t\t\t\tcell.colSpan > 1\n\t\t\t);\n\t\t});\n\n\t\tconst isRightFixed: boolean =\n\t\t\tmaxColIndex === colCount - 1 || !rightCells.length;\n\t\tif (!isRightFixed) {\n\t\t\tmaxColIndex++;\n\t\t}\n\n\t\t// Extend the virtual range to bottom if there are cells that overlap to bottom.\n\t\tconst bottomCells: VCell[] = VCells.filter((cell: VCell) => {\n\t\t\treturn (\n\t\t\t\t((cell.vColIndex + cell.colSpan - 1 >= minColIndex &&\n\t\t\t\t\tcell.vColIndex + cell.colSpan - 1 <= maxColIndex) ||\n\t\t\t\t\t(cell.vColIndex >= minColIndex &&\n\t\t\t\t\t\tcell.vColIndex <= maxColIndex)) &&\n\t\t\t\tcell.rowIndex <= maxRowIndex &&\n\t\t\t\tcell.rowIndex + cell.rowSpan - 1 > maxRowIndex &&\n\t\t\t\tcell.rowSpan - 1\n\t\t\t);\n\t\t});\n\n\t\tconst isBottomFixed: boolean =\n\t\t\tmaxRowIndex === rowCount - 1 || !bottomCells.length;\n\t\tif (!isBottomFixed) {\n\t\t\tmaxRowIndex++;\n\t\t}\n\n\t\t// Extend the virtual range to left if there are cells that overlap to left.\n\t\tconst leftCells: VCell[] = VCells.filter((cell: VCell) => {\n\t\t\treturn (\n\t\t\t\t((cell.rowIndex + cell.rowSpan - 1 >= minRowIndex &&\n\t\t\t\t\tcell.rowIndex + cell.rowSpan - 1 <= maxRowIndex) ||\n\t\t\t\t\t(cell.rowIndex >= minRowIndex &&\n\t\t\t\t\t\tcell.rowIndex <= maxRowIndex)) &&\n\t\t\t\tcell.vColIndex < minColIndex &&\n\t\t\t\tcell.vColIndex + cell.colSpan - 1 >= minColIndex &&\n\t\t\t\tcell.colSpan > 1\n\t\t\t);\n\t\t});\n\n\t\tconst isLeftFixed: boolean =\n\t\t\tmaxColIndex === colCount - 1 || !leftCells.length;\n\t\tif (!isLeftFixed) {\n\t\t\tminColIndex--;\n\t\t}\n\n\t\tisRectangled =\n\t\t\tisTopFixed && isRightFixed && isBottomFixed && isLeftFixed;\n\t}\n\n\t// Cells in the newly computed rectangle.\n\treturn VCells.filter(\n\t\t(cell: VCell) =>\n\t\t\tcell.rowIndex >= minRowIndex &&\n\t\t\tcell.rowIndex <= maxRowIndex &&\n\t\t\tcell.vColIndex >= minColIndex &&\n\t\t\tcell.vColIndex <= maxColIndex\n\t);\n}\n\n/**\n * Determines whether the selected cells in the virtual table contain merged cells.\n *\n * @param selectedCells Current selected cells.\n * @return True if the selected cells in the virtual table contain merged cells, false otherwise.\n */\nexport function hasMergedCells(selectedCells: VSelectedCells): boolean {\n\tif (!selectedCells) {\n\t\treturn false;\n\t}\n\treturn selectedCells.some(\n\t\t({ rowSpan, colSpan }: { rowSpan: number; colSpan: number }) =>\n\t\t\trowSpan > 1 || colSpan > 1\n\t);\n}\n\n/**\n * Toggles the existance of a section.\n *\n * @param vTable      Current virtual table state.\n * @param sectionName Name of the section to toggle.\n * @return New virtual table state.\n */\nexport function toggleSection(\n\tvTable: VTable,\n\tsectionName: SectionName\n): VTable {\n\t// Section exists, replace it with an empty row to remove it.\n\tif (!isEmptySection(vTable[sectionName])) {\n\t\treturn {\n\t\t\t...vTable,\n\t\t\t[sectionName]: [],\n\t\t};\n\t}\n\n\t// Number of columns in the row to be inserted.\n\tconst newRowColCount: number = vTable.body[0].cells.length;\n\n\t// Row state to be inserted.\n\tconst newRow: VRow = {\n\t\tcells: Array.from({ length: newRowColCount }).map((_, vColIndex) => ({\n\t\t\tcontent: '',\n\t\t\ttag: 'head' === sectionName ? 'th' : 'td',\n\t\t\trowSpan: 1,\n\t\t\tcolSpan: 1,\n\t\t\tsectionName,\n\t\t\trowIndex: 0,\n\t\t\tvColIndex,\n\t\t\tisHidden: false,\n\t\t\tisFirstSelected: false,\n\t\t})),\n\t};\n\n\treturn {\n\t\t...vTable,\n\t\t[sectionName]: [newRow],\n\t};\n}\n","/**\n * External Dependencies\n */\nimport type { Properties } from 'csstype';\n\n/**\n * Internal dependencies\n */\nimport { parseCssValue, type FourCssValues } from './helper';\n\nexport interface DirectionProps {\n\ttop: string;\n\tright: string;\n\tbottom: string;\n\tleft: string;\n}\n\nexport interface CornerProps {\n\ttopLeft: string;\n\ttopRight: string;\n\tbottomRight: string;\n\tbottomLeft: string;\n}\n\nexport interface CrossProps {\n\thorizontal: string;\n\tvertical: string;\n}\n\n/**\n * Pick padding style as object from style object.\n *\n * @param stylesObj styles object.\n * @return padding styles object.\n */\nexport function pickPadding(stylesObj: Properties): DirectionProps {\n\tif (stylesObj.padding) {\n\t\tconst paddingValues: FourCssValues = parseCssValue(stylesObj.padding);\n\n\t\treturn {\n\t\t\ttop: paddingValues[0],\n\t\t\tright: paddingValues[1],\n\t\t\tbottom: paddingValues[2],\n\t\t\tleft: paddingValues[3],\n\t\t};\n\t}\n\n\treturn {\n\t\ttop: stylesObj?.paddingTop || '',\n\t\tright: stylesObj?.paddingRight || '',\n\t\tbottom: stylesObj?.paddingBottom || '',\n\t\tleft: stylesObj?.paddingLeft || '',\n\t};\n}\n\n/**\n * Pick border-width style as object from style object.\n *\n * @param stylesObj styles object.\n * @return border-width styles object.\n */\nexport function pickBorderWidth(stylesObj: Properties): DirectionProps {\n\tif (stylesObj.borderWidth) {\n\t\tconst borderWidthValues: FourCssValues = parseCssValue(\n\t\t\tstylesObj.borderWidth\n\t\t);\n\n\t\treturn {\n\t\t\ttop: borderWidthValues[0],\n\t\t\tright: borderWidthValues[1],\n\t\t\tbottom: borderWidthValues[2],\n\t\t\tleft: borderWidthValues[3],\n\t\t};\n\t}\n\n\treturn {\n\t\ttop: stylesObj?.borderTopWidth || '',\n\t\tright: stylesObj?.borderRightWidth || '',\n\t\tbottom: stylesObj?.borderBottomWidth || '',\n\t\tleft: stylesObj?.borderLeftWidth || '',\n\t};\n}\n\n/**\n * Pick border-color style as object from style object.\n *\n * @param stylesObj styles object.\n * @return border-color styles object.\n */\nexport function pickBorderColor(stylesObj: Properties): DirectionProps {\n\tif (stylesObj.borderColor) {\n\t\tconst borderColorValues: FourCssValues = parseCssValue(\n\t\t\tstylesObj.borderColor\n\t\t);\n\n\t\treturn {\n\t\t\ttop: borderColorValues[0],\n\t\t\tright: borderColorValues[1],\n\t\t\tbottom: borderColorValues[2],\n\t\t\tleft: borderColorValues[3],\n\t\t};\n\t}\n\n\treturn {\n\t\ttop: stylesObj?.borderTopColor || '',\n\t\tright: stylesObj?.borderRightColor || '',\n\t\tbottom: stylesObj?.borderBottomColor || '',\n\t\tleft: stylesObj?.borderLeftColor || '',\n\t};\n}\n\n/**\n * Pick border-style style as object from style object.\n *\n * @param stylesObj styles object.\n * @return border-style styles object.\n */\nexport function pickBorderStyle(stylesObj: Properties): DirectionProps {\n\tif (stylesObj.borderStyle) {\n\t\tconst borderStyleValues: FourCssValues = parseCssValue(\n\t\t\tstylesObj.borderStyle\n\t\t);\n\n\t\treturn {\n\t\t\ttop: borderStyleValues[0],\n\t\t\tright: borderStyleValues[1],\n\t\t\tbottom: borderStyleValues[2],\n\t\t\tleft: borderStyleValues[3],\n\t\t};\n\t}\n\n\treturn {\n\t\ttop: stylesObj?.borderTopStyle || '',\n\t\tright: stylesObj?.borderRightStyle || '',\n\t\tbottom: stylesObj?.borderBottomStyle || '',\n\t\tleft: stylesObj?.borderLeftStyle || '',\n\t};\n}\n\n/**\n * Pick border-radius style as object from style object.\n *\n * @param stylesObj                         styles object.\n * @param stylesObj.borderRadius\n * @param stylesObj.borderTopLeftRadius\n * @param stylesObj.borderTopRightRadius\n * @param stylesObj.borderBottomRightRadius\n * @param stylesObj.borderBottomLeftRadius\n * @return border-radius styles object.\n */\nexport function pickBorderRadius(stylesObj: Properties): CornerProps {\n\tif (stylesObj.borderRadius) {\n\t\tconst borderRadiusValues: FourCssValues = parseCssValue(\n\t\t\tstylesObj.borderRadius\n\t\t);\n\t\treturn {\n\t\t\ttopLeft: borderRadiusValues[0],\n\t\t\ttopRight: borderRadiusValues[1],\n\t\t\tbottomRight: borderRadiusValues[2],\n\t\t\tbottomLeft: borderRadiusValues[3],\n\t\t};\n\t}\n\n\treturn {\n\t\ttopLeft: stylesObj?.borderTopLeftRadius || '',\n\t\ttopRight: stylesObj?.borderTopRightRadius || '',\n\t\tbottomRight: stylesObj?.borderBottomRightRadius || '',\n\t\tbottomLeft: stylesObj?.borderBottomLeftRadius || '',\n\t};\n}\n\n/**\n * Pick border-spacing style as object from style object.\n *\n * @param stylesObj styles object.\n * @return border-spacing styles object.\n */\nexport function pickBorderSpacing(stylesObj: Properties): CrossProps {\n\tconst borderSpacingValues: FourCssValues = parseCssValue(\n\t\tstylesObj.borderSpacing || ''\n\t);\n\n\treturn {\n\t\thorizontal: borderSpacingValues[0],\n\t\tvertical: borderSpacingValues[1],\n\t};\n}\n","/* eslint-disable max-lines */\n/**\n * External Dependencies\n */\nimport type { Property, Properties } from 'csstype';\nimport type { Dispatch, SetStateAction } from 'react';\n\n/**\n * WordPress Dependencies\n */\nimport { __, _x, sprintf } from '@wordpress/i18n';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tButton,\n\tFlex,\n\tSelectControl,\n\tToggleControl,\n\t__experimentalHStack as HStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\n} from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nimport {\n\tSTORE_NAME,\n\tTABLE_WIDTH_UNITS,\n\tBORDER_COLLAPSE_CONTROLS,\n\tSTICKY_CONTROLS,\n} from '../constants';\nimport {\n\tBorderRadiusControl,\n\tBorderWidthControl,\n\tBorderStyleControl,\n\tBorderColorControl,\n\tBorderSpacingControl,\n\tPaddingControl,\n\tColorControl,\n} from '../controls';\nimport {\n\ttoggleSection,\n\ttoTableAttributes,\n\ttype VTable,\n\ttype VSelectedCells,\n\ttype VSelectedLine,\n} from '../utils/table-state';\nimport { convertToInline } from '../utils/style-converter';\nimport {\n\tpickPadding,\n\tpickBorderWidth,\n\tpickBorderRadius,\n\tpickBorderStyle,\n\tpickBorderColor,\n\tpickBorderSpacing,\n\ttype CornerProps,\n\ttype DirectionProps,\n\ttype CrossProps,\n} from '../utils/style-picker';\nimport {\n\tupdatePadding,\n\tupdateBorderWidth,\n\tupdateBorderRadius,\n\tupdateBorderStyle,\n\tupdateBorderColor,\n\tupdateBorderSpacing,\n} from '../utils/style-updater';\nimport type { StickyValue, BlockAttributes } from '../block-attributes';\nimport type { StoreOptions } from '../store';\n\nconst PERCENTAGE_WIDTHS = [25, 50, 75, 100];\n\ntype Props = {\n\tattributes: BlockAttributes;\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\n\tvTable: VTable;\n\tsetSelectedCells: Dispatch<SetStateAction<VSelectedCells>>;\n\tsetSelectedLine: Dispatch<SetStateAction<VSelectedLine>>;\n\ttableStylesObj: Properties;\n};\n\n// eslint-disable-next-line max-lines-per-function\nexport default function TableSettings({\n\tattributes,\n\tsetAttributes,\n\tvTable,\n\tsetSelectedCells,\n\tsetSelectedLine,\n\ttableStylesObj,\n}: Props) {\n\tconst {\n\t\thasFixedLayout,\n\t\tisStackedOnMobile,\n\t\tisScrollOnPc,\n\t\tisScrollOnMobile,\n\t\tsticky,\n\t\thead,\n\t\tfoot,\n\t} = attributes;\n\n\tconst options = useSelect((select) => {\n\t\tconst { getOptions }: { getOptions: () => StoreOptions } =\n\t\t\tselect(STORE_NAME);\n\t\treturn getOptions();\n\t}, []);\n\n\tconst tableWidthUnits = useCustomUnits({\n\t\tavailableUnits: TABLE_WIDTH_UNITS,\n\t});\n\n\tconst [parsedWidthQuantity, parsedWidthUnit] =\n\t\tparseQuantityAndUnitFromRawValue(tableStylesObj?.width);\n\tconst [parsedMaxWidthQuantity, parsedMaxWidthUnit] =\n\t\tparseQuantityAndUnitFromRawValue(tableStylesObj?.maxWidth);\n\tconst [parsedMinWidthQuantity, parsedMinWidthUnit] =\n\t\tparseQuantityAndUnitFromRawValue(tableStylesObj?.minWidth);\n\n\tconst onChangeHasFixedLayout = () => {\n\t\tsetAttributes({ hasFixedLayout: !hasFixedLayout });\n\t};\n\n\tconst onChangeIsStackedOnMobile = () => {\n\t\tsetAttributes({ isStackedOnMobile: !isStackedOnMobile });\n\t};\n\n\tconst onChangeIsScrollOnPc = () => {\n\t\tsetAttributes({ isScrollOnPc: !isScrollOnPc });\n\t};\n\n\tconst onChangeIsScrollOnMobile = () => {\n\t\tsetAttributes({ isScrollOnMobile: !isScrollOnMobile });\n\t};\n\n\tconst onChangeSticky = (value: string) => {\n\t\tconst isAllowedValue = (_value: any): _value is StickyValue => {\n\t\t\treturn (\n\t\t\t\t!value ||\n\t\t\t\tSTICKY_CONTROLS.some((control) => control.value === _value)\n\t\t\t);\n\t\t};\n\t\tif (isAllowedValue(value)) {\n\t\t\tsetAttributes({ sticky: 'none' === value ? undefined : value });\n\t\t}\n\t};\n\n\tconst onToggleHeaderSection = () => {\n\t\tconst newVTable = toggleSection(vTable, 'head');\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\tconst onToggleFooterSection = () => {\n\t\tconst newVTable = toggleSection(vTable, 'foot');\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\tconst onChangeWidth = (value: Property.Width | undefined) => {\n\t\tconst newStylesObj = {\n\t\t\t...tableStylesObj,\n\t\t\twidth: value,\n\t\t};\n\t\tsetAttributes({ tableStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangeMaxWidth = (value: Property.MaxWidth | undefined) => {\n\t\tconst newStylesObj = {\n\t\t\t...tableStylesObj,\n\t\t\tmaxWidth: value,\n\t\t};\n\t\tsetAttributes({ tableStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangeMinWidth = (value: Property.MinWidth | undefined) => {\n\t\tconst newStylesObj = {\n\t\t\t...tableStylesObj,\n\t\t\tminWidth: value,\n\t\t};\n\t\tsetAttributes({ tableStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangePadding = (values: Partial<DirectionProps>) => {\n\t\tconst newStylesObj = updatePadding(tableStylesObj, values);\n\t\tsetAttributes({ tableStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangeBorderWidth = (values: Partial<DirectionProps>) => {\n\t\tconst newStylesObj = updateBorderWidth(tableStylesObj, values);\n\t\tsetAttributes({ tableStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangeBorderRadius = (values: Partial<CornerProps>) => {\n\t\tconst newStylesObj = updateBorderRadius(tableStylesObj, values);\n\t\tsetAttributes({ tableStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangeBorderStyle = (values: Partial<DirectionProps>) => {\n\t\tconst newStylesObj = updateBorderStyle(tableStylesObj, values);\n\t\tsetAttributes({ tableStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangeBorderColor = (values: Partial<DirectionProps>) => {\n\t\tconst newStylesObj = updateBorderColor(tableStylesObj, values);\n\t\tsetAttributes({ tableStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangeBorderCollapse = (value: string | number | undefined) => {\n\t\tconst isAllowedValue = (\n\t\t\t_value: any\n\t\t): _value is Properties['borderCollapse'] => {\n\t\t\treturn (\n\t\t\t\t!value ||\n\t\t\t\tBORDER_COLLAPSE_CONTROLS.some(\n\t\t\t\t\t(control) => control.value === _value\n\t\t\t\t)\n\t\t\t);\n\t\t};\n\t\tif (isAllowedValue(value)) {\n\t\t\tconst borderCollapse =\n\t\t\t\ttableStylesObj?.borderCollapse === value ? undefined : value;\n\t\t\tconst borderSpacing =\n\t\t\t\t'separate' === borderCollapse\n\t\t\t\t\t? tableStylesObj?.borderSpacing\n\t\t\t\t\t: undefined;\n\t\t\tconst newStylesObj = {\n\t\t\t\t...tableStylesObj,\n\t\t\t\tborderCollapse,\n\t\t\t\tborderSpacing,\n\t\t\t};\n\t\t\tsetAttributes({\n\t\t\t\ttableStyles: convertToInline(newStylesObj),\n\t\t\t});\n\t\t}\n\t};\n\n\tconst onChangeBorderSpacing = (values: Partial<CrossProps>) => {\n\t\tconst newStylesObj = updateBorderSpacing(tableStylesObj, values);\n\t\tsetAttributes({ tableStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onResetTableSettings = () => {\n\t\tsetAttributes({\n\t\t\thasFixedLayout: false,\n\t\t\tisScrollOnPc: false,\n\t\t\tisScrollOnMobile: false,\n\t\t\tisStackedOnMobile: false,\n\t\t\tsticky: undefined,\n\t\t\ttableStyles: undefined,\n\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Spacer marginBottom=\"4\" as={Flex} justify=\"end\">\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\tisDestructive\n\t\t\t\t\tonClick={onResetTableSettings}\n\t\t\t\t>\n\t\t\t\t\t{__('Clear table settings', 'flexible-table-block')}\n\t\t\t\t</Button>\n\t\t\t</Spacer>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={__('Header section', 'flexible-table-block')}\n\t\t\t\tchecked={!!(head && head.length)}\n\t\t\t\tonChange={onToggleHeaderSection}\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t/>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={__('Footer section', 'flexible-table-block')}\n\t\t\t\tchecked={!!(foot && foot.length)}\n\t\t\t\tonChange={onToggleFooterSection}\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t/>\n\t\t\t<hr />\n\t\t\t<ToggleControl\n\t\t\t\tlabel={__('Fixed width table cells', 'flexible-table-block')}\n\t\t\t\tchecked={!!hasFixedLayout}\n\t\t\t\tonChange={onChangeHasFixedLayout}\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t/>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={__('Scroll on desktop view', 'flexible-table-block')}\n\t\t\t\tclassName=\"ftb-toggle-control\"\n\t\t\t\tchecked={!!isScrollOnPc}\n\t\t\t\thelp={\n\t\t\t\t\toptions.breakpoint &&\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %d is replaced with the number of breakpoint. */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'When the screen width is %dpx or more.',\n\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t),\n\t\t\t\t\t\tMath.abs(options.breakpoint) + 1\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tonChange={onChangeIsScrollOnPc}\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t/>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={__('Scroll on mobile view', 'flexible-table-block')}\n\t\t\t\tclassName=\"ftb-toggle-control\"\n\t\t\t\tchecked={!!isScrollOnMobile}\n\t\t\t\thelp={\n\t\t\t\t\toptions.breakpoint &&\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %d is replaced with the number of breakpoint. */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'When the screen width is %dpx or less.',\n\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t),\n\t\t\t\t\t\toptions.breakpoint\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tonChange={onChangeIsScrollOnMobile}\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t/>\n\t\t\t<ToggleControl\n\t\t\t\tlabel={__('Stack on mobile', 'flexible-table-block')}\n\t\t\t\tclassName=\"ftb-toggle-control\"\n\t\t\t\tchecked={!!isStackedOnMobile}\n\t\t\t\thelp={\n\t\t\t\t\toptions.breakpoint &&\n\t\t\t\t\tsprintf(\n\t\t\t\t\t\t/* translators: %d is replaced with the number of breakpoint. */\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'When the screen width is %dpx or less.',\n\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t),\n\t\t\t\t\t\toptions.breakpoint\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tonChange={onChangeIsStackedOnMobile}\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t/>\n\t\t\t<SelectControl\n\t\t\t\tlabel={__('Fixed control', 'flexible-table-block')}\n\t\t\t\tvalue={sticky}\n\t\t\t\toptions={STICKY_CONTROLS.map(({ label, value }) => {\n\t\t\t\t\treturn { label, value };\n\t\t\t\t})}\n\t\t\t\thelp={\n\t\t\t\t\tisStackedOnMobile &&\n\t\t\t\t\tsticky &&\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Fixed control is only enabled for desktop view because \"Stack on mobile\" is enabled.',\n\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\tonChange={onChangeSticky}\n\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t/>\n\t\t\t<hr />\n\t\t\t<HStack alignment=\"start\">\n\t\t\t\t<UnitControl\n\t\t\t\t\tlabel={__('Table width', 'flexible-table-block')}\n\t\t\t\t\tvalue={tableStylesObj?.width}\n\t\t\t\t\tunits={tableWidthUnits}\n\t\t\t\t\tdisabled={tableStylesObj?.width === 'auto'}\n\t\t\t\t\tmin={0}\n\t\t\t\t\tonChange={onChangeWidth}\n\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t__unstableInputWidth=\"calc(50% - 8px)\"\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={() => onChangeWidth(undefined)}\n\t\t\t\t>\n\t\t\t\t\t{__('Reset', 'flexible-table-block')}\n\t\t\t\t</Button>\n\t\t\t</HStack>\n\t\t\t<ToggleGroupControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\thideLabelFromVision\n\t\t\t\tlabel={__('Table percentage width', 'flexible-table-block')}\n\t\t\t\tisBlock\n\t\t\t\tvalue={\n\t\t\t\t\ttableStylesObj?.width === 'auto' ||\n\t\t\t\t\t(parsedWidthQuantity &&\n\t\t\t\t\t\tPERCENTAGE_WIDTHS.includes(parsedWidthQuantity) &&\n\t\t\t\t\t\tparsedWidthUnit === '%')\n\t\t\t\t\t\t? tableStylesObj?.width\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tonChange={(value) => onChangeWidth(value as Property.Width)}\n\t\t\t>\n\t\t\t\t{PERCENTAGE_WIDTHS.map((perWidth) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tkey={perWidth}\n\t\t\t\t\t\t\tlabel={`${perWidth}%`}\n\t\t\t\t\t\t\tvalue={`${perWidth}%`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\tlabel={_x('auto', 'width', 'flexible-table-block')}\n\t\t\t\t\tvalue=\"auto\"\n\t\t\t\t/>\n\t\t\t</ToggleGroupControl>\n\t\t\t<HStack alignment=\"start\">\n\t\t\t\t<UnitControl\n\t\t\t\t\tlabel={__('Table max width', 'flexible-table-block')}\n\t\t\t\t\tvalue={tableStylesObj?.maxWidth}\n\t\t\t\t\tunits={tableWidthUnits}\n\t\t\t\t\tdisabled={tableStylesObj?.maxWidth === 'none'}\n\t\t\t\t\tmin={0}\n\t\t\t\t\tonChange={onChangeMaxWidth}\n\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t__unstableInputWidth=\"calc(50% - 8px)\"\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={() => onChangeMaxWidth(undefined)}\n\t\t\t\t>\n\t\t\t\t\t{__('Reset', 'flexible-table-block')}\n\t\t\t\t</Button>\n\t\t\t</HStack>\n\t\t\t<ToggleGroupControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\thideLabelFromVision\n\t\t\t\tlabel={__('Table percentage max width', 'flexible-table-block')}\n\t\t\t\tisBlock\n\t\t\t\tvalue={\n\t\t\t\t\ttableStylesObj?.maxWidth === 'none' ||\n\t\t\t\t\t(parsedMaxWidthQuantity &&\n\t\t\t\t\t\tPERCENTAGE_WIDTHS.includes(parsedMaxWidthQuantity) &&\n\t\t\t\t\t\tparsedMaxWidthUnit === '%')\n\t\t\t\t\t\t? tableStylesObj?.maxWidth\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tonChange={(value) =>\n\t\t\t\t\tonChangeMaxWidth(value as Property.MaxWidth)\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{PERCENTAGE_WIDTHS.map((perWidth) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tkey={perWidth}\n\t\t\t\t\t\t\tlabel={`${perWidth}%`}\n\t\t\t\t\t\t\tvalue={`${perWidth}%`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\tlabel={_x('none', 'width', 'flexible-table-block')}\n\t\t\t\t\tvalue=\"none\"\n\t\t\t\t/>\n\t\t\t</ToggleGroupControl>\n\t\t\t<HStack alignment=\"start\">\n\t\t\t\t<UnitControl\n\t\t\t\t\tlabel={__('Table min width', 'flexible-table-block')}\n\t\t\t\t\tvalue={tableStylesObj?.minWidth}\n\t\t\t\t\tunits={tableWidthUnits}\n\t\t\t\t\tmin={0}\n\t\t\t\t\tonChange={onChangeMinWidth}\n\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t__unstableInputWidth=\"calc(50% - 8px)\"\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={() => onChangeMinWidth(undefined)}\n\t\t\t\t>\n\t\t\t\t\t{__('Reset', 'flexible-table-block')}\n\t\t\t\t</Button>\n\t\t\t</HStack>\n\t\t\t<ToggleGroupControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\thideLabelFromVision\n\t\t\t\tlabel={__('Table percentage min width', 'flexible-table-block')}\n\t\t\t\tisBlock\n\t\t\t\tvalue={\n\t\t\t\t\tparsedMinWidthQuantity &&\n\t\t\t\t\tPERCENTAGE_WIDTHS.includes(parsedMinWidthQuantity) &&\n\t\t\t\t\tparsedMinWidthUnit === '%'\n\t\t\t\t\t\t? tableStylesObj?.minWidth\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tonChange={(value) =>\n\t\t\t\t\tonChangeMinWidth(value as Property.MinWidth)\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{PERCENTAGE_WIDTHS.map((perWidth) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tkey={perWidth}\n\t\t\t\t\t\t\tlabel={`${perWidth}%`}\n\t\t\t\t\t\t\tvalue={`${perWidth}%`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ToggleGroupControl>\n\t\t\t<hr />\n\t\t\t<PaddingControl\n\t\t\t\tlabel={__('Table padding', 'flexible-table-block')}\n\t\t\t\thelp={__(\n\t\t\t\t\t'Table padding is only enabled when \"Cell Borders\" is set to \"Separate\".',\n\t\t\t\t\t'flexible-table-block'\n\t\t\t\t)}\n\t\t\t\tvalues={pickPadding(tableStylesObj)}\n\t\t\t\tonChange={onChangePadding}\n\t\t\t/>\n\t\t\t<hr />\n\t\t\t<BorderRadiusControl\n\t\t\t\tlabel={__('Table border radius', 'flexible-table-block')}\n\t\t\t\tvalues={pickBorderRadius(tableStylesObj)}\n\t\t\t\tonChange={onChangeBorderRadius}\n\t\t\t/>\n\t\t\t<BorderWidthControl\n\t\t\t\tlabel={__('Table border width', 'flexible-table-block')}\n\t\t\t\thelp={__(\n\t\t\t\t\t'Table border width is only enabled when \"Cell Borders\" is set to \"Separate\".',\n\t\t\t\t\t'flexible-table-block'\n\t\t\t\t)}\n\t\t\t\tvalues={pickBorderWidth(tableStylesObj)}\n\t\t\t\tonChange={onChangeBorderWidth}\n\t\t\t/>\n\t\t\t<BorderStyleControl\n\t\t\t\tlabel={__('Table border style', 'flexible-table-block')}\n\t\t\t\tvalues={pickBorderStyle(tableStylesObj)}\n\t\t\t\tonChange={onChangeBorderStyle}\n\t\t\t/>\n\t\t\t<BorderColorControl\n\t\t\t\tlabel={__('Table border color', 'flexible-table-block')}\n\t\t\t\tvalues={pickBorderColor(tableStylesObj)}\n\t\t\t\tonChange={onChangeBorderColor}\n\t\t\t/>\n\t\t\t<hr />\n\t\t\t<ToggleGroupControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tlabel={__('Cell borders', 'flexible-table-block')}\n\t\t\t\tvalue={tableStylesObj?.borderCollapse}\n\t\t\t\tisDeselectable\n\t\t\t\tonChange={onChangeBorderCollapse}\n\t\t\t>\n\t\t\t\t{BORDER_COLLAPSE_CONTROLS.map(({ icon, label, value }) => (\n\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\tkey={value}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ToggleGroupControl>\n\t\t\t{'separate' === tableStylesObj?.borderCollapse && (\n\t\t\t\t<BorderSpacingControl\n\t\t\t\t\tlabel={__('Border spacing', 'flexible-table-block')}\n\t\t\t\t\tvalues={pickBorderSpacing(tableStylesObj)}\n\t\t\t\t\tonChange={onChangeBorderSpacing}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport type { Property, Properties } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tFlex,\n\tFlexBlock,\n\tTextControl,\n\t__experimentalSpacer as Spacer,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n} from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nimport {\n\tFONT_SIZE_UNITS,\n\tTEXT_ALIGNMENT_CONTROLS,\n\tCAPTION_SIDE_CONTROLS,\n} from '../constants';\nimport { PaddingControl } from '../controls';\nimport { convertToInline } from '../utils/style-converter';\nimport { pickPadding, type DirectionProps } from '../utils/style-picker';\nimport { updatePadding } from '../utils/style-updater';\nimport { sanitizeUnitValue } from '../utils/helper';\nimport type { CaptionSideValue, BlockAttributes } from '../block-attributes';\n\ntype Props = {\n\tattributes: BlockAttributes;\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\n\tcaptionStylesObj: Properties;\n};\n\n/* eslint-disable max-lines-per-function */\nexport default function TableCaptionSettings({\n\tattributes,\n\tsetAttributes,\n\tcaptionStylesObj,\n}: Props) {\n\tconst { captionSide } = attributes;\n\n\tconst fontSizeUnits = useCustomUnits({ availableUnits: FONT_SIZE_UNITS });\n\n\tconst onChangeFontSize = (value: Property.FontSize | undefined) => {\n\t\tconst newStylesObj = {\n\t\t\t...captionStylesObj,\n\t\t\tfontSize: sanitizeUnitValue(value),\n\t\t};\n\t\tsetAttributes({ captionStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangeLineHeight = (value: Property.LineHeight) => {\n\t\tconst newStylesObj = {\n\t\t\t...captionStylesObj,\n\t\t\tlineHeight: value,\n\t\t};\n\t\tsetAttributes({ captionStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangePadding = (values: DirectionProps) => {\n\t\tconst newStylesObj = updatePadding(captionStylesObj, values);\n\t\tsetAttributes({ captionStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangeSide = (value: string | number | undefined) => {\n\t\tconst isAllowedValue = (_value: any): _value is CaptionSideValue => {\n\t\t\treturn CAPTION_SIDE_CONTROLS.some(\n\t\t\t\t(control) => control.value === _value\n\t\t\t);\n\t\t};\n\t\tif (isAllowedValue(value)) {\n\t\t\tsetAttributes({ captionSide: value });\n\t\t}\n\t};\n\n\tconst onChangeAlign = (value: string | number | undefined) => {\n\t\tconst isAllowedValue = (\n\t\t\t_value: any\n\t\t): _value is Properties['textAlign'] => {\n\t\t\treturn (\n\t\t\t\t!value ||\n\t\t\t\tTEXT_ALIGNMENT_CONTROLS.some(\n\t\t\t\t\t(control) => control.value === _value\n\t\t\t\t)\n\t\t\t);\n\t\t};\n\t\tif (isAllowedValue(value)) {\n\t\t\tconst newStylesObj = {\n\t\t\t\t...captionStylesObj,\n\t\t\t\ttextAlign:\n\t\t\t\t\tvalue === captionStylesObj.textAlign ? undefined : value,\n\t\t\t};\n\t\t\tsetAttributes({\n\t\t\t\tcaptionStyles: convertToInline(newStylesObj),\n\t\t\t});\n\t\t}\n\t};\n\n\tconst onResetSettings = () => {\n\t\tsetAttributes({\n\t\t\tcaptionSide: 'bottom',\n\t\t\tcaptionStyles: undefined,\n\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Spacer marginBottom=\"4\" as={Flex} justify=\"end\">\n\t\t\t\t<Button variant=\"link\" isDestructive onClick={onResetSettings}>\n\t\t\t\t\t{__('Clear caption settings', 'flexible-table-block')}\n\t\t\t\t</Button>\n\t\t\t</Spacer>\n\t\t\t<Spacer marginBottom=\"4\" as={Flex} align=\"end\">\n\t\t\t\t<FlexBlock>\n\t\t\t\t\t<UnitControl\n\t\t\t\t\t\tlabel={__('Caption font size', 'flexible-table-block')}\n\t\t\t\t\t\tvalue={captionStylesObj?.fontSize}\n\t\t\t\t\t\tunits={fontSizeUnits}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tonChange={onChangeFontSize}\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t/>\n\t\t\t\t</FlexBlock>\n\t\t\t\t<FlexBlock>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t'Caption line height',\n\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tonChange={onChangeLineHeight}\n\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={captionStylesObj?.lineHeight || ''}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t/>\n\t\t\t\t</FlexBlock>\n\t\t\t</Spacer>\n\t\t\t<PaddingControl\n\t\t\t\tlabel={__('Caption padding', 'flexible-table-block')}\n\t\t\t\tvalues={pickPadding(captionStylesObj)}\n\t\t\t\tonChange={onChangePadding}\n\t\t\t/>\n\t\t\t<ToggleGroupControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tlabel={__('Caption position', 'flexible-table-block')}\n\t\t\t\tvalue={captionSide}\n\t\t\t\tisBlock\n\t\t\t\tonChange={onChangeSide}\n\t\t\t>\n\t\t\t\t{CAPTION_SIDE_CONTROLS.map(({ label, value }) => (\n\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\tkey={value}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ToggleGroupControl>\n\t\t\t<ToggleGroupControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tlabel={__('Caption text alignment', 'flexible-table-block')}\n\t\t\t\tvalue={captionStylesObj?.textAlign}\n\t\t\t\tisDeselectable\n\t\t\t\tonChange={onChangeAlign}\n\t\t\t>\n\t\t\t\t{TEXT_ALIGNMENT_CONTROLS.map(({ icon, label, value }) => (\n\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\tkey={value}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ToggleGroupControl>\n\t\t</>\n\t);\n}\n","/* eslint-disable @wordpress/no-unsafe-wp-apis */\n/**\n * External Dependencies\n */\nimport type { Property } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { createInterpolateElement } from '@wordpress/element';\nimport {\n\tBaseControl,\n\tButton,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n\tSelectControl,\n\tTextControl,\n\t__experimentalHStack as HStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n\t__experimentalParseQuantityAndUnitFromRawValue as parseQuantityAndUnitFromRawValue,\n} from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nimport {\n\tFONT_SIZE_UNITS,\n\tCELL_WIDTH_UNITS,\n\tCELL_TAG_CONTROLS,\n\tCELL_SCOPE_CONTROLS,\n\tTEXT_ALIGNMENT_CONTROLS,\n\tVERTICAL_ALIGNMENT_CONTROLS,\n} from '../constants';\nimport {\n\tBorderRadiusControl,\n\tBorderWidthControl,\n\tBorderStyleControl,\n\tBorderColorControl,\n\tPaddingControl,\n\tColorControl,\n} from '../controls';\nimport {\n\ttoTableAttributes,\n\tupdateCells,\n\ttype VTable,\n\ttype VSelectedCells,\n} from '../utils/table-state';\nimport { convertToObject } from '../utils/style-converter';\nimport {\n\tpickPadding,\n\tpickBorderWidth,\n\tpickBorderRadius,\n\tpickBorderStyle,\n\tpickBorderColor,\n\ttype CornerProps,\n\ttype DirectionProps,\n} from '../utils/style-picker';\nimport { sanitizeUnitValue } from '../utils/helper';\nimport type {\n\tCellTagValue,\n\tCellScopeValue,\n\tSectionName,\n\tBlockAttributes,\n} from '../block-attributes';\n\nconst PERCENTAGE_WIDTHS = [25, 50, 75, 100];\n\ntype Props = {\n\tattributes: BlockAttributes;\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\n\tvTable: VTable;\n\tselectedCells: VSelectedCells;\n};\n\n/* eslint-disable max-lines-per-function */\nexport default function TableCellSettings({\n\tattributes,\n\tsetAttributes,\n\tvTable,\n\tselectedCells = [],\n}: Props) {\n\tconst cellWidthUnits = useCustomUnits({ availableUnits: CELL_WIDTH_UNITS });\n\tconst fontSizeUnits = useCustomUnits({ availableUnits: FONT_SIZE_UNITS });\n\n\tif (!selectedCells.length) {\n\t\treturn null;\n\t}\n\n\tconst { sectionName, rowIndex, vColIndex } = selectedCells[0];\n\n\tconst targetCell =\n\t\tvTable[sectionName as SectionName][rowIndex].cells[vColIndex];\n\n\tif (!targetCell) {\n\t\treturn null;\n\t}\n\n\tconst selectedCellTags = selectedCells.reduce(\n\t\t(result: CellTagValue[], selectedCell) => {\n\t\t\tconst { tag } =\n\t\t\t\tvTable[selectedCell.sectionName][selectedCell.rowIndex].cells[\n\t\t\t\t\tselectedCell.vColIndex\n\t\t\t\t];\n\t\t\tif (!result.includes(tag)) {\n\t\t\t\tresult.push(tag);\n\t\t\t}\n\t\t\treturn result;\n\t\t},\n\t\t[]\n\t);\n\n\tconst cellStylesObj = convertToObject(targetCell.styles);\n\tconst [parsedWidthQuantity, parsedWidthUnit] =\n\t\tparseQuantityAndUnitFromRawValue(cellStylesObj?.width);\n\n\tconst updateCellsState = (state: {\n\t\tstyles?: any;\n\t\ttag?: CellTagValue;\n\t\tclassName?: string;\n\t\tid?: string;\n\t\theaders?: string;\n\t\tscope?: CellScopeValue;\n\t}) => {\n\t\tconst newVTable = updateCells(vTable, state, selectedCells);\n\t\tconsole.log('updateCellsState', newVTable);\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t};\n\n\tconst onChangeFontSize = (value: string | undefined) => {\n\t\tupdateCellsState({ styles: { fontSize: sanitizeUnitValue(value) } });\n\t};\n\n\tconst onChangeFontWeight = (value: string | undefined) => {\n\t\tupdateCellsState({ styles: { fontWeight: value } });\n\t};\n\n\tconst onChangeLineHeight = (value: Property.LineHeight) => {\n\t\tupdateCellsState({ styles: { lineHeight: value } });\n\t};\n\n\tconst onChangeColor = (value: Property.Color) => {\n\t\tupdateCellsState({ styles: { color: value } });\n\t};\n\n\tconst onChangeBackgroundColor = (value: Property.BackgroundColor) => {\n\t\tupdateCellsState({ styles: { backgroundColor: value } });\n\t};\n\n\tconst onChangeCellHoverBackgroundColor = (\n\t\tvalue: Property.BackgroundColor\n\t) => {\n\t\tupdateCellsState({ styles: { hoverBackgroundColor: value } });\n\t};\n\n\tconst onChangeWidth = (value: string | number | undefined) => {\n\t\tupdateCellsState({ styles: { width: sanitizeUnitValue(value) } });\n\t};\n\n\tconst onChangePadding = (values: Partial<DirectionProps>) => {\n\t\tupdateCellsState({ styles: { padding: values } });\n\t};\n\n\tconst onChangeBorderWidth = (values: Partial<DirectionProps>) => {\n\t\tupdateCellsState({ styles: { borderWidth: values } });\n\t};\n\n\tconst onChangeBorderRadius = (values: Partial<CornerProps>) => {\n\t\tupdateCellsState({ styles: { borderRadius: values } });\n\t};\n\n\tconst onChangeBorderStyle = (values: Partial<DirectionProps>) => {\n\t\tupdateCellsState({ styles: { borderStyle: values } });\n\t};\n\n\tconst onChangeBorderColor = (values: Partial<DirectionProps>) => {\n\t\tupdateCellsState({ styles: { borderColor: values } });\n\t};\n\n\tconst onChangeTextAlign = (value: string | number | undefined) => {\n\t\tupdateCellsState({\n\t\t\tstyles: {\n\t\t\t\ttextAlign:\n\t\t\t\t\tvalue === cellStylesObj.textAlign ? undefined : value,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst onChangeVerticalAlign = (value: string | number | undefined) => {\n\t\tupdateCellsState({\n\t\t\tstyles: {\n\t\t\t\tverticalAlign:\n\t\t\t\t\tvalue === cellStylesObj.verticalAlign ? undefined : value,\n\t\t\t},\n\t\t});\n\t};\n\n\tconst onChangeTag = (value: string | number | undefined) => {\n\t\tconst isAllowedTag = (_value: any): _value is CellTagValue => {\n\t\t\treturn CELL_TAG_CONTROLS.some(\n\t\t\t\t(control) => control.value === _value\n\t\t\t);\n\t\t};\n\t\tif (isAllowedTag(value)) {\n\t\t\tupdateCellsState({\n\t\t\t\ttag: value,\n\t\t\t\tid: undefined,\n\t\t\t\theaders: undefined,\n\t\t\t\tscope: undefined,\n\t\t\t});\n\t\t}\n\t};\n\n\tconst onChangeClass = (value: string) => {\n\t\tupdateCellsState({ className: value !== '' ? value : undefined });\n\t};\n\n\tconst onChangeId = (value: string) => {\n\t\tupdateCellsState({ id: value !== '' ? value : undefined });\n\t};\n\n\tconst onChangeHeaders = (value: string) => {\n\t\tupdateCellsState({ headers: value !== '' ? value : undefined });\n\t};\n\n\tconst onChangeScope = (value: CellScopeValue) => {\n\t\tupdateCellsState({ scope: 'none' === value ? undefined : value });\n\t};\n\n\tconst onResetCellSettings = () => {\n\t\tupdateCellsState({\n\t\t\tstyles: {\n\t\t\t\tfontSize: undefined,\n\t\t\t\tlineHeight: undefined,\n\t\t\t\tfontWeight: undefined,\n\t\t\t\twidth: undefined,\n\t\t\t\tcolor: undefined,\n\t\t\t\tbackgroundColor: undefined,\n\t\t\t\thoverBackgroundColor: undefined,\n\t\t\t\tpadding: {\n\t\t\t\t\ttop: undefined,\n\t\t\t\t\tright: undefined,\n\t\t\t\t\tbottom: undefined,\n\t\t\t\t\tleft: undefined,\n\t\t\t\t},\n\t\t\t\tborderRadius: {\n\t\t\t\t\ttopLeft: undefined,\n\t\t\t\t\ttopRight: undefined,\n\t\t\t\t\tbottomRight: undefined,\n\t\t\t\t\tbottomLeft: undefined,\n\t\t\t\t},\n\t\t\t\tborderWidth: {\n\t\t\t\t\ttop: undefined,\n\t\t\t\t\tright: undefined,\n\t\t\t\t\tbottom: undefined,\n\t\t\t\t\tleft: undefined,\n\t\t\t\t},\n\t\t\t\tborderStyle: {\n\t\t\t\t\ttop: undefined,\n\t\t\t\t\tright: undefined,\n\t\t\t\t\tbottom: undefined,\n\t\t\t\t\tleft: undefined,\n\t\t\t\t},\n\t\t\t\tborderColor: {\n\t\t\t\t\ttop: undefined,\n\t\t\t\t\tright: undefined,\n\t\t\t\t\tbottom: undefined,\n\t\t\t\t\tleft: undefined,\n\t\t\t\t},\n\t\t\t\ttextAlign: undefined,\n\t\t\t\tverticalAlign: undefined,\n\t\t\t},\n\t\t\tclassName: undefined,\n\t\t\tid: undefined,\n\t\t\theaders: undefined,\n\t\t\tscope: undefined,\n\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Spacer marginBottom=\"4\" as={Flex} justify=\"end\">\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\tisDestructive\n\t\t\t\t\tonClick={onResetCellSettings}\n\t\t\t\t>\n\t\t\t\t\t{__('Clear cell settings', 'flexible-table-block')}\n\t\t\t\t</Button>\n\t\t\t</Spacer>\n\t\t\t<Spacer marginBottom=\"4\" as={Flex}>\n\t\t\t\t<FlexBlock>\n\t\t\t\t\t<UnitControl\n\t\t\t\t\t\tlabel={__('Cell font size', 'flexible-table-block')}\n\t\t\t\t\t\tvalue={cellStylesObj?.fontSize}\n\t\t\t\t\t\tunits={fontSizeUnits}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tonChange={onChangeFontSize}\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t/>\n\t\t\t\t</FlexBlock>\n\t\t\t\t<FlexBlock>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Cell line height', 'flexible-table-block')}\n\t\t\t\t\t\tvalue={cellStylesObj?.lineHeight || ''}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tonChange={onChangeLineHeight}\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t/>\n\t\t\t\t</FlexBlock>\n\t\t\t</Spacer>\n\t\t\t<Spacer marginBottom=\"4\" as={Flex}>\n\t\t\t\t<FlexBlock>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tlabel={__('Cell font weight', 'flexible-table-block')}\n\t\t\t\t\t\tvalue={cellStylesObj?.fontWeight || ''}\n\t\t\t\t\t\tonChange={onChangeFontWeight}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __('Normal', 'flexible-table-block'),\n\t\t\t\t\t\t\t\tvalue: '400',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlabel: __('Bold', 'flexible-table-block'),\n\t\t\t\t\t\t\t\tvalue: '700',\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</FlexBlock>\n\t\t\t</Spacer>\n\t\t\t<HStack alignment=\"start\">\n\t\t\t\t<UnitControl\n\t\t\t\t\tlabel={__('Cell width', 'flexible-table-block')}\n\t\t\t\t\tvalue={cellStylesObj?.width}\n\t\t\t\t\tunits={cellWidthUnits}\n\t\t\t\t\tmin={0}\n\t\t\t\t\tonChange={onChangeWidth}\n\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t__unstableInputWidth=\"calc(50% - 8px)\"\n\t\t\t\t/>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={() => onChangeWidth(undefined)}\n\t\t\t\t>\n\t\t\t\t\t{__('Reset', 'flexible-table-block')}\n\t\t\t\t</Button>\n\t\t\t</HStack>\n\t\t\t<ToggleGroupControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\thideLabelFromVision\n\t\t\t\tlabel={__('Cell percentage width', 'flexible-table-block')}\n\t\t\t\tisBlock\n\t\t\t\tvalue={\n\t\t\t\t\tparsedWidthQuantity &&\n\t\t\t\t\tPERCENTAGE_WIDTHS.includes(parsedWidthQuantity) &&\n\t\t\t\t\tparsedWidthUnit === '%'\n\t\t\t\t\t\t? cellStylesObj?.width\n\t\t\t\t\t\t: undefined\n\t\t\t\t}\n\t\t\t\tonChange={(value) => onChangeWidth(value as Property.Width)}\n\t\t\t>\n\t\t\t\t{PERCENTAGE_WIDTHS.map((perWidth) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\t\tkey={perWidth}\n\t\t\t\t\t\t\tlabel={`${perWidth}%`}\n\t\t\t\t\t\t\tvalue={`${perWidth}%`}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ToggleGroupControl>\n\t\t\t<hr />\n\t\t\t<ColorControl\n\t\t\t\tlabel={__('Cell text color', 'flexible-table-block')}\n\t\t\t\tvalue={cellStylesObj.color}\n\t\t\t\tonChange={onChangeColor}\n\t\t\t/>\n\t\t\t<ColorControl\n\t\t\t\tlabel={__('Cell background color', 'flexible-table-block')}\n\t\t\t\tvalue={cellStylesObj.backgroundColor}\n\t\t\t\tcolors={[\n\t\t\t\t\t{\n\t\t\t\t\t\tname: __('Transparent', 'flexible-table-block'),\n\t\t\t\t\t\tslug: 'transparent',\n\t\t\t\t\t\tcolor: 'transparent',\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t\tonChange={onChangeBackgroundColor}\n\t\t\t/>\n\t\t\t<ColorControl\n\t\t\t\tlabel={__(\n\t\t\t\t\t'Cell hover background color',\n\t\t\t\t\t'flexible-table-block'\n\t\t\t\t)}\n\t\t\t\tvalue={cellStylesObj?.hoverBackgroundColor}\n\t\t\t\tcolors={[\n\t\t\t\t\t{\n\t\t\t\t\t\tname: __('Transparent', 'flexible-table-block'),\n\t\t\t\t\t\tslug: 'transparent',\n\t\t\t\t\t\tcolor: 'transparent',\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t\tonChange={onChangeCellHoverBackgroundColor}\n\t\t\t/>\n\t\t\t<hr />\n\t\t\t<PaddingControl\n\t\t\t\tlabel={__('Cell padding', 'flexible-table-block')}\n\t\t\t\tvalues={pickPadding(cellStylesObj)}\n\t\t\t\tonChange={onChangePadding}\n\t\t\t/>\n\t\t\t<hr />\n\t\t\t<BorderRadiusControl\n\t\t\t\tlabel={__('Cell border radius', 'flexible-table-block')}\n\t\t\t\tvalues={pickBorderRadius(cellStylesObj)}\n\t\t\t\tonChange={onChangeBorderRadius}\n\t\t\t/>\n\t\t\t<BorderWidthControl\n\t\t\t\tlabel={__('Cell border width', 'flexible-table-block')}\n\t\t\t\tvalues={pickBorderWidth(cellStylesObj)}\n\t\t\t\tonChange={onChangeBorderWidth}\n\t\t\t/>\n\t\t\t<BorderStyleControl\n\t\t\t\tlabel={__('Cell border style', 'flexible-table-block')}\n\t\t\t\tvalues={pickBorderStyle(cellStylesObj)}\n\t\t\t\tonChange={onChangeBorderStyle}\n\t\t\t/>\n\t\t\t<BorderColorControl\n\t\t\t\tlabel={__('Cell border color', 'flexible-table-block')}\n\t\t\t\tvalues={pickBorderColor(cellStylesObj)}\n\t\t\t\tonChange={onChangeBorderColor}\n\t\t\t/>\n\t\t\t<hr />\n\t\t\t<BaseControl\n\t\t\t\tid=\"flexible-table-block-cell-text-align\"\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\taria-labelledby=\"flexible-table-block-cell-text-align-heading\"\n\t\t\t\t\trole=\"group\"\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tid=\"flexible-table-block-cell-text-align-heading\"\n\t\t\t\t\t\tclassName=\"ftb-base-control-label\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{__('Cell alignment', 'flexible-table-block')}\n\t\t\t\t\t</span>\n\t\t\t\t\t<Flex\n\t\t\t\t\t\tstyle={{ marginBottom: '-16px' }}\n\t\t\t\t\t\tjustify=\"start\"\n\t\t\t\t\t\talign=\"start\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tlabel={__('Text alignment', 'flexible-table-block')}\n\t\t\t\t\t\t\tvalue={cellStylesObj?.textAlign}\n\t\t\t\t\t\t\tisDeselectable\n\t\t\t\t\t\t\tonChange={onChangeTextAlign}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{TEXT_ALIGNMENT_CONTROLS.map(\n\t\t\t\t\t\t\t\t({ icon, label, value }) => (\n\t\t\t\t\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\t\t\t\t\tkey={value}\n\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t\t\t<ToggleGroupControl\n\t\t\t\t\t\t\thideLabelFromVision\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t\t'Vertical alignment',\n\t\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tvalue={cellStylesObj?.verticalAlign}\n\t\t\t\t\t\t\tisDeselectable\n\t\t\t\t\t\t\tonChange={onChangeVerticalAlign}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{VERTICAL_ALIGNMENT_CONTROLS.map(\n\t\t\t\t\t\t\t\t({ icon, label, value }) => (\n\t\t\t\t\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\t\t\t\t\tkey={value}\n\t\t\t\t\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</ToggleGroupControl>\n\t\t\t\t\t</Flex>\n\t\t\t\t</div>\n\t\t\t</BaseControl>\n\t\t\t<hr />\n\t\t\t<ToggleGroupControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tlabel={__('Cell tag', 'flexible-table-block')}\n\t\t\t\tvalue={targetCell.tag}\n\t\t\t\tisBlock\n\t\t\t\tonChange={onChangeTag}\n\t\t\t>\n\t\t\t\t{CELL_TAG_CONTROLS.map(({ label, value }) => (\n\t\t\t\t\t<ToggleGroupControlOption\n\t\t\t\t\t\tkey={value}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ToggleGroupControl>\n\t\t\t<TextControl\n\t\t\t\tlabel={__('Cell CSS class(es)', 'flexible-table-block')}\n\t\t\t\tautoComplete=\"off\"\n\t\t\t\tvalue={targetCell.className || ''}\n\t\t\t\tonChange={onChangeClass}\n\t\t\t\thelp={__(\n\t\t\t\t\t'Separate multiple classes with spaces.',\n\t\t\t\t\t'flexible-table-block'\n\t\t\t\t)}\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t/>\n\t\t\t{selectedCellTags.length === 1 && (\n\t\t\t\t<>\n\t\t\t\t\t<hr />\n\t\t\t\t\t{selectedCellTags.includes('th') && (\n\t\t\t\t\t\t<TextControl\n\t\t\t\t\t\t\tlabel={createInterpolateElement(\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'<code>id</code> attribute',\n\t\t\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{ code: <code /> }\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\tvalue={targetCell.id || ''}\n\t\t\t\t\t\t\tonChange={onChangeId}\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={createInterpolateElement(\n\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t'<code>headers</code> attribute',\n\t\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t{ code: <code /> }\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tvalue={targetCell.headers || ''}\n\t\t\t\t\t\tonChange={onChangeHeaders}\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t/>\n\t\t\t\t\t{selectedCellTags.includes('th') && (\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={createInterpolateElement(\n\t\t\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t\t\t'<code>scope</code> attribute',\n\t\t\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t{ code: <code /> }\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tvalue={targetCell.scope}\n\t\t\t\t\t\t\toptions={CELL_SCOPE_CONTROLS.map(\n\t\t\t\t\t\t\t\t({ label, value }) => {\n\t\t\t\t\t\t\t\t\treturn { label, value };\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\t\t\tonChangeScope(value as CellScopeValue)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t</>\n\t);\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"coreData\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"keycodes\"];","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst blockTable = /*#__PURE__*/_jsx(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z\"\n  })\n});\nexport default blockTable;\n//# sourceMappingURL=block-table.js.map","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"notices\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"prcIcons\"];","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst title = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"m4 5.5h2v6.5h1.5v-6.5h2v-1.5h-5.5zm16 10.5h-16v-1.5h16zm-7 4h-9v-1.5h9z\"\n  })\n});\nexport default title;\n//# sourceMappingURL=title.js.map","/**\n * WordPress dependencies\n */\nimport { Path, SVG } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst caption = /*#__PURE__*/_jsx(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsx(Path, {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z\"\n  })\n});\nexport default caption;\n//# sourceMappingURL=caption.js.map","function extend (destination) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) destination[key] = source[key];\n    }\n  }\n  return destination\n}\n\nfunction repeat (character, count) {\n  return Array(count + 1).join(character)\n}\n\nfunction trimLeadingNewlines (string) {\n  return string.replace(/^\\n*/, '')\n}\n\nfunction trimTrailingNewlines (string) {\n  // avoid match-at-end regexp bottleneck, see #370\n  var indexEnd = string.length;\n  while (indexEnd > 0 && string[indexEnd - 1] === '\\n') indexEnd--;\n  return string.substring(0, indexEnd)\n}\n\nvar blockElements = [\n  'ADDRESS', 'ARTICLE', 'ASIDE', 'AUDIO', 'BLOCKQUOTE', 'BODY', 'CANVAS',\n  'CENTER', 'DD', 'DIR', 'DIV', 'DL', 'DT', 'FIELDSET', 'FIGCAPTION', 'FIGURE',\n  'FOOTER', 'FORM', 'FRAMESET', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'HEADER',\n  'HGROUP', 'HR', 'HTML', 'ISINDEX', 'LI', 'MAIN', 'MENU', 'NAV', 'NOFRAMES',\n  'NOSCRIPT', 'OL', 'OUTPUT', 'P', 'PRE', 'SECTION', 'TABLE', 'TBODY', 'TD',\n  'TFOOT', 'TH', 'THEAD', 'TR', 'UL'\n];\n\nfunction isBlock (node) {\n  return is(node, blockElements)\n}\n\nvar voidElements = [\n  'AREA', 'BASE', 'BR', 'COL', 'COMMAND', 'EMBED', 'HR', 'IMG', 'INPUT',\n  'KEYGEN', 'LINK', 'META', 'PARAM', 'SOURCE', 'TRACK', 'WBR'\n];\n\nfunction isVoid (node) {\n  return is(node, voidElements)\n}\n\nfunction hasVoid (node) {\n  return has(node, voidElements)\n}\n\nvar meaningfulWhenBlankElements = [\n  'A', 'TABLE', 'THEAD', 'TBODY', 'TFOOT', 'TH', 'TD', 'IFRAME', 'SCRIPT',\n  'AUDIO', 'VIDEO'\n];\n\nfunction isMeaningfulWhenBlank (node) {\n  return is(node, meaningfulWhenBlankElements)\n}\n\nfunction hasMeaningfulWhenBlank (node) {\n  return has(node, meaningfulWhenBlankElements)\n}\n\nfunction is (node, tagNames) {\n  return tagNames.indexOf(node.nodeName) >= 0\n}\n\nfunction has (node, tagNames) {\n  return (\n    node.getElementsByTagName &&\n    tagNames.some(function (tagName) {\n      return node.getElementsByTagName(tagName).length\n    })\n  )\n}\n\nvar rules = {};\n\nrules.paragraph = {\n  filter: 'p',\n\n  replacement: function (content) {\n    return '\\n\\n' + content + '\\n\\n'\n  }\n};\n\nrules.lineBreak = {\n  filter: 'br',\n\n  replacement: function (content, node, options) {\n    return options.br + '\\n'\n  }\n};\n\nrules.heading = {\n  filter: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n\n  replacement: function (content, node, options) {\n    var hLevel = Number(node.nodeName.charAt(1));\n\n    if (options.headingStyle === 'setext' && hLevel < 3) {\n      var underline = repeat((hLevel === 1 ? '=' : '-'), content.length);\n      return (\n        '\\n\\n' + content + '\\n' + underline + '\\n\\n'\n      )\n    } else {\n      return '\\n\\n' + repeat('#', hLevel) + ' ' + content + '\\n\\n'\n    }\n  }\n};\n\nrules.blockquote = {\n  filter: 'blockquote',\n\n  replacement: function (content) {\n    content = content.replace(/^\\n+|\\n+$/g, '');\n    content = content.replace(/^/gm, '> ');\n    return '\\n\\n' + content + '\\n\\n'\n  }\n};\n\nrules.list = {\n  filter: ['ul', 'ol'],\n\n  replacement: function (content, node) {\n    var parent = node.parentNode;\n    if (parent.nodeName === 'LI' && parent.lastElementChild === node) {\n      return '\\n' + content\n    } else {\n      return '\\n\\n' + content + '\\n\\n'\n    }\n  }\n};\n\nrules.listItem = {\n  filter: 'li',\n\n  replacement: function (content, node, options) {\n    content = content\n      .replace(/^\\n+/, '') // remove leading newlines\n      .replace(/\\n+$/, '\\n') // replace trailing newlines with just a single one\n      .replace(/\\n/gm, '\\n    '); // indent\n    var prefix = options.bulletListMarker + '   ';\n    var parent = node.parentNode;\n    if (parent.nodeName === 'OL') {\n      var start = parent.getAttribute('start');\n      var index = Array.prototype.indexOf.call(parent.children, node);\n      prefix = (start ? Number(start) + index : index + 1) + '.  ';\n    }\n    return (\n      prefix + content + (node.nextSibling && !/\\n$/.test(content) ? '\\n' : '')\n    )\n  }\n};\n\nrules.indentedCodeBlock = {\n  filter: function (node, options) {\n    return (\n      options.codeBlockStyle === 'indented' &&\n      node.nodeName === 'PRE' &&\n      node.firstChild &&\n      node.firstChild.nodeName === 'CODE'\n    )\n  },\n\n  replacement: function (content, node, options) {\n    return (\n      '\\n\\n    ' +\n      node.firstChild.textContent.replace(/\\n/g, '\\n    ') +\n      '\\n\\n'\n    )\n  }\n};\n\nrules.fencedCodeBlock = {\n  filter: function (node, options) {\n    return (\n      options.codeBlockStyle === 'fenced' &&\n      node.nodeName === 'PRE' &&\n      node.firstChild &&\n      node.firstChild.nodeName === 'CODE'\n    )\n  },\n\n  replacement: function (content, node, options) {\n    var className = node.firstChild.getAttribute('class') || '';\n    var language = (className.match(/language-(\\S+)/) || [null, ''])[1];\n    var code = node.firstChild.textContent;\n\n    var fenceChar = options.fence.charAt(0);\n    var fenceSize = 3;\n    var fenceInCodeRegex = new RegExp('^' + fenceChar + '{3,}', 'gm');\n\n    var match;\n    while ((match = fenceInCodeRegex.exec(code))) {\n      if (match[0].length >= fenceSize) {\n        fenceSize = match[0].length + 1;\n      }\n    }\n\n    var fence = repeat(fenceChar, fenceSize);\n\n    return (\n      '\\n\\n' + fence + language + '\\n' +\n      code.replace(/\\n$/, '') +\n      '\\n' + fence + '\\n\\n'\n    )\n  }\n};\n\nrules.horizontalRule = {\n  filter: 'hr',\n\n  replacement: function (content, node, options) {\n    return '\\n\\n' + options.hr + '\\n\\n'\n  }\n};\n\nrules.inlineLink = {\n  filter: function (node, options) {\n    return (\n      options.linkStyle === 'inlined' &&\n      node.nodeName === 'A' &&\n      node.getAttribute('href')\n    )\n  },\n\n  replacement: function (content, node) {\n    var href = node.getAttribute('href');\n    if (href) href = href.replace(/([()])/g, '\\\\$1');\n    var title = cleanAttribute(node.getAttribute('title'));\n    if (title) title = ' \"' + title.replace(/\"/g, '\\\\\"') + '\"';\n    return '[' + content + '](' + href + title + ')'\n  }\n};\n\nrules.referenceLink = {\n  filter: function (node, options) {\n    return (\n      options.linkStyle === 'referenced' &&\n      node.nodeName === 'A' &&\n      node.getAttribute('href')\n    )\n  },\n\n  replacement: function (content, node, options) {\n    var href = node.getAttribute('href');\n    var title = cleanAttribute(node.getAttribute('title'));\n    if (title) title = ' \"' + title + '\"';\n    var replacement;\n    var reference;\n\n    switch (options.linkReferenceStyle) {\n      case 'collapsed':\n        replacement = '[' + content + '][]';\n        reference = '[' + content + ']: ' + href + title;\n        break\n      case 'shortcut':\n        replacement = '[' + content + ']';\n        reference = '[' + content + ']: ' + href + title;\n        break\n      default:\n        var id = this.references.length + 1;\n        replacement = '[' + content + '][' + id + ']';\n        reference = '[' + id + ']: ' + href + title;\n    }\n\n    this.references.push(reference);\n    return replacement\n  },\n\n  references: [],\n\n  append: function (options) {\n    var references = '';\n    if (this.references.length) {\n      references = '\\n\\n' + this.references.join('\\n') + '\\n\\n';\n      this.references = []; // Reset references\n    }\n    return references\n  }\n};\n\nrules.emphasis = {\n  filter: ['em', 'i'],\n\n  replacement: function (content, node, options) {\n    if (!content.trim()) return ''\n    return options.emDelimiter + content + options.emDelimiter\n  }\n};\n\nrules.strong = {\n  filter: ['strong', 'b'],\n\n  replacement: function (content, node, options) {\n    if (!content.trim()) return ''\n    return options.strongDelimiter + content + options.strongDelimiter\n  }\n};\n\nrules.code = {\n  filter: function (node) {\n    var hasSiblings = node.previousSibling || node.nextSibling;\n    var isCodeBlock = node.parentNode.nodeName === 'PRE' && !hasSiblings;\n\n    return node.nodeName === 'CODE' && !isCodeBlock\n  },\n\n  replacement: function (content) {\n    if (!content) return ''\n    content = content.replace(/\\r?\\n|\\r/g, ' ');\n\n    var extraSpace = /^`|^ .*?[^ ].* $|`$/.test(content) ? ' ' : '';\n    var delimiter = '`';\n    var matches = content.match(/`+/gm) || [];\n    while (matches.indexOf(delimiter) !== -1) delimiter = delimiter + '`';\n\n    return delimiter + extraSpace + content + extraSpace + delimiter\n  }\n};\n\nrules.image = {\n  filter: 'img',\n\n  replacement: function (content, node) {\n    var alt = cleanAttribute(node.getAttribute('alt'));\n    var src = node.getAttribute('src') || '';\n    var title = cleanAttribute(node.getAttribute('title'));\n    var titlePart = title ? ' \"' + title + '\"' : '';\n    return src ? '![' + alt + ']' + '(' + src + titlePart + ')' : ''\n  }\n};\n\nfunction cleanAttribute (attribute) {\n  return attribute ? attribute.replace(/(\\n+\\s*)+/g, '\\n') : ''\n}\n\n/**\n * Manages a collection of rules used to convert HTML to Markdown\n */\n\nfunction Rules (options) {\n  this.options = options;\n  this._keep = [];\n  this._remove = [];\n\n  this.blankRule = {\n    replacement: options.blankReplacement\n  };\n\n  this.keepReplacement = options.keepReplacement;\n\n  this.defaultRule = {\n    replacement: options.defaultReplacement\n  };\n\n  this.array = [];\n  for (var key in options.rules) this.array.push(options.rules[key]);\n}\n\nRules.prototype = {\n  add: function (key, rule) {\n    this.array.unshift(rule);\n  },\n\n  keep: function (filter) {\n    this._keep.unshift({\n      filter: filter,\n      replacement: this.keepReplacement\n    });\n  },\n\n  remove: function (filter) {\n    this._remove.unshift({\n      filter: filter,\n      replacement: function () {\n        return ''\n      }\n    });\n  },\n\n  forNode: function (node) {\n    if (node.isBlank) return this.blankRule\n    var rule;\n\n    if ((rule = findRule(this.array, node, this.options))) return rule\n    if ((rule = findRule(this._keep, node, this.options))) return rule\n    if ((rule = findRule(this._remove, node, this.options))) return rule\n\n    return this.defaultRule\n  },\n\n  forEach: function (fn) {\n    for (var i = 0; i < this.array.length; i++) fn(this.array[i], i);\n  }\n};\n\nfunction findRule (rules, node, options) {\n  for (var i = 0; i < rules.length; i++) {\n    var rule = rules[i];\n    if (filterValue(rule, node, options)) return rule\n  }\n  return void 0\n}\n\nfunction filterValue (rule, node, options) {\n  var filter = rule.filter;\n  if (typeof filter === 'string') {\n    if (filter === node.nodeName.toLowerCase()) return true\n  } else if (Array.isArray(filter)) {\n    if (filter.indexOf(node.nodeName.toLowerCase()) > -1) return true\n  } else if (typeof filter === 'function') {\n    if (filter.call(rule, node, options)) return true\n  } else {\n    throw new TypeError('`filter` needs to be a string, array, or function')\n  }\n}\n\n/**\n * The collapseWhitespace function is adapted from collapse-whitespace\n * by Luc Thevenard.\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2014 Luc Thevenard <lucthevenard@gmail.com>\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * collapseWhitespace(options) removes extraneous whitespace from an the given element.\n *\n * @param {Object} options\n */\nfunction collapseWhitespace (options) {\n  var element = options.element;\n  var isBlock = options.isBlock;\n  var isVoid = options.isVoid;\n  var isPre = options.isPre || function (node) {\n    return node.nodeName === 'PRE'\n  };\n\n  if (!element.firstChild || isPre(element)) return\n\n  var prevText = null;\n  var keepLeadingWs = false;\n\n  var prev = null;\n  var node = next(prev, element, isPre);\n\n  while (node !== element) {\n    if (node.nodeType === 3 || node.nodeType === 4) { // Node.TEXT_NODE or Node.CDATA_SECTION_NODE\n      var text = node.data.replace(/[ \\r\\n\\t]+/g, ' ');\n\n      if ((!prevText || / $/.test(prevText.data)) &&\n          !keepLeadingWs && text[0] === ' ') {\n        text = text.substr(1);\n      }\n\n      // `text` might be empty at this point.\n      if (!text) {\n        node = remove(node);\n        continue\n      }\n\n      node.data = text;\n\n      prevText = node;\n    } else if (node.nodeType === 1) { // Node.ELEMENT_NODE\n      if (isBlock(node) || node.nodeName === 'BR') {\n        if (prevText) {\n          prevText.data = prevText.data.replace(/ $/, '');\n        }\n\n        prevText = null;\n        keepLeadingWs = false;\n      } else if (isVoid(node) || isPre(node)) {\n        // Avoid trimming space around non-block, non-BR void elements and inline PRE.\n        prevText = null;\n        keepLeadingWs = true;\n      } else if (prevText) {\n        // Drop protection if set previously.\n        keepLeadingWs = false;\n      }\n    } else {\n      node = remove(node);\n      continue\n    }\n\n    var nextNode = next(prev, node, isPre);\n    prev = node;\n    node = nextNode;\n  }\n\n  if (prevText) {\n    prevText.data = prevText.data.replace(/ $/, '');\n    if (!prevText.data) {\n      remove(prevText);\n    }\n  }\n}\n\n/**\n * remove(node) removes the given node from the DOM and returns the\n * next node in the sequence.\n *\n * @param {Node} node\n * @return {Node} node\n */\nfunction remove (node) {\n  var next = node.nextSibling || node.parentNode;\n\n  node.parentNode.removeChild(node);\n\n  return next\n}\n\n/**\n * next(prev, current, isPre) returns the next node in the sequence, given the\n * current and previous nodes.\n *\n * @param {Node} prev\n * @param {Node} current\n * @param {Function} isPre\n * @return {Node}\n */\nfunction next (prev, current, isPre) {\n  if ((prev && prev.parentNode === current) || isPre(current)) {\n    return current.nextSibling || current.parentNode\n  }\n\n  return current.firstChild || current.nextSibling || current.parentNode\n}\n\n/*\n * Set up window for Node.js\n */\n\nvar root = (typeof window !== 'undefined' ? window : {});\n\n/*\n * Parsing HTML strings\n */\n\nfunction canParseHTMLNatively () {\n  var Parser = root.DOMParser;\n  var canParse = false;\n\n  // Adapted from https://gist.github.com/1129031\n  // Firefox/Opera/IE throw errors on unsupported types\n  try {\n    // WebKit returns null on unsupported types\n    if (new Parser().parseFromString('', 'text/html')) {\n      canParse = true;\n    }\n  } catch (e) {}\n\n  return canParse\n}\n\nfunction createHTMLParser () {\n  var Parser = function () {};\n\n  {\n    if (shouldUseActiveX()) {\n      Parser.prototype.parseFromString = function (string) {\n        var doc = new window.ActiveXObject('htmlfile');\n        doc.designMode = 'on'; // disable on-page scripts\n        doc.open();\n        doc.write(string);\n        doc.close();\n        return doc\n      };\n    } else {\n      Parser.prototype.parseFromString = function (string) {\n        var doc = document.implementation.createHTMLDocument('');\n        doc.open();\n        doc.write(string);\n        doc.close();\n        return doc\n      };\n    }\n  }\n  return Parser\n}\n\nfunction shouldUseActiveX () {\n  var useActiveX = false;\n  try {\n    document.implementation.createHTMLDocument('').open();\n  } catch (e) {\n    if (root.ActiveXObject) useActiveX = true;\n  }\n  return useActiveX\n}\n\nvar HTMLParser = canParseHTMLNatively() ? root.DOMParser : createHTMLParser();\n\nfunction RootNode (input, options) {\n  var root;\n  if (typeof input === 'string') {\n    var doc = htmlParser().parseFromString(\n      // DOM parsers arrange elements in the <head> and <body>.\n      // Wrapping in a custom element ensures elements are reliably arranged in\n      // a single element.\n      '<x-turndown id=\"turndown-root\">' + input + '</x-turndown>',\n      'text/html'\n    );\n    root = doc.getElementById('turndown-root');\n  } else {\n    root = input.cloneNode(true);\n  }\n  collapseWhitespace({\n    element: root,\n    isBlock: isBlock,\n    isVoid: isVoid,\n    isPre: options.preformattedCode ? isPreOrCode : null\n  });\n\n  return root\n}\n\nvar _htmlParser;\nfunction htmlParser () {\n  _htmlParser = _htmlParser || new HTMLParser();\n  return _htmlParser\n}\n\nfunction isPreOrCode (node) {\n  return node.nodeName === 'PRE' || node.nodeName === 'CODE'\n}\n\nfunction Node (node, options) {\n  node.isBlock = isBlock(node);\n  node.isCode = node.nodeName === 'CODE' || node.parentNode.isCode;\n  node.isBlank = isBlank(node);\n  node.flankingWhitespace = flankingWhitespace(node, options);\n  return node\n}\n\nfunction isBlank (node) {\n  return (\n    !isVoid(node) &&\n    !isMeaningfulWhenBlank(node) &&\n    /^\\s*$/i.test(node.textContent) &&\n    !hasVoid(node) &&\n    !hasMeaningfulWhenBlank(node)\n  )\n}\n\nfunction flankingWhitespace (node, options) {\n  if (node.isBlock || (options.preformattedCode && node.isCode)) {\n    return { leading: '', trailing: '' }\n  }\n\n  var edges = edgeWhitespace(node.textContent);\n\n  // abandon leading ASCII WS if left-flanked by ASCII WS\n  if (edges.leadingAscii && isFlankedByWhitespace('left', node, options)) {\n    edges.leading = edges.leadingNonAscii;\n  }\n\n  // abandon trailing ASCII WS if right-flanked by ASCII WS\n  if (edges.trailingAscii && isFlankedByWhitespace('right', node, options)) {\n    edges.trailing = edges.trailingNonAscii;\n  }\n\n  return { leading: edges.leading, trailing: edges.trailing }\n}\n\nfunction edgeWhitespace (string) {\n  var m = string.match(/^(([ \\t\\r\\n]*)(\\s*))(?:(?=\\S)[\\s\\S]*\\S)?((\\s*?)([ \\t\\r\\n]*))$/);\n  return {\n    leading: m[1], // whole string for whitespace-only strings\n    leadingAscii: m[2],\n    leadingNonAscii: m[3],\n    trailing: m[4], // empty for whitespace-only strings\n    trailingNonAscii: m[5],\n    trailingAscii: m[6]\n  }\n}\n\nfunction isFlankedByWhitespace (side, node, options) {\n  var sibling;\n  var regExp;\n  var isFlanked;\n\n  if (side === 'left') {\n    sibling = node.previousSibling;\n    regExp = / $/;\n  } else {\n    sibling = node.nextSibling;\n    regExp = /^ /;\n  }\n\n  if (sibling) {\n    if (sibling.nodeType === 3) {\n      isFlanked = regExp.test(sibling.nodeValue);\n    } else if (options.preformattedCode && sibling.nodeName === 'CODE') {\n      isFlanked = false;\n    } else if (sibling.nodeType === 1 && !isBlock(sibling)) {\n      isFlanked = regExp.test(sibling.textContent);\n    }\n  }\n  return isFlanked\n}\n\nvar reduce = Array.prototype.reduce;\nvar escapes = [\n  [/\\\\/g, '\\\\\\\\'],\n  [/\\*/g, '\\\\*'],\n  [/^-/g, '\\\\-'],\n  [/^\\+ /g, '\\\\+ '],\n  [/^(=+)/g, '\\\\$1'],\n  [/^(#{1,6}) /g, '\\\\$1 '],\n  [/`/g, '\\\\`'],\n  [/^~~~/g, '\\\\~~~'],\n  [/\\[/g, '\\\\['],\n  [/\\]/g, '\\\\]'],\n  [/^>/g, '\\\\>'],\n  [/_/g, '\\\\_'],\n  [/^(\\d+)\\. /g, '$1\\\\. ']\n];\n\nfunction TurndownService (options) {\n  if (!(this instanceof TurndownService)) return new TurndownService(options)\n\n  var defaults = {\n    rules: rules,\n    headingStyle: 'setext',\n    hr: '* * *',\n    bulletListMarker: '*',\n    codeBlockStyle: 'indented',\n    fence: '```',\n    emDelimiter: '_',\n    strongDelimiter: '**',\n    linkStyle: 'inlined',\n    linkReferenceStyle: 'full',\n    br: '  ',\n    preformattedCode: false,\n    blankReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' : ''\n    },\n    keepReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' + node.outerHTML + '\\n\\n' : node.outerHTML\n    },\n    defaultReplacement: function (content, node) {\n      return node.isBlock ? '\\n\\n' + content + '\\n\\n' : content\n    }\n  };\n  this.options = extend({}, defaults, options);\n  this.rules = new Rules(this.options);\n}\n\nTurndownService.prototype = {\n  /**\n   * The entry point for converting a string or DOM node to Markdown\n   * @public\n   * @param {String|HTMLElement} input The string or DOM node to convert\n   * @returns A Markdown representation of the input\n   * @type String\n   */\n\n  turndown: function (input) {\n    if (!canConvert(input)) {\n      throw new TypeError(\n        input + ' is not a string, or an element/document/fragment node.'\n      )\n    }\n\n    if (input === '') return ''\n\n    var output = process.call(this, new RootNode(input, this.options));\n    return postProcess.call(this, output)\n  },\n\n  /**\n   * Add one or more plugins\n   * @public\n   * @param {Function|Array} plugin The plugin or array of plugins to add\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  use: function (plugin) {\n    if (Array.isArray(plugin)) {\n      for (var i = 0; i < plugin.length; i++) this.use(plugin[i]);\n    } else if (typeof plugin === 'function') {\n      plugin(this);\n    } else {\n      throw new TypeError('plugin must be a Function or an Array of Functions')\n    }\n    return this\n  },\n\n  /**\n   * Adds a rule\n   * @public\n   * @param {String} key The unique key of the rule\n   * @param {Object} rule The rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  addRule: function (key, rule) {\n    this.rules.add(key, rule);\n    return this\n  },\n\n  /**\n   * Keep a node (as HTML) that matches the filter\n   * @public\n   * @param {String|Array|Function} filter The unique key of the rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  keep: function (filter) {\n    this.rules.keep(filter);\n    return this\n  },\n\n  /**\n   * Remove a node that matches the filter\n   * @public\n   * @param {String|Array|Function} filter The unique key of the rule\n   * @returns The Turndown instance for chaining\n   * @type Object\n   */\n\n  remove: function (filter) {\n    this.rules.remove(filter);\n    return this\n  },\n\n  /**\n   * Escapes Markdown syntax\n   * @public\n   * @param {String} string The string to escape\n   * @returns A string with Markdown syntax escaped\n   * @type String\n   */\n\n  escape: function (string) {\n    return escapes.reduce(function (accumulator, escape) {\n      return accumulator.replace(escape[0], escape[1])\n    }, string)\n  }\n};\n\n/**\n * Reduces a DOM node down to its Markdown string equivalent\n * @private\n * @param {HTMLElement} parentNode The node to convert\n * @returns A Markdown representation of the node\n * @type String\n */\n\nfunction process (parentNode) {\n  var self = this;\n  return reduce.call(parentNode.childNodes, function (output, node) {\n    node = new Node(node, self.options);\n\n    var replacement = '';\n    if (node.nodeType === 3) {\n      replacement = node.isCode ? node.nodeValue : self.escape(node.nodeValue);\n    } else if (node.nodeType === 1) {\n      replacement = replacementForNode.call(self, node);\n    }\n\n    return join(output, replacement)\n  }, '')\n}\n\n/**\n * Appends strings as each rule requires and trims the output\n * @private\n * @param {String} output The conversion output\n * @returns A trimmed version of the ouput\n * @type String\n */\n\nfunction postProcess (output) {\n  var self = this;\n  this.rules.forEach(function (rule) {\n    if (typeof rule.append === 'function') {\n      output = join(output, rule.append(self.options));\n    }\n  });\n\n  return output.replace(/^[\\t\\r\\n]+/, '').replace(/[\\t\\r\\n\\s]+$/, '')\n}\n\n/**\n * Converts an element node to its Markdown equivalent\n * @private\n * @param {HTMLElement} node The node to convert\n * @returns A Markdown representation of the node\n * @type String\n */\n\nfunction replacementForNode (node) {\n  var rule = this.rules.forNode(node);\n  var content = process.call(this, node);\n  var whitespace = node.flankingWhitespace;\n  if (whitespace.leading || whitespace.trailing) content = content.trim();\n  return (\n    whitespace.leading +\n    rule.replacement(content, node, this.options) +\n    whitespace.trailing\n  )\n}\n\n/**\n * Joins replacement to the current output with appropriate number of new lines\n * @private\n * @param {String} output The current conversion output\n * @param {String} replacement The string to append to the output\n * @returns Joined output\n * @type String\n */\n\nfunction join (output, replacement) {\n  var s1 = trimTrailingNewlines(output);\n  var s2 = trimLeadingNewlines(replacement);\n  var nls = Math.max(output.length - s1.length, replacement.length - s2.length);\n  var separator = '\\n\\n'.substring(0, nls);\n\n  return s1 + separator + s2\n}\n\n/**\n * Determines whether an input can be converted\n * @private\n * @param {String|HTMLElement} input Describe this parameter\n * @returns Describe what it returns\n * @type String|Object|Array|Boolean|Number\n */\n\nfunction canConvert (input) {\n  return (\n    input != null && (\n      typeof input === 'string' ||\n      (input.nodeType && (\n        input.nodeType === 1 || input.nodeType === 9 || input.nodeType === 11\n      ))\n    )\n  )\n}\n\nexport default TurndownService;\n","/**\n * External Dependencies\n */\nimport React from 'react';\n\n/**\n * WordPress Dependencies\n */\nimport { Spinner } from '@wordpress/components';\nimport { Icon } from '@prc/icons';\nimport { __ } from '@wordpress/i18n';\n\n// AI theme colors\nexport const AI_COLORS = {\n\tprimary: '#8B5CF6', // A nice purple color commonly used for AI\n\ttext: '#6B7280', // A muted gray for text\n\ticonBackground: 'rgba(139, 92, 246, 0.1)', // Very light purple background\n};\n\n/**\n * AILoadingAnimation component displays a loading state for AI operations.\n */\nexport default function AILoadingAnimation() {\n\treturn (\n\t\t<div\n\t\t\tstyle={{\n\t\t\t\tdisplay: 'flex',\n\t\t\t\tflexDirection: 'column',\n\t\t\t\talignItems: 'center',\n\t\t\t\tgap: '1em',\n\t\t\t\tpadding: '2em',\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tstyle={{\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tgap: '0.5em',\n\t\t\t\t\tpadding: '0.75em',\n\t\t\t\t\tbackground: AI_COLORS.iconBackground,\n\t\t\t\t\tborderRadius: '8px',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Icon\n\t\t\t\t\ticon=\"sparkles\"\n\t\t\t\t\tlibrary=\"solid\"\n\t\t\t\t\tsize=\"1\"\n\t\t\t\t\tstyle={{ color: AI_COLORS.primary }}\n\t\t\t\t/>\n\t\t\t\t<Spinner\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tcolor: AI_COLORS.primary,\n\t\t\t\t\t\tmarginTop: 0,\n\t\t\t\t\t\tmarginBottom: 0,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<p style={{ margin: 0, color: AI_COLORS.text }}>\n\t\t\t\t{__(\n\t\t\t\t\t'PRC Copilot is generating suggestions',\n\t\t\t\t\t'prc-block-library'\n\t\t\t\t)}\n\t\t\t</p>\n\t\t</div>\n\t);\n}\n","/* eslint-disable max-lines */\n/**\n * External Dependencies\n */\nimport { Icon } from '@prc/icons';\nimport {\n\ttitle as titleIcon,\n\tcaption as captionIcon,\n\tblockTable as blockTableIcon,\n} from '@wordpress/icons';\nimport TurndownService from 'turndown';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { select, useDispatch } from '@wordpress/data';\nimport {\n\tButton,\n\tModal,\n\tToolbarButton,\n\tToolbarDropdownMenu,\n\tTextareaControl,\n} from '@wordpress/components';\nimport { store as noticeStore } from '@wordpress/notices';\nimport { useState, useCallback, useMemo } from '@wordpress/element';\n\n/**\n * Internal Dependencies\n */\nimport AILoadingAnimation from '../components/ai-loading';\n\nfunction createVirtualTable(tableAttributes) {\n\tlet html = '<table>';\n\n\t// Helper to render a section (head, body, foot)\n\tconst renderSection = (sectionName) => {\n\t\tconst rows = tableAttributes[sectionName];\n\t\tif (!rows || rows.length === 0) return '';\n\t\tconst tag =\n\t\t\t// eslint-disable-next-line no-nested-ternary\n\t\t\tsectionName === 'head'\n\t\t\t\t? 'thead'\n\t\t\t\t: sectionName === 'body'\n\t\t\t\t\t? 'tbody'\n\t\t\t\t\t: 'tfoot';\n\t\treturn `<${tag}>${rows\n\t\t\t.map(\n\t\t\t\t(row) =>\n\t\t\t\t\t`<tr>${row.cells\n\t\t\t\t\t\t.filter((cell) => !cell.isHidden)\n\t\t\t\t\t\t.map(\n\t\t\t\t\t\t\t(cell) =>\n\t\t\t\t\t\t\t\t`<${cell.tag}>${cell.content}</${cell.tag}>`\n\t\t\t\t\t\t)\n\t\t\t\t\t\t.join('')}</tr>`\n\t\t\t)\n\t\t\t.join('')}</${tag}>`;\n\t};\n\n\thtml += renderSection('head');\n\thtml += renderSection('body');\n\thtml += renderSection('foot');\n\thtml += '</table>';\n\treturn html;\n}\n\n/**\n * Convert the table to markdown.\n *\n * @param tableAttributes - The table attributes to convert.\n * @return The markdown representation of the table.\n */\nfunction convertTableToMarkdown(tableAttributes) {\n\tconst html = createVirtualTable(tableAttributes);\n\tconst turndownService = new TurndownService();\n\tconst markdown = turndownService.turndown(html);\n\treturn markdown;\n}\n\nfunction convertMarkdownToTable(markdown) {\n\t// Split the content into lines\n\tconst lines = markdown.split('\\n');\n\n\t// Variables to store text before and after the table\n\tconst preTableText = [];\n\tconst postTableText = [];\n\tlet tableLines = [];\n\tlet isInTable = false;\n\tlet tableEnded = false;\n\n\t// Process each line to separate table and text\n\tfor (const line of lines) {\n\t\t// Detect table start by looking for a line with | characters\n\t\tif (!isInTable && line.includes('|') && line.trim().startsWith('|')) {\n\t\t\tisInTable = true;\n\t\t\ttableLines.push(line);\n\t\t\tcontinue;\n\t\t}\n\n\t\t// If we're in the table and find a line without |, table has ended\n\t\tif (\n\t\t\tisInTable &&\n\t\t\t(!line.includes('|') || !line.trim().startsWith('|'))\n\t\t) {\n\t\t\tisInTable = false;\n\t\t\ttableEnded = true;\n\t\t}\n\n\t\t// Add lines to appropriate arrays\n\t\tif (isInTable) {\n\t\t\ttableLines.push(line);\n\t\t} else if (!tableEnded) {\n\t\t\tif (line.trim()) preTableText.push(line);\n\t\t} else if (line.trim()) postTableText.push(line);\n\t}\n\n\t// Filter out empty lines from the table\n\ttableLines = tableLines.filter((line) => line.trim());\n\n\tif (tableLines.length < 3) {\n\t\treturn null; // Not enough lines for a valid table\n\t}\n\n\t// Parse header row\n\tconst headerCells = tableLines[0]\n\t\t.split('|')\n\t\t.filter((cell) => cell.trim())\n\t\t.map((cell) => ({\n\t\t\tcontent: cell.trim(),\n\t\t\ttag: 'th',\n\t\t\tisHidden: false,\n\t\t}));\n\n\t// Skip separator row (line with dashes)\n\n\t// Parse body rows\n\tconst bodyRows = tableLines.slice(2).map((line) => ({\n\t\tcells: line\n\t\t\t.split('|')\n\t\t\t.filter((cell) => cell.trim())\n\t\t\t.map((cell) => ({\n\t\t\t\tcontent: cell.trim(),\n\t\t\t\ttag: 'td',\n\t\t\t\tisHidden: false,\n\t\t\t})),\n\t}));\n\n\t// Combine pre and post text\n\tconst textContent = {\n\t\tbefore: preTableText.join('\\n').trim(),\n\t\tafter: postTableText.join('\\n').trim(),\n\t};\n\n\treturn {\n\t\tdata: {\n\t\t\thead: [\n\t\t\t\t{\n\t\t\t\t\tcells: headerCells,\n\t\t\t\t},\n\t\t\t],\n\t\t\tbody: bodyRows,\n\t\t\tfoot: [], // No footer in this markdown table\n\t\t},\n\t\ttext: textContent,\n\t};\n}\n\nasync function aiMetadata(\n\tmodelVersion,\n\tusageMetadata,\n\tcitationMetadata,\n\tprompt\n) {\n\t// Get the current user id\n\tconst currentUser = wp.data.select('core').getCurrentUser();\n\tconst currentUserId = currentUser?.id;\n\n\t// Get the current timestamp\n\tconst currentTimestamp = new Date().toISOString();\n\n\treturn {\n\t\tuserId: currentUserId,\n\t\ttimestamp: currentTimestamp,\n\t\tmodelVersion,\n\t\tusageMetadata,\n\t\tcitationMetadata,\n\t\tprompt,\n\t};\n}\n\n/**\n * Generate a title for the table.\n *\n * @param attributes - The attributes of the table.\n * @return The title for the table.\n */\nasync function aiGenerateTitle(\n\tattributes = {\n\t\tbody: [],\n\t\thead: [],\n\t\tfoot: [],\n\t\tmetadata: {\n\t\t\tname: '',\n\t\t},\n\t\tcaption: '',\n\t}\n) {\n\tconst { isServiceAvailable, getAvailableService } =\n\t\tselect('ai-services/ai');\n\tif (isServiceAvailable('google')) {\n\t\tconst service = getAvailableService('google');\n\t\tconst table = {\n\t\t\tbody: attributes.body,\n\t\t\thead: attributes.head,\n\t\t\tfoot: attributes.foot,\n\t\t};\n\t\ttry {\n\t\t\tlet prompt = '';\n\t\t\tif (\n\t\t\t\tattributes?.metadata &&\n\t\t\t\tattributes?.metadata?.name &&\n\t\t\t\tattributes?.metadata?.name.length > 0\n\t\t\t) {\n\t\t\t\tprompt = `The table is named ${attributes?.metadata?.name}. Use this to help when generating the title. This is the markdown table: ${convertTableToMarkdown(table)}`;\n\t\t\t} else {\n\t\t\t\tprompt = ` ${convertTableToMarkdown(table)}`;\n\t\t\t}\n\t\t\tif (attributes?.caption && attributes?.caption.length > 0) {\n\t\t\t\tprompt += `\\n\\nUse the caption for this table as additional context in creating the title: ${attributes?.caption}`;\n\t\t\t}\n\t\t\tconsole.log('prompt ==', prompt);\n\t\t\tconst candidates = await service.generateText(prompt, {\n\t\t\t\tfeature: 'get-table-title',\n\t\t\t});\n\n\t\t\tconst { helpers } = window.aiServices.ai;\n\n\t\t\tif (candidates.length === 0) {\n\t\t\t\tconsole.log('No candidates found for get-table-title');\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst { modelVersion, usageMetadata, citationMetadata } =\n\t\t\t\tcandidates[0];\n\n\t\t\tconst metadata = await aiMetadata(\n\t\t\t\tmodelVersion,\n\t\t\t\tusageMetadata,\n\t\t\t\tcitationMetadata,\n\t\t\t\tprompt\n\t\t\t);\n\n\t\t\tconst _candidates = helpers.getCandidateContents(candidates);\n\n\t\t\tconst title = helpers\n\t\t\t\t.getTextFromContents(_candidates)\n\t\t\t\t.replaceAll('\\n\\n\\n\\n', '\\n\\n');\n\n\t\t\tconst titleOptions =\n\t\t\t\ttitle\n\t\t\t\t\t.match(/```(?:json)?\\n([\\s\\S]*?)\\n```/)?.[1]\n\t\t\t\t\t.trim()\n\t\t\t\t\t?.replace(/\\n\\s*/g, '') || '[]';\n\n\t\t\tconst parsedTitles = JSON.parse(titleOptions);\n\t\t\treturn {\n\t\t\t\ttitles: parsedTitles,\n\t\t\t\tmetadata,\n\t\t\t};\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t}\n}\n\n/**\n * Generate a caption for the table.\n *\n * @param table      - The table to generate a caption for.\n * @param attributes - The attributes of the table.\n * @return The caption for the table.\n */\nasync function aiGenerateCaptions(\n\tattributes = {\n\t\tbody: [],\n\t\thead: [],\n\t\tfoot: [],\n\t\tmetadata: {\n\t\t\tname: '',\n\t\t},\n\t}\n) {\n\tconst { isServiceAvailable, getAvailableService } =\n\t\tselect('ai-services/ai');\n\tif (isServiceAvailable('google')) {\n\t\tconst service = getAvailableService('google');\n\t\tconst table = {\n\t\t\tbody: attributes.body,\n\t\t\thead: attributes.head,\n\t\t\tfoot: attributes.foot,\n\t\t};\n\t\ttry {\n\t\t\tlet prompt = '';\n\t\t\tif (\n\t\t\t\tattributes?.metadata &&\n\t\t\t\tattributes?.metadata?.name &&\n\t\t\t\tattributes?.metadata?.name.length > 0\n\t\t\t) {\n\t\t\t\tprompt = `The table is named ${attributes?.metadata?.name}. Use this to help when generating the caption. This is the markdown table: ${convertTableToMarkdown(table)}`;\n\t\t\t} else {\n\t\t\t\tprompt = ` ${convertTableToMarkdown(table)}`;\n\t\t\t}\n\t\t\tconst candidates = await service.generateText(prompt, {\n\t\t\t\tfeature: 'get-table-caption',\n\t\t\t});\n\n\t\t\tconst { helpers } = window.aiServices.ai;\n\n\t\t\tif (candidates.length === 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst { modelVersion, usageMetadata, citationMetadata } =\n\t\t\t\tcandidates[0];\n\n\t\t\tconst metadata = await aiMetadata(\n\t\t\t\tmodelVersion,\n\t\t\t\tusageMetadata,\n\t\t\t\tcitationMetadata,\n\t\t\t\tprompt\n\t\t\t);\n\t\t\tconst _candidates = helpers.getCandidateContents(candidates);\n\n\t\t\tconst caption = helpers\n\t\t\t\t.getTextFromContents(_candidates)\n\t\t\t\t.replaceAll('\\n\\n\\n\\n', '\\n\\n');\n\n\t\t\tconst captionOptions =\n\t\t\t\tcaption\n\t\t\t\t\t.match(/```(?:json)?\\n([\\s\\S]*?)\\n```/)?.[1]\n\t\t\t\t\t.trim()\n\t\t\t\t\t?.replace(/\\n\\s*/g, '') || '[]';\n\n\t\t\tconst parsedCaptions = JSON.parse(captionOptions);\n\t\t\treturn {\n\t\t\t\tcaptions: parsedCaptions,\n\t\t\t\tmetadata,\n\t\t\t};\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t}\n}\n\nasync function aiDecipherTableFromImage(imageUrl) {\n\tconst { isServiceAvailable, getAvailableService } =\n\t\tselect('ai-services/ai');\n\tif (isServiceAvailable('google')) {\n\t\tconst service = getAvailableService('google');\n\t}\n\tconst prompt = `Conver the image to a markdown table. ${imageUrl}`;\n}\n\nfunction CandidatesModal({\n\ttitle = 'Table Caption Candidates',\n\tcandidates = [],\n\tisOpen = false,\n\tonClose = () => {},\n\tonSelect = () => {},\n\tonClear = () => {},\n}) {\n\tif (!isOpen) return null;\n\tconst titleIcon = (\n\t\t<Icon\n\t\t\ticon=\"sparkles\"\n\t\t\tlibrary=\"solid\"\n\t\t\tsize=\"1\"\n\t\t\tstyle={{ marginRight: '0.5em' }}\n\t\t/>\n\t);\n\tconst wandIcon = <Icon icon=\"wand-magic-sparkles\" size=\"1\" />;\n\treturn (\n\t\t<Modal\n\t\t\ttitle={title}\n\t\t\ticon={titleIcon}\n\t\t\tonRequestClose={onClose}\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t<div>\n\t\t\t\t{candidates.length === 0 ? (\n\t\t\t\t\t<AILoadingAnimation />\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<h3>\n\t\t\t\t\t\t\t\tChoose from the following AI generated options:\n\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\t\t\tgap: '10px',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{candidates.map((candidate, index) => (\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tkey={`candidate-${index}`}\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\tonClick={() => onSelect(candidate)}\n\t\t\t\t\t\t\t\t\ticon={wandIcon}\n\t\t\t\t\t\t\t\t\ticonSize={1}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\theight: 'max-content',\n\t\t\t\t\t\t\t\t\t\twhiteSpace: 'normal',\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'left',\n\t\t\t\t\t\t\t\t\t\tgap: '1em',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{candidate}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p style={{ fontSize: '0.8em', color: 'darkgray' }}>\n\t\t\t\t\t\t\t* This block will have metadata added to identify\n\t\t\t\t\t\t\tthe option was generated with AI assistance, the\n\t\t\t\t\t\t\tuser who requested it, and the number of tokens\n\t\t\t\t\t\t\tused.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={onClear}\n\t\t\t\t\t\t\ticon={<Icon icon=\"arrows-rotate\" />}\n\t\t\t\t\t\t\ticonSize={1}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tReset\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n\n/**\n * Generate a caption for the table.\n *\n * @param table        - The table to generate a caption for.\n * @param attributes   - The attributes of the table.\n * @param request\n * @param instructions\n * @param tool\n * @return The caption for the table.\n */\nasync function aiDoRequest(\n\trequest = '',\n\tinstructions = '',\n\ttool = 'get-table-data'\n) {\n\tconst { isServiceAvailable, getAvailableService } =\n\t\tselect('ai-services/ai');\n\tif (isServiceAvailable('google')) {\n\t\tconst service = getAvailableService('google');\n\t\ttry {\n\t\t\tlet prompt = '';\n\t\t\tif (request) {\n\t\t\t\tprompt = `Request: ${request}\\Additional Instructions: ${instructions}`;\n\t\t\t}\n\t\t\tconst candidates = await service.generateText(prompt, {\n\t\t\t\tfeature: tool,\n\t\t\t\tmodel: 'gemini-2.0-flash-thinking-exp',\n\t\t\t});\n\n\t\t\tif (candidates.length === 0) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconsole.log('candidates ==', candidates[0]);\n\n\t\t\tconst { modelVersion, usageMetadata, citationMetadata } =\n\t\t\t\tcandidates[0];\n\n\t\t\tconst { helpers } = window.aiServices.ai;\n\n\t\t\tconst _candidates = helpers.getCandidateContents(candidates);\n\n\t\t\tconst data = helpers\n\t\t\t\t.getTextFromContents(_candidates)\n\t\t\t\t.replaceAll('\\n\\n\\n\\n', '\\n\\n');\n\n\t\t\tconst table = convertMarkdownToTable(data);\n\n\t\t\tconst metadata = await aiMetadata(\n\t\t\t\tmodelVersion,\n\t\t\t\tusageMetadata,\n\t\t\t\tcitationMetadata,\n\t\t\t\trequest\n\t\t\t);\n\n\t\t\treturn {\n\t\t\t\ttable,\n\t\t\t\tmetadata,\n\t\t\t};\n\t\t} catch (error) {\n\t\t\tconsole.error(error);\n\t\t}\n\t}\n}\n\nfunction RequestModal({\n\ttitle = 'Table Request',\n\tdescription = '',\n\ttool = 'get-table-data',\n\tattributes = {},\n\tisOpen = false,\n\tonClose = () => {},\n\tonSelect = () => {},\n\tonClear = () => {},\n}) {\n\tconst [isGenerating, setIsGenerating] = useState(false);\n\tconst { metadata } = attributes;\n\tconst matchingRequest = useMemo(() => {\n\t\treturn (\n\t\t\tmetadata?._copilot?.find((copilot) => copilot.feature === tool) ||\n\t\t\t{}\n\t\t);\n\t}, [metadata, tool]);\n\tconst [request, setRequest] = useState(matchingRequest?.prompt || '');\n\tconst [instructions, setInstructions] = useState(\n\t\tmatchingRequest?.instructions || ''\n\t);\n\n\tconst doRequest = useCallback(() => {\n\t\tsetIsGenerating(true);\n\t\taiDoRequest(request, instructions, tool)\n\t\t\t.then((d) => {\n\t\t\t\tif (!d) return;\n\t\t\t\tconst { table, metadata } = d;\n\t\t\t\tconsole.log('aiDoRequest ==', table, metadata);\n\t\t\t\tif (!table) return;\n\t\t\t\tconst { data, text } = table;\n\t\t\t\tconst { before, after } = text;\n\t\t\t\tonSelect({\n\t\t\t\t\t...data,\n\t\t\t\t\tsourceNote: after,\n\t\t\t\t\tcaption: before,\n\t\t\t\t\tmetadata: {\n\t\t\t\t\t\t...attributes.metadata,\n\t\t\t\t\t\t_copilot: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfeature: tool,\n\t\t\t\t\t\t\t\t...metadata,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tsetIsGenerating(false);\n\t\t\t});\n\t}, [request, instructions, tool, metadata]);\n\n\tconst modalIcon = <Icon icon=\"sparkles\" library=\"solid\" size=\"1\" />;\n\n\tif (!isOpen) return null;\n\n\treturn (\n\t\t<Modal\n\t\t\ttitle={title}\n\t\t\ticon={modalIcon}\n\t\t\tonRequestClose={onClose}\n\t\t\tsize=\"medium\"\n\t\t>\n\t\t\t<div>\n\t\t\t\t{isGenerating ? (\n\t\t\t\t\t<AILoadingAnimation />\n\t\t\t\t) : (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\tlabel=\"Request\"\n\t\t\t\t\t\t\tvalue={request}\n\t\t\t\t\t\t\tonChange={(value) => setRequest(value)}\n\t\t\t\t\t\t\thelp={description}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{/* <TextareaControl\n\t\t\t\t\t\t\tlabel=\"Instructions\"\n\t\t\t\t\t\t\tvalue={instructions}\n\t\t\t\t\t\t\tonChange={(value) => setInstructions(value)}\n\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t<p style={{ fontSize: '0.8em', color: 'darkgray' }}>\n\t\t\t\t\t\t\t* This block will have metadata added to identify\n\t\t\t\t\t\t\tthe option was generated with AI assistance, the\n\t\t\t\t\t\t\tuser who requested it, and the number of tokens\n\t\t\t\t\t\t\tused.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\tgap: '1em',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={doRequest}\n\t\t\t\t\t\t\t\tisBusy={isGenerating}\n\t\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\t\ticon={modalIcon}\n\t\t\t\t\t\t\t\ticonSize={1}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tGenerate\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</Modal>\n\t);\n}\n\n/**\n * Generate a caption for the table.\n * @param attributes.attributes\n * @param attributes                        - The attributes of the table.\n * @param setAttributes                     - The function to set the attributes of the table.\n * @param asToolbarButton                   - Whether to render the button as a toolbar button.\n * @param attributes.setAttributes\n * @param attributes.asToolbarButton\n * @param attributes.isGeneratingCaption\n * @param attributes.setIsGeneratingCaption\n * @return The caption for the table.\n */\nexport function GenerateCaptionButton({\n\tattributes,\n\tsetAttributes,\n\tasToolbarButton = false,\n\tisGeneratingCaption = false,\n\tsetIsGeneratingCaption = () => {},\n}) {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [generatedCaptions, setGeneratedCaptions] = useState([]);\n\tconst [generatedMetadata, setGeneratedMetadata] = useState([]);\n\tconst [isCandidatesModalOpen, setIsCandidatesModalOpen] = useState(false);\n\n\tconst doGeneration = useCallback(() => {\n\t\tsetProcessing(true);\n\t\tsetIsGeneratingCaption(true);\n\t\taiGenerateCaptions(attributes)\n\t\t\t.then((d) => {\n\t\t\t\tif (undefined !== d && null !== d) {\n\t\t\t\t\tconst { captions, metadata } = d;\n\t\t\t\t\tif (captions.length > 0) {\n\t\t\t\t\t\tsetGeneratedCaptions(captions);\n\t\t\t\t\t\tsetGeneratedMetadata(metadata);\n\t\t\t\t\t\tsetIsCandidatesModalOpen(true);\n\t\t\t\t\t}\n\t\t\t\t\tsetProcessing(false);\n\t\t\t\t\tsetIsGeneratingCaption(false);\n\t\t\t\t} else {\n\t\t\t\t\tsetProcessing(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t\tsetProcessing(false);\n\t\t\t});\n\t}, [attributes, setAttributes, setIsGeneratingCaption]);\n\n\tconst buttonIcon = <Icon icon=\"sparkles\" library=\"solid\" size=\"1\" />;\n\n\treturn (\n\t\t<>\n\t\t\t{asToolbarButton ? (\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tonClick={doGeneration}\n\t\t\t\t\ticon={buttonIcon}\n\t\t\t\t\ticonSize={1}\n\t\t\t\t\tisPressed={processing || isCandidatesModalOpen}\n\t\t\t\t\tisBusy={processing}\n\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t'Generate caption with  AI',\n\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tonClick={doGeneration}\n\t\t\t\t\tdisabled={processing}\n\t\t\t\t\tisBusy={processing}\n\t\t\t\t\tisPressed={processing}\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\ticon={buttonIcon}\n\t\t\t\t\ticonSize={1}\n\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t'Generate caption with  AI',\n\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t)}\n\t\t\t\t\tshowTooltip={true}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<CandidatesModal\n\t\t\t\ttitle=\"Table Caption Candidates\"\n\t\t\t\tcandidates={generatedCaptions}\n\t\t\t\tisOpen={isCandidatesModalOpen}\n\t\t\t\tonClose={() => setIsCandidatesModalOpen(false)}\n\t\t\t\tonSelect={(caption) => {\n\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\tcaption,\n\t\t\t\t\t\tmetadata: {\n\t\t\t\t\t\t\t_copilot: {\n\t\t\t\t\t\t\t\tfeature: 'get-table-caption',\n\t\t\t\t\t\t\t\t...generatedMetadata,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tsetIsCandidatesModalOpen(false);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\n/**\n * Generate a caption for the table.\n * @param attributes.attributes\n * @param attributes                      - The attributes of the table.\n * @param setAttributes                   - The function to set the attributes of the table.\n * @param asToolbarButton                 - Whether to render the button as a toolbar button.\n * @param attributes.setAttributes\n * @param attributes.asToolbarButton\n * @param attributes.isGeneratingTitle\n * @param attributes.setIsGeneratingTitle\n * @return The title for the table.\n */\nexport function GenerateTitleButton({\n\tattributes,\n\tsetAttributes,\n\tasToolbarButton = false,\n\tisGeneratingTitle = false,\n\tsetIsGeneratingTitle = () => {},\n}) {\n\tconst [processing, setProcessing] = useState(false);\n\tconst [generatedTitles, setGeneratedTitles] = useState([]);\n\tconst [generatedMetadata, setGeneratedMetadata] = useState([]);\n\tconst [isCandidatesModalOpen, setIsCandidatesModalOpen] = useState(false);\n\n\tconst doGeneration = useCallback(() => {\n\t\tconsole.log('doGeneration ==', attributes);\n\t\tsetProcessing(true);\n\t\tsetIsGeneratingTitle(true);\n\t\taiGenerateTitle(attributes)\n\t\t\t.then((d) => {\n\t\t\t\tif (undefined !== d && null !== d) {\n\t\t\t\t\tconst { titles, metadata } = d;\n\t\t\t\t\tif (titles.length > 0) {\n\t\t\t\t\t\tsetGeneratedTitles(titles);\n\t\t\t\t\t\tsetGeneratedMetadata(metadata);\n\t\t\t\t\t\tsetIsCandidatesModalOpen(true);\n\t\t\t\t\t}\n\t\t\t\t\tsetProcessing(false);\n\t\t\t\t\tsetIsGeneratingTitle(false);\n\t\t\t\t} else {\n\t\t\t\t\tsetProcessing(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t\tsetProcessing(false);\n\t\t\t});\n\t}, [attributes, setAttributes, setIsGeneratingTitle]);\n\n\tconst buttonIcon = <Icon icon=\"sparkles\" library=\"solid\" size=\"1\" />;\n\n\treturn (\n\t\t<>\n\t\t\t{asToolbarButton ? (\n\t\t\t\t<ToolbarButton\n\t\t\t\t\tonClick={doGeneration}\n\t\t\t\t\ticon={buttonIcon}\n\t\t\t\t\ticonSize={1}\n\t\t\t\t\tisPressed={processing || isCandidatesModalOpen}\n\t\t\t\t\tisBusy={processing}\n\t\t\t\t\tlabel={__('Generate title with  AI', 'prc-block-library')}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<Button\n\t\t\t\t\tonClick={doGeneration}\n\t\t\t\t\tdisabled={processing}\n\t\t\t\t\tisBusy={processing}\n\t\t\t\t\tisPressed={processing}\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\ticon={buttonIcon}\n\t\t\t\t\ticonSize={1}\n\t\t\t\t\tlabel={__('Generate title with  AI', 'prc-block-library')}\n\t\t\t\t\tshowTooltip={true}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<CandidatesModal\n\t\t\t\ttitle=\"Table Title Candidates\"\n\t\t\t\tcandidates={generatedTitles}\n\t\t\t\tisOpen={isCandidatesModalOpen}\n\t\t\t\tonClose={() => setIsCandidatesModalOpen(false)}\n\t\t\t\tonSelect={(newTitle) => {\n\t\t\t\t\tsetAttributes({\n\t\t\t\t\t\ttableTitle: newTitle,\n\t\t\t\t\t\tmetadata: {\n\t\t\t\t\t\t\t_copilot: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tfeature: 'get-table-title',\n\t\t\t\t\t\t\t\t\t...generatedMetadata,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tsetIsCandidatesModalOpen(false);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</>\n\t);\n}\n\nexport function GenerateAiToolbarControls({\n\tattributes,\n\tsetAttributes,\n\tsetIsGeneratingTitle = () => {},\n\tsetIsGeneratingCaption = () => {},\n}) {\n\tconst [activeTool, setActiveTool] = useState(null);\n\tconst [processing, setProcessing] = useState(false);\n\tconst [generatedTitles, setGeneratedTitles] = useState([]);\n\tconst [generatedCaptions, setGeneratedCaptions] = useState([]);\n\tconst [generatedMetadata, setGeneratedMetadata] = useState([]);\n\tconst [isCandidatesModalOpen, setIsCandidatesModalOpen] = useState(false);\n\tconst [isRequestModalOpen, setIsRequestModalOpen] = useState(false);\n\tconst { createSuccessNotice, createErrorNotice } = useDispatch(noticeStore);\n\n\tconst doTitleGeneration = useCallback(() => {\n\t\tconsole.log('doTitleGeneration ==', attributes);\n\t\tsetProcessing(true);\n\t\tsetActiveTool('get-table-title');\n\t\tsetIsGeneratingTitle(true);\n\t\tsetIsCandidatesModalOpen(true);\n\t\taiGenerateTitle(attributes)\n\t\t\t.then((d) => {\n\t\t\t\tconsole.log('aiGenerateTitle ==', d);\n\t\t\t\tif (undefined !== d && null !== d) {\n\t\t\t\t\tconst { titles, metadata } = d;\n\t\t\t\t\tif (titles.length > 0) {\n\t\t\t\t\t\tconsole.log('titles ==', titles);\n\t\t\t\t\t\tsetGeneratedTitles(titles);\n\t\t\t\t\t\tconsole.log('metadata ==', metadata);\n\t\t\t\t\t\tsetGeneratedMetadata(metadata);\n\t\t\t\t\t}\n\t\t\t\t\tsetProcessing(false);\n\t\t\t\t\tsetIsGeneratingTitle(false);\n\t\t\t\t} else {\n\t\t\t\t\tsetProcessing(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tconsole.error(error);\n\t\t\t\tif (error.message.includes('The model is overloaded')) {\n\t\t\t\t\tcreateErrorNotice(\n\t\t\t\t\t\t'The model is overloaded. Please try again later.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tsetProcessing(false);\n\t\t\t});\n\t}, [attributes, setAttributes, setIsGeneratingTitle]);\n\n\tconst doCaptionGeneration = useCallback(() => {\n\t\tconsole.log('doCaptionGeneration ==', attributes);\n\t\tsetProcessing(true);\n\t\tsetActiveTool('get-table-caption');\n\t\tsetIsGeneratingCaption(true);\n\t\tsetIsCandidatesModalOpen(true);\n\t\taiGenerateCaptions(attributes)\n\t\t\t.then((d) => {\n\t\t\t\tconsole.log('aiGenerateCaptions ==', d);\n\t\t\t\tif (undefined !== d && null !== d) {\n\t\t\t\t\tconst { captions, metadata } = d;\n\t\t\t\t\tif (captions.length > 0) {\n\t\t\t\t\t\tsetGeneratedCaptions(captions);\n\t\t\t\t\t\tsetGeneratedMetadata(metadata);\n\t\t\t\t\t}\n\t\t\t\t\tsetProcessing(false);\n\t\t\t\t\tsetIsGeneratingCaption(false);\n\t\t\t\t} else {\n\t\t\t\t\tsetProcessing(false);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((error) => {\n\t\t\t\tif (error.message.includes('The model is overloaded')) {\n\t\t\t\t\tcreateErrorNotice(\n\t\t\t\t\t\t'The model is overloaded. Please try again later.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tsetProcessing(false);\n\t\t\t});\n\t}, [attributes, setAttributes, setIsGeneratingCaption]);\n\n\tconst TableAIGenerateControls = [\n\t\t{\n\t\t\ttitle: __('Generate title', 'prc-block-library'),\n\t\t\tonClick: () => doTitleGeneration(),\n\t\t\ticon: titleIcon,\n\t\t},\n\t\t{\n\t\t\ttitle: __('Generate caption', 'prc-block-library'),\n\t\t\tonClick: () => doCaptionGeneration(),\n\t\t\ticon: captionIcon,\n\t\t},\n\t\t{\n\t\t\ttitle: __('Generate table', 'prc-block-library'),\n\t\t\tonClick: () => setIsRequestModalOpen(true),\n\t\t\ticon: blockTableIcon,\n\t\t},\n\t];\n\n\tconst modalTitle = useMemo(() => {\n\t\treturn activeTool === 'get-table-title'\n\t\t\t? __('Table Title Candidates', 'prc-block-library')\n\t\t\t: __('Table Caption Candidates', 'prc-block-library');\n\t}, [activeTool]);\n\n\tconst onSelect = useCallback(\n\t\t(newData) => {\n\t\t\tconst newAttributes = {\n\t\t\t\tmetadata: {\n\t\t\t\t\t...attributes.metadata,\n\t\t\t\t\t_copilot: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfeature: activeTool,\n\t\t\t\t\t\t\t...generatedMetadata,\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\t\t\t\t},\n\t\t\t};\n\t\t\tif (activeTool === 'get-table-title') {\n\t\t\t\tnewAttributes.tableTitle = newData;\n\t\t\t} else {\n\t\t\t\tnewAttributes.caption = newData;\n\t\t\t}\n\t\t\tsetAttributes(newAttributes);\n\t\t\tsetIsCandidatesModalOpen(false);\n\t\t\tcreateSuccessNotice(\n\t\t\t\t` PRC Copilot generated: \"${activeTool}\" `,\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t[attributes, setAttributes, activeTool]\n\t);\n\n\tconst onClear = useCallback(() => {\n\t\tsetActiveTool(null);\n\t\tsetGeneratedTitles([]);\n\t\tsetGeneratedCaptions([]);\n\t\tsetGeneratedMetadata([]);\n\t\tsetIsCandidatesModalOpen(false);\n\t}, [\n\t\tsetActiveTool,\n\t\tsetGeneratedTitles,\n\t\tsetGeneratedCaptions,\n\t\tsetGeneratedMetadata,\n\t\tsetIsCandidatesModalOpen,\n\t]);\n\n\tconst onSetTableData = useCallback(\n\t\t(newData) => {\n\t\t\tsetAttributes({\n\t\t\t\t...newData,\n\t\t\t});\n\t\t\tsetIsRequestModalOpen(false);\n\t\t},\n\t\t[setAttributes]\n\t);\n\n\tconst candidates = useMemo(() => {\n\t\treturn activeTool === 'get-table-title'\n\t\t\t? generatedTitles\n\t\t\t: generatedCaptions;\n\t}, [activeTool, generatedTitles, generatedCaptions]);\n\n\tconst icon = () => <Icon icon=\"sparkles\" size=\"1\" />;\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarDropdownMenu\n\t\t\t\tid=\"table-ai-generate-dropdown\"\n\t\t\t\tlabel={__('AI generate', 'prc-block-library')}\n\t\t\t\ticon={icon}\n\t\t\t\tcontrols={TableAIGenerateControls}\n\t\t\t\tisPressed={processing}\n\t\t\t/>\n\t\t\t<CandidatesModal\n\t\t\t\ttitle={modalTitle}\n\t\t\t\tcandidates={candidates}\n\t\t\t\tisOpen={isCandidatesModalOpen}\n\t\t\t\tonClose={() => setIsCandidatesModalOpen(false)}\n\t\t\t\tonClear={onClear}\n\t\t\t\tonSelect={onSelect}\n\t\t\t/>\n\t\t\t<RequestModal\n\t\t\t\ttitle=\"Table Request\"\n\t\t\t\tdescription=\"Request a table from the AI\"\n\t\t\t\ttool=\"get-table-data\"\n\t\t\t\tisOpen={isRequestModalOpen}\n\t\t\t\tonClose={() => setIsRequestModalOpen(false)}\n\t\t\t\tonSelect={onSetTableData}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport React, { useRef } from 'react';\nimport { blockTable, justifyLeft } from '@wordpress/icons';\nimport { Icon } from '@prc/icons';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { ToolbarDropdownMenu } from '@wordpress/components';\nimport { useDispatch } from '@wordpress/data';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useKeyboardShortcut } from '@wordpress/compose';\n\n/**\n * Internal Dependencies\n */\nimport { CONTENT_JUSTIFY_CONTROLS } from '../constants';\nimport {\n\ttableRowAfter,\n\ttableRowBefore,\n\ttableColumnBefore,\n\ttableColumnAfter,\n\ttableColumnDelete,\n\ttableRowDelete,\n\ttableMergeCell,\n\ttableSplitCell,\n} from '../icons';\nimport {\n\tinsertRow,\n\tdeleteRow,\n\tinsertColumn,\n\tdeleteColumn,\n\tmergeCells,\n\tsplitMergedCells,\n\thasMergedCells,\n\tisRectangleSelected,\n\ttoTableAttributes,\n\tisEmptySection,\n\ttype VTable,\n\ttype VSelectedLine,\n\ttype VSelectedCells,\n} from '../utils/table-state';\nimport { BlockAttributes, ContentJustifyValue } from '../block-attributes';\nimport { GenerateAiToolbarControls } from '../utils/ai-generators';\ntype Props = {\n\tcontentJustification: string;\n\tvTable: VTable;\n\tselectedCells: VSelectedCells;\n\tsetAttributes: (attributes: BlockAttributes) => void;\n\tsetSelectedCells: (selectedCells: VSelectedCells) => void;\n\tsetSelectedLine: (selectedLine: VSelectedLine) => void;\n\tattributes: BlockAttributes;\n};\n\nexport default function ToolbarControls({\n\tcontentJustification,\n\tvTable,\n\tselectedCells,\n\tsetAttributes,\n\tsetSelectedCells,\n\tsetSelectedLine,\n\tattributes,\n}: Props) {\n\t// Create a warning notice.\n\tconst { createWarningNotice } = useDispatch(noticesStore);\n\n\t// Create a ref to store the dropdown button element\n\tconst dropdownRef = useRef<HTMLButtonElement>(null);\n\n\t// Register keyboard shortcut\n\tuseKeyboardShortcut('mod+shift+e', (event: KeyboardEvent) => {\n\t\tevent.preventDefault();\n\t\tif (dropdownRef.current) {\n\t\t\tdropdownRef.current.click();\n\t\t\tdropdownRef.current.focus();\n\t\t}\n\t});\n\n\t// Handle chaning the content justification of the table.\n\tconst onChangeContentJustification = (value: ContentJustifyValue) => {\n\t\tconst newValue = contentJustification === value ? undefined : value;\n\t\tsetAttributes({ contentJustification: newValue });\n\t};\n\n\t// Handle inserting a row into the table.\n\tconst onInsertRow = (offset: number) => {\n\t\tif (!selectedCells || selectedCells.length !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { sectionName, rowIndex, rowSpan } = selectedCells[0];\n\n\t\t// Calculate row index to be inserted considering rowspan of the selected cell.\n\t\tconst insertRowIndex =\n\t\t\toffset === 0 ? rowIndex : rowIndex + offset + rowSpan - 1;\n\n\t\tconst newVTable = insertRow(vTable, {\n\t\t\tsectionName,\n\t\t\trowIndex: insertRowIndex,\n\t\t});\n\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\t// Handle deleting a row from the table.\n\tconst onDeleteRow = () => {\n\t\tif (!selectedCells || selectedCells.length !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { sectionName, rowIndex } = selectedCells[0];\n\n\t\t// Do not allow tbody to be empty for table with thead /tfoot sections.\n\t\tif (\n\t\t\tsectionName === 'body' &&\n\t\t\tvTable.body.length === 1 &&\n\t\t\t(!isEmptySection(vTable.head) || !isEmptySection(vTable.foot))\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\tcreateWarningNotice(\n\t\t\t\t__(\n\t\t\t\t\t'The table body must have one or more rows.',\n\t\t\t\t\t'flexible-table-block'\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\tid: 'flexible-table-block-body-row',\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst newVTable = deleteRow(vTable, { sectionName, rowIndex });\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\t// Handle inserting a column into the table.\n\tconst onInsertColumn = (offset: number) => {\n\t\tif (!selectedCells || selectedCells.length !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { vColIndex, colSpan } = selectedCells[0];\n\n\t\t// Calculate column index to be inserted considering colspan of the selected cell.\n\t\tconst insertVColIndex =\n\t\t\toffset === 0 ? vColIndex : vColIndex + offset + colSpan - 1;\n\n\t\tconst newVTable = insertColumn(vTable, { vColIndex: insertVColIndex });\n\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\t// Handle deleting a column from the table.\n\tconst onDeleteColumn = () => {\n\t\tif (!selectedCells || selectedCells.length !== 1) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { vColIndex } = selectedCells[0];\n\n\t\tconst newVTable = deleteColumn(vTable, { vColIndex });\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\t// Handle merging cells in the table.\n\tconst onMergeCells = () => {\n\t\tconst newVTable = mergeCells(vTable, selectedCells, true);\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\t// Handle splitting merged cells in the table.\n\tconst onSplitMergedCells = () => {\n\t\tconst newVTable = splitMergedCells(vTable, selectedCells);\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\t// Create a list of controls for the content justification dropdown.\n\tconst TableJustifyControls = CONTENT_JUSTIFY_CONTROLS.map(\n\t\t({ icon, label, value }) => ({\n\t\t\ticon,\n\t\t\ttitle: label,\n\t\t\tisActive: contentJustification === value,\n\t\t\tvalue,\n\t\t\tonClick: () => onChangeContentJustification(value),\n\t\t})\n\t);\n\n\t// Create a list of controls for the table edit dropdown.\n\tconst TableEditControls = [\n\t\t{\n\t\t\ticon: tableRowBefore,\n\t\t\ttitle: __('Insert row before', 'flexible-table-block'),\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\n\t\t\tonClick: () => onInsertRow(0),\n\t\t},\n\t\t{\n\t\t\ticon: tableRowAfter,\n\t\t\ttitle: __('Insert row after', 'flexible-table-block'),\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\n\t\t\tonClick: () => onInsertRow(1),\n\t\t},\n\t\t{\n\t\t\ticon: tableRowDelete,\n\t\t\ttitle: __('Delete row', 'flexible-table-block'),\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\n\t\t\tonClick: () => onDeleteRow(),\n\t\t},\n\t\t{\n\t\t\ticon: tableColumnBefore,\n\t\t\ttitle: __('Insert column before', 'flexible-table-block'),\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\n\t\t\tonClick: () => onInsertColumn(0),\n\t\t},\n\t\t{\n\t\t\ticon: tableColumnAfter,\n\t\t\ttitle: __('Insert column after', 'flexible-table-block'),\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\n\t\t\tonClick: () => onInsertColumn(1),\n\t\t},\n\t\t{\n\t\t\ticon: tableColumnDelete,\n\t\t\ttitle: __('Delete column', 'flexible-table-block'),\n\t\t\tisDisabled: (selectedCells || []).length !== 1,\n\t\t\tonClick: () => onDeleteColumn(),\n\t\t},\n\t\t{\n\t\t\ticon: tableSplitCell,\n\t\t\ttitle: __('Split merged cells', 'flexible-table-block'),\n\t\t\tisDisabled: !selectedCells || !hasMergedCells(selectedCells),\n\t\t\tonClick: () => onSplitMergedCells(),\n\t\t},\n\t\t{\n\t\t\ticon: tableMergeCell,\n\t\t\ttitle: __('Merge cells', 'flexible-table-block'),\n\t\t\tisDisabled: !selectedCells || !isRectangleSelected(selectedCells),\n\t\t\tonClick: () => onMergeCells(),\n\t\t},\n\t];\n\n\treturn (\n\t\t<>\n\t\t\t<ToolbarDropdownMenu\n\t\t\t\tlabel={__('Change table justification', 'flexible-table-block')}\n\t\t\t\ticon={\n\t\t\t\t\t(contentJustification &&\n\t\t\t\t\t\tTableJustifyControls.find(\n\t\t\t\t\t\t\t(control) => control.value === contentJustification\n\t\t\t\t\t\t)?.icon) ||\n\t\t\t\t\tjustifyLeft\n\t\t\t\t}\n\t\t\t\tcontrols={TableJustifyControls}\n\t\t\t/>\n\t\t\t<ToolbarDropdownMenu\n\t\t\t\tid=\"table-edit-dropdown\"\n\t\t\t\tlabel={__('Edit table', 'flexible-table-block')}\n\t\t\t\ticon={blockTable}\n\t\t\t\tcontrols={TableEditControls}\n\t\t\t\tref={dropdownRef}\n\t\t\t/>\n\t\t\t<GenerateAiToolbarControls\n\t\t\t\tattributes={attributes}\n\t\t\t\tsetAttributes={setAttributes}\n\t\t\t/>\n\t\t</>\n\t);\n}\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"CSV\"];","/**\n * External Dependencies\n */\nimport CSV from 'comma-separated-values';\n\n/**\n * Utilities for managing core/table data\n */\n\nfunction convertToRow(d, tag = 'td') {\n\treturn d.map((content) => ({\n\t\tcontent,\n\t\ttag,\n\t}));\n}\n\nfunction convertJSONToAttributes(d, tag = 'td') {\n\tif ('th' === tag) {\n\t\treturn convertToRow(d, tag);\n\t}\n\treturn d.map((row) => ({ cells: convertToRow(row, tag) }));\n}\n\nfunction parseCSV(csvInput, attributes, setAttributes) {\n\tconst opts = {\n\t\theader: false,\n\t};\n\tconst csv = new CSV(csvInput, opts);\n\tconst parsed = csv.parse();\n\n\tconst headerData = convertJSONToAttributes(parsed.shift(), 'th');\n\tconst bodyData = convertJSONToAttributes(parsed);\n\tsetAttributes({ body: bodyData });\n\tsetAttributes({ head: [{ cells: headerData }] });\n\n\treturn parsed;\n}\n\nexport function exportCSV(attributes) {\n\tconst { body, head, footer } = attributes;\n\t// Restructure body, head, and footer to reduce their body.cells to just each cell's content\n\tconst bodyData = body.map((row) => row.cells.map((cell) => cell.content));\n\tconst headData = head\n\t\t? head.map((row) => row.cells.map((cell) => cell.content))\n\t\t: [];\n\tconst footerData = footer\n\t\t? footer.map((row) => row.cells.map((cell) => cell.content))\n\t\t: [];\n\tconst data = [...headData, ...bodyData, ...footerData];\n\tconst csv = new CSV(data);\n\treturn csv.encode();\n}\n\nexport function handleCSV(files, attributes, setAttributes) {\n\t// eslint-disable-next-line no-undef\n\tconst reader = new FileReader();\n\treader.onload = () => {\n\t\tparseCSV(reader.result, attributes, setAttributes);\n\t};\n\tArray.from(files).forEach((file) => reader.readAsBinaryString(file));\n}\n","/**\n * External Dependencies\n */\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { PanelRow, Button, DropZone } from '@wordpress/components';\nimport { useRef } from '@wordpress/element';\n/**\n * Internal Dependencies\n */\nimport { handleCSV, exportCSV } from '../csv-parser';\nimport { type VTable, type VSelectedCells } from '../utils/table-state';\nimport type { BlockAttributes } from '../block-attributes';\n\ntype TableDataSettingsProps = {\n\tattributes: BlockAttributes;\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\n\tvTable: VTable;\n\tselectedCells: VSelectedCells;\n};\n\ntype DropzoneProps = {\n\tattributes: BlockAttributes;\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\n};\n\nexport function TableDataDropzone({\n\tattributes,\n\tsetAttributes,\n}: DropzoneProps) {\n\treturn (\n\t\t<DropZone\n\t\t\tlabel=\"Drop a CSV file here to replace this table's data.\"\n\t\t\tonFilesDrop={(droppedFiles) =>\n\t\t\t\thandleCSV(droppedFiles, attributes, setAttributes)\n\t\t\t}\n\t\t/>\n\t);\n}\n\n/* eslint-disable max-lines-per-function */\nexport default function TableDataSettings({\n\tattributes,\n\tsetAttributes,\n\tvTable,\n\tselectedCells = [],\n}: TableDataSettingsProps) {\n\t// Create a hidden file input element.\n\tconst hiddenFileInput = useRef<HTMLInputElement>(null);\n\n\treturn (\n\t\t<>\n\t\t\t<PanelRow>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (hiddenFileInput.current) {\n\t\t\t\t\t\t\thiddenFileInput.current.click();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\thelp={__(\n\t\t\t\t\t\t\"Import a CSV file to replace this table's data.\",\n\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{__(`Import CSV`, 'prc-block-library')}\n\t\t\t\t</Button>\n\t\t\t\t<input\n\t\t\t\t\tref={hiddenFileInput}\n\t\t\t\t\ttype=\"file\"\n\t\t\t\t\taccept=\"text/csv\"\n\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\thandleCSV(e.target.files, attributes, setAttributes)\n\t\t\t\t\t}\n\t\t\t\t\tstyle={{ display: 'none' }}\n\t\t\t\t/>\n\t\t\t\t<TableDataDropzone\n\t\t\t\t\tattributes={attributes}\n\t\t\t\t\tsetAttributes={setAttributes}\n\t\t\t\t/>\n\t\t\t</PanelRow>\n\t\t\t<PanelRow>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tconst csv = exportCSV(attributes);\n\t\t\t\t\t\tconsole.log('csv...', csv);\n\t\t\t\t\t\tconst blob = new Blob([csv], {\n\t\t\t\t\t\t\ttype: 'text/csv',\n\t\t\t\t\t\t});\n\t\t\t\t\t\tconst url = URL.createObjectURL(blob);\n\t\t\t\t\t\tconst a = document.createElement('a');\n\t\t\t\t\t\ta.href = url;\n\t\t\t\t\t\ta.download = 'table.csv';\n\t\t\t\t\t\ta.click();\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{__('Export CSV', 'prc-block-library')}\n\t\t\t\t</Button>\n\t\t\t</PanelRow>\n\t\t</>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport type { Property, Properties } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport {\n\tButton,\n\tFlex,\n\tFlexBlock,\n\tTextControl,\n\t__experimentalSpacer as Spacer,\n\t__experimentalToggleGroupControl as ToggleGroupControl,\n\t__experimentalToggleGroupControlOption as ToggleGroupControlOption,\n\t__experimentalToggleGroupControlOptionIcon as ToggleGroupControlOptionIcon,\n\t__experimentalUnitControl as UnitControl,\n\t__experimentalUseCustomUnits as useCustomUnits,\n} from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nimport { FONT_SIZE_UNITS, TEXT_ALIGNMENT_CONTROLS } from '../constants';\nimport { PaddingControl } from '../controls';\nimport { convertToInline } from '../utils/style-converter';\nimport { pickPadding, type DirectionProps } from '../utils/style-picker';\nimport { updatePadding } from '../utils/style-updater';\nimport { sanitizeUnitValue } from '../utils/helper';\nimport type { BlockAttributes } from '../block-attributes';\n\ntype Props = {\n\tattributes: BlockAttributes;\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\n\ttableTitleStylesObj: Properties;\n};\n\n/* eslint-disable max-lines-per-function */\nexport default function TableTitleSettings({\n\tattributes,\n\tsetAttributes,\n\ttableTitleStylesObj,\n}: Props) {\n\tconst fontSizeUnits = useCustomUnits({ availableUnits: FONT_SIZE_UNITS });\n\n\tconst onChangeFontSize = (value: Property.FontSize | undefined) => {\n\t\tconst newStylesObj = {\n\t\t\t...tableTitleStylesObj,\n\t\t\tfontSize: sanitizeUnitValue(value),\n\t\t};\n\t\tsetAttributes({ tableTitleStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangeLineHeight = (value: Property.LineHeight) => {\n\t\tconst newStylesObj = {\n\t\t\t...tableTitleStylesObj,\n\t\t\tlineHeight: value,\n\t\t};\n\t\tsetAttributes({ tableTitleStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangePadding = (values: DirectionProps) => {\n\t\tconst newStylesObj = updatePadding(tableTitleStylesObj, values);\n\t\tsetAttributes({ tableTitleStyles: convertToInline(newStylesObj) });\n\t};\n\n\tconst onChangeAlign = (value: string | number | undefined) => {\n\t\tconst isAllowedValue = (\n\t\t\t_value: any\n\t\t): _value is Properties['textAlign'] => {\n\t\t\treturn (\n\t\t\t\t!value ||\n\t\t\t\tTEXT_ALIGNMENT_CONTROLS.some(\n\t\t\t\t\t(control) => control.value === _value\n\t\t\t\t)\n\t\t\t);\n\t\t};\n\t\tif (isAllowedValue(value)) {\n\t\t\tconst newStylesObj = {\n\t\t\t\t...tableTitleStylesObj,\n\t\t\t\ttextAlign:\n\t\t\t\t\tvalue === tableTitleStylesObj.textAlign ? undefined : value,\n\t\t\t};\n\t\t\tsetAttributes({\n\t\t\t\ttableTitleStyles: convertToInline(newStylesObj),\n\t\t\t});\n\t\t}\n\t};\n\n\tconst onResetSettings = () => {\n\t\tsetAttributes({\n\t\t\ttableTitleStyles: undefined,\n\t\t});\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Spacer marginBottom=\"4\" as={Flex} justify=\"end\">\n\t\t\t\t<Button variant=\"link\" isDestructive onClick={onResetSettings}>\n\t\t\t\t\t{__('Clear caption settings', 'flexible-table-block')}\n\t\t\t\t</Button>\n\t\t\t</Spacer>\n\t\t\t<Spacer marginBottom=\"4\" as={Flex} align=\"end\">\n\t\t\t\t<FlexBlock>\n\t\t\t\t\t<UnitControl\n\t\t\t\t\t\tlabel={__('Table title font size', 'prc-block')}\n\t\t\t\t\t\tvalue={tableTitleStylesObj?.fontSize}\n\t\t\t\t\t\tunits={fontSizeUnits}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tonChange={onChangeFontSize}\n\t\t\t\t\t\tsize=\"__unstable-large\"\n\t\t\t\t\t/>\n\t\t\t\t</FlexBlock>\n\t\t\t\t<FlexBlock>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Table title line height', 'prc-block')}\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tonChange={onChangeLineHeight}\n\t\t\t\t\t\tstep={0.1}\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tvalue={tableTitleStylesObj?.lineHeight || ''}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t/>\n\t\t\t\t</FlexBlock>\n\t\t\t</Spacer>\n\t\t\t<PaddingControl\n\t\t\t\tlabel={__('Table title padding', 'prc-block')}\n\t\t\t\tvalues={pickPadding(tableTitleStylesObj)}\n\t\t\t\tonChange={onChangePadding}\n\t\t\t/>\n\t\t\t<ToggleGroupControl\n\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t__next40pxDefaultSize\n\t\t\t\tlabel={__('Table title text alignment', 'prc-block')}\n\t\t\t\tvalue={tableTitleStylesObj?.textAlign}\n\t\t\t\tisDeselectable\n\t\t\t\tonChange={onChangeAlign}\n\t\t\t>\n\t\t\t\t{TEXT_ALIGNMENT_CONTROLS.map(({ icon, label, value }) => (\n\t\t\t\t\t<ToggleGroupControlOptionIcon\n\t\t\t\t\t\tkey={value}\n\t\t\t\t\t\tvalue={value}\n\t\t\t\t\t\ticon={icon}\n\t\t\t\t\t\tlabel={label}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</ToggleGroupControl>\n\t\t</>\n\t);\n}\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect } from '@wordpress/element';\nimport { Button, Popover } from '@wordpress/components';\n\n/**\n * Internal Dependencies\n */\nimport type { VCell } from '../utils/table-state';\n\nexport type ContextMenuProps = {\n\tisOpen: boolean;\n\tanchorElement: HTMLElement | null;\n\tcell: VCell | null;\n\tonClose: () => void;\n\tcopyToClipboard: (text: string) => void;\n\tTableCellContextMenuSlot: React.ComponentType<any>;\n};\n\nexport default function ContextMenu({\n\tisOpen,\n\tanchorElement,\n\tcell,\n\tonClose,\n\tcopyToClipboard,\n\tTableCellContextMenuSlot,\n}: ContextMenuProps) {\n\tuseEffect(() => {\n\t\tif (!isOpen) return;\n\t\tconst handleClickOutside = (event: MouseEvent) => {\n\t\t\tconst target = event.target as Node;\n\t\t\tconst menu = document.querySelector('.ftb-table-cell-context-menu');\n\t\t\tconst isClickInside = menu?.contains(target);\n\t\t\tif (!isClickInside) {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t};\n\t\tconst handleEscape = (event: KeyboardEvent) => {\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t};\n\t\tdocument.addEventListener('click', handleClickOutside, true);\n\t\tdocument.addEventListener('contextmenu', handleClickOutside, true);\n\t\tdocument.addEventListener('keydown', handleEscape);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('click', handleClickOutside, true);\n\t\t\tdocument.removeEventListener(\n\t\t\t\t'contextmenu',\n\t\t\t\thandleClickOutside,\n\t\t\t\ttrue\n\t\t\t);\n\t\t\tdocument.removeEventListener('keydown', handleEscape);\n\t\t};\n\t}, [isOpen, onClose]);\n\n\tif (!isOpen) return null;\n\n\treturn (\n\t\t<Popover\n\t\t\tanchor={anchorElement}\n\t\t\tposition=\"bottom right\"\n\t\t\tonClose={onClose}\n\t\t\texpandOnMobile={true}\n\t\t\tfocusOnMount=\"firstElement\"\n\t\t\tclassName=\"ftb-table-cell-context-menu\"\n\t\t>\n\t\t\t{/* eslint-disable-next-line jsx-a11y/no-static-element-interactions */}\n\t\t\t<div\n\t\t\t\tclassName=\"ftb-table-cell-context-menu__content\"\n\t\t\t\tonClick={(event) => event.stopPropagation()}\n\t\t\t\tonKeyDown={(event) => {\n\t\t\t\t\tif (event.key === 'Enter' || event.key === ' ') {\n\t\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t}\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"tertiary\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tif (cell?.content) {\n\t\t\t\t\t\t\tcopyToClipboard(cell.content);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClose();\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"ftb-table-cell-context-menu__button\"\n\t\t\t\t>\n\t\t\t\t\t{__('Copy Cell Content', 'flexible-table-block')}\n\t\t\t\t</Button>\n\t\t\t\t<TableCellContextMenuSlot fillProps={{ cell }} />\n\t\t\t</div>\n\t\t</Popover>\n\t);\n}\n","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst plus = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z\"\n  })\n});\nexport default plus;\n//# sourceMappingURL=plus.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst chevronRight = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z\"\n  })\n});\nexport default chevronRight;\n//# sourceMappingURL=chevron-right.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst trash = /*#__PURE__*/_jsx(SVG, {\n  xmlns: \"http://www.w3.org/2000/svg\",\n  viewBox: \"0 0 24 24\",\n  children: /*#__PURE__*/_jsx(Path, {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z\"\n  })\n});\nexport default trash;\n//# sourceMappingURL=trash.js.map","/**\n * WordPress dependencies\n */\nimport { SVG, Path } from '@wordpress/primitives';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst chevronDown = /*#__PURE__*/_jsx(SVG, {\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  children: /*#__PURE__*/_jsx(Path, {\n    d: \"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z\"\n  })\n});\nexport default chevronDown;\n//# sourceMappingURL=chevron-down.js.map","/**\n * External Dependencies\n */\nimport { Button } from '@wordpress/components';\nimport type { MouseEvent } from 'react';\n\n/**\n * Internal Dependencies\n */\nimport type { SectionName } from '../block-attributes';\nimport type { StoreOptions } from '../store';\n\ninterface TableRowSelectButtonProps {\n\tsectionName: SectionName;\n\tonSelectSectionCells: (sectionName: SectionName) => void;\n\toptions: StoreOptions;\n}\n\nconst TableRowSelectButton = ({\n\tsectionName,\n\tonSelectSectionCells,\n\toptions,\n}: TableRowSelectButtonProps) => (\n\t<Button\n\t\tclassName=\"ftb-table-cell-label\"\n\t\ttabIndex={options.focus_control_button ? 0 : -1}\n\t\tvariant=\"primary\"\n\t\tonClick={(event: MouseEvent) => {\n\t\t\tonSelectSectionCells(sectionName);\n\t\t\tevent.stopPropagation();\n\t\t}}\n\t>\n\t\t{`t${sectionName}`}\n\t</Button>\n);\n\nexport default TableRowSelectButton;\n","/**\n * External Dependencies\n */\nimport clsx from 'clsx';\n\n/**\n * WordPress Dependencies\n */\nimport type { MouseEvent } from 'react';\nimport { useMemo } from '@wordpress/element';\nimport { Button } from '@wordpress/components';\nimport { __ } from '@wordpress/i18n';\nimport { plus, trash, chevronRight, chevronDown } from '@wordpress/icons';\nimport { RichText } from '@wordpress/block-editor';\n\n/**\n * Internal Dependencies\n */\nimport { CELL_ARIA_LABEL } from '../constants';\nimport type { SectionName } from '../block-attributes';\nimport type { StoreOptions } from '../store';\nimport TableRowSelectButton from './table-row-select-button';\n\ninterface TableCellControlsProps {\n\tisSelected: boolean;\n\tisContentOnlyMode: boolean;\n\toptions: StoreOptions;\n\trowIndex: number;\n\tvColIndex: number;\n\tsectionIndex: number;\n\tsectionName: SectionName;\n\tcell: any;\n\trowSpan: number;\n\tisRowSelected: boolean;\n\tisColumnSelected: boolean;\n\tselectedLine: any;\n\tonInsertRow: (sectionName: SectionName, rowIndex: number) => void;\n\tonDeleteRow: (sectionName: SectionName, rowIndex: number) => void;\n\tonInsertColumn: (cell: any, offset: number) => void;\n\tonDeleteColumn: (vColIndex: number) => void;\n\tonSelectRow: (sectionName: SectionName, rowIndex: number) => void;\n\tonSelectColumn: (vColIndex: number) => void;\n\tfilteredVTable: any;\n\tcontent: string;\n\tonChangeCellContent: (value: string, cell: any) => void;\n\tisSelectMode: boolean;\n\tisTabMove: boolean;\n\tsetSelectedLine: (selectedLine: any) => void;\n\tsetSelectedCells: (selectedCells: any) => void;\n\tonSelectSectionCells: (sectionName: SectionName) => void;\n}\n\nconst TableCellControls = ({\n\tisSelected,\n\tisContentOnlyMode,\n\toptions,\n\trowIndex,\n\tvColIndex,\n\tsectionIndex,\n\tsectionName,\n\tcell,\n\trowSpan,\n\tisRowSelected,\n\tisColumnSelected,\n\tselectedLine,\n\tonInsertRow,\n\tonDeleteRow,\n\tonInsertColumn,\n\tonDeleteColumn,\n\tonSelectRow,\n\tonSelectColumn,\n\tfilteredVTable,\n\tcontent,\n\tonChangeCellContent,\n\tisSelectMode,\n\tisTabMove,\n\tsetSelectedLine,\n\tsetSelectedCells,\n\tonSelectSectionCells,\n}: TableCellControlsProps) => {\n\tconst showControl = useMemo(() => {\n\t\treturn isSelected && !isContentOnlyMode;\n\t}, [isSelected, isContentOnlyMode]);\n\n\treturn (\n\t\t<>\n\t\t\t{showControl && rowIndex === 0 && vColIndex === 0 && (\n\t\t\t\t<TableRowSelectButton\n\t\t\t\t\tsectionName={sectionName}\n\t\t\t\t\tonSelectSectionCells={onSelectSectionCells}\n\t\t\t\t\toptions={options}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{showControl && rowIndex === 0 && vColIndex === 0 && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName={clsx('ftb-row-before-inserter', {\n\t\t\t\t\t\t'ftb-row-before-inserter--has-prev-section':\n\t\t\t\t\t\t\tsectionIndex > 0,\n\t\t\t\t\t})}\n\t\t\t\t\tlabel={__('Insert row before', 'flexible-table-block')}\n\t\t\t\t\ttabIndex={options.focus_control_button ? 0 : -1}\n\t\t\t\t\ticon={plus}\n\t\t\t\t\ticonSize={18}\n\t\t\t\t\tonClick={(event: MouseEvent) => {\n\t\t\t\t\t\tonInsertRow(sectionName, rowIndex);\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t{showControl && vColIndex === 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"ftb-row-selector\"\n\t\t\t\t\t\tlabel={__('Select row', 'flexible-table-block')}\n\t\t\t\t\t\ttabIndex={options.focus_control_button ? 0 : -1}\n\t\t\t\t\t\ticon={chevronRight}\n\t\t\t\t\t\ticonSize={16}\n\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\tisRowSelected &&\n\t\t\t\t\t\t\tselectedLine.sectionName === sectionName &&\n\t\t\t\t\t\t\tselectedLine.rowIndex === rowIndex\n\t\t\t\t\t\t\t\t? 'primary'\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={(event: MouseEvent) => {\n\t\t\t\t\t\t\tonSelectRow(sectionName, rowIndex);\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t{isRowSelected &&\n\t\t\t\t\t\tselectedLine.sectionName === sectionName &&\n\t\t\t\t\t\tselectedLine.rowIndex === rowIndex && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"ftb-row-deleter\"\n\t\t\t\t\t\t\t\tlabel={__('Delete row', 'flexible-table-block')}\n\t\t\t\t\t\t\t\ttabIndex={options.focus_control_button ? 0 : -1}\n\t\t\t\t\t\t\t\ticon={trash}\n\t\t\t\t\t\t\t\ticonSize={20}\n\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\n\t\t\t\t\t\t\t\t\tonDeleteRow(sectionName, rowIndex);\n\t\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{showControl &&\n\t\t\t\tsectionIndex === 0 &&\n\t\t\t\trowIndex === 0 &&\n\t\t\t\tvColIndex === 0 && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"ftb-column-before-inserter\"\n\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t'Insert column before',\n\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t)}\n\t\t\t\t\t\ttabIndex={options.focus_control_button ? 0 : -1}\n\t\t\t\t\t\ticon={plus}\n\t\t\t\t\t\ticonSize={18}\n\t\t\t\t\t\tonClick={(event: MouseEvent) => {\n\t\t\t\t\t\t\tonInsertColumn(cell, 0);\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t{showControl && sectionIndex === 0 && rowIndex === 0 && (\n\t\t\t\t<>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName=\"ftb-column-selector\"\n\t\t\t\t\t\tlabel={__('Select column', 'flexible-table-block')}\n\t\t\t\t\t\ttabIndex={options.focus_control_button ? 0 : -1}\n\t\t\t\t\t\ticon={chevronDown}\n\t\t\t\t\t\ticonSize={18}\n\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\tisColumnSelected &&\n\t\t\t\t\t\t\tselectedLine.vColIndex === vColIndex\n\t\t\t\t\t\t\t\t? 'primary'\n\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={(event: MouseEvent) => {\n\t\t\t\t\t\t\tonSelectColumn(vColIndex);\n\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t{isColumnSelected &&\n\t\t\t\t\t\tselectedLine.vColIndex === vColIndex && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"ftb-column-deleter\"\n\t\t\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t\t\t'Delete column',\n\t\t\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\ttabIndex={options.focus_control_button ? 0 : -1}\n\t\t\t\t\t\t\t\ticon={trash}\n\t\t\t\t\t\t\t\ticonSize={20}\n\t\t\t\t\t\t\t\tonClick={(event: MouseEvent) => {\n\t\t\t\t\t\t\t\t\tonDeleteColumn(vColIndex);\n\t\t\t\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{showControl && vColIndex === 0 && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName={clsx('ftb-row-after-inserter', {\n\t\t\t\t\t\t'ftb-row-after-inserter--has-next-section':\n\t\t\t\t\t\t\tsectionIndex <\n\t\t\t\t\t\t\t\tObject.keys(filteredVTable).length - 1 &&\n\t\t\t\t\t\t\trowIndex + rowSpan - 1 ===\n\t\t\t\t\t\t\t\tfilteredVTable[sectionName].length - 1,\n\t\t\t\t\t})}\n\t\t\t\t\tlabel={__('Insert row after', 'flexible-table-block')}\n\t\t\t\t\ttabIndex={options.focus_control_button ? 0 : -1}\n\t\t\t\t\ticon={plus}\n\t\t\t\t\ticonSize={18}\n\t\t\t\t\tonClick={(event: MouseEvent) => {\n\t\t\t\t\t\tonInsertRow(sectionName, rowIndex + rowSpan);\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<RichText\n\t\t\t\tkey={vColIndex}\n\t\t\t\tvalue={content}\n\t\t\t\tonChange={(value) => onChangeCellContent(value, cell)}\n\t\t\t\t{...((!isSelectMode || isTabMove) && {\n\t\t\t\t\tonFocus: () => {\n\t\t\t\t\t\tisTabMove = false;\n\t\t\t\t\t\tsetSelectedLine(undefined);\n\t\t\t\t\t\tsetSelectedCells([\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\t\tisFirstSelected: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]);\n\t\t\t\t\t},\n\t\t\t\t})}\n\t\t\t\taria-label={CELL_ARIA_LABEL[sectionName as SectionName]}\n\t\t\t\tallowedFormats={[\n\t\t\t\t\t'core/link',\n\t\t\t\t\t'core/bold',\n\t\t\t\t\t'core/italic',\n\t\t\t\t\t'core/underline',\n\t\t\t\t\t'core/strikethrough',\n\t\t\t\t\t'core/code',\n\t\t\t\t\t'core/superscript',\n\t\t\t\t\t'core/subscript',\n\t\t\t\t]}\n\t\t\t/>\n\t\t\t{showControl && sectionIndex === 0 && rowIndex === 0 && (\n\t\t\t\t<Button\n\t\t\t\t\tclassName=\"ftb-column-after-inserter\"\n\t\t\t\t\tlabel={__('Insert column after', 'flexible-table-block')}\n\t\t\t\t\ttabIndex={options.focus_control_button ? 0 : -1}\n\t\t\t\t\ticon={plus}\n\t\t\t\t\ticonSize={18}\n\t\t\t\t\tonClick={(event: MouseEvent) => {\n\t\t\t\t\t\tonInsertColumn(cell, 1);\n\t\t\t\t\t\tevent.stopPropagation();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default TableCellControls;\n","/* eslint-disable @wordpress/no-unsafe-wp-apis */\n/* eslint-disable max-lines */\n/**\n * External dependencies\n */\nimport clsx from 'clsx';\nimport type { Properties } from 'csstype';\nimport type {\n\tDispatch,\n\tSetStateAction,\n\tMouseEvent,\n\tKeyboardEvent,\n} from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState, useEffect, useRef } from '@wordpress/element';\nimport {\n\t// @ts-ignore: has no exported member\n\t__experimentalUseColorProps as useColorProps,\n} from '@wordpress/block-editor';\nimport { SlotFillProvider, createSlotFill } from '@wordpress/components';\nimport { store as noticesStore } from '@wordpress/notices';\nimport { useDispatch } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tinsertRow,\n\tdeleteRow,\n\tinsertColumn,\n\tdeleteColumn,\n\ttoRectangledSelectedCells,\n\ttoVirtualRows,\n\ttoTableAttributes,\n\tisEmptySection,\n\ttype VTable,\n\ttype VCell,\n\ttype VRow,\n\ttype VSelectedLine,\n\ttype VSelectedCells,\n} from '../utils/table-state';\nimport { convertToObject } from '../utils/style-converter';\n\nimport type {\n\tSectionName,\n\tCellTagValue,\n\tBlockAttributes,\n} from '../block-attributes';\nimport type { StoreOptions } from '../store';\n\nimport ContextMenu from './context-menu';\nimport GoToCellModal from '../controls/go-to-cell-modal';\nimport TableCellControls from './table-cell-controls';\n\n// Create the SlotFill for the context menu\nconst { Fill: TableCellContextMenuFill, Slot: TableCellContextMenuSlot } =\n\tcreateSlotFill('TableCellContextMenu');\n\n// Export for other plugins to use\nexport { TableCellContextMenuFill };\n\nfunction TSection(props: any) {\n\tconst { name, ...restProps } = props;\n\tconst TagName = `t${name}`;\n\treturn <TagName {...restProps} />;\n}\n\nfunction Cell(props: any) {\n\tconst { name, ...restProps } = props;\n\tconst TagName: CellTagValue = name;\n\treturn <TagName {...restProps} />;\n}\n\ntype Props = {\n\tattributes: BlockAttributes;\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\n\tisSelected: boolean;\n\toptions: StoreOptions;\n\tvTable: VTable;\n\ttableStylesObj: Properties;\n\tselectedCells: VSelectedCells;\n\tsetSelectedCells: Dispatch<SetStateAction<VSelectedCells>>;\n\tselectedLine: VSelectedLine;\n\tsetSelectedLine: Dispatch<SetStateAction<VSelectedLine>>;\n\tisContentOnlyMode: boolean;\n};\n\n// Add new type for context menu state\ntype ContextMenuState = {\n\tisOpen: boolean;\n\tanchorElement: HTMLElement | null;\n\tcell: VCell | null;\n} | null;\n\n/* eslint-disable max-lines-per-function */\nexport default function Table({\n\tattributes,\n\tsetAttributes,\n\tisSelected,\n\toptions,\n\tvTable,\n\ttableStylesObj,\n\tselectedCells,\n\tsetSelectedCells,\n\tselectedLine,\n\tsetSelectedLine,\n\tisContentOnlyMode,\n}: Props) {\n\tconst { hasFixedLayout, isStackedOnMobile, sticky } = attributes;\n\n\tconst colorProps = useColorProps(attributes);\n\n\tconst [isSelectMode, setIsSelectMode] = useState<boolean>(false);\n\n\t// Manage rendering status as state since\n\t// some processing may be performed before rendering components.\n\tconst [isReady, setIdReady] = useState<boolean>(false);\n\tuseEffect(() => setIdReady(true), []);\n\n\tconst tableRef = useRef(null);\n\tconst { createWarningNotice } = useDispatch(noticesStore);\n\n\tlet isTabMove: boolean = false;\n\n\tconst isRowSelected =\n\t\tselectedLine &&\n\t\t'sectionName' in selectedLine &&\n\t\t'rowIndex' in selectedLine;\n\tconst isColumnSelected = selectedLine && 'vColIndex' in selectedLine;\n\n\tconst [contextMenu, setContextMenu] = useState<ContextMenuState>(null);\n\n\tconst [isGoToModalOpen, setIsGoToModalOpen] = useState(false);\n\tconst [goToValue, setGoToValue] = useState('');\n\tconst goToInputRef = useRef<HTMLInputElement>(null);\n\n\tconst onInsertRow = (sectionName: SectionName, rowIndex: number) => {\n\t\tconst newVTable = insertRow(vTable, { sectionName, rowIndex });\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\tconst onDeleteRow = (sectionName: SectionName, rowIndex: number) => {\n\t\t// Do not allow tbody to be empty for table with thead /tfoot sections.\n\t\tif (\n\t\t\tsectionName === 'body' &&\n\t\t\tvTable.body.length === 1 &&\n\t\t\t(!isEmptySection(vTable.head) || !isEmptySection(vTable.foot))\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\tcreateWarningNotice(\n\t\t\t\t__(\n\t\t\t\t\t'The table body must have one or more rows.',\n\t\t\t\t\t'flexible-table-block'\n\t\t\t\t),\n\t\t\t\t{\n\t\t\t\t\tid: 'flexible-table-block-body-row',\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tconst newVTable = deleteRow(vTable, { sectionName, rowIndex });\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\tconst onInsertColumn = (vTargetCell: VCell, offset: number) => {\n\t\t// Calculate column index to be inserted considering colspan of the target cell.\n\t\tconst vColIndex =\n\t\t\toffset === 0\n\t\t\t\t? vTargetCell.vColIndex\n\t\t\t\t: vTargetCell.vColIndex + offset + vTargetCell.colSpan - 1;\n\n\t\tconst newVTable = insertColumn(vTable, { vColIndex });\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\tconst onDeleteColumn = (vColIndex: number) => {\n\t\tconst newVTable = deleteColumn(vTable, { vColIndex });\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t\tsetSelectedCells(undefined);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\tconst onSelectSectionCells = (sectionName: SectionName) => {\n\t\tsetSelectedCells(\n\t\t\tvTable[sectionName].reduce((cells: VCell[], row) => {\n\t\t\t\treturn cells.concat(row.cells.filter((cell) => !cell.isHidden));\n\t\t\t}, [])\n\t\t);\n\t\tsetSelectedLine(undefined);\n\t};\n\n\tconst onSelectRow = (sectionName: SectionName, rowIndex: number) => {\n\t\tif (\n\t\t\tisRowSelected &&\n\t\t\tselectedLine.sectionName === sectionName &&\n\t\t\tselectedLine.rowIndex === rowIndex\n\t\t) {\n\t\t\tsetSelectedLine(undefined);\n\t\t\tsetSelectedCells(undefined);\n\t\t} else {\n\t\t\tsetSelectedLine({ sectionName, rowIndex });\n\t\t\tsetSelectedCells(\n\t\t\t\tvTable[sectionName].reduce((cells: VCell[], row) => {\n\t\t\t\t\treturn cells.concat(\n\t\t\t\t\t\trow.cells.filter(\n\t\t\t\t\t\t\t(cell) =>\n\t\t\t\t\t\t\t\tcell.rowIndex === rowIndex && !cell.isHidden\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}, [])\n\t\t\t);\n\t\t}\n\t};\n\n\tconst onSelectColumn = (vColIndex: number) => {\n\t\tif (\n\t\t\tisColumnSelected &&\n\t\t\tselectedLine.vColIndex &&\n\t\t\tselectedLine.vColIndex === vColIndex\n\t\t) {\n\t\t\tsetSelectedLine(undefined);\n\t\t\tsetSelectedCells(undefined);\n\t\t} else {\n\t\t\tconst vRows = toVirtualRows(vTable);\n\n\t\t\tsetSelectedCells(\n\t\t\t\tvRows.reduce(\n\t\t\t\t\t(cells: VCell[], row) =>\n\t\t\t\t\t\tcells.concat(\n\t\t\t\t\t\t\trow.cells.filter(\n\t\t\t\t\t\t\t\t(cell) =>\n\t\t\t\t\t\t\t\t\tcell.vColIndex === vColIndex &&\n\t\t\t\t\t\t\t\t\t!cell.isHidden\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t),\n\t\t\t\t\t[]\n\t\t\t\t)\n\t\t\t);\n\n\t\t\tsetSelectedLine({ vColIndex });\n\t\t}\n\t};\n\n\tconst onChangeCellContent = (content: string, targetCell: VCell) => {\n\t\t// If inline highlight is applied to the RichText,\n\t\t// this process is performed before rendering the component,\n\t\t// causing a warning error.\n\t\t// Therefore, nothing is performed if the component has not yet been rendered.\n\t\tif (!isReady) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst {\n\t\t\tsectionName,\n\t\t\trowIndex: selectedRowIndex,\n\t\t\tvColIndex: selectedVColIndex,\n\t\t} = targetCell;\n\t\tsetSelectedCells([{ ...targetCell, isFirstSelected: true }]);\n\n\t\tconst newVTable = {\n\t\t\t...vTable,\n\t\t\t[sectionName]: vTable[sectionName].map((row, rowIndex) => {\n\t\t\t\tif (rowIndex !== selectedRowIndex) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcells: row.cells.filter((cell) => !cell.isHidden),\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tcells: row.cells.map((cell, vColIndex) => {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\trowIndex !== selectedRowIndex ||\n\t\t\t\t\t\t\tvColIndex !== selectedVColIndex\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\treturn cell;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...cell,\n\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t};\n\t\t\t\t\t}),\n\t\t\t\t};\n\t\t\t}),\n\t\t};\n\t\tsetAttributes(toTableAttributes(newVTable));\n\t};\n\n\t// Monitor pressed key to determine whether multi-select mode or range-select mode.\n\t// Also the next cell will be focused if tab key navigation is enabled.\n\tconst onKeyDown = (event: KeyboardEvent) => {\n\t\tconst { key } = event;\n\n\t\tif (key === 'Shift' || key === 'Control' || key === 'Meta') {\n\t\t\t// range-select mode or multi-select mode.\n\t\t\tsetIsSelectMode(true);\n\t\t\tconsole.log('range-select mode or multi-select mode.');\n\t\t} else if (key === 'Tab' && options.tab_move && tableRef.current) {\n\t\t\tconst isInsideTableBlock =\n\t\t\t\t(event.target as HTMLElement).closest(\n\t\t\t\t\t'.wp-block-prc-block-table'\n\t\t\t\t) !== null;\n\n\t\t\tif (!isInsideTableBlock) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// Focus on the next cell.\n\t\t\tisTabMove = true;\n\n\t\t\tconst tableElement: HTMLElement = tableRef.current;\n\t\t\tconst { ownerDocument } = tableElement;\n\t\t\tconst { activeElement } = ownerDocument;\n\n\t\t\tconst activeCell = tableElement.querySelector(\n\t\t\t\t'th.is-selected > [contenteditable=\"true\"], td.is-selected > [contenteditable=\"true\"]'\n\t\t\t);\n\t\t\tconst isInsidePopover =\n\t\t\t\tactiveElement &&\n\t\t\t\tactiveElement.closest('.components-popover') !== null;\n\t\t\tconst hasLinkControl = !!ownerDocument.querySelector(\n\t\t\t\t'.block-editor-link-control'\n\t\t\t);\n\n\t\t\tif (!activeCell || isInsidePopover || hasLinkControl) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst tabbableNodes = tableElement.querySelectorAll(\n\t\t\t\t'th > [contenteditable=\"true\"], td > [contenteditable=\"true\"]'\n\t\t\t);\n\n\t\t\tconst tabbableElements = [].slice.call(tabbableNodes);\n\t\t\tconst activeCellIndex = tabbableElements.findIndex(\n\t\t\t\t(element: Node) => element === activeCell\n\t\t\t);\n\n\t\t\tif (activeCellIndex === -1) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet nextCellIndex = event.shiftKey\n\t\t\t\t? activeCellIndex - 1\n\t\t\t\t: activeCellIndex + 1;\n\n\t\t\tif (nextCellIndex < 0) {\n\t\t\t\tnextCellIndex = tabbableElements.length - 1;\n\t\t\t} else if (nextCellIndex >= tabbableElements.length) {\n\t\t\t\tnextCellIndex = 0;\n\t\t\t}\n\n\t\t\tconst focusbleElement: HTMLElement =\n\t\t\t\ttabbableElements[nextCellIndex];\n\n\t\t\tif (!focusbleElement) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tevent.preventDefault();\n\t\t\tsetIsSelectMode(false);\n\t\t\tfocusbleElement.focus();\n\n\t\t\t// Select all text if the next cell is not empty.\n\t\t\tconst selection = ownerDocument.getSelection();\n\t\t\tconst range = ownerDocument.createRange();\n\n\t\t\tif (selection && focusbleElement.innerText.trim().length) {\n\t\t\t\trange.selectNodeContents(focusbleElement);\n\t\t\t\tselection.removeAllRanges();\n\t\t\t\tselection.addRange(range);\n\t\t\t}\n\t\t}\n\t};\n\n\tconst onKeyUp = (event: KeyboardEvent) => {\n\t\tconst { key } = event;\n\n\t\tif (key === 'Shift' || key === 'Control' || key === 'Meta') {\n\t\t\tconst isInsideTableBlock =\n\t\t\t\t(event.target as HTMLElement).closest(\n\t\t\t\t\t'.wp-block-prc-block-table'\n\t\t\t\t) !== null;\n\n\t\t\tif (!isInsideTableBlock) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tsetIsSelectMode(false);\n\t\t}\n\t};\n\n\tconst onClickCell = (event: MouseEvent, clickedCell: VCell) => {\n\t\t// console.log('onClickCell', event, clickedCell);\n\t\tconst { shiftKey, ctrlKey, metaKey } = event;\n\t\tconst isInsideTableBlock =\n\t\t\t(event.target as HTMLElement).closest(\n\t\t\t\t'.wp-block-prc-block-table'\n\t\t\t) !== null;\n\n\t\tif (!isInsideTableBlock) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst { sectionName, rowIndex, vColIndex } = clickedCell;\n\n\t\tif (shiftKey) {\n\t\t\t// Range select.\n\t\t\tif (!selectedCells) {\n\t\t\t\tsetSelectedCells([{ ...clickedCell, isFirstSelected: true }]);\n\t\t\t} else {\n\t\t\t\tconst fromCell = selectedCells.find(\n\t\t\t\t\t({ isFirstSelected }) => isFirstSelected\n\t\t\t\t);\n\n\t\t\t\tif (!fromCell) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (fromCell.sectionName !== sectionName) {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tcreateWarningNotice(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Cannot select range cells from difference sections.',\n\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t),\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tid: 'flexible-table-block-range-sections',\n\t\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tsetSelectedCells(\n\t\t\t\t\ttoRectangledSelectedCells(vTable, {\n\t\t\t\t\t\tfromCell,\n\t\t\t\t\t\ttoCell: clickedCell,\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (ctrlKey || metaKey) {\n\t\t\t// Multple select.\n\t\t\tconst newSelectedCells = selectedCells ? [...selectedCells] : [];\n\t\t\tconst existCellIndex = newSelectedCells.findIndex((cell) => {\n\t\t\t\treturn (\n\t\t\t\t\tcell.sectionName === sectionName &&\n\t\t\t\t\tcell.rowIndex === rowIndex &&\n\t\t\t\t\tcell.vColIndex === vColIndex\n\t\t\t\t);\n\t\t\t});\n\n\t\t\tif (\n\t\t\t\tnewSelectedCells.length &&\n\t\t\t\tsectionName !== newSelectedCells[0].sectionName\n\t\t\t) {\n\t\t\t\t// @ts-ignore\n\t\t\t\tcreateWarningNotice(\n\t\t\t\t\t__(\n\t\t\t\t\t\t'Cannot select multi cells from difference sections.',\n\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t),\n\t\t\t\t\t{\n\t\t\t\t\t\tid: 'flexible-table-block-multi-sections',\n\t\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (existCellIndex === -1) {\n\t\t\t\tnewSelectedCells.push(clickedCell);\n\t\t\t} else {\n\t\t\t\tnewSelectedCells.splice(existCellIndex, 1);\n\t\t\t}\n\n\t\t\tsetSelectedCells(newSelectedCells);\n\t\t} else {\n\t\t\t// Select cell for the first time.\n\t\t\tsetSelectedCells([{ ...clickedCell, isFirstSelected: true }]);\n\t\t}\n\t};\n\n\t// Remove cells from the virtual table that are not needed for dom rendering.\n\tconst filteredVTable = Object.keys(vTable).reduce(\n\t\t(result: any, sectionName) => {\n\t\t\tif (isEmptySection(vTable[sectionName as SectionName])) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...result,\n\t\t\t\t[sectionName]: vTable[sectionName as SectionName].map(\n\t\t\t\t\t(row) => ({\n\t\t\t\t\t\tcells: row.cells.filter((cell) => !cell.isHidden),\n\t\t\t\t\t})\n\t\t\t\t),\n\t\t\t};\n\t\t},\n\t\t{}\n\t);\n\n\tif (!filteredVTable) {\n\t\treturn null;\n\t}\n\n\tconst filteredSections = Object.keys(filteredVTable) as SectionName[];\n\n\tconst handleContextMenu = (event: MouseEvent, cell: VCell) => {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tconsole.log('handleContextMenu', event);\n\t\tsetContextMenu({\n\t\t\tisOpen: true,\n\t\t\tanchorElement: event.currentTarget as HTMLElement,\n\t\t\tcell,\n\t\t});\n\t};\n\n\tconst closeContextMenu = () => {\n\t\tsetContextMenu(null);\n\t};\n\n\tconst copyToClipboard = async (text: string) => {\n\t\ttry {\n\t\t\tawait navigator.clipboard.writeText(text);\n\t\t\tcreateWarningNotice(\n\t\t\t\t__('Content copied to clipboard', 'flexible-table-block'),\n\t\t\t\t{\n\t\t\t\t\ttype: 'snackbar',\n\t\t\t\t}\n\t\t\t);\n\t\t} catch (err) {\n\t\t\tconsole.error('Failed to copy:', err);\n\t\t}\n\t};\n\n\tuseEffect(() => {\n\t\tif (contextMenu?.isOpen) {\n\t\t\tconst handleClickOutside = (event: MouseEvent) => {\n\t\t\t\tconst target = event.target as Node;\n\t\t\t\tconst menu = document.querySelector(\n\t\t\t\t\t'.ftb-table-cell-context-menu'\n\t\t\t\t);\n\t\t\t\tconst isClickInside = menu?.contains(target);\n\n\t\t\t\tif (!isClickInside) {\n\t\t\t\t\tcloseContextMenu();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Use capture phase to ensure we handle the click before other handlers\n\t\t\tdocument.addEventListener('click', handleClickOutside, true);\n\t\t\tdocument.addEventListener('contextmenu', handleClickOutside, true);\n\n\t\t\treturn () => {\n\t\t\t\tdocument.removeEventListener('click', handleClickOutside, true);\n\t\t\t\tdocument.removeEventListener(\n\t\t\t\t\t'contextmenu',\n\t\t\t\t\thandleClickOutside,\n\t\t\t\t\ttrue\n\t\t\t\t);\n\t\t\t};\n\t\t}\n\t}, [contextMenu?.isOpen]);\n\n\tuseEffect(() => {\n\t\tif (contextMenu?.isOpen) {\n\t\t\tconst handleEscape = (event: KeyboardEvent) => {\n\t\t\t\tif (event.key === 'Escape') {\n\t\t\t\t\tcloseContextMenu();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdocument.addEventListener('keydown', handleEscape);\n\t\t\treturn () => document.removeEventListener('keydown', handleEscape);\n\t\t}\n\t}, [contextMenu?.isOpen]);\n\n\tconst navigateToCell = (value: string) => {\n\t\t// Parse input in format \"row:column\" (1-based indices)\n\t\tconst [rowStr, colStr] = value.split(':');\n\t\tconst targetRow = parseInt(rowStr, 10) - 1; // Convert to 0-based\n\t\tconst targetCol = parseInt(colStr, 10) - 1; // Convert to 0-based\n\n\t\t// Validate input\n\t\tif (isNaN(targetRow) || isNaN(targetCol)) {\n\t\t\tcreateWarningNotice(\n\t\t\t\t__(\n\t\t\t\t\t'Please enter valid row and column numbers (e.g., \"1:1\")',\n\t\t\t\t\t'flexible-table-block'\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar' }\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\t// Find the cell in the table\n\t\tlet found = false;\n\t\tfor (const sectionName of Object.keys(vTable) as SectionName[]) {\n\t\t\tconst section = vTable[sectionName];\n\t\t\tif (targetRow < section.length) {\n\t\t\t\tconst row = section[targetRow];\n\t\t\t\tconst cell = row.cells.find(\n\t\t\t\t\t(c) => c.vColIndex === targetCol && !c.isHidden\n\t\t\t\t);\n\t\t\t\tif (cell) {\n\t\t\t\t\t// Select and focus the cell\n\t\t\t\t\tsetSelectedCells([{ ...cell, isFirstSelected: true }]);\n\t\t\t\t\tsetSelectedLine(undefined);\n\n\t\t\t\t\t// Focus the RichText element and scroll into view\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconst cellElement = document.querySelector(\n\t\t\t\t\t\t\t`[data-row=\"${targetRow}\"][data-col=\"${targetCol}\"]`\n\t\t\t\t\t\t) as HTMLElement;\n\n\t\t\t\t\t\tif (cellElement) {\n\t\t\t\t\t\t\t// Scroll the cell into view with smooth behavior\n\t\t\t\t\t\t\tcellElement.scrollIntoView({\n\t\t\t\t\t\t\t\tbehavior: 'smooth',\n\t\t\t\t\t\t\t\tblock: 'center',\n\t\t\t\t\t\t\t\tinline: 'center',\n\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t// Focus the editable content after scrolling\n\t\t\t\t\t\t\tconst editableElement = cellElement.querySelector(\n\t\t\t\t\t\t\t\t'[contenteditable=\"true\"]'\n\t\t\t\t\t\t\t) as HTMLElement;\n\t\t\t\t\t\t\teditableElement?.focus();\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 0);\n\n\t\t\t\t\tfound = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!found) {\n\t\t\tcreateWarningNotice(\n\t\t\t\t__(\n\t\t\t\t\t'Cell not found. Please check the row and column numbers.',\n\t\t\t\t\t'flexible-table-block'\n\t\t\t\t),\n\t\t\t\t{ type: 'snackbar' }\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsGoToModalOpen(false);\n\t\tsetGoToValue('');\n\t};\n\n\treturn (\n\t\t<SlotFillProvider>\n\t\t\t{/* eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions */}\n\t\t\t<table\n\t\t\t\tclassName={clsx(colorProps.className, {\n\t\t\t\t\t'has-fixed-layout': hasFixedLayout,\n\t\t\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t\t\t\t[`is-sticky-${sticky}`]: sticky,\n\t\t\t\t})}\n\t\t\t\tstyle={{ ...tableStylesObj, ...colorProps.style }}\n\t\t\t\tref={tableRef}\n\t\t\t\tonKeyDown={onKeyDown}\n\t\t\t\tonKeyUp={onKeyUp}\n\t\t\t>\n\t\t\t\t{filteredSections.map(\n\t\t\t\t\t(sectionName: SectionName, sectionIndex) => (\n\t\t\t\t\t\t<TSection name={sectionName} key={sectionIndex}>\n\t\t\t\t\t\t\t{filteredVTable[sectionName].map(\n\t\t\t\t\t\t\t\t(row: VRow, rowIndex: number) => (\n\t\t\t\t\t\t\t\t\t<tr key={rowIndex}>\n\t\t\t\t\t\t\t\t\t\t{row.cells.map((cell: VCell) => {\n\t\t\t\t\t\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\t\t\t\t\t\ttag,\n\t\t\t\t\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\t\t\t\theaders,\n\t\t\t\t\t\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\t\t\t\t\t\tstyles,\n\t\t\t\t\t\t\t\t\t\t\t\trowSpan,\n\t\t\t\t\t\t\t\t\t\t\t\tcolSpan,\n\t\t\t\t\t\t\t\t\t\t\t\tvColIndex,\n\t\t\t\t\t\t\t\t\t\t\t} = cell;\n\n\t\t\t\t\t\t\t\t\t\t\t// Whether or not the current cell is included in the selected cells.\n\t\t\t\t\t\t\t\t\t\t\tconst isCellSelected = (\n\t\t\t\t\t\t\t\t\t\t\t\tselectedCells || []\n\t\t\t\t\t\t\t\t\t\t\t).some(\n\t\t\t\t\t\t\t\t\t\t\t\t(targetCell) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\ttargetCell.sectionName ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsectionName &&\n\t\t\t\t\t\t\t\t\t\t\t\t\ttargetCell.rowIndex ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trowIndex &&\n\t\t\t\t\t\t\t\t\t\t\t\t\ttargetCell.vColIndex ===\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvColIndex\n\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\tconst cellStylesObj =\n\t\t\t\t\t\t\t\t\t\t\t\tconvertToObject(styles);\n\t\t\t\t\t\t\t\t\t\t\t// If there is a hoverBackgroundColor, recast it as --hover-background-color\n\t\t\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t\t\tcellStylesObj?.hoverBackgroundColor\n\t\t\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\t\t\tcellStylesObj[\n\t\t\t\t\t\t\t\t\t\t\t\t\t'--hover-background-color'\n\t\t\t\t\t\t\t\t\t\t\t\t] =\n\t\t\t\t\t\t\t\t\t\t\t\t\tcellStylesObj.hoverBackgroundColor;\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<Cell\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={vColIndex}\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={tag}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={clsx(className, {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t'is-selected':\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisCellSelected,\n\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-row={rowIndex}\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata-col={vColIndex}\n\t\t\t\t\t\t\t\t\t\t\t\t\trowSpan={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trowSpan > 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? rowSpan\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolSpan={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolSpan > 1\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? colSpan\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={cellStylesObj}\n\t\t\t\t\t\t\t\t\t\t\t\t\tid={id}\n\t\t\t\t\t\t\t\t\t\t\t\t\theaders={headers}\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope={scope}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent: MouseEvent\n\t\t\t\t\t\t\t\t\t\t\t\t\t) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClickCell(event, cell)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonContextMenu={(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent: MouseEvent\n\t\t\t\t\t\t\t\t\t\t\t\t\t) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleContextMenu(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevent,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcell\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCellControls\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSelected,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisContentOnlyMode,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trowIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvColIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsectionIndex,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsectionName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcell,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trowSpan,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisRowSelected:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!!isRowSelected,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisColumnSelected:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!!isColumnSelected,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedLine,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertRow,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonDeleteRow,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonInsertColumn,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonDeleteColumn,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelectRow,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelectColumn,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfilteredVTable,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChangeCellContent,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisSelectMode,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisTabMove,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedLine,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedCells,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonSelectSectionCells,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</Cell>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</TSection>\n\t\t\t\t\t)\n\t\t\t\t)}\n\t\t\t</table>\n\n\t\t\t{/* Single Popover instance outside the table */}\n\t\t\t<ContextMenu\n\t\t\t\tisOpen={!!contextMenu?.isOpen}\n\t\t\t\tanchorElement={contextMenu?.anchorElement || null}\n\t\t\t\tcell={contextMenu?.cell || null}\n\t\t\t\tonClose={closeContextMenu}\n\t\t\t\tcopyToClipboard={copyToClipboard}\n\t\t\t\tTableCellContextMenuSlot={TableCellContextMenuSlot}\n\t\t\t/>\n\n\t\t\t<GoToCellModal\n\t\t\t\tisOpen={isGoToModalOpen}\n\t\t\t\tvalue={goToValue}\n\t\t\t\tonChange={setGoToValue}\n\t\t\t\tonOpen={() => {\n\t\t\t\t\tsetIsGoToModalOpen(true);\n\t\t\t\t}}\n\t\t\t\tonClose={() => {\n\t\t\t\t\tsetIsGoToModalOpen(false);\n\t\t\t\t\tsetGoToValue('');\n\t\t\t\t}}\n\t\t\t\tonGoTo={navigateToCell}\n\t\t\t\tinputRef={goToInputRef}\n\t\t\t/>\n\t\t</SlotFillProvider>\n\t);\n}\n","/**\n * External dependencies\n */\nimport type { Properties } from 'csstype';\nimport type { Dispatch, SetStateAction } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { BlockControls, RichText } from '@wordpress/block-editor';\nimport { createBlock, type BlockInstance } from '@wordpress/blocks';\nimport { ToolbarButton } from '@wordpress/components';\nimport { caption as captionIcon } from '@wordpress/icons';\nimport { useState, useEffect, useCallback } from '@wordpress/element';\nimport { usePrevious } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport type { BlockAttributes } from '../block-attributes';\nimport type { VSelectedCells, VSelectedLine } from '../utils/table-state';\nimport { GenerateCaptionButton } from '../utils/ai-generators';\n\ntype Props = {\n\tattributes: BlockAttributes;\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\n\tsetSelectedLine: Dispatch<SetStateAction<VSelectedLine>>;\n\tsetSelectedCells: Dispatch<SetStateAction<VSelectedCells>>;\n\tcaptionStylesObj: Properties;\n\tisSelected?: boolean;\n};\n\n/* eslint-disable max-lines-per-function */\nexport default function TableCaption({\n\tattributes,\n\tsetAttributes,\n\tsetSelectedLine,\n\tsetSelectedCells,\n\tcaptionStylesObj,\n\tisSelected,\n}: Props) {\n\tconst { caption = '' } = attributes;\n\tconst prevCaption = usePrevious(caption);\n\tconst isCaptionEmpty = RichText.isEmpty(caption);\n\tconst isPrevCaptionEmpty = RichText.isEmpty(prevCaption || '');\n\tconst [showCaption, setShowCaption] = useState(!isCaptionEmpty);\n\tconst [isGeneratingCaption, setIsGeneratingCaption] = useState(false);\n\n\tconst onChange = (value: string | undefined) =>\n\t\tsetAttributes({ caption: value });\n\n\tuseEffect(() => {\n\t\tif (!isCaptionEmpty && isPrevCaptionEmpty) {\n\t\t\tsetShowCaption(true);\n\t\t}\n\t}, [isCaptionEmpty, isPrevCaptionEmpty]);\n\n\tuseEffect(() => {\n\t\tif (!isSelected && isCaptionEmpty) {\n\t\t\tsetShowCaption(false);\n\t\t}\n\t}, [isSelected, isCaptionEmpty]);\n\n\tconst ref = useCallback(\n\t\t(node: any) => {\n\t\t\tif (node && isCaptionEmpty) {\n\t\t\t\tnode?.focus();\n\t\t\t}\n\t\t},\n\t\t[isCaptionEmpty]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{isSelected && (\n\t\t\t\t<BlockControls group=\"block\">\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetShowCaption(!showCaption);\n\t\t\t\t\t\t\tif (showCaption && caption) {\n\t\t\t\t\t\t\t\tonChange(undefined);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ticon={captionIcon}\n\t\t\t\t\t\tisPressed={showCaption}\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\tshowCaption\n\t\t\t\t\t\t\t\t? __('Remove caption', 'flexible-table-block')\n\t\t\t\t\t\t\t\t: __('Add caption', 'flexible-table-block')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t)}\n\t\t\t{showCaption && (!RichText.isEmpty(caption) || isSelected) && (\n\t\t\t\t<div\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tgap: '10px',\n\t\t\t\t\t\tflexDirection: 'row',\n\t\t\t\t\t\tcursor: isGeneratingCaption ? 'not-allowed' : 'auto',\n\t\t\t\t\t\topacity: isGeneratingCaption ? 0.5 : 1,\n\t\t\t\t\t}}\n\t\t\t\t\tclassName=\"prc-block-table-caption\"\n\t\t\t\t>\n\t\t\t\t\t<RichText\n\t\t\t\t\t\taria-label={__(\n\t\t\t\t\t\t\t'Table caption text',\n\t\t\t\t\t\t\t'flexible-table-block'\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tplaceholder={__('Add caption', 'flexible-table-block')}\n\t\t\t\t\t\ttagName=\"figcaption\"\n\t\t\t\t\t\tstyle={captionStylesObj}\n\t\t\t\t\t\tvalue={caption}\n\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\t\tsetSelectedLine(undefined);\n\t\t\t\t\t\t\tsetSelectedCells(undefined);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\t// // @ts-ignore: `__unstableOnSplitAtEnd` prop is not exist at @types\n\t\t\t\t\t\t// __unstableOnSplitAtEnd={() =>\n\t\t\t\t\t\t// \tinsertBlocksAfter(createBlock('core/paragraph'))\n\t\t\t\t\t\t// }\n\t\t\t\t\t/>\n\t\t\t\t\t{isSelected && (\n\t\t\t\t\t\t<GenerateCaptionButton\n\t\t\t\t\t\t\t{...{\n\t\t\t\t\t\t\t\tattributes,\n\t\t\t\t\t\t\t\tsetAttributes,\n\t\t\t\t\t\t\t\tisGeneratingCaption,\n\t\t\t\t\t\t\t\tsetIsGeneratingCaption,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</>\n\t);\n}\n","/**\n * External Dependencies\n */\nimport clsx from 'clsx';\nimport type { FormEvent } from 'react';\n\n/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useState, createInterpolateElement } from '@wordpress/element';\nimport { BlockIcon } from '@wordpress/block-editor';\nimport {\n\tButton,\n\tPlaceholder,\n\tTextControl,\n\tToggleControl,\n\t__experimentalHStack as HStack,\n\t__experimentalVStack as VStack,\n\t__experimentalSpacer as Spacer,\n\t__experimentalText as Text,\n} from '@wordpress/components';\nimport { isAppleOS } from '@wordpress/keycodes';\n\n/**\n * Internal Dependencies\n */\nimport {\n\tDEFAULT_PREVIEW_ROWS,\n\tDEFAULT_PREVIEW_COLUMNS,\n\tMIN_PREVIEW_TABLE_HEIGHT,\n\tMAX_PREVIEW_TABLE_COL,\n\tMAX_PREVIEW_TABLE_ROW,\n\tTHRESHOLD_PREVIEW_TABLE_COL,\n\tTHRESHOLD_PREVIEW_TABLE_ROW,\n} from '../constants';\nimport {\n\tcreateTable,\n\ttoTableAttributes,\n\ttype VTable,\n} from '../utils/table-state';\nimport { blockIcon as icon } from '../icons';\nimport type { BlockAttributes } from '../block-attributes';\n\ntype Props = {\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\n};\n\n/* eslint-disable max-lines-per-function */\nexport default function TablePlaceholder({ setAttributes }: Props) {\n\tconst [rowCount, setRowCount] = useState<number | undefined>(\n\t\tDEFAULT_PREVIEW_ROWS\n\t);\n\tconst [colCount, setColCount] = useState<number | undefined>(\n\t\tDEFAULT_PREVIEW_COLUMNS\n\t);\n\tconst [headerSection, setHeaderSection] = useState<boolean>(false);\n\tconst [footerSection, setFooterSection] = useState<boolean>(false);\n\n\tconst totalRowCount: number | undefined = rowCount\n\t\t? rowCount + Number(headerSection) + Number(footerSection)\n\t\t: undefined;\n\tconst cellHeight: number | undefined = totalRowCount\n\t\t? Number(\n\t\t\t\tMIN_PREVIEW_TABLE_HEIGHT /\n\t\t\t\t\tMath.min(THRESHOLD_PREVIEW_TABLE_ROW, totalRowCount)\n\t\t\t)\n\t\t: undefined;\n\n\tconst onCreateTable = (event: FormEvent) => {\n\t\tevent.preventDefault();\n\n\t\tif (!rowCount || !colCount) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst vTable: VTable = createTable({\n\t\t\trowCount: Math.min(rowCount, MAX_PREVIEW_TABLE_ROW),\n\t\t\tcolCount: Math.min(colCount, MAX_PREVIEW_TABLE_COL),\n\t\t\theaderSection,\n\t\t\tfooterSection,\n\t\t});\n\n\t\tsetAttributes(toTableAttributes(vTable));\n\t};\n\n\tconst onChangeColumnCount = (value: string) => {\n\t\tconst parsedValue = parseInt(value, 10);\n\t\tif (isNaN(parsedValue)) {\n\t\t\tsetColCount(undefined);\n\t\t} else {\n\t\t\tsetColCount(\n\t\t\t\tMath.max(1, Math.min(MAX_PREVIEW_TABLE_COL, parsedValue))\n\t\t\t);\n\t\t}\n\t};\n\n\tconst onChangeRowCount = (value: string) => {\n\t\tconst parsedValue = parseInt(value);\n\t\tif (isNaN(parsedValue)) {\n\t\t\tsetRowCount(undefined);\n\t\t} else {\n\t\t\tsetRowCount(\n\t\t\t\tMath.max(1, Math.min(MAX_PREVIEW_TABLE_ROW, parsedValue))\n\t\t\t);\n\t\t}\n\t};\n\n\tconst onToggleHeaderSection = (section: boolean) =>\n\t\tsetHeaderSection(section);\n\n\tconst onToggleFooterSection = (section: boolean) =>\n\t\tsetFooterSection(section);\n\n\tconst tableClasses: string = clsx('ftb-placeholder__table', {\n\t\t'is-overflow-row':\n\t\t\ttotalRowCount && totalRowCount > THRESHOLD_PREVIEW_TABLE_ROW,\n\t\t'is-overflow-col': colCount && colCount > THRESHOLD_PREVIEW_TABLE_COL,\n\t});\n\n\treturn (\n\t\t<Placeholder\n\t\t\tlabel={__('Power Table', 'prc-block')}\n\t\t\tclassName=\"ftb-placeholder\"\n\t\t\ticon={<BlockIcon icon={icon} showColors />}\n\t\t>\n\t\t\t<div className=\"components-placeholder__instructions\">\n\t\t\t\t{createInterpolateElement(\n\t\t\t\t\tisAppleOS()\n\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t'Hint: Hold <code>Command</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.',\n\t\t\t\t\t\t\t\t'prc-block'\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t'Hint: Hold <code>Ctrl</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.',\n\t\t\t\t\t\t\t\t'prc-block'\n\t\t\t\t\t\t\t),\n\t\t\t\t\t{ code: <code /> }\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<Spacer\n\t\t\t\tas={VStack}\n\t\t\t\tclassName=\"ftb-placeholder__table-wrap\"\n\t\t\t\tstyle={{ minHeight: MIN_PREVIEW_TABLE_HEIGHT }}\n\t\t\t\talignment=\"center\"\n\t\t\t\tpadding={4}\n\t\t\t\tmarginBottom={0}\n\t\t\t>\n\t\t\t\t<Text align=\"center\" isBlock weight=\"500\">\n\t\t\t\t\t{__('Preview', 'prc-block')}\n\t\t\t\t</Text>\n\t\t\t\t{rowCount && colCount && (\n\t\t\t\t\t<table className={tableClasses}>\n\t\t\t\t\t\t{headerSection && (\n\t\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t{Array.from({\n\t\t\t\t\t\t\t\t\t\tlength: Math.min(\n\t\t\t\t\t\t\t\t\t\t\tcolCount,\n\t\t\t\t\t\t\t\t\t\t\tTHRESHOLD_PREVIEW_TABLE_COL\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}).map((_col, colIndex) => (\n\t\t\t\t\t\t\t\t\t\t<th\n\t\t\t\t\t\t\t\t\t\t\tkey={colIndex}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: cellHeight }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t{Array.from({\n\t\t\t\t\t\t\t\tlength: Math.min(\n\t\t\t\t\t\t\t\t\trowCount,\n\t\t\t\t\t\t\t\t\tTHRESHOLD_PREVIEW_TABLE_ROW\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t}).map((_row, rowIndex) => (\n\t\t\t\t\t\t\t\t<tr key={rowIndex}>\n\t\t\t\t\t\t\t\t\t{Array.from({\n\t\t\t\t\t\t\t\t\t\tlength: Math.min(\n\t\t\t\t\t\t\t\t\t\t\tcolCount,\n\t\t\t\t\t\t\t\t\t\t\tTHRESHOLD_PREVIEW_TABLE_COL\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}).map((_col, colIndex) => (\n\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\tkey={colIndex}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: cellHeight }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t{footerSection && (\n\t\t\t\t\t\t\t<tfoot>\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t{Array.from({\n\t\t\t\t\t\t\t\t\t\tlength: Math.min(\n\t\t\t\t\t\t\t\t\t\t\tcolCount,\n\t\t\t\t\t\t\t\t\t\t\tTHRESHOLD_PREVIEW_TABLE_COL\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}).map((_col, colIndex) => (\n\t\t\t\t\t\t\t\t\t\t<td\n\t\t\t\t\t\t\t\t\t\t\tkey={colIndex}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ height: cellHeight }}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tfoot>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</table>\n\t\t\t\t)}\n\t\t\t</Spacer>\n\t\t\t<VStack as=\"form\" onSubmit={onCreateTable}>\n\t\t\t\t<HStack wrap justify=\"start\">\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={__('Header section', 'prc-block')}\n\t\t\t\t\t\tchecked={!!headerSection}\n\t\t\t\t\t\tonChange={onToggleHeaderSection}\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleControl\n\t\t\t\t\t\tlabel={__('Footer section', 'prc-block')}\n\t\t\t\t\t\tchecked={!!footerSection}\n\t\t\t\t\t\tonChange={onToggleFooterSection}\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t/>\n\t\t\t\t</HStack>\n\t\t\t\t<HStack wrap alignment=\"end\" justify=\"start\">\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Column count', 'prc-block')}\n\t\t\t\t\t\tclassName=\"ftb-placeholder__input\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tmax={MAX_PREVIEW_TABLE_COL}\n\t\t\t\t\t\tvalue={colCount || ''}\n\t\t\t\t\t\tonChange={onChangeColumnCount}\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel={__('Row count', 'prc-block')}\n\t\t\t\t\t\tclassName=\"ftb-placeholder__input\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tmin=\"1\"\n\t\t\t\t\t\tmax={MAX_PREVIEW_TABLE_ROW}\n\t\t\t\t\t\tvalue={rowCount || ''}\n\t\t\t\t\t\tonChange={onChangeRowCount}\n\t\t\t\t\t\t__nextHasNoMarginBottom\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tdisabled={!rowCount || !colCount}\n\t\t\t\t\t\t__next40pxDefaultSize\n\t\t\t\t\t>\n\t\t\t\t\t\t{__('Create Table', 'prc-block')}\n\t\t\t\t\t</Button>\n\t\t\t\t</HStack>\n\t\t\t</VStack>\n\t\t</Placeholder>\n\t);\n}\n","/**\n * External dependencies\n */\nimport type { Properties } from 'csstype';\nimport type { Dispatch, SetStateAction } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { BlockControls, RichText } from '@wordpress/block-editor';\nimport { createBlock, type BlockInstance } from '@wordpress/blocks';\nimport { ToolbarButton } from '@wordpress/components';\nimport { title as titleIcon } from '@wordpress/icons';\nimport { useState, useEffect, useCallback } from '@wordpress/element';\nimport { usePrevious } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport type { BlockAttributes } from '../block-attributes';\nimport type { VSelectedCells, VSelectedLine } from '../utils/table-state';\nimport { GenerateTitleButton } from '../utils/ai-generators';\n\ntype Props = {\n\tattributes: BlockAttributes;\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\n\tsetSelectedLine: Dispatch<SetStateAction<VSelectedLine>>;\n\tsetSelectedCells: Dispatch<SetStateAction<VSelectedCells>>;\n\tisSelected?: boolean;\n};\n\n/* eslint-disable max-lines-per-function */\nexport default function TableTitle({\n\tattributes,\n\tsetAttributes,\n\tsetSelectedLine,\n\tsetSelectedCells,\n\ttableTitleStylesObj,\n\tisSelected,\n}: Props) {\n\tconst { tableTitle = '' } = attributes;\n\tconst prevTableTitle = usePrevious(tableTitle);\n\tconst isTableTitleEmpty = RichText.isEmpty(prevTableTitle);\n\tconst isPrevTableTitleEmpty = RichText.isEmpty(prevTableTitle || '');\n\tconst [showTableTitle, setShowTableTitle] = useState(!isTableTitleEmpty);\n\tconst [isGeneratingTableTitle, setIsGeneratingTableTitle] = useState(false);\n\n\tconst onChange = (value: string | undefined) =>\n\t\tsetAttributes({ tableTitle: value });\n\n\tuseEffect(() => {\n\t\tif (!isTableTitleEmpty && isPrevTableTitleEmpty) {\n\t\t\tsetShowTableTitle(true);\n\t\t}\n\t}, [isTableTitleEmpty, isPrevTableTitleEmpty]);\n\n\tuseEffect(() => {\n\t\tif (!isSelected && isTableTitleEmpty) {\n\t\t\tsetShowTableTitle(false);\n\t\t}\n\t}, [isSelected, isTableTitleEmpty]);\n\n\tconst ref = useCallback(\n\t\t(node: any) => {\n\t\t\tif (node && isTableTitleEmpty) {\n\t\t\t\tnode?.focus();\n\t\t\t}\n\t\t},\n\t\t[isTableTitleEmpty]\n\t);\n\n\treturn (\n\t\t<>\n\t\t\t{isSelected && (\n\t\t\t\t<BlockControls group=\"block\">\n\t\t\t\t\t<ToolbarButton\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\tsetShowTableTitle(!showTableTitle);\n\t\t\t\t\t\t\tif (showTableTitle && tableTitle) {\n\t\t\t\t\t\t\t\tonChange(undefined);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\ticon={titleIcon}\n\t\t\t\t\t\tisActive={showTableTitle}\n\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\tshowTableTitle\n\t\t\t\t\t\t\t\t? __('Remove title', 'flexible-table-block')\n\t\t\t\t\t\t\t\t: __('Add title', 'flexible-table-block')\n\t\t\t\t\t\t}\n\t\t\t\t\t/>\n\t\t\t\t</BlockControls>\n\t\t\t)}\n\t\t\t{showTableTitle &&\n\t\t\t\t(!RichText.isEmpty(tableTitle) || isSelected) && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\tgap: '10px',\n\t\t\t\t\t\t\tflexDirection: 'row',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tclassName=\"prc-block-table-title\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<RichText\n\t\t\t\t\t\t\taria-label={__(\n\t\t\t\t\t\t\t\t'Table title text',\n\t\t\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tplaceholder={__(\n\t\t\t\t\t\t\t\t'Table title',\n\t\t\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tref={ref}\n\t\t\t\t\t\t\tstyle={tableTitleStylesObj}\n\t\t\t\t\t\t\ttagName=\"h4\"\n\t\t\t\t\t\t\tvalue={tableTitle}\n\t\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\t\t\tsetSelectedLine(undefined);\n\t\t\t\t\t\t\t\tsetSelectedCells(undefined);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{isSelected && (\n\t\t\t\t\t\t\t<GenerateTitleButton\n\t\t\t\t\t\t\t\tattributes={attributes}\n\t\t\t\t\t\t\t\tsetAttributes={setAttributes}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t</>\n\t);\n}\n","/**\n * External dependencies\n */\nimport type { Properties } from 'csstype';\nimport type { Dispatch, SetStateAction } from 'react';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { BlockControls, RichText } from '@wordpress/block-editor';\nimport { createBlock, type BlockInstance } from '@wordpress/blocks';\nimport { ToolbarButton } from '@wordpress/components';\nimport { caption as captionIcon } from '@wordpress/icons';\nimport { useState, useEffect, useCallback } from '@wordpress/element';\nimport { usePrevious } from '@wordpress/compose';\n\n/**\n * Internal dependencies\n */\nimport type { BlockAttributes } from '../block-attributes';\nimport type { VSelectedCells, VSelectedLine } from '../utils/table-state';\n\ntype Props = {\n\tattributes: BlockAttributes;\n\tsetAttributes: (attrs: Partial<BlockAttributes>) => void;\n\tsetSelectedLine: Dispatch<SetStateAction<VSelectedLine>>;\n\tsetSelectedCells: Dispatch<SetStateAction<VSelectedCells>>;\n\tisSelected?: boolean;\n};\n\n/* eslint-disable max-lines-per-function */\nexport default function TableSourceNote({\n\tattributes,\n\tsetAttributes,\n\tsetSelectedLine,\n\tsetSelectedCells,\n\tisSelected,\n}: Props) {\n\tconst { sourceNote = '' } = attributes;\n\tconst onChange = (value: string | undefined) =>\n\t\tsetAttributes({ sourceNote: value });\n\n\treturn (\n\t\t<RichText\n\t\t\taria-label={__('Table source note text', 'flexible-table-block')}\n\t\t\tplaceholder={__('Table source note', 'flexible-table-block')}\n\t\t\ttagName=\"p\"\n\t\t\tvalue={sourceNote}\n\t\t\tclassName=\"prc-block-table-source-note\"\n\t\t\tonChange={onChange}\n\t\t\tonFocus={() => {\n\t\t\t\tsetSelectedLine(undefined);\n\t\t\t\tsetSelectedCells(undefined);\n\t\t\t}}\n\t\t/>\n\t);\n}\n","/**\n * External dependencies\n */\nimport React from 'react';\nimport clsx from 'clsx';\nimport type { Properties } from 'csstype';\n\n/**\n * WordPress dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { useEffect, useState, useRef } from '@wordpress/element';\nimport { useSelect } from '@wordpress/data';\nimport {\n\tInspectorControls,\n\tBlockControls,\n\tuseBlockProps,\n\t// @ts-ignore: has no exported member\n\tuseBlockEditingMode,\n} from '@wordpress/block-editor';\nimport { PanelBody } from '@wordpress/components';\nimport type { BlockEditProps } from '@wordpress/blocks';\n\n/**\n * Internal dependencies\n */\nimport './editor.scss';\nimport { STORE_NAME, type StoreOptions } from './store';\nimport {\n\tTableSettings,\n\tTableCaptionSettings,\n\tTableCellSettings,\n\tTableToolbar,\n\tTableDataSettings,\n\tTableDataDropzone,\n\tTableTitleSettings,\n} from './settings';\nimport {\n\tTable,\n\tTablePlaceholder,\n\tTableCaption,\n\tTableTitle,\n\tTableSourceNote,\n} from './elements';\nimport {\n\ttoVirtualTable,\n\tisEmptySection,\n\ttype VTable,\n\ttype VSelectedLine,\n\ttype VSelectedCells,\n} from './utils/table-state';\nimport { convertToObject } from './utils/style-converter';\nimport type { BlockAttributes, SectionName } from './block-attributes';\n\n// eslint-disable-next-line max-lines-per-function\nfunction TableEdit(props: BlockEditProps<BlockAttributes>) {\n\tconst {\n\t\tattributes,\n\t\tsetAttributes,\n\t\tisSelected: isSingleSelected, // cast as isSingleSelected because isSelected is used below.\n\t\t// @ts-ignore: `insertBlocksAfter` prop is not exist at @types\n\t\tinsertBlocksAfter,\n\t} = props;\n\tconst {\n\t\tcontentJustification,\n\t\ttableStyles,\n\t\tcaptionStyles,\n\t\tcaptionSide,\n\t\ttableTitleStyles,\n\t} = attributes;\n\n\t// Manage cell(s) and line(row) selection.\n\tconst [selectedCells, setSelectedCells] =\n\t\tuseState<VSelectedCells>(undefined);\n\tconst [selectedLine, setSelectedLine] = useState<VSelectedLine>(undefined);\n\n\t// Setup Styles for the <table> element.\n\tconst tableStylesObj: Properties = convertToObject(tableStyles);\n\n\t// Setup Styles for the <h4> element.\n\tconst tableTitleStylesObj: Properties = convertToObject(tableTitleStyles);\n\n\t// Setup Styles for the <figcaption> element.\n\tconst captionStylesObj: Properties = convertToObject(captionStyles);\n\n\t// Get options from the store.\n\tconst options = useSelect((select) => {\n\t\tconst { getOptions }: { getOptions: () => StoreOptions } =\n\t\t\tselect(STORE_NAME);\n\t\treturn getOptions();\n\t}, []);\n\n\t// Get the block editing mode.\n\tconst blockEditingMode = useBlockEditingMode();\n\n\t// Check if the block is in content only mode.\n\tconst isContentOnlyMode = blockEditingMode === 'contentOnly';\n\n\t// Release cell selection when the block is not selected.\n\tuseEffect(() => {\n\t\tif (!isSingleSelected) {\n\t\t\tsetSelectedCells(undefined);\n\t\t\tsetSelectedLine(undefined);\n\t\t}\n\t}, [isSingleSelected]);\n\n\t// Create virtual table object with the cells placed in positions based on how they actually look.\n\tconst vTable: VTable = toVirtualTable(attributes);\n\n\tconst isEmpty: boolean = !['head', 'body', 'foot'].filter(\n\t\t(sectionName) => !isEmptySection(vTable[sectionName as SectionName])\n\t).length;\n\n\tconst tablePlaceholderProps = useBlockProps();\n\n\tconst tableFigureProps = useBlockProps({\n\t\tclassName: clsx(`is-caption-side-${captionSide}`, {\n\t\t\t[`is-content-justification-${contentJustification}`]:\n\t\t\t\tcontentJustification,\n\t\t\t'show-dot-on-th': options.show_dot_on_th,\n\t\t\t'show-control-button': options.show_control_button,\n\t\t\t'is-content-only': isContentOnlyMode,\n\t\t}),\n\t});\n\n\tconst tableProps = {\n\t\tattributes,\n\t\tsetAttributes,\n\t\tisSelected: isSingleSelected,\n\t\toptions,\n\t\tvTable,\n\t\ttableStylesObj,\n\t\tselectedCells,\n\t\tsetSelectedCells,\n\t\tselectedLine,\n\t\tsetSelectedLine,\n\t\tisContentOnlyMode,\n\t};\n\n\tconst tableSettingsProps = {\n\t\tattributes,\n\t\tsetAttributes,\n\t\tvTable,\n\t\tsetSelectedCells,\n\t\tsetSelectedLine,\n\t\ttableStylesObj,\n\t};\n\n\tconst tableTitleSettingProps = {\n\t\tattributes,\n\t\tsetAttributes,\n\t\ttableTitleStylesObj,\n\t};\n\n\tconst tableCellSettingsProps = {\n\t\tsetAttributes,\n\t\tvTable,\n\t\tselectedCells,\n\t};\n\n\tconst tableCellSettingsLabel: string =\n\t\tselectedCells && selectedCells.length > 1\n\t\t\t? __('Multi cells settings', 'flexible-table-block')\n\t\t\t: __('Cell settings', 'flexible-table-block');\n\n\tconst tableCaptionProps = {\n\t\tattributes,\n\t\tsetAttributes,\n\t\tinsertBlocksAfter,\n\t\tsetSelectedLine,\n\t\tsetSelectedCells,\n\t\tcaptionStylesObj,\n\t\tisSelected: isSingleSelected,\n\t};\n\n\tconst tableCaptionSettingProps = {\n\t\tattributes,\n\t\tsetAttributes,\n\t\tcaptionStylesObj,\n\t};\n\n\tconst tableSourceNoteProps = {\n\t\tattributes,\n\t\tsetAttributes,\n\t\tinsertBlocksAfter,\n\t\tsetSelectedLine,\n\t\tsetSelectedCells,\n\t\tisSelected: isSingleSelected,\n\t};\n\n\tconst tableTitleProps = {\n\t\tattributes,\n\t\tsetAttributes,\n\t\tsetSelectedLine,\n\t\tsetSelectedCells,\n\t\tisSelected: isSingleSelected,\n\t\ttableTitleStylesObj,\n\t};\n\n\tconst tableToolbarProps = {\n\t\tcontentJustification,\n\t\tvTable,\n\t\tattributes,\n\t\tselectedCells,\n\t\tsetAttributes,\n\t\tsetSelectedCells,\n\t\tsetSelectedLine,\n\t};\n\n\tconst tableDataSettingsProps = {\n\t\tattributes,\n\t\tsetAttributes,\n\t\tvTable,\n\t\tselectedCells,\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t{isEmpty && (\n\t\t\t\t<div {...tablePlaceholderProps}>\n\t\t\t\t\t<TablePlaceholder {...props} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{!isEmpty && (\n\t\t\t\t<figure {...tableFigureProps}>\n\t\t\t\t\t<TableTitle {...tableTitleProps} />\n\t\t\t\t\t{!isContentOnlyMode && (\n\t\t\t\t\t\t<BlockControls group=\"block\">\n\t\t\t\t\t\t\t<TableToolbar {...tableToolbarProps} />\n\t\t\t\t\t\t</BlockControls>\n\t\t\t\t\t)}\n\t\t\t\t\t<InspectorControls>\n\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\ttitle={__('Table data', 'flexible-table-block')}\n\t\t\t\t\t\t\tinitialOpen={false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TableDataSettings {...tableDataSettingsProps} />\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\ttitle={__('Table settings', 'flexible-table-block')}\n\t\t\t\t\t\t\tinitialOpen={false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TableSettings {...tableSettingsProps} />\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t{selectedCells && !!selectedCells.length && (\n\t\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\t\ttitle={tableCellSettingsLabel}\n\t\t\t\t\t\t\t\tinitialOpen={false}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<TableCellSettings\n\t\t\t\t\t\t\t\t\t{...tableCellSettingsProps}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\ttitle={__('Title settings', 'prc-block-library')}\n\t\t\t\t\t\t\tinitialOpen={false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TableTitleSettings {...tableTitleSettingProps} />\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t\t<PanelBody\n\t\t\t\t\t\t\ttitle={__('Caption settings', 'prc-block-library')}\n\t\t\t\t\t\t\tinitialOpen={false}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<TableCaptionSettings\n\t\t\t\t\t\t\t\t{...tableCaptionSettingProps}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelBody>\n\t\t\t\t\t</InspectorControls>\n\t\t\t\t\t{'top' === captionSide && (\n\t\t\t\t\t\t<TableCaption {...tableCaptionProps} />\n\t\t\t\t\t)}\n\t\t\t\t\t<Table {...tableProps} />\n\t\t\t\t\t{'bottom' === captionSide && (\n\t\t\t\t\t\t<TableCaption {...tableCaptionProps} />\n\t\t\t\t\t)}\n\t\t\t\t\t<TableSourceNote {...tableSourceNoteProps} />\n\t\t\t\t\t<TableDataDropzone\n\t\t\t\t\t\tattributes={attributes}\n\t\t\t\t\t\tsetAttributes={setAttributes}\n\t\t\t\t\t/>\n\t\t\t\t</figure>\n\t\t\t)}\n\t\t</>\n\t);\n}\n\nexport default TableEdit;\n","/**\n * WordPress dependencies\n */\nimport {\n\tcreateBlock,\n\tstore as blocksStore,\n\ttype TransformBlock,\n} from '@wordpress/blocks';\nimport { select } from '@wordpress/data';\n\n/**\n * Internal dependencies\n */\nimport {\n\tsplitMergedCell,\n\ttoVirtualRows,\n\ttoVirtualTable,\n\ttype VCell,\n} from './utils/table-state';\nimport { normalizeRowColSpan } from './utils/helper';\nimport type {\n\tBlockAttributes,\n\tCoreTableCell,\n\tCoreTableBlockAttributes,\n} from './block-attributes';\n\ninterface Transforms {\n\treadonly from: ReadonlyArray<TransformBlock<CoreTableBlockAttributes>>;\n\treadonly to: ReadonlyArray<TransformBlock<BlockAttributes>>;\n}\n\nconst transforms: Transforms = {\n\tfrom: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: ['core/table'],\n\t\t\ttransform: (attributes) => {\n\t\t\t\tconst { hasFixedLayout, head, body, foot, caption, style } =\n\t\t\t\t\tattributes;\n\n\t\t\t\t// Mapping rowspan and colspan properties.\n\t\t\t\tconst convertedSections = (\n\t\t\t\t\tsection: { cells: CoreTableCell[] }[]\n\t\t\t\t) => {\n\t\t\t\t\tif (!section.length) {\n\t\t\t\t\t\treturn section;\n\t\t\t\t\t}\n\t\t\t\t\treturn section.map((row) => {\n\t\t\t\t\t\tif (!row.cells.length) {\n\t\t\t\t\t\t\treturn row;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tcells: row.cells.map((cell) => {\n\t\t\t\t\t\t\t\tconst { content, tag, colspan, rowspan } = cell;\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\t\t\ttag,\n\t\t\t\t\t\t\t\t\tcolSpan: normalizeRowColSpan(colspan),\n\t\t\t\t\t\t\t\t\trowSpan: normalizeRowColSpan(rowspan),\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\treturn createBlock('prc-block/table', {\n\t\t\t\t\thead: convertedSections(head),\n\t\t\t\t\tbody: convertedSections(body),\n\t\t\t\t\tfoot: convertedSections(foot),\n\t\t\t\t\thasFixedLayout,\n\t\t\t\t\tcaption,\n\t\t\t\t\tstyle,\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t],\n\tto: [\n\t\t{\n\t\t\ttype: 'block',\n\t\t\tblocks: ['core/table'],\n\t\t\ttransform: (attributes) => {\n\t\t\t\t// Check if the core table block supports rowspan and colspan.\n\t\t\t\tconst {\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tgetBlockType,\n\t\t\t\t} = select(blocksStore);\n\t\t\t\tconst blockType = getBlockType('core/table');\n\t\t\t\tconst hasRowColSpanSupport =\n\t\t\t\t\t!!blockType.attributes.head.query.cells.query.rowspan &&\n\t\t\t\t\t!!blockType.attributes.head.query.cells.query.colspan;\n\n\t\t\t\t// Create virtual object array with the cells placed in positions based on how they actually look.\n\t\t\t\tlet vTable = toVirtualTable(attributes);\n\n\t\t\t\t// Find rowspan & colspan cells.\n\t\t\t\tconst vRows = toVirtualRows(vTable);\n\t\t\t\tconst rowColSpanCells = vRows\n\t\t\t\t\t.reduce(\n\t\t\t\t\t\t(cells: VCell[], row) => cells.concat(row.cells),\n\t\t\t\t\t\t[]\n\t\t\t\t\t)\n\t\t\t\t\t.filter(\n\t\t\t\t\t\t({ rowSpan, colSpan }) => rowSpan > 1 || colSpan > 1\n\t\t\t\t\t);\n\n\t\t\t\t// Split the found rowspan and colspan cells If the core table block doesn't support it.\n\t\t\t\tif (rowColSpanCells.length && !hasRowColSpanSupport) {\n\t\t\t\t\trowColSpanCells.forEach((cell) => {\n\t\t\t\t\t\tvTable = splitMergedCell(vTable, cell);\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// Convert to core table block attributes.\n\t\t\t\tconst sectionAttributes = Object.entries(vTable).reduce(\n\t\t\t\t\t(coreTableAttributes: any, [sectionName, section]) => {\n\t\t\t\t\t\tif (!section.length) {\n\t\t\t\t\t\t\treturn coreTableAttributes;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst newSection = section.map(({ cells }) => ({\n\t\t\t\t\t\t\tcells: cells\n\t\t\t\t\t\t\t\t// Delete cells marked as deletion.\n\t\t\t\t\t\t\t\t.filter((cell) => !cell.isHidden)\n\t\t\t\t\t\t\t\t// Keep only the properties needed.\n\t\t\t\t\t\t\t\t.map((cell) => ({\n\t\t\t\t\t\t\t\t\tcontent: cell.content,\n\t\t\t\t\t\t\t\t\ttag:\n\t\t\t\t\t\t\t\t\t\t'head' === cell.sectionName\n\t\t\t\t\t\t\t\t\t\t\t? 'th'\n\t\t\t\t\t\t\t\t\t\t\t: 'td',\n\t\t\t\t\t\t\t\t\trowspan: hasRowColSpanSupport\n\t\t\t\t\t\t\t\t\t\t? normalizeRowColSpan(cell.rowSpan)\n\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t\tcolspan: hasRowColSpanSupport\n\t\t\t\t\t\t\t\t\t\t? normalizeRowColSpan(cell.colSpan)\n\t\t\t\t\t\t\t\t\t\t: undefined,\n\t\t\t\t\t\t\t\t})),\n\t\t\t\t\t\t}));\n\t\t\t\t\t\tcoreTableAttributes[sectionName] = newSection;\n\t\t\t\t\t\treturn coreTableAttributes;\n\t\t\t\t\t},\n\t\t\t\t\t{}\n\t\t\t\t);\n\n\t\t\t\treturn createBlock('core/table', {\n\t\t\t\t\t...sectionAttributes,\n\t\t\t\t\thasFixedLayout: attributes.hasFixedLayout,\n\t\t\t\t\tcaption: attributes.caption,\n\t\t\t\t\tstyle: attributes.style,\n\t\t\t\t});\n\t\t\t},\n\t\t},\n\t],\n};\n\nexport default transforms;\n","/**\n * External Dependencies\n */\nimport clsx from 'clsx';\nimport type { Properties } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\t// @ts-ignore: has no exported member\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\n} from '@wordpress/block-editor';\nimport type { BlockSaveProps } from '@wordpress/blocks';\n\n/**\n * Internal Dependencies\n */\nimport { convertToObject } from './utils/style-converter';\nimport { toInteger } from './utils/helper';\nimport type { BlockAttributes, SectionName, Row } from './block-attributes';\n\n// To fix a problem with link colors not being applied\nconst v1 = {\n\tattributes: {\n\t\tcontentJustification: {\n\t\t\ttype: 'string',\n\t\t},\n\t\thasFixedLayout: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: true,\n\t\t},\n\t\tisScrollOnPc: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tisScrollOnMobile: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tisStackedOnMobile: {\n\t\t\ttype: 'boolean',\n\t\t\tdefault: false,\n\t\t},\n\t\tsticky: {\n\t\t\ttype: 'string',\n\t\t},\n\t\ttableStyles: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'table',\n\t\t\tattribute: 'style',\n\t\t},\n\t\tcaptionSide: {\n\t\t\ttype: 'string',\n\t\t\tdefault: 'bottom',\n\t\t},\n\t\tcaption: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'html',\n\t\t\tselector: 'figcaption',\n\t\t},\n\t\tcaptionStyles: {\n\t\t\ttype: 'string',\n\t\t\tsource: 'attribute',\n\t\t\tselector: 'figcaption',\n\t\t\tattribute: 'style',\n\t\t},\n\t\thead: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'thead tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: {\n\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'html',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstyles: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'style',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttag: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tdefault: 'td',\n\t\t\t\t\t\t\tsource: 'tag',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'class',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'id',\n\t\t\t\t\t\t},\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'headers',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: {\n\t\t\t\t\t\t\tenum: [ 'row', 'col', 'rowgroup', 'colgroup' ],\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'scope',\n\t\t\t\t\t\t},\n\t\t\t\t\t\trowSpan: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'rowspan',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolSpan: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'colspan',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tbody: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'tbody tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: {\n\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'html',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstyles: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'style',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttag: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tdefault: 'td',\n\t\t\t\t\t\t\tsource: 'tag',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'class',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'id',\n\t\t\t\t\t\t},\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'headers',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: {\n\t\t\t\t\t\t\tenum: [ 'row', 'col', 'rowgroup', 'colgroup' ],\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'scope',\n\t\t\t\t\t\t},\n\t\t\t\t\t\trowSpan: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'rowspan',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolSpan: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'colspan',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tfoot: {\n\t\t\ttype: 'array',\n\t\t\tdefault: [],\n\t\t\tsource: 'query',\n\t\t\tselector: 'tfoot tr',\n\t\t\tquery: {\n\t\t\t\tcells: {\n\t\t\t\t\ttype: 'array',\n\t\t\t\t\tdefault: [],\n\t\t\t\t\tsource: 'query',\n\t\t\t\t\tselector: 'td,th',\n\t\t\t\t\tquery: {\n\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'html',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstyles: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'style',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttag: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tdefault: 'td',\n\t\t\t\t\t\t\tsource: 'tag',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tclassName: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'class',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tid: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'id',\n\t\t\t\t\t\t},\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'headers',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tscope: {\n\t\t\t\t\t\t\tenum: [ 'row', 'col', 'rowgroup', 'colgroup' ],\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'scope',\n\t\t\t\t\t\t},\n\t\t\t\t\t\trowSpan: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'rowspan',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcolSpan: {\n\t\t\t\t\t\t\ttype: 'string',\n\t\t\t\t\t\t\tsource: 'attribute',\n\t\t\t\t\t\t\tattribute: 'colspan',\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t},\n\tsupports: {\n\t\tanchor: true,\n\t\talign: [ 'left', 'right', 'wide', 'full' ],\n\t\tcolor: {\n\t\t\t__experimentalSkipSerialization: true,\n\t\t\tgradients: true,\n\t\t\tlink: true,\n\t\t},\n\t\ttypography: {\n\t\t\tfontSize: true,\n\t\t\tlineHeight: true,\n\t\t\t__experimentalFontFamily: true,\n\t\t\t__experimentalTextTransform: true,\n\t\t\t__experimentalFontStyle: true,\n\t\t\t__experimentalFontWeight: true,\n\t\t\t__experimentalLetterSpacing: true,\n\t\t},\n\t\tspacing: {\n\t\t\tmargin: true,\n\t\t},\n\t\t__experimentalSelector: '.wp-block-flexible-table-block-table > table',\n\t},\n\tsave( { attributes }: BlockSaveProps< BlockAttributes > ) {\n\t\tconst {\n\t\t\tcontentJustification,\n\t\t\ttableStyles,\n\t\t\thasFixedLayout,\n\t\t\tisStackedOnMobile,\n\t\t\tisScrollOnPc,\n\t\t\tisScrollOnMobile,\n\t\t\tsticky,\n\t\t\thead,\n\t\t\tbody,\n\t\t\tfoot,\n\t\t\tcaption,\n\t\t\tcaptionSide,\n\t\t\tcaptionStyles,\n\t\t} = attributes;\n\n\t\tconst isEmpty: boolean = ! head.length && ! body.length && ! foot.length;\n\n\t\tif ( isEmpty ) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst tableStylesObj: Properties = convertToObject( tableStyles );\n\t\tconst captionStylesObj: Properties = convertToObject( captionStyles );\n\n\t\tconst colorProps = getColorClassesAndStyles( attributes );\n\n\t\tconst blockProps = useBlockProps.save( {\n\t\t\tclassName: clsx( {\n\t\t\t\t[ `is-content-justification-${ contentJustification }` ]: contentJustification,\n\t\t\t\t'is-scroll-on-pc': isScrollOnPc,\n\t\t\t\t'is-scroll-on-mobile': isScrollOnMobile,\n\t\t\t} ),\n\t\t} );\n\n\t\tconst tableClasses: string = clsx( colorProps.className, {\n\t\t\t'has-fixed-layout': hasFixedLayout,\n\t\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t\t[ `is-sticky-${ sticky }` ]: sticky,\n\t\t} );\n\n\t\tconst hasCaption: boolean = ! RichText.isEmpty( caption || '' );\n\n\t\tconst Section = ( { type, rows }: { type: SectionName; rows: Row[] } ) => {\n\t\t\tif ( ! rows.length ) {\n\t\t\t\treturn null;\n\t\t\t}\n\n\t\t\tconst Tag = `t${ type }` as const;\n\n\t\t\treturn (\n\t\t\t\t<Tag>\n\t\t\t\t\t{ rows.map( ( { cells }, rowIndex ) => (\n\t\t\t\t\t\t<tr key={ rowIndex }>\n\t\t\t\t\t\t\t{ cells.map(\n\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t{ content, tag, className, id, headers, scope, rowSpan, colSpan, styles },\n\t\t\t\t\t\t\t\t\tcellIndex\n\t\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\t\tkey={ cellIndex }\n\t\t\t\t\t\t\t\t\t\ttagName={ tag }\n\t\t\t\t\t\t\t\t\t\tclassName={ className || undefined }\n\t\t\t\t\t\t\t\t\t\tid={ ( tag === 'th' && id ) || undefined }\n\t\t\t\t\t\t\t\t\t\theaders={ headers || undefined }\n\t\t\t\t\t\t\t\t\t\tscope={ ( tag === 'th' && scope ) || undefined }\n\t\t\t\t\t\t\t\t\t\tvalue={ content }\n\t\t\t\t\t\t\t\t\t\trowSpan={ toInteger( rowSpan ) > 1 ? toInteger( rowSpan ) : undefined }\n\t\t\t\t\t\t\t\t\t\tcolSpan={ toInteger( colSpan ) > 1 ? toInteger( colSpan ) : undefined }\n\t\t\t\t\t\t\t\t\t\tstyle={ convertToObject( styles ) }\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) }\n\t\t\t\t\t\t</tr>\n\t\t\t\t\t) ) }\n\t\t\t\t</Tag>\n\t\t\t);\n\t\t};\n\n\t\tconst Caption = () => (\n\t\t\t<RichText.Content tagName=\"figcaption\" value={ caption || '' } style={ captionStylesObj } />\n\t\t);\n\n\t\treturn (\n\t\t\t<figure { ...blockProps }>\n\t\t\t\t{ hasCaption && 'top' === captionSide && <Caption /> }\n\t\t\t\t<table\n\t\t\t\t\tclassName={ tableClasses ?? undefined }\n\t\t\t\t\tstyle={ { ...tableStylesObj, ...colorProps.style } }\n\t\t\t\t>\n\t\t\t\t\t<Section type=\"head\" rows={ head } />\n\t\t\t\t\t<Section type=\"body\" rows={ body } />\n\t\t\t\t\t<Section type=\"foot\" rows={ foot } />\n\t\t\t\t</table>\n\t\t\t\t{ hasCaption && 'bottom' === captionSide && <Caption /> }\n\t\t\t</figure>\n\t\t);\n\t},\n};\n\nexport default [ v1 ];\n","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"editPost\"];","/**\n * WordPress Dependencies\n */\n\nimport { addAction } from '@wordpress/hooks';\nimport { useState, useCallback, useEffect } from '@wordpress/element';\nimport { PluginPrePublishPanel } from '@wordpress/edit-post';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport { __ } from '@wordpress/i18n';\nimport { store as blockEditorStore } from '@wordpress/block-editor';\nimport { Button, CheckboxControl } from '@wordpress/components';\n\ninterface AIBlock {\n\tclientId: string;\n\tname: string;\n\tmetadata: {\n\t\tname?: string;\n\t};\n}\n\n// Hacky \"global store\" until we have time to make a proper @wordpress/data store in prc-copilot.\nconst setupStopPublishing = () => {\n\tif (typeof window._prc_copilot_pre_publish_check === 'undefined') {\n\t\tconsole.log('setting up window._prc_copilot_pre_publish_check...');\n\t\twindow._prc_copilot_pre_publish_check = {\n\t\t\tblocks: [],\n\t\t\tstop: false,\n\t\t};\n\t\tconsole.log(\n\t\t\t'window._prc_copilot_pre_publish_check...',\n\t\t\twindow._prc_copilot_pre_publish_check\n\t\t);\n\t}\n};\n\nconst stopPublishing = ({ edits, postId, postType }) => {\n\tconsole.log('onPublish', {\n\t\tedits,\n\t\tpostId,\n\t\tpostType,\n\t});\n\tif (!window._prc_copilot_pre_publish_check) {\n\t\treturn;\n\t}\n\tif (\n\t\tedits.status === 'publish' &&\n\t\ttrue === window._prc_copilot_pre_publish_check.stop\n\t) {\n\t\twindow.alert(\n\t\t\t' PRC Copilot assistance has been detected, so publishing is currently disabled. Your post will be reverted back to a draft. '\n\t\t);\n\t\tconsole.warn('Stopping publishing...', edits);\n\t\t// Rever the post status back to draft...\n\t\tedits.status = 'draft';\n\t}\n};\n\naddAction('prc-platform.onPublish', 'prc-block-library', stopPublishing);\n\nexport const AICopilotPrePublishCheck = () => {\n\tconst blocks = useSelect((select) => {\n\t\tconst { getBlocks } = select(blockEditorStore);\n\t\tconst allBlocks = getBlocks();\n\n\t\t// Recursively find all blocks with _copilot metadata\n\t\tconst findAIBlocks = (_blocks: any[]): AIBlock[] => {\n\t\t\treturn _blocks.reduce((acc: AIBlock[], block) => {\n\t\t\t\tif (block.attributes?.metadata?._copilot) {\n\t\t\t\t\tacc.push({\n\t\t\t\t\t\tclientId: block.clientId,\n\t\t\t\t\t\tname: block.name,\n\t\t\t\t\t\tmetadata: block.attributes.metadata,\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (block.innerBlocks?.length) {\n\t\t\t\t\tacc.push(...findAIBlocks(block.innerBlocks));\n\t\t\t\t}\n\n\t\t\t\treturn acc;\n\t\t\t}, []);\n\t\t};\n\n\t\treturn findAIBlocks(allBlocks);\n\t}, []);\n\n\tconst { selectBlock } = useDispatch(blockEditorStore);\n\n\t// State to track reviewed blocks\n\tconst [reviewedBlocks, setReviewedBlocks] = useState<Set<string>>(\n\t\tnew Set()\n\t);\n\n\t// Memoized handler for toggling block review status\n\tconst handleToggleReview = useCallback((clientId: string) => {\n\t\tsetReviewedBlocks((prev) => {\n\t\t\tconst newSet = new Set(prev);\n\t\t\tif (newSet.has(clientId)) {\n\t\t\t\tnewSet.delete(clientId);\n\t\t\t} else {\n\t\t\t\tnewSet.add(clientId);\n\t\t\t}\n\t\t\treturn newSet;\n\t\t});\n\t}, []);\n\n\t// Check if all blocks have been reviewed\n\tconst allBlocksReviewed =\n\t\tblocks.length > 0 &&\n\t\tblocks.every((block) => reviewedBlocks.has(block.clientId));\n\n\t// Hoist the blocks into _prc_copilot_pre_publish_check\n\tuseEffect(() => {\n\t\tif (!blocks.length) {\n\t\t\treturn;\n\t\t}\n\t\tsetupStopPublishing();\n\t\twindow._prc_copilot_pre_publish_check.blocks = blocks;\n\t\twindow._prc_copilot_pre_publish_check.stop = true !== allBlocksReviewed;\n\t}, [blocks, allBlocksReviewed]);\n\n\tif (!blocks.length) {\n\t\treturn null;\n\t}\n\n\treturn (\n\t\t<PluginPrePublishPanel\n\t\t\ttitle={__('PRC Copilot Editor Review', 'prc-block-library')}\n\t\t\tinitialOpen={true}\n\t\t\ticon={false}\n\t\t>\n\t\t\t<div className=\"ai-prepublish-warning\">\n\t\t\t\t<p>\n\t\t\t\t\t{__(\n\t\t\t\t\t\t'This post contains content generated by PRC Copilot. Please review the following blocks before publishing:',\n\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t)}\n\t\t\t\t</p>\n\t\t\t\t<div className=\"review-status\" style={{ marginBottom: '1rem' }}>\n\t\t\t\t\t<strong>\n\t\t\t\t\t\t{allBlocksReviewed\n\t\t\t\t\t\t\t? __(\n\t\t\t\t\t\t\t\t\t' All blocks have been reviewed',\n\t\t\t\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t: __(\n\t\t\t\t\t\t\t\t\t`${reviewedBlocks.size} of ${blocks.length} blocks reviewed`,\n\t\t\t\t\t\t\t\t\t'prc-block-library'\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t</strong>\n\t\t\t\t</div>\n\t\t\t\t<ul\n\t\t\t\t\tclassName=\"ai-blocks-list\"\n\t\t\t\t\tstyle={{ listStyle: 'none', padding: 0 }}\n\t\t\t\t>\n\t\t\t\t\t{blocks.map((block) => (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tkey={block.clientId}\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\tmarginBottom: '0.5rem',\n\t\t\t\t\t\t\t\tpadding: '0.5rem',\n\t\t\t\t\t\t\t\tbackgroundColor: reviewedBlocks.has(\n\t\t\t\t\t\t\t\t\tblock.clientId\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t? '#f0f6fc'\n\t\t\t\t\t\t\t\t\t: 'transparent',\n\t\t\t\t\t\t\t\tborderRadius: '4px',\n\t\t\t\t\t\t\t\tgap: '10px',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<CheckboxControl\n\t\t\t\t\t\t\t\tchecked={reviewedBlocks.has(block.clientId)}\n\t\t\t\t\t\t\t\tonChange={() =>\n\t\t\t\t\t\t\t\t\thandleToggleReview(block.clientId)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tstyle={{ marginRight: '1rem' }}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"link\"\n\t\t\t\t\t\t\t\tonClick={() => selectBlock(block.clientId)}\n\t\t\t\t\t\t\t\tstyle={{ flex: 1 }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t{block.metadata.name || block.name}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"ai-block-client-id\"\n\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\tfontSize: '0.8em',\n\t\t\t\t\t\t\t\t\t\t\tcolor: '#666',\n\t\t\t\t\t\t\t\t\t\t\tfontStyle: 'italic',\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t({block.clientId})\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</PluginPrePublishPanel>\n\t);\n};\n\nexport default AICopilotPrePublishCheck;\n","/**\n * WordPress Dependencies\n */\nimport { __ } from '@wordpress/i18n';\nimport { registerBlockType } from '@wordpress/blocks';\nimport { InspectorControls } from '@wordpress/block-editor';\nimport { addFilter } from '@wordpress/hooks';\nimport { createHigherOrderComponent } from '@wordpress/compose';\nimport { registerPlugin } from '@wordpress/plugins';\n\n/**\n * Internal dependencies\n */\nimport './store';\nimport './style.scss';\nimport metadata from './block.json';\nimport example from './example';\nimport { blockIcon as icon } from './icons';\nimport edit from './edit';\nimport save from './save';\nimport transforms from './transforms';\nimport deprecated from './deprecated';\nimport { GlobalSettings } from './settings';\nimport AICopilotPrePublishCheck from './components/ai-pre-publish-check';\n\nconst { name } = metadata;\n\nconst settings = {\n\ticon,\n\tedit,\n\tsave,\n\texample,\n\ttransforms,\n\tdeprecated,\n\t// styles: [\n\t// \t{\n\t// \t\tname: 'stripes',\n\t// \t\tlabel: __('Stripes', 'prc-block'),\n\t// \t},\n\t// ],\n};\n\n// Register block.\nregisterBlockType(name, { ...metadata, ...settings });\n\n// Global Table Settings. Will come back to this later.\n// const withInspectorControls = createHigherOrderComponent((BlockEdit) => {\n// \treturn (props) => {\n// \t\tconst { name: blockName } = props;\n\n// \t\tif (blockName !== 'prc-block/table') {\n// \t\t\treturn <BlockEdit {...props} />;\n// \t\t}\n\n// \t\treturn (\n// \t\t\t<>\n// \t\t\t\t{/* <InspectorControls>\n// \t\t\t\t\t<GlobalSettings />\n// \t\t\t\t</InspectorControls> */}\n// \t\t\t\t<BlockEdit {...props} />\n// \t\t\t</>\n// \t\t);\n// \t};\n// }, 'withInspectorControl');\n\n// addFilter(\n// \t'editor.BlockEdit',\n// \t'prc-block-library/withInspectorControls',\n// \twithInspectorControls\n// );\n\nregisterPlugin('prc-block-library-ai-pre-publish-check', {\n\trender: () => <AICopilotPrePublishCheck />,\n});\n","/**\n * External Dependencies\n */\nimport clsx from 'clsx';\nimport type { Properties } from 'csstype';\n\n/**\n * WordPress Dependencies\n */\nimport {\n\tRichText,\n\tuseBlockProps,\n\t// @ts-ignore: has no exported member\n\t// eslint-disable-next-line @wordpress/no-unsafe-wp-apis\n\t__experimentalGetColorClassesAndStyles as getColorClassesAndStyles,\n} from '@wordpress/block-editor';\nimport type { BlockSaveProps } from '@wordpress/blocks';\n\n/**\n * Internal Dependencies\n */\nimport { convertToObject } from './utils/style-converter';\nimport { toInteger } from './utils/helper';\nimport type { BlockAttributes, SectionName, Row } from './block-attributes';\n\nexport default function save({ attributes }: BlockSaveProps<BlockAttributes>) {\n\tconst {\n\t\tcontentJustification,\n\t\ttableStyles,\n\t\thasFixedLayout,\n\t\tisStackedOnMobile,\n\t\tisScrollOnPc,\n\t\tisScrollOnMobile,\n\t\tsticky,\n\t\thead,\n\t\tbody,\n\t\tfoot,\n\t\tcaption,\n\t\tcaptionSide,\n\t\tcaptionStyles,\n\t\ttableTitle,\n\t\ttableTitleStyles,\n\t\tsourceNote,\n\t} = attributes;\n\n\tconst isEmpty: boolean = !head?.length && !body?.length && !foot?.length;\n\n\tif (isEmpty) {\n\t\treturn null;\n\t}\n\n\tconst tableStylesObj: Properties = convertToObject(tableStyles);\n\tconst captionStylesObj: Properties = convertToObject(captionStyles);\n\tconst tableTitleStylesObj: Properties = convertToObject(tableTitleStyles);\n\tconst colorProps = getColorClassesAndStyles(attributes);\n\n\tconst blockProps = useBlockProps.save({\n\t\tclassName: clsx({\n\t\t\t[`is-content-justification-${contentJustification}`]:\n\t\t\t\tcontentJustification,\n\t\t\t'is-scroll-on-pc': isScrollOnPc,\n\t\t\t'is-scroll-on-mobile': isScrollOnMobile,\n\t\t}),\n\t});\n\n\tconst tableClasses: string = clsx(colorProps.className, {\n\t\t'has-fixed-layout': hasFixedLayout,\n\t\t'is-stacked-on-mobile': isStackedOnMobile,\n\t\t[`is-sticky-${sticky}`]: sticky,\n\t});\n\n\tconst hasCaption: boolean = !RichText.isEmpty(caption || '');\n\n\tconst hasTableTitle: boolean = !RichText.isEmpty(tableTitle || '');\n\n\tconst hasSourceNote: boolean = !RichText.isEmpty(sourceNote || '');\n\n\tconst Section = ({ type, rows }: { type: SectionName; rows: Row[] }) => {\n\t\tif (!rows.length) {\n\t\t\treturn null;\n\t\t}\n\n\t\tconst Tag = `t${type}` as const;\n\n\t\treturn (\n\t\t\t<Tag>\n\t\t\t\t{rows.map(({ cells }, rowIndex) => (\n\t\t\t\t\t<tr key={rowIndex}>\n\t\t\t\t\t\t{cells.map(\n\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tcontent,\n\t\t\t\t\t\t\t\t\ttag,\n\t\t\t\t\t\t\t\t\tclassName,\n\t\t\t\t\t\t\t\t\tid,\n\t\t\t\t\t\t\t\t\theaders,\n\t\t\t\t\t\t\t\t\tscope,\n\t\t\t\t\t\t\t\t\trowSpan,\n\t\t\t\t\t\t\t\t\tcolSpan,\n\t\t\t\t\t\t\t\t\tstyles,\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcellIndex\n\t\t\t\t\t\t\t) => (\n\t\t\t\t\t\t\t\t<RichText.Content\n\t\t\t\t\t\t\t\t\tkey={cellIndex}\n\t\t\t\t\t\t\t\t\ttagName={tag}\n\t\t\t\t\t\t\t\t\tclassName={className || undefined}\n\t\t\t\t\t\t\t\t\tid={(tag === 'th' && id) || undefined}\n\t\t\t\t\t\t\t\t\theaders={headers || undefined}\n\t\t\t\t\t\t\t\t\tscope={(tag === 'th' && scope) || undefined}\n\t\t\t\t\t\t\t\t\tvalue={content}\n\t\t\t\t\t\t\t\t\trowSpan={\n\t\t\t\t\t\t\t\t\t\ttoInteger(rowSpan) > 1\n\t\t\t\t\t\t\t\t\t\t\t? toInteger(rowSpan)\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcolSpan={\n\t\t\t\t\t\t\t\t\t\ttoInteger(colSpan) > 1\n\t\t\t\t\t\t\t\t\t\t\t? toInteger(colSpan)\n\t\t\t\t\t\t\t\t\t\t\t: undefined\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tstyle={convertToObject(styles)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</tr>\n\t\t\t\t))}\n\t\t\t</Tag>\n\t\t);\n\t};\n\n\tconst Caption = () => (\n\t\t<RichText.Content\n\t\t\tclassName=\"prc-block-table-caption\"\n\t\t\ttagName=\"figcaption\"\n\t\t\tvalue={caption || ''}\n\t\t\tstyle={captionStylesObj}\n\t\t/>\n\t);\n\n\tconst TableTitle = () => (\n\t\t<RichText.Content\n\t\t\tclassName=\"prc-block-table-title\"\n\t\t\ttagName=\"h4\"\n\t\t\tvalue={tableTitle || ''}\n\t\t\tstyle={tableTitleStylesObj}\n\t\t/>\n\t);\n\n\tconst SourceNote = () => (\n\t\t<RichText.Content\n\t\t\tclassName=\"prc-block-table-source-note\"\n\t\t\ttagName=\"p\"\n\t\t\tvalue={sourceNote || ''}\n\t\t/>\n\t);\n\n\treturn (\n\t\t<figure {...blockProps}>\n\t\t\t{hasTableTitle && <TableTitle />}\n\t\t\t{hasCaption && 'top' === captionSide && <Caption />}\n\t\t\t<table\n\t\t\t\tclassName={tableClasses ?? undefined}\n\t\t\t\tstyle={{ ...tableStylesObj, ...colorProps.style }}\n\t\t\t>\n\t\t\t\t<Section type=\"head\" rows={head} />\n\t\t\t\t<Section type=\"body\" rows={body} />\n\t\t\t\t<Section type=\"foot\" rows={foot} />\n\t\t\t</table>\n\t\t\t{hasCaption && 'bottom' === captionSide && <Caption />}\n\t\t\t{hasSourceNote && <SourceNote />}\n\t\t</figure>\n\t);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t57: 0,\n\t350: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunk_pewresearch_prc_block_library\"] = globalThis[\"webpackChunk_pewresearch_prc_block_library\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [350], () => (__webpack_require__(865)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","reactIs","REACT_STATICS","childContextTypes","contextType","contextTypes","defaultProps","displayName","getDefaultProps","getDerivedStateFromError","getDerivedStateFromProps","mixins","propTypes","type","KNOWN_STATICS","name","length","prototype","caller","callee","arguments","arity","MEMO_STATICS","compare","TYPE_STATICS","getStatics","component","isMemo","ForwardRef","render","Memo","defineProperty","Object","getOwnPropertyNames","getOwnPropertySymbols","getOwnPropertyDescriptor","getPrototypeOf","objectPrototype","module","exports","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","keys","concat","targetStatics","sourceStatics","i","key","descriptor","e","b","Symbol","for","c","d","f","g","h","k","l","m","n","p","q","r","t","v","w","x","y","z","a","u","$$typeof","A","AsyncMode","ConcurrentMode","ContextConsumer","ContextProvider","Element","Fragment","Lazy","Portal","Profiler","StrictMode","Suspense","isAsyncMode","isConcurrentMode","isContextConsumer","isContextProvider","isElement","isForwardRef","isFragment","isLazy","isPortal","isProfiler","isStrictMode","isSuspense","isValidElementType","typeOf","window","SVG","xmlns","viewBox","children","Path","blockIcon","_jsxs","_jsx","Polygon","points","alignTop","alignMiddle","alignBottom","tableRowBefore","tableRowAfter","tableColumnBefore","tableColumnAfter","tableRowDelete","tableColumnDelete","tableMergeCell","tableSplitCell","borderSeparate","borderCollapse","borderSolid","borderDotted","Circle","cx","cy","borderDashed","borderDouble","STORE_NAME","MAX_BORDER_RADIUS","px","em","rem","MAX_BORDER_WIDTH","MAX_BORDER_SPACING","FONT_SIZE_UNITS","TABLE_WIDTH_UNITS","CELL_WIDTH_UNITS","BORDER_SPACING_UNITS","BORDER_RADIUS_UNITS","BORDER_WIDTH_UNITS","PADDING_UNITS","CELL_ARIA_LABEL","head","__","body","foot","CONTENT_JUSTIFY_CONTROLS","icon","justifyLeft","label","value","justifyCenter","justifyRight","BORDER_COLLAPSE_CONTROLS","borderCollapseIcon","borderSeparateIcon","BORDER_STYLE_CONTROLS","TEXT_ALIGNMENT_CONTROLS","alignLeft","alignCenter","alignRight","VERTICAL_ALIGNMENT_CONTROLS","STICKY_CONTROLS","_x","CELL_TAG_CONTROLS","CELL_SCOPE_CONTROLS","CAPTION_SIDE_CONTROLS","CORNER_CONTROLS","DIRECTION_CONTROLS","SIDE_CONTROLS","DEFAULT_STATE","options","actions","getOptions","path","setOptions","selectors","state","controls","GET_OPTIONS","action","apiFetch","resolvers","store","createReduxStore","reducer","register","attributes","cells","content","tag","Array","isArray","o","ColorIndicatorButton","isNone","isTransparent","isMixed","onClick","Button","className","clsx","ColorIndicator","colorValue","useInsertionEffect","create","unitlessKeys","animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","msGridRow","msGridRowSpan","msGridColumn","msGridColumnSpan","fontWeight","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","WebkitLineClamp","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","memoize","fn","cache","arg","undefined","hyphenateRegex","animationRegex","isCustomProperty","property","charCodeAt","isProcessableValue","processStyleName","styleName","replace","toLowerCase","processStyleValue","match","p1","p2","cursor","styles","next","handleInterpolation","mergedProps","registered","interpolation","componentSelector","__emotion_styles","keyframes","anim","serializedStyles","obj","string","asString","interpolated","_i","createStringFromObject","previousCursor","result","cached","labelPattern","args","stringMode","strings","raw","lastIndex","identifierName","exec","str","len","toString","StyleSheet","_this","this","_insertTag","before","tags","insertionPoint","nextSibling","prepend","container","firstChild","insertBefore","push","isSpeedy","speedy","ctr","nonce","_proto","hydrate","nodes","forEach","insert","rule","document","createElement","setAttribute","appendChild","createTextNode","createStyleElement","sheet","styleSheets","ownerNode","sheetForTag","insertRule","cssRules","flush","_tag$parentNode","parentNode","removeChild","abs","Math","String","fromCharCode","assign","trim","pattern","replacement","indexof","search","indexOf","index","begin","end","slice","array","line","column","position","character","characters","node","root","parent","props","return","prev","peek","caret","token","alloc","dealloc","delimit","delimiter","whitespace","escaping","count","commenter","identifier","COMMENT","callback","output","stringify","element","join","compile","parse","rules","rulesets","pseudo","declarations","offset","atrule","previous","variable","scanning","ampersand","reference","comment","declaration","ruleset","post","size","j","identifierWithPointTracking","fixedElements","WeakMap","compat","isImplicitRule","get","set","parsed","toRules","getRules","parentRules","removeLabel","hash","defaultStylisPlugins","map","createCache","ssrStyles","querySelectorAll","call","getAttribute","_insert","stylisPlugins","inserted","nodesToHydrate","attrib","split","currentSheet","collection","finalizingPlugins","serializer","selector","serialized","shouldCache","css","_len","_key","bind","hasOwnProperty","apply","reactPropsRegex","isPropValid","prop","test","EmotionCacheContext","HTMLElement","Provider","func","forwardRef","ref","useContext","isStringTag","testOmitPropsOnStringTag","testOmitPropsOnComponent","getDefaultShouldForwardProp","composeShouldForwardProps","isReal","shouldForwardProp","optionsShouldForwardProp","__emotion_forwardProp","propName","_ref","current","newStyled","createStyled","targetClassName","__emotion_real","baseTag","__emotion_base","target","defaultShouldForwardProp","shouldUseAs","Styled","registeredStyles","classNames","rawClassName","FinalTag","as","classInterpolations","theme","finalShouldForwardProp","newProps","withComponent","nextTag","nextOptions","tagName","ViewBox","styled","span","Side","isFocused","Corner","TopStroke","RightStroke","BottomStroke","LeftStroke","TopLeftStroke","TopRightStroke","BottomRightStroke","BottomLeftStroke","SideIndicatorControl","sides","top","includes","right","bottom","left","CornerIndicatorControl","corners","topLeft","topRight","bottomRight","bottomLeft","DirectionIndicatorControl","directions","horizontal","vertical","DEFAULT_VALUES","BorderColorControl","help","onChange","values","valuesProp","headingId","useInstanceId","colors","useSelect","select","_settings$colors","settings","blockEditorStore","getSettings","isLinked","setIsLinked","useState","isPickerOpen","setIsPickerOpen","pickerIndex","setPickerIndex","linkedLabel","allInputValue","handleOnPickerOpen","targetPickerIndex","handleOnPickerClose","BaseControl","__nextHasNoMarginBottom","VStack","role","Flex","Text","id","upperCase","weight","FlexBlock","FlexItem","variant","handleOnReset","HStack","alignment","justify","spacing","Popover","placement","shift","onClose","Spacer","padding","marginBottom","ColorPalette","inputValue","item","handleOnChange","targetSide","toggleLinked","link","linkOff","cleanEmptyObject","object","cleanedNestedObjects","entries","filter","fromEntries","parseCssValue","cssValue","cssValues","sanitizeUnitValue","initialValue","_value$match$","num","parseFloat","isNaN","minNum","max","maxNum","min","modifier","precision","round","parseUnit","_value$match$2","toInteger","defaultValue","converted","parseInt","normalizeRowColSpan","rowColSpan","parsedValue","Number","isInteger","BorderRadiusControl","borderRadiusUnits","useCustomUnits","availableUnits","corner","setCorner","allInputPlaceholder","style","minHeight","UnitControl","hideLabelFromVision","placeholder","unit","sanitizedValue","units","__unstableInputWidth","Grid","gap","onFocus","handleOnFocus","focusCorner","targetCorner","BorderStyleControl","allowSides","hasIndicator","ToggleGroupControl","__next40pxDefaultSize","isDeselectable","newValue","borderStyle","ToggleGroupControlOptionIcon","handleOnClick","marginTop","BorderWidthControl","borderWidthUnits","side","setSide","rows","margin","display","justifyContent","focusSide","BorderSpacingControl","borderSpacingUnits","targetDirection","ColorControl","colorsProp","PaddingControl","paddingUnits","GoToCellModal","isOpen","onOpen","onGoTo","inputRef","useKeyboardShortcut","event","preventDefault","setTimeout","focus","bindGlobal","Modal","title","onRequestClose","TextControl","onKeyDown","convertToObject","inlineStyles","substr","toUpperCase","reduce","styleObj","convertToInline","stylesObj","getCssPropertyWithFourDirection","updatePadding","paddingTop","paddingRight","paddingBottom","paddingLeft","newStyles","updateBorderWidth","borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","updateBorderStyle","_values$top","_values$right","_values$bottom","_values$left","borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle","updateBorderColor","_values$top2","_values$right2","_values$bottom2","_values$left2","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","updateBorderRadius","borderRadius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","insertRow","vTable","sectionName","rowIndex","newRowColCount","vRows","toVirtualRows","newRow","from","_","vColIndex","rowSpanCells","row","cell","rowSpan","colSpan","isFirstSelected","isHidden","cRowIndex","deleteRow","rowSpanCellsCount","vMergedCells","splitMergedCell","newRows","insertColumn","isLastColumnInsert","newVTable","section","newCells","cVColIndex","colSpanCells","colSpancells","colSpancell","deleteColumn","selectedCell","vSection","isEmptySection","every","toVirtualTable","vSections","rowCount","colCount","_row","_col","isFilled","findIndex","toTableAttributes","console","log","newTableAttributes","headers","scope","getVirtualRangeIndexes","selectedCells","minRowIndex","maxRowIndex","minColIndex","maxColIndex","VRowIndex","isRectangleSelected","isMultiSectionSelected","vRangeIndexes","vRange","hasMergedCells","some","toggleSection","pickPadding","paddingValues","pickBorderWidth","borderWidthValues","pickBorderColor","borderColorValues","pickBorderStyle","borderStyleValues","pickBorderRadius","borderRadiusValues","pickBorderSpacing","borderSpacingValues","borderSpacing","PERCENTAGE_WIDTHS","TableSettings","setAttributes","setSelectedCells","setSelectedLine","tableStylesObj","hasFixedLayout","isStackedOnMobile","isScrollOnPc","isScrollOnMobile","sticky","tableWidthUnits","parsedWidthQuantity","parsedWidthUnit","parseQuantityAndUnitFromRawValue","width","parsedMaxWidthQuantity","parsedMaxWidthUnit","maxWidth","parsedMinWidthQuantity","parsedMinWidthUnit","minWidth","onChangeWidth","newStylesObj","tableStyles","onChangeMaxWidth","onChangeMinWidth","_Fragment","isDestructive","onResetTableSettings","ToggleControl","checked","onToggleHeaderSection","onToggleFooterSection","onChangeHasFixedLayout","breakpoint","sprintf","onChangeIsScrollOnPc","onChangeIsScrollOnMobile","onChangeIsStackedOnMobile","SelectControl","_value","control","disabled","isBlock","perWidth","ToggleGroupControlOption","updateBorderSpacing","TableCaptionSettings","captionStylesObj","captionSide","fontSizeUnits","onResetSettings","captionStyles","align","fontSize","autoComplete","step","textAlign","TableCellSettings","cellWidthUnits","targetCell","selectedCellTags","cellStylesObj","updateCellsState","cellState","updateCells","onResetCellSettings","color","backgroundColor","hoverBackgroundColor","verticalAlign","slug","createInterpolateElement","code","onChangeScope","fillRule","clipRule","repeat","blockElements","is","voidElements","isVoid","meaningfulWhenBlankElements","tagNames","nodeName","has","getElementsByTagName","cleanAttribute","attribute","Rules","_keep","_remove","blankRule","blankReplacement","keepReplacement","defaultRule","defaultReplacement","findRule","filterValue","TypeError","remove","isPre","paragraph","lineBreak","br","heading","hLevel","charAt","headingStyle","blockquote","list","lastElementChild","listItem","prefix","bulletListMarker","start","indentedCodeBlock","codeBlockStyle","textContent","fencedCodeBlock","language","fenceChar","fence","fenceSize","fenceInCodeRegex","RegExp","horizontalRule","hr","inlineLink","linkStyle","href","referenceLink","linkReferenceStyle","references","append","emphasis","emDelimiter","strong","strongDelimiter","hasSiblings","previousSibling","isCodeBlock","extraSpace","matches","image","alt","src","add","unshift","keep","forNode","isBlank","Parser","_htmlParser","HTMLParser","DOMParser","canParse","parseFromString","canParseHTMLNatively","useActiveX","implementation","createHTMLDocument","open","ActiveXObject","shouldUseActiveX","doc","designMode","write","close","RootNode","input","prevText","keepLeadingWs","nodeType","text","data","nextNode","collapseWhitespace","getElementById","cloneNode","preformattedCode","isPreOrCode","Node","isCode","isMeaningfulWhenBlank","hasVoid","hasMeaningfulWhenBlank","flankingWhitespace","leading","trailing","edges","leadingAscii","leadingNonAscii","trailingNonAscii","trailingAscii","isFlankedByWhitespace","sibling","regExp","isFlanked","nodeValue","escapes","TurndownService","defaults","outerHTML","destination","source","extend","process","self","childNodes","escape","replacementForNode","postProcess","s1","indexEnd","substring","trimTrailingNewlines","s2","nls","turndown","canConvert","use","plugin","addRule","accumulator","AI_COLORS","AILoadingAnimation","flexDirection","alignItems","background","Icon","library","Spinner","convertTableToMarkdown","tableAttributes","html","renderSection","createVirtualTable","async","aiMetadata","modelVersion","usageMetadata","citationMetadata","prompt","currentUser","wp","getCurrentUser","currentUserId","userId","timestamp","Date","toISOString","aiGenerateTitle","metadata","caption","isServiceAvailable","getAvailableService","service","table","candidates","generateText","feature","helpers","aiServices","ai","_candidates","getCandidateContents","getTextFromContents","replaceAll","titleOptions","titles","JSON","error","aiGenerateCaptions","captionOptions","captions","CandidatesModal","onSelect","onClear","titleIcon","marginRight","wandIcon","candidate","iconSize","height","whiteSpace","RequestModal","description","tool","isGenerating","setIsGenerating","matchingRequest","useMemo","_copilot","find","copilot","request","setRequest","instructions","setInstructions","doRequest","useCallback","model","markdown","lines","preTableText","postTableText","tableLines","isInTable","tableEnded","startsWith","headerCells","bodyRows","after","convertMarkdownToTable","aiDoRequest","then","sourceNote","catch","finally","modalIcon","TextareaControl","isBusy","GenerateCaptionButton","asToolbarButton","isGeneratingCaption","setIsGeneratingCaption","processing","setProcessing","generatedCaptions","setGeneratedCaptions","generatedMetadata","setGeneratedMetadata","isCandidatesModalOpen","setIsCandidatesModalOpen","doGeneration","buttonIcon","ToolbarButton","isPressed","showTooltip","GenerateTitleButton","isGeneratingTitle","setIsGeneratingTitle","generatedTitles","setGeneratedTitles","newTitle","tableTitle","GenerateAiToolbarControls","activeTool","setActiveTool","isRequestModalOpen","setIsRequestModalOpen","createSuccessNotice","createErrorNotice","useDispatch","noticeStore","doTitleGeneration","message","doCaptionGeneration","TableAIGenerateControls","captionIcon","blockTableIcon","modalTitle","newData","newAttributes","onSetTableData","ToolbarDropdownMenu","ToolbarControls","contentJustification","createWarningNotice","noticesStore","dropdownRef","useRef","click","onInsertRow","onInsertColumn","TableJustifyControls","isActive","onChangeContentJustification","TableEditControls","isDisabled","onDeleteRow","onDeleteColumn","onSplitMergedCells","rowColSpanCells","splitMergedCells","onMergeCells","rowColSpanCellsCount","mergedCellsContent","mergeCells","blockTable","convertToRow","convertJSONToAttributes","handleCSV","files","reader","FileReader","onload","csvInput","CSV","header","headerData","parseCSV","file","readAsBinaryString","TableDataDropzone","DropZone","onFilesDrop","droppedFiles","TableDataSettings","hiddenFileInput","PanelRow","accept","csv","footer","bodyData","encode","exportCSV","blob","Blob","url","URL","createObjectURL","download","TableTitleSettings","tableTitleStylesObj","tableTitleStyles","ContextMenu","anchorElement","copyToClipboard","TableCellContextMenuSlot","useEffect","handleClickOutside","menu","querySelector","isClickInside","contains","handleEscape","addEventListener","removeEventListener","anchor","expandOnMobile","focusOnMount","stopPropagation","fillProps","TableRowSelectButton","onSelectSectionCells","tabIndex","focus_control_button","TableCellControls","isSelected","isContentOnlyMode","sectionIndex","isRowSelected","isColumnSelected","selectedLine","onSelectRow","onSelectColumn","filteredVTable","onChangeCellContent","isSelectMode","isTabMove","showControl","plus","chevronRight","trash","chevronDown","RichText","allowedFormats","Fill","TableCellContextMenuFill","Slot","createSlotFill","TSection","restProps","TagName","Cell","Table","colorProps","useColorProps","setIsSelectMode","isReady","setIdReady","tableRef","contextMenu","setContextMenu","isGoToModalOpen","setIsGoToModalOpen","goToValue","setGoToValue","goToInputRef","vTargetCell","selectedRowIndex","selectedVColIndex","filteredSections","closeContextMenu","SlotFillProvider","tab_move","closest","tableElement","ownerDocument","activeElement","activeCell","isInsidePopover","hasLinkControl","tabbableNodes","tabbableElements","activeCellIndex","nextCellIndex","shiftKey","focusbleElement","selection","getSelection","range","createRange","innerText","selectNodeContents","removeAllRanges","addRange","onKeyUp","isCellSelected","onClickCell","clickedCell","ctrlKey","metaKey","fromCell","toCell","isRectangled","currentSection","VCells","topCells","isTopFixed","rightCells","isRightFixed","bottomCells","isBottomFixed","leftCells","isLeftFixed","toRectangledSelectedCells","newSelectedCells","existCellIndex","splice","onContextMenu","handleContextMenu","currentTarget","navigator","clipboard","writeText","err","rowStr","colStr","targetRow","targetCol","found","cellElement","scrollIntoView","behavior","block","inline","editableElement","TableCaption","prevCaption","usePrevious","isCaptionEmpty","isEmpty","isPrevCaptionEmpty","showCaption","setShowCaption","BlockControls","group","TablePlaceholder","setRowCount","setColCount","headerSection","setHeaderSection","footerSection","setFooterSection","totalRowCount","cellHeight","tableClasses","Placeholder","BlockIcon","showColors","isAppleOS","colIndex","onSubmit","createSection","cols","createTable","wrap","TableTitle","prevTableTitle","isTableTitleEmpty","isPrevTableTitleEmpty","showTableTitle","setShowTableTitle","isGeneratingTableTitle","setIsGeneratingTableTitle","TableSourceNote","blocks","transform","convertedSections","colspan","rowspan","createBlock","to","getBlockType","blocksStore","blockType","hasRowColSpanSupport","query","sectionAttributes","coreTableAttributes","newSection","default","enum","supports","__experimentalSkipSerialization","gradients","typography","__experimentalFontFamily","__experimentalTextTransform","__experimentalFontStyle","__experimentalFontWeight","__experimentalLetterSpacing","__experimentalSelector","save","getColorClassesAndStyles","blockProps","useBlockProps","hasCaption","Section","Tag","cellIndex","Content","Caption","addAction","stopPublishing","edits","postId","postType","_prc_copilot_pre_publish_check","status","stop","alert","warn","AICopilotPrePublishCheck","getBlocks","allBlocks","findAIBlocks","_blocks","acc","clientId","innerBlocks","selectBlock","reviewedBlocks","setReviewedBlocks","Set","handleToggleReview","newSet","delete","allBlocksReviewed","PluginPrePublishPanel","initialOpen","listStyle","CheckboxControl","fontStyle","edit","isSingleSelected","insertBlocksAfter","useBlockEditingMode","tablePlaceholderProps","tableFigureProps","show_dot_on_th","show_control_button","tableProps","tableSettingsProps","tableTitleSettingProps","tableCellSettingsProps","tableCellSettingsLabel","tableCaptionProps","tableCaptionSettingProps","tableSourceNoteProps","tableTitleProps","tableToolbarProps","tableDataSettingsProps","TableToolbar","InspectorControls","PanelBody","hasTableTitle","hasSourceNote","SourceNote","example","transforms","deprecated","registerBlockType","registerPlugin","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","getter","__esModule","definition","enumerable","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","globalThis","__webpack_exports__"],"sourceRoot":""}