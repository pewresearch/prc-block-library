{"version":3,"file":"view.js","mappings":"iEAKA,MAAM,aAAEA,GAAiBC,GAAGC,KAEpBC,WAAU,EAAEC,YAAW,EAAEC,KAAIA,GAAKC,OA6G1CC,EAAM,oBAAqB,CAC1BC,QAAS,CACRC,aAAeC,IACd,MAAMC,EAAUC,KACV,SAAEC,GAAaF,EACrB,IAAKE,EACJ,OAED,MAAMC,EA9GT,SAAsBH,GACrB,IAAI,IAAET,EAAG,MAAEa,EAAK,YAAEC,GAAgBL,EAwBlC,OArBKK,IACJA,EACCC,SACEC,cAAc,oCACbC,aAAa,YAAc,IAG3BJ,IACJA,EACCE,SACEC,cAAc,8BACbC,aAAa,YAAc,IAG3BjB,IACJA,EACCe,SACEC,cAAc,4BACbC,aAAa,YAAcb,OAAOc,SAASC,MAGzC,CAAEnB,MAAKa,QAAOC,cACtB,CAoFqBM,CAAaX,GAE/BD,EAAMa,iBACNb,EAAMc,kBAEN,MAAMC,EApET,SAA0BZ,EAAUC,GACnC,MAAM,IAAEZ,EAAG,MAAEa,EAAK,YAAEC,GAAgBF,EAEpC,OAAQD,GACP,IAAK,WACJ,OAAOb,EAAa,6CAA8C,CACjE0B,EAAGxB,IAGL,IAAK,WACJ,OAAOF,EAAa,wCAAyC,CAC5D2B,QAASX,EACTd,MACAa,QACAa,OAAQ,gBAGV,IAAK,UACJ,OAAO5B,EAAa,mCAAoC,CACvD6B,KAAMb,EACNd,QAGF,IAAK,UACJ,OAAOF,EAAa,sCAAuC,CAC1D6B,KAAM,GAAGb,KAAed,MAG1B,IAAK,UACJ,OAAOF,EAAa,kCAAmC,CACtD6B,KAAM,GAAGb,KAAed,MAG1B,QACC,OAAOA,EAEV,CAgCoB4B,CAAiBjB,EAAUC,GACtCiB,EA1BT,SAAuBlB,GAStB,MARoB,CACnBmB,SAAU,gBACVC,SAAU,sBACVC,QAAS,kBACTC,QAAS,qBACTC,QAAS,mBAGSvB,IAAa,aACjC,CAgBsBwB,CAAcxB,IAnFpC,SAAyBX,EAAK6B,GAC7B1B,EACCH,EACA6B,EACA,8BAA8B3B,EAAc,EAAI,aAAaD,EAAa,EAAI,qEAEhF,CA+EGmC,CAAgBb,EAAUM","sources":["webpack://@prc/block-library/./src/core-social-links/view.js"],"sourcesContent":["/**\n * WordPress Dependencies\n */\nimport { store, getContext } from '@wordpress/interactivity';\n\nconst { addQueryArgs } = wp.url;\n\nconst { innerWidth, innerHeight, open } = window;\n\n/**\n * Get social sharing arguments from context\n * @param {Object} context - The block context\n * @returns {Object} - Object containing url, title, and description\n */\nfunction getShareArgs(context) {\n\tlet { url, title, description } = context;\n\n\t// Fallback to meta tags if not provided in context\n\tif (!description) {\n\t\tdescription =\n\t\t\tdocument\n\t\t\t\t.querySelector('meta[property=\"og:description\"]')\n\t\t\t\t?.getAttribute('content') || '';\n\t}\n\n\tif (!title) {\n\t\ttitle =\n\t\t\tdocument\n\t\t\t\t.querySelector('meta[property=\"og:title\"]')\n\t\t\t\t?.getAttribute('content') || '';\n\t}\n\n\tif (!url) {\n\t\turl =\n\t\t\tdocument\n\t\t\t\t.querySelector('meta[property=\"og:url\"]')\n\t\t\t\t?.getAttribute('content') || window.location.href;\n\t}\n\n\treturn { url, title, description };\n}\n\n/**\n * Open a popup window for social sharing\n * @param {string} url - The URL to open\n * @param {string} windowName - The name of the window\n */\nfunction openShareWindow(url, windowName) {\n\topen(\n\t\turl,\n\t\twindowName,\n\t\t`height=450, width=550, top=${innerHeight / 2 - 275}, left=${innerWidth / 2 - 225}, toolbar=0, location=0, menubar=0, directories=0, scrollbars=0`\n\t);\n}\n\n/**\n * Generate share URL for different platforms\n * @param {string} platform - The social platform\n * @param {Object} shareArgs - The sharing arguments\n * @returns {string} - The share URL\n */\nfunction generateShareUrl(platform, shareArgs) {\n\tconst { url, title, description } = shareArgs;\n\n\tswitch (platform) {\n\t\tcase 'facebook':\n\t\t\treturn addQueryArgs('https://www.facebook.com/sharer/sharer.php', {\n\t\t\t\tu: url,\n\t\t\t});\n\n\t\tcase 'linkedin':\n\t\t\treturn addQueryArgs('https://www.linkedin.com/shareArticle', {\n\t\t\t\tsummary: description,\n\t\t\t\turl,\n\t\t\t\ttitle,\n\t\t\t\tsource: 'PewResearch',\n\t\t\t});\n\n\t\tcase 'twitter':\n\t\t\treturn addQueryArgs('https://twitter.com/intent/tweet', {\n\t\t\t\ttext: description,\n\t\t\t\turl,\n\t\t\t});\n\n\t\tcase 'threads':\n\t\t\treturn addQueryArgs('https://www.threads.net/intent/post', {\n\t\t\t\ttext: `${description} ${url}`,\n\t\t\t});\n\n\t\tcase 'bluesky':\n\t\t\treturn addQueryArgs('https://bsky.app/intent/compose', {\n\t\t\t\ttext: `${description} ${url}`,\n\t\t\t});\n\n\t\tdefault:\n\t\t\treturn url;\n\t}\n}\n\n/**\n * Get window name for different platforms\n * @param {string} platform - The social platform\n * @returns {string} - The window name\n */\nfunction getWindowName(platform) {\n\tconst windowNames = {\n\t\tfacebook: 'fbShareWindow',\n\t\tlinkedin: 'linkedinShareWindow',\n\t\ttwitter: 'twtrShareWindow',\n\t\tthreads: 'threadsShareWindow',\n\t\tbluesky: 'bskyShareWindow',\n\t};\n\n\treturn windowNames[platform] || 'shareWindow';\n}\n\nstore('core/social-links', {\n\tactions: {\n\t\tonShareClick: (event) => {\n\t\t\tconst context = getContext();\n\t\t\tconst { platform } = context;\n\t\t\tif (!platform) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst shareArgs = getShareArgs(context);\n\n\t\t\tevent.preventDefault();\n\t\t\tevent.stopPropagation();\n\n\t\t\tconst shareUrl = generateShareUrl(platform, shareArgs);\n\t\t\tconst windowName = getWindowName(platform);\n\n\t\t\topenShareWindow(shareUrl, windowName);\n\t\t},\n\t},\n});\n"],"names":["addQueryArgs","wp","url","innerWidth","innerHeight","open","window","store","actions","onShareClick","event","context","getContext","platform","shareArgs","title","description","document","querySelector","getAttribute","location","href","getShareArgs","preventDefault","stopPropagation","shareUrl","u","summary","source","text","generateShareUrl","windowName","facebook","linkedin","twitter","threads","bluesky","getWindowName","openShareWindow"],"sourceRoot":""}