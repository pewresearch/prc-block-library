{"version":3,"file":"entity-as-iframe/view.js","mappings":"iFAEA,MAAM,MAAEA,GAAUC,EAAM,6BAA8B,CACrDD,MAAO,CACN,UAAIE,GACH,MAAMC,EAAUC,IAChB,OAAOJ,EAAMG,EAAQE,IAAIC,QAC1B,GAEDC,QAAS,CACRC,SAAUA,KACT,MAAML,EAAUC,IAChBJ,EAAMG,EAAQE,IAAIC,UAAYN,EAAMG,EAAQE,IAAIC,WAGlDG,UAAW,CACVH,SAAUA,IACFN,EAAME,OAEdQ,WAAYA,KACX,MAAMP,EAAUC,KACV,IAAEO,GAAQC,IACZZ,EAAME,QACTC,EAAQU,IAAMV,EAAQW,IACtBd,EAAMG,EAAQE,IAAIU,QAAUC,aAC3B,CACCC,WAAY,EACZC,YAAa,EACbC,wBAAyB,iBAE1BR,EAAIS,cAAc,WACjB,KAEFjB,EAAQU,IAAM,GACdb,EAAMG,EAAQE,IAAIU,SAASM,cAAcC","sources":["webpack://@prc/block-library/./src/entity-as-iframe/view.js"],"sourcesContent":["import { store, getContext, getElement } from '@wordpress/interactivity';\n\nconst { state } = store('prc-block/entity-as-iframe', {\n\tstate: {\n\t\tget active() {\n\t\t\tconst context = getContext();\n\t\t\treturn state[context.id].isActive;\n\t\t},\n\t},\n\tactions: {\n\t\tactivate: () => {\n\t\t\tconst context = getContext();\n\t\t\tstate[context.id].isActive = !state[context.id].isActive;\n\t\t},\n\t},\n\tcallbacks: {\n\t\tisActive: () => {\n\t\t\treturn state.active;\n\t\t},\n\t\tonActivate: () => {\n\t\t\tconst context = getContext();\n\t\t\tconst { ref } = getElement();\n\t\t\tif (state.active) {\n\t\t\t\tcontext.src = context.url;\n\t\t\t\tstate[context.id].resizer = iFrameResize(\n\t\t\t\t\t{\n\t\t\t\t\t\tbodyMargin: 0,\n\t\t\t\t\t\tbodyPadding: 0,\n\t\t\t\t\t\theightCalculationMethod: 'taggedElement',\n\t\t\t\t\t},\n\t\t\t\t\tref.querySelector('iframe')\n\t\t\t\t)[0];\n\t\t\t} else {\n\t\t\t\tcontext.src = '';\n\t\t\t\tstate[context.id].resizer?.iFrameResizer.removeListeners();\n\t\t\t}\n\t\t},\n\t},\n});\n"],"names":["state","store","active","context","getContext","id","isActive","actions","activate","callbacks","onActivate","ref","getElement","src","url","resizer","iFrameResize","bodyMargin","bodyPadding","heightCalculationMethod","querySelector","iFrameResizer","removeListeners"],"sourceRoot":""}