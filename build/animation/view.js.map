{"version":3,"file":"animation/view.js","mappings":"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","sources":["webpack://@prc/block-library/./src/animation/view.js"],"sourcesContent":["import {\n\tstore,\n\tgetContext,\n\tgetServerContext,\n\tgetServerState,\n\tgetElement,\n\twithScope,\n\twithSyncEvent,\n} from '@wordpress/interactivity';\n\n/**\n * Internal Dependencies\n */\n\n/**\n * Load the confetti script.\n */\nconst loadConfettiScript = () => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst script = document.createElement('script');\n\t\tscript.src =\n\t\t\t'https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js';\n\t\tscript.onload = resolve;\n\t\tscript.onerror = reject;\n\t\tdocument.head.appendChild(script);\n\t});\n};\n\n/**\n * Generate a random number between a min and max.\n */\nfunction randomInRange(min, max) {\n\treturn Math.random() * (max - min) + min;\n}\n\nconst { state, actions } = store('prc-block/animation', {\n\tstate: {\n\t\tget isAnimating() {\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('isAnimating', { ...context });\n\t\t\tif (!context) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst { id } = context;\n\t\t\tif (!id) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!state[id]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn state[id].enabled;\n\t\t},\n\t},\n\tactions: {\n\t\t*explodeConfettiFireworks(speed) {\n\t\t\tconsole.log('explodeConfettiFireworks', { ...state });\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Confetti Fireworks!', { ...context, speed });\n\t\t\tvar duration = speed;\n\t\t\tvar animationEnd = Date.now() + duration;\n\t\t\tvar defaults = {\n\t\t\t\tstartVelocity: 30,\n\t\t\t\tspread: 360,\n\t\t\t\tticks: 60,\n\t\t\t\tzIndex: 0,\n\t\t\t};\n\n\t\t\tvar interval = setInterval(\n\t\t\t\twithScope(() => {\n\t\t\t\t\tvar timeLeft = animationEnd - Date.now();\n\n\t\t\t\t\tif (timeLeft <= 0) {\n\t\t\t\t\t\treturn clearInterval(interval);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar particleCount = 50 * (timeLeft / duration);\n\t\t\t\t\t// since particles fall down, start a bit higher than random\n\t\t\t\t\tconfetti({\n\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\tparticleCount,\n\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\tx: randomInRange(0.1, 0.3),\n\t\t\t\t\t\t\ty: Math.random() - 0.2,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tconfetti({\n\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\tparticleCount,\n\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\tx: randomInRange(0.7, 0.9),\n\t\t\t\t\t\t\ty: Math.random() - 0.2,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t}),\n\t\t\t\t250\n\t\t\t);\n\t\t},\n\t\t*explodeConfettiFromCenterOfScreen(speed) {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Center Confetti Explosion!', { ...context, speed });\n\n\t\t\t// Single burst from center\n\t\t\tconfetti({\n\t\t\t\tparticleCount: 100,\n\t\t\t\tspread: 360,\n\t\t\t\tstartVelocity: 30,\n\t\t\t\tgravity: 0.8,\n\t\t\t\tticks: 100,\n\t\t\t\torigin: {\n\t\t\t\t\tx: 0.5, // Center horizontally\n\t\t\t\t\ty: 0.5, // Center vertically\n\t\t\t\t},\n\t\t\t\tcolors: [\n\t\t\t\t\t'#FFD700',\n\t\t\t\t\t'#FF6B6B',\n\t\t\t\t\t'#4ECDC4',\n\t\t\t\t\t'#45B7D1',\n\t\t\t\t\t'#FFA07A',\n\t\t\t\t\t'#98D8C8',\n\t\t\t\t],\n\t\t\t\tshapes: ['square', 'circle'],\n\t\t\t\tscalar: 1.2,\n\t\t\t});\n\n\t\t\t// Additional burst with different timing for layered effect\n\t\t\tsetTimeout(() => {\n\t\t\t\tconfetti({\n\t\t\t\t\tparticleCount: 50,\n\t\t\t\t\tspread: 270,\n\t\t\t\t\tstartVelocity: 25,\n\t\t\t\t\tgravity: 0.9,\n\t\t\t\t\tticks: 80,\n\t\t\t\t\torigin: {\n\t\t\t\t\t\tx: 0.5,\n\t\t\t\t\t\ty: 0.5,\n\t\t\t\t\t},\n\t\t\t\t\tcolors: ['#FF69B4', '#00CED1', '#FFD700', '#32CD32'],\n\t\t\t\t\tshapes: ['circle'],\n\t\t\t\t\tscalar: 0.8,\n\t\t\t\t});\n\n\t\t\t\t// Reset animation state after all effects complete\n\t\t\t\tsetTimeout(\n\t\t\t\t\twithScope(() => {\n\t\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t\t}),\n\t\t\t\t\t2000\n\t\t\t\t);\n\t\t\t}, 200);\n\t\t},\n\t\t*explodeEmojiFireworks(emoji, speed) {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Emoji Fireworks!', { ...context, emoji, speed });\n\t\t\tconst emojiShape = confetti.shapeFromText({\n\t\t\t\ttext: emoji,\n\t\t\t\tscalar: 1.2,\n\t\t\t});\n\t\t\tvar duration = speed;\n\t\t\tvar animationEnd = Date.now() + duration;\n\t\t\tvar defaults = {\n\t\t\t\tstartVelocity: 30,\n\t\t\t\tspread: 360,\n\t\t\t\tticks: 60,\n\t\t\t\tzIndex: 0,\n\t\t\t\tshapes: [emojiShape],\n\t\t\t};\n\n\t\t\tvar interval = setInterval(\n\t\t\t\twithScope(() => {\n\t\t\t\t\tvar timeLeft = animationEnd - Date.now();\n\n\t\t\t\t\tif (timeLeft <= 0) {\n\t\t\t\t\t\treturn clearInterval(interval);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar particleCount = 50 * (timeLeft / duration);\n\t\t\t\t\t// since particles fall down, start a bit higher than random\n\t\t\t\t\tconfetti({\n\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\tparticleCount,\n\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\tx: randomInRange(0.1, 0.3),\n\t\t\t\t\t\t\ty: Math.random() - 0.2,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tconfetti({\n\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\tparticleCount,\n\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\tx: randomInRange(0.7, 0.9),\n\t\t\t\t\t\t\ty: Math.random() - 0.2,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t}),\n\t\t\t\t250\n\t\t\t);\n\t\t},\n\t\t*explodeEmojiFromCenterOfScreen(emoji, speed) {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Emoji Explosion!', { ...context, emoji, speed });\n\t\t\tconst emojiShape = confetti.shapeFromText({\n\t\t\t\ttext: emoji,\n\t\t\t\tscalar: 1.2,\n\t\t\t});\n\n\t\t\t// Single burst from center\n\t\t\tconfetti({\n\t\t\t\tparticleCount: 100,\n\t\t\t\tspread: 360,\n\t\t\t\tstartVelocity: 30,\n\t\t\t\tgravity: 0.8,\n\t\t\t\tticks: 100,\n\t\t\t\torigin: {\n\t\t\t\t\tx: 0.5, // Center horizontally\n\t\t\t\t\ty: 0.5, // Center vertically\n\t\t\t\t},\n\t\t\t\tshapes: [emojiShape],\n\t\t\t\tscalar: 1.2,\n\t\t\t});\n\n\t\t\t// Additional burst with different timing for layered effect\n\t\t\tsetTimeout(() => {\n\t\t\t\tconfetti({\n\t\t\t\t\tparticleCount: 50,\n\t\t\t\t\tspread: 270,\n\t\t\t\t\tstartVelocity: 25,\n\t\t\t\t\tgravity: 0.9,\n\t\t\t\t\tticks: 80,\n\t\t\t\t\torigin: {\n\t\t\t\t\t\tx: 0.5,\n\t\t\t\t\t\ty: 0.5,\n\t\t\t\t\t},\n\t\t\t\t\tshapes: [emojiShape],\n\t\t\t\t\tscalar: 0.8,\n\t\t\t\t});\n\n\t\t\t\t// Reset animation state after all effects complete\n\t\t\t\tsetTimeout(\n\t\t\t\t\twithScope(() => {\n\t\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t\t}),\n\t\t\t\t\t2000\n\t\t\t\t);\n\t\t\t}, 200);\n\t\t},\n\t\t*rainConfetti(speed) {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Confetti Rain!', { ...context, speed });\n\t\t\tvar duration = speed;\n\t\t\tvar animationEnd = Date.now() + duration;\n\t\t\tvar defaults = {\n\t\t\t\tstartVelocity: 10,\n\t\t\t\tspread: 45,\n\t\t\t\tticks: 60,\n\t\t\t\tzIndex: 0,\n\t\t\t\tgravity: 1.2,\n\t\t\t\tcolors: [\n\t\t\t\t\t'#3498db',\n\t\t\t\t\t'#2980b9',\n\t\t\t\t\t'#5dade2',\n\t\t\t\t\t'#85c1e9',\n\t\t\t\t\t'#aed6f1',\n\t\t\t\t\t'#d6eaf8',\n\t\t\t\t],\n\t\t\t\tshapes: ['square', 'circle'],\n\t\t\t\tscalar: 0.6,\n\t\t\t};\n\n\t\t\tvar interval = setInterval(\n\t\t\t\twithScope(() => {\n\t\t\t\t\tvar timeLeft = animationEnd - Date.now();\n\n\t\t\t\t\tif (timeLeft <= 0) {\n\t\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar particleCount = 15 * (timeLeft / duration);\n\t\t\t\t\t// Rain falls from top across the screen\n\t\t\t\t\tfor (let i = 0; i < 5; i++) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tconfetti({\n\t\t\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\t\t\tparticleCount: particleCount / 5,\n\t\t\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\t\t\tx: randomInRange(0.1, 0.9),\n\t\t\t\t\t\t\t\t\ty: -0.1, // Start above screen\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, i * 100);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\t200\n\t\t\t);\n\t\t},\n\t\t*rainEmoji(emoji, speed) {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Emoji Rain!', { ...context, emoji, speed });\n\t\t\tconst emojiShape = confetti.shapeFromText({\n\t\t\t\ttext: emoji,\n\t\t\t\tscalar: 1.0,\n\t\t\t});\n\t\t\tvar duration = speed;\n\t\t\tvar animationEnd = Date.now() + duration;\n\t\t\tvar defaults = {\n\t\t\t\tstartVelocity: 10,\n\t\t\t\tspread: 45,\n\t\t\t\tticks: 60,\n\t\t\t\tzIndex: 0,\n\t\t\t\tgravity: 1.2,\n\t\t\t\tshapes: [emojiShape],\n\t\t\t\tscalar: 0.8,\n\t\t\t};\n\n\t\t\tvar interval = setInterval(\n\t\t\t\twithScope(() => {\n\t\t\t\t\tvar timeLeft = animationEnd - Date.now();\n\n\t\t\t\t\tif (timeLeft <= 0) {\n\t\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar particleCount = 15 * (timeLeft / duration);\n\t\t\t\t\t// Rain falls from top across the screen\n\t\t\t\t\tfor (let i = 0; i < 5; i++) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tconfetti({\n\t\t\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\t\t\tparticleCount: particleCount / 5,\n\t\t\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\t\t\tx: randomInRange(0.1, 0.9),\n\t\t\t\t\t\t\t\t\ty: -0.1, // Start above screen\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, i * 100);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\t200\n\t\t\t);\n\t\t},\n\t},\n\tcallbacks: {\n\t\t*onAnimate() {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tconst { animation, effect, emoji, speed } = state[id];\n\t\t\tconst { ref } = getElement();\n\t\t\tconst { parentElement } = ref;\n\t\t\tif (parentElement.getAttribute('hidden')) {\n\t\t\t\tconsole.info(\n\t\t\t\t\t'Parent Element for Animation is Hidden, failing over and not running animation'\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconsole.log('onAnimate', { state: state[id], ref });\n\t\t\t// When the animation is enabled, we'll load the confetti script and explode the confetti.\n\t\t\tif (ref) {\n\t\t\t\tyield loadConfettiScript();\n\t\t\t\tif (animation === 'confetti' && effect === 'fireworks') {\n\t\t\t\t\tyield actions.explodeConfettiFireworks(speed);\n\t\t\t\t}\n\t\t\t\tif (animation === 'confetti' && effect === 'center') {\n\t\t\t\t\tyield actions.explodeConfettiFromCenterOfScreen(speed);\n\t\t\t\t}\n\t\t\t\tif (animation === 'confetti' && effect === 'rain') {\n\t\t\t\t\tyield actions.rainConfetti(speed);\n\t\t\t\t}\n\t\t\t\tif (animation === 'emoji' && effect === 'center') {\n\t\t\t\t\tyield actions.explodeEmojiFromCenterOfScreen(emoji, speed);\n\t\t\t\t}\n\t\t\t\tif (animation === 'emoji' && effect === 'fireworks') {\n\t\t\t\t\tyield actions.explodeEmojiFireworks(emoji, speed);\n\t\t\t\t}\n\t\t\t\tif (animation === 'emoji' && effect === 'rain') {\n\t\t\t\t\tyield actions.rainEmoji(emoji, speed);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n});\n"],"names":["randomInRange","min","max","Math","random","state","actions","store","isAnimating","context","getContext","console","log","id","enabled","explodeConfettiFireworks","speed","duration","animationEnd","Date","now","defaults","startVelocity","spread","ticks","zIndex","interval","setInterval","withScope","timeLeft","clearInterval","particleCount","confetti","origin","x","y","explodeConfettiFromCenterOfScreen","gravity","colors","shapes","scalar","setTimeout","explodeEmojiFireworks","emoji","emojiShape","shapeFromText","text","explodeEmojiFromCenterOfScreen","rainConfetti","i","rainEmoji","callbacks","onAnimate","animation","effect","ref","getElement","parentElement","getAttribute","info","Promise","resolve","reject","script","document","createElement","src","onload","onerror","head","appendChild"],"sourceRoot":""}