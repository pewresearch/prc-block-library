{"version":3,"file":"animation/view.js","mappings":"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","sources":["webpack://@prc/block-library/webpack/bootstrap","webpack://@prc/block-library/webpack/runtime/define property getters","webpack://@prc/block-library/webpack/runtime/hasOwnProperty shorthand","webpack://@prc/block-library/external module \"@wordpress/interactivity\"","webpack://@prc/block-library/./src/animation/view.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"getContext\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.getContext), [\"getElement\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.getElement), [\"store\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.store), [\"withScope\"]: () => (__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__.withScope) });","import {\n\tstore,\n\tgetContext,\n\tgetServerContext,\n\tgetServerState,\n\tgetElement,\n\twithScope,\n\twithSyncEvent,\n} from '@wordpress/interactivity';\n\n/**\n * Internal Dependencies\n */\n\n/**\n * Load the confetti script.\n */\nconst loadConfettiScript = () => {\n\treturn new Promise((resolve, reject) => {\n\t\tconst script = document.createElement('script');\n\t\tscript.src =\n\t\t\t'https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js';\n\t\tscript.onload = resolve;\n\t\tscript.onerror = reject;\n\t\tdocument.head.appendChild(script);\n\t});\n};\n\n/**\n * Generate a random number between a min and max.\n */\nfunction randomInRange(min, max) {\n\treturn Math.random() * (max - min) + min;\n}\n\nconst { state, actions } = store('prc-block/animation', {\n\tstate: {\n\t\tget isAnimating() {\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('isAnimating', { ...context });\n\t\t\tif (!context) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tconst { id } = context;\n\t\t\tif (!id) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (!state[id]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn state[id].enabled;\n\t\t},\n\t},\n\tactions: {\n\t\t*explodeConfettiFireworks(speed) {\n\t\t\tconsole.log('explodeConfettiFireworks', { ...state });\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Confetti Fireworks!', { ...context, speed });\n\t\t\tvar duration = speed;\n\t\t\tvar animationEnd = Date.now() + duration;\n\t\t\tvar defaults = {\n\t\t\t\tstartVelocity: 30,\n\t\t\t\tspread: 360,\n\t\t\t\tticks: 60,\n\t\t\t\tzIndex: 0,\n\t\t\t};\n\n\t\t\tvar interval = setInterval(\n\t\t\t\twithScope(() => {\n\t\t\t\t\tvar timeLeft = animationEnd - Date.now();\n\n\t\t\t\t\tif (timeLeft <= 0) {\n\t\t\t\t\t\treturn clearInterval(interval);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar particleCount = 50 * (timeLeft / duration);\n\t\t\t\t\t// since particles fall down, start a bit higher than random\n\t\t\t\t\tconfetti({\n\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\tparticleCount,\n\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\tx: randomInRange(0.1, 0.3),\n\t\t\t\t\t\t\ty: Math.random() - 0.2,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tconfetti({\n\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\tparticleCount,\n\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\tx: randomInRange(0.7, 0.9),\n\t\t\t\t\t\t\ty: Math.random() - 0.2,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t}),\n\t\t\t\t250\n\t\t\t);\n\t\t},\n\t\t*explodeConfettiFromCenterOfScreen(speed) {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Center Confetti Explosion!', { ...context, speed });\n\n\t\t\t// Single burst from center\n\t\t\tconfetti({\n\t\t\t\tparticleCount: 100,\n\t\t\t\tspread: 360,\n\t\t\t\tstartVelocity: 30,\n\t\t\t\tgravity: 0.8,\n\t\t\t\tticks: 100,\n\t\t\t\torigin: {\n\t\t\t\t\tx: 0.5, // Center horizontally\n\t\t\t\t\ty: 0.5, // Center vertically\n\t\t\t\t},\n\t\t\t\tcolors: [\n\t\t\t\t\t'#FFD700',\n\t\t\t\t\t'#FF6B6B',\n\t\t\t\t\t'#4ECDC4',\n\t\t\t\t\t'#45B7D1',\n\t\t\t\t\t'#FFA07A',\n\t\t\t\t\t'#98D8C8',\n\t\t\t\t],\n\t\t\t\tshapes: ['square', 'circle'],\n\t\t\t\tscalar: 1.2,\n\t\t\t});\n\n\t\t\t// Additional burst with different timing for layered effect\n\t\t\tsetTimeout(() => {\n\t\t\t\tconfetti({\n\t\t\t\t\tparticleCount: 50,\n\t\t\t\t\tspread: 270,\n\t\t\t\t\tstartVelocity: 25,\n\t\t\t\t\tgravity: 0.9,\n\t\t\t\t\tticks: 80,\n\t\t\t\t\torigin: {\n\t\t\t\t\t\tx: 0.5,\n\t\t\t\t\t\ty: 0.5,\n\t\t\t\t\t},\n\t\t\t\t\tcolors: ['#FF69B4', '#00CED1', '#FFD700', '#32CD32'],\n\t\t\t\t\tshapes: ['circle'],\n\t\t\t\t\tscalar: 0.8,\n\t\t\t\t});\n\n\t\t\t\t// Reset animation state after all effects complete\n\t\t\t\tsetTimeout(\n\t\t\t\t\twithScope(() => {\n\t\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t\t}),\n\t\t\t\t\t2000\n\t\t\t\t);\n\t\t\t}, 200);\n\t\t},\n\t\t*explodeEmojiFireworks(emoji, speed) {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Emoji Fireworks!', { ...context, emoji, speed });\n\t\t\tconst emojiShape = confetti.shapeFromText({\n\t\t\t\ttext: emoji,\n\t\t\t\tscalar: 1.2,\n\t\t\t});\n\t\t\tvar duration = speed;\n\t\t\tvar animationEnd = Date.now() + duration;\n\t\t\tvar defaults = {\n\t\t\t\tstartVelocity: 30,\n\t\t\t\tspread: 360,\n\t\t\t\tticks: 60,\n\t\t\t\tzIndex: 0,\n\t\t\t\tshapes: [emojiShape],\n\t\t\t};\n\n\t\t\tvar interval = setInterval(\n\t\t\t\twithScope(() => {\n\t\t\t\t\tvar timeLeft = animationEnd - Date.now();\n\n\t\t\t\t\tif (timeLeft <= 0) {\n\t\t\t\t\t\treturn clearInterval(interval);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar particleCount = 50 * (timeLeft / duration);\n\t\t\t\t\t// since particles fall down, start a bit higher than random\n\t\t\t\t\tconfetti({\n\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\tparticleCount,\n\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\tx: randomInRange(0.1, 0.3),\n\t\t\t\t\t\t\ty: Math.random() - 0.2,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tconfetti({\n\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\tparticleCount,\n\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\tx: randomInRange(0.7, 0.9),\n\t\t\t\t\t\t\ty: Math.random() - 0.2,\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t}),\n\t\t\t\t250\n\t\t\t);\n\t\t},\n\t\t*explodeEmojiFromCenterOfScreen(emoji, speed) {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Emoji Explosion!', { ...context, emoji, speed });\n\t\t\tconst emojiShape = confetti.shapeFromText({\n\t\t\t\ttext: emoji,\n\t\t\t\tscalar: 1.2,\n\t\t\t});\n\n\t\t\t// Single burst from center\n\t\t\tconfetti({\n\t\t\t\tparticleCount: 100,\n\t\t\t\tspread: 360,\n\t\t\t\tstartVelocity: 30,\n\t\t\t\tgravity: 0.8,\n\t\t\t\tticks: 100,\n\t\t\t\torigin: {\n\t\t\t\t\tx: 0.5, // Center horizontally\n\t\t\t\t\ty: 0.5, // Center vertically\n\t\t\t\t},\n\t\t\t\tshapes: [emojiShape],\n\t\t\t\tscalar: 1.2,\n\t\t\t});\n\n\t\t\t// Additional burst with different timing for layered effect\n\t\t\tsetTimeout(() => {\n\t\t\t\tconfetti({\n\t\t\t\t\tparticleCount: 50,\n\t\t\t\t\tspread: 270,\n\t\t\t\t\tstartVelocity: 25,\n\t\t\t\t\tgravity: 0.9,\n\t\t\t\t\tticks: 80,\n\t\t\t\t\torigin: {\n\t\t\t\t\t\tx: 0.5,\n\t\t\t\t\t\ty: 0.5,\n\t\t\t\t\t},\n\t\t\t\t\tshapes: [emojiShape],\n\t\t\t\t\tscalar: 0.8,\n\t\t\t\t});\n\n\t\t\t\t// Reset animation state after all effects complete\n\t\t\t\tsetTimeout(\n\t\t\t\t\twithScope(() => {\n\t\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t\t}),\n\t\t\t\t\t2000\n\t\t\t\t);\n\t\t\t}, 200);\n\t\t},\n\t\t*rainConfetti(speed) {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Confetti Rain!', { ...context, speed });\n\t\t\tvar duration = speed;\n\t\t\tvar animationEnd = Date.now() + duration;\n\t\t\tvar defaults = {\n\t\t\t\tstartVelocity: 10,\n\t\t\t\tspread: 45,\n\t\t\t\tticks: 60,\n\t\t\t\tzIndex: 0,\n\t\t\t\tgravity: 1.2,\n\t\t\t\tcolors: [\n\t\t\t\t\t'#3498db',\n\t\t\t\t\t'#2980b9',\n\t\t\t\t\t'#5dade2',\n\t\t\t\t\t'#85c1e9',\n\t\t\t\t\t'#aed6f1',\n\t\t\t\t\t'#d6eaf8',\n\t\t\t\t],\n\t\t\t\tshapes: ['square', 'circle'],\n\t\t\t\tscalar: 0.6,\n\t\t\t};\n\n\t\t\tvar interval = setInterval(\n\t\t\t\twithScope(() => {\n\t\t\t\t\tvar timeLeft = animationEnd - Date.now();\n\n\t\t\t\t\tif (timeLeft <= 0) {\n\t\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar particleCount = 15 * (timeLeft / duration);\n\t\t\t\t\t// Rain falls from top across the screen\n\t\t\t\t\tfor (let i = 0; i < 5; i++) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tconfetti({\n\t\t\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\t\t\tparticleCount: particleCount / 5,\n\t\t\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\t\t\tx: randomInRange(0.1, 0.9),\n\t\t\t\t\t\t\t\t\ty: -0.1, // Start above screen\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, i * 100);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\t200\n\t\t\t);\n\t\t},\n\t\t*rainEmoji(emoji, speed) {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconsole.log('Emoji Rain!', { ...context, emoji, speed });\n\t\t\tconst emojiShape = confetti.shapeFromText({\n\t\t\t\ttext: emoji,\n\t\t\t\tscalar: 1.0,\n\t\t\t});\n\t\t\tvar duration = speed;\n\t\t\tvar animationEnd = Date.now() + duration;\n\t\t\tvar defaults = {\n\t\t\t\tstartVelocity: 10,\n\t\t\t\tspread: 45,\n\t\t\t\tticks: 60,\n\t\t\t\tzIndex: 0,\n\t\t\t\tgravity: 1.2,\n\t\t\t\tshapes: [emojiShape],\n\t\t\t\tscalar: 0.8,\n\t\t\t};\n\n\t\t\tvar interval = setInterval(\n\t\t\t\twithScope(() => {\n\t\t\t\t\tvar timeLeft = animationEnd - Date.now();\n\n\t\t\t\t\tif (timeLeft <= 0) {\n\t\t\t\t\t\tclearInterval(interval);\n\t\t\t\t\t\tcontext.enabled = false;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar particleCount = 15 * (timeLeft / duration);\n\t\t\t\t\t// Rain falls from top across the screen\n\t\t\t\t\tfor (let i = 0; i < 5; i++) {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tconfetti({\n\t\t\t\t\t\t\t\t...defaults,\n\t\t\t\t\t\t\t\tparticleCount: particleCount / 5,\n\t\t\t\t\t\t\t\torigin: {\n\t\t\t\t\t\t\t\t\tx: randomInRange(0.1, 0.9),\n\t\t\t\t\t\t\t\t\ty: -0.1, // Start above screen\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}, i * 100);\n\t\t\t\t\t}\n\t\t\t\t}),\n\t\t\t\t200\n\t\t\t);\n\t\t},\n\t},\n\tcallbacks: {\n\t\t*onAnimate() {\n\t\t\tif (!state.isAnimating) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconst { id } = context;\n\t\t\tconst { animation, effect, emoji, speed } = state[id];\n\t\t\tconst { ref } = getElement();\n\t\t\tconst { parentElement } = ref;\n\t\t\tif (parentElement.getAttribute('hidden')) {\n\t\t\t\tconsole.info(\n\t\t\t\t\t'Parent Element for Animation is Hidden, failing over and not running animation'\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconsole.log('onAnimate', { state: state[id], ref });\n\t\t\t// When the animation is enabled, we'll load the confetti script and explode the confetti.\n\t\t\tif (ref) {\n\t\t\t\tyield loadConfettiScript();\n\t\t\t\tif (animation === 'confetti' && effect === 'fireworks') {\n\t\t\t\t\tyield actions.explodeConfettiFireworks(speed);\n\t\t\t\t}\n\t\t\t\tif (animation === 'confetti' && effect === 'center') {\n\t\t\t\t\tyield actions.explodeConfettiFromCenterOfScreen(speed);\n\t\t\t\t}\n\t\t\t\tif (animation === 'confetti' && effect === 'rain') {\n\t\t\t\t\tyield actions.rainConfetti(speed);\n\t\t\t\t}\n\t\t\t\tif (animation === 'emoji' && effect === 'center') {\n\t\t\t\t\tyield actions.explodeEmojiFromCenterOfScreen(emoji, speed);\n\t\t\t\t}\n\t\t\t\tif (animation === 'emoji' && effect === 'fireworks') {\n\t\t\t\t\tyield actions.explodeEmojiFireworks(emoji, speed);\n\t\t\t\t}\n\t\t\t\tif (animation === 'emoji' && effect === 'rain') {\n\t\t\t\t\tyield actions.rainEmoji(emoji, speed);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t},\n});\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","y","__WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__","x","d","randomInRange","min","max","Math","random","state","actions","store","isAnimating","context","getContext","console","log","id","enabled","explodeConfettiFireworks","speed","duration","animationEnd","Date","now","defaults","startVelocity","spread","ticks","zIndex","interval","setInterval","withScope","timeLeft","clearInterval","particleCount","confetti","origin","explodeConfettiFromCenterOfScreen","gravity","colors","shapes","scalar","setTimeout","explodeEmojiFireworks","emoji","emojiShape","shapeFromText","text","explodeEmojiFromCenterOfScreen","rainConfetti","i","rainEmoji","callbacks","onAnimate","animation","effect","ref","getElement","parentElement","getAttribute","info","Promise","resolve","reject","script","document","createElement","src","onload","onerror","head","appendChild"],"sourceRoot":""}