(()=>{"use strict";var e,o={4285:(e,o,t)=>{const r=window.wp.primitives,l=window.ReactJSXRuntime,a=(0,l.jsx)(r.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)(r.Path,{d:"M20 4H4v1.5h16V4zm-2 9h-3c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2zm.5 5c0 .3-.2.5-.5.5h-3c-.3 0-.5-.2-.5-.5v-3c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3zM4 9.5h9V8H4v1.5zM9 13H6c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2zm.5 5c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-3c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3z",fillRule:"evenodd",clipRule:"evenodd"})}),s=window.wp.blocks,n=window.classnames;var i=t.n(n);const c=window.wp.i18n,u=window.wp.element,d=window.wp.blockEditor,p=window.wp.htmlEntities,g=(window.prcComponents,window.wp.components);function h({attributes:e,colors:o,isList:t,clientId:r}){const a=(0,d.__experimentalUseMultipleOriginColorsAndGradients)(),s=(0,u.useMemo)(()=>{if(!t)return[];const{activeBackgroundColor:e,setActiveBackgroundColor:r,activeTextColor:l,setActiveTextColor:a,hoverBackgroundColor:s,setHoverBackgroundColor:n,hoverTextColor:i,setHoverTextColor:u}=o;return[{colorValue:l?.color,onColorChange:a,label:(0,c.__)("Active Text")},{colorValue:e?.color,onColorChange:r,label:(0,c.__)("Active Background")},{colorValue:i?.color,onColorChange:u,label:(0,c.__)("Hover Text")},{colorValue:s?.color,onColorChange:n,label:(0,c.__)("Hover Background")}]},[o,t]);return(0,l.jsx)(u.Fragment,{children:(0,l.jsx)(d.InspectorControls,{group:"color",children:(0,l.jsx)(d.__experimentalColorGradientSettingsDropdown,{settings:s,panelId:r,hasColorsOrGradients:!1,disableCustomColors:!0,__experimentalIsRenderedInSidebar:!0,...a})})})}function v({attributes:e,setAttributes:o,colors:t,isList:r,clientId:a}){const{perPage:s,taxonomy:n,separator:i,getAllTerms:p,enableLink:v,linkToPublicationsPage:m}=e;return(0,l.jsxs)(u.Fragment,{children:[(0,l.jsx)(h,{attributes:e,colors:t,isList:r,clientId:a}),(0,l.jsx)(d.InspectorControls,{children:(0,l.jsxs)(g.PanelBody,{title:(0,c.__)("Settings","prc-block-library"),children:[(0,l.jsx)(g.RangeControl,{label:"Number of Terms",value:s,onChange:e=>o({perPage:e}),min:1,max:25,allowReset:!0,resetFallbackValue:25}),!r&&(0,l.jsx)(g.TextControl,{label:"Separator",value:i,onChange:e=>o({separator:e})}),(0,l.jsx)(g.ToggleControl,{label:"Get all terms",checked:p,onChange:()=>o({getAllTerms:!p}),help:(0,c.__)("If checked, all terms will be fetched, not just the terms assigned to the current post.","prc-block-library")}),(0,l.jsx)(g.ToggleControl,{label:"Enable Link",checked:v,onChange:()=>o({enableLink:!v}),help:(0,c.__)("If checked, the term(s) will be linked to the term archive page.","prc-block-library")}),v&&(0,l.jsx)(g.ToggleControl,{label:"Link to Publications Page",checked:m,onChange:()=>o({linkToPublicationsPage:!m}),help:(0,c.__)("If checked, the term(s) will be linked to pre-filter the publications page to the selected term(s).","prc-block-library")})]})})]})}function m({attributes:e,setAttributes:o,context:t,colors:r,isList:a,clientId:s}){return(0,l.jsx)(v,{attributes:e,setAttributes:o,context:t,colors:r,isList:a,clientId:s})}const x=window.wp.data,b=window.wp.apiFetch;var C=t.n(b);const k=[{name:"Term A",slug:"term-a",link:"#"},{name:"Term B",slug:"term-b",link:"#"},{name:"Term C",slug:"term-c",link:"#"}];function f(e,o,t="categories",r=!1){const{postTerms:l}=(0,x.useSelect)(r=>{if(!e||!o||!t)return{postTerms:[]};const{getEditedPostAttribute:l}=r("core/editor");return{postTerms:l(t)}},[e,o,t]),[a,s]=(0,u.useState)(k),[n,i]=(0,u.useState)(!1);return(0,u.useEffect)(()=>{if(i(!0),console.log("... checking data ...",l),l&&0<l.length)Promise.all(l.map(e=>(e=>new Promise(o=>{C()({path:`/wp/v2/${t}/${e}`}).then(e=>o(e))}))(e))).then(e=>{let o=e;!1!==r&&(o=o.slice(0,r)),console.log("GOT SOME DATA",o),s([...o]),i(!1)});else{let e=k;!1!==r&&(e=e.slice(0,r)),s([...e]),i(!1)}},[l,r]),{isLoading:n,taxonomyTerms:a}}const w=(0,d.withColors)({activeBackgroundColor:"color"},{activeTextColor:"color"},{hoverBackgroundColor:"color"},{hoverTextColor:"color"})(function({attributes:e,setAttributes:o,context:t,clientId:r,isSelected:a,__unstableLayoutClassNames:s,activeBackgroundColor:n,setActiveBackgroundColor:c,activeTextColor:g,setActiveTextColor:h,hoverBackgroundColor:v,setHoverBackgroundColor:x,hoverTextColor:b,setHoverTextColor:C}){const{postId:k,postType:w}=t,{taxonomy:T,className:y,layout:_,perPage:B,separator:j}=e,A=_?.orientation||"vertical",{taxonomyTerms:S,isLoading:P}=f(k,w,T,B),I=(0,u.useMemo)(()=>"vertical"===A,[A]),O=(0,u.useMemo)(()=>j?{"--separator":`"${j}"`}:{},[j]),L=(0,u.useMemo)(()=>({activeBackgroundColor:n,setActiveBackgroundColor:c,activeTextColor:g,setActiveTextColor:h,hoverBackgroundColor:v,setHoverBackgroundColor:x,hoverTextColor:b,setHoverTextColor:C}),[n,c,g,h,v,x,b,C]),H=(0,d.useBlockProps)({className:i()(y,s,{"has-separator":!!j&&!I}),style:{...O}}),M=(0,u.useMemo)(()=>{const e=I?{"has-active-background":!!L.activeBackgroundColor.color||L.activeBackgroundColor.class,[`has-active-${L?.activeBackgroundColor?.slug}-background-color`]:!!L?.activeBackgroundColor?.slug,"has-active-color":!!L.activeTextColor.color||L.activeTextColor.class,[`has-active-${L?.activeTextColor?.slug}-color`]:!!L?.activeTextColor?.slug,"has-focus-background":!!L.activeBackgroundColor.color||L.activeBackgroundColor.class,[`has-focus-${L?.activeBackgroundColor?.slug}-background-color`]:!!L?.activeBackgroundColor?.slug,"has-focus-color":!!L.activeTextColor.color||L.activeTextColor.class,[`has-focus-${L?.activeTextColor?.slug}-color`]:!!L?.activeTextColor?.slug,"has-hover-background":!!L.hoverBackgroundColor.color||L.hoverBackgroundColor.class,[`has-hover-${L?.hoverBackgroundColor?.slug}-background-color`]:!!L?.activeBackgroundColor?.slug,"has-hover-color":!!L.hoverTextColor.color||L.hoverTextColor.class,[`has-hover-${L?.hoverTextColor?.slug}-color`]:!!L?.hoverTextColor?.slug}:{};return i()("wp-block-prc-block-post-taxonomy-terms__list-item",e)},[L,I]),z=(0,u.useMemo)(()=>S.map(e=>(0,l.jsx)("li",{className:M,children:(0,p.decodeEntities)(e.name)})),[S,P,M]);return(0,l.jsxs)(u.Fragment,{children:[(0,l.jsx)(m,{attributes:e,setAttributes:o,context:t,colors:L,isList:I,clientId:r}),(0,l.jsx)("div",{...H,children:(0,l.jsx)("ul",{className:"wp-block-prc-block-post-taxonomy-terms__list",children:z})})]})}),T=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/post-taxonomy-terms","version":"0.1.0","title":"Post Taxonomy Terms","category":"theme","description":"Display the current post\'s selected taxonomy terms.","attributes":{"getAllTerms":{"type":"boolean","default":false},"taxonomy":{"type":"string","default":"categories"},"perPage":{"type":"number","default":25},"separator":{"type":"string"},"enableLink":{"type":"boolean","default":true},"linkToPublicationsPage":{"type":"boolean","default":false},"activeBackgroundColor":{"type":"string","default":"ui-gray-very-light"},"activeTextColor":{"type":"string","default":"ui-text-color"},"hoverBackgroundColor":{"type":"string","default":"ui-beige-very-light"},"hoverTextColor":{"type":"string","default":"ui-text-color"},"style":{"type":"object","default":{"spacing":{"blockGap":"var:preset|spacing|20"}}}},"supports":{"anchor":true,"html":false,"color":{"background":true,"text":true,"link":true},"layout":{"allowEditing":true,"allowJustification":true,"allowInheriting":false,"allowOrientation":true,"allowSizingOnChildren":true,"allowSwitching":false,"allowVerticalAlignment":true,"default":{"type":"flex","justifyContent":"left","orientation":"vertical"}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalTextTransform":true,"__experimentalFontFamily":true,"__experimentalLetterSpacing":true,"__experimentalTextDecoration":true,"__experimentalSkipSerialization":["textDecoration"],"__experimentalDefaultControls":{"fontSize":true}},"spacing":{"blockGap":true,"units":["px","em","rem","vh","vw"],"__experimentalDefaultControls":{"blockGap":true}}},"usesContext":["postId","postType"],"textdomain":"post-taxonomy-terms","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":["file:./style-index.css","prc-block-library--baseball-card","prc-block-library--additional-color-supports"]}'),{name:y}=T,_={icon:a,edit:w};(0,s.registerBlockType)(y,{...T,..._})}},t={};function r(e){var l=t[e];if(void 0!==l)return l.exports;var a=t[e]={exports:{}};return o[e](a,a.exports,r),a.exports}r.m=o,e=[],r.O=(o,t,l,a)=>{if(!t){var s=1/0;for(u=0;u<e.length;u++){for(var[t,l,a]=e[u],n=!0,i=0;i<t.length;i++)(!1&a||s>=a)&&Object.keys(r.O).every(e=>r.O[e](t[i]))?t.splice(i--,1):(n=!1,a<s&&(s=a));if(n){e.splice(u--,1);var c=l();void 0!==c&&(o=c)}}return o}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[t,l,a]},r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={8496:0,4696:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var l,a,[s,n,i]=t,c=0;if(s.some(o=>0!==e[o])){for(l in n)r.o(n,l)&&(r.m[l]=n[l]);if(i)var u=i(r)}for(o&&o(t);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},t=globalThis.webpackChunk_prc_block_library=globalThis.webpackChunk_prc_block_library||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var l=r.O(void 0,[4696],()=>r(4285));l=r.O(l)})();
//# sourceMappingURL=index.js.map