import*as e from"@wordpress/interactivity";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const o=(n={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},i={},t.d(i,n),i);var n,i;function l(e){const t=document.createElement("div");t.style.width=e,document.body.appendChild(t);const o=window.getComputedStyle(t).width;return document.body.removeChild(t),parseFloat(o)}const{state:s,actions:c}=(0,o.store)("prc-block/navigation-mega-menu",{state:{get isOpen(){const e=(0,o.getContext)(),{id:t}=e;return s[t]?.isOpen},get width(){return(0,o.getContext)().width},get left(){return(0,o.getContext)().left},get top(){return(0,o.getContext)().top}},actions:{toggleMenuOnClick(){c.toggleMenu()},closeMenuOnClick(){c.closeMenu("click"),c.closeMenu("focus")},toggleMenu(){const e=(0,o.getContext)(),{id:t}=e;s[t].isOpen=!s[t].isOpen},openMenu(e="click"){const t=(0,o.getContext)(),{id:n}=t;s[n].isOpen=!0},closeMenu(e="click"){const t=(0,o.getContext)(),{id:n}=t;s[n].isOpen=!1},setMenuPositions(){const e=(0,o.getContext)(),{ref:t}=(0,o.getElement)(),n=t.querySelector(".wp-block-prc-block-navigation-mega-menu__container");if(console.log("setMenuPositions",e,s,t,n),!n)return;const i=n.closest(".wp-block-navigation");if(!i)return;const c=i.offsetHeight;e.top=c;const r=window.getComputedStyle(document.body),g=r.getPropertyValue("--wp--style--root--padding-left").trim(),d=r.getPropertyValue("--wp--style--root--padding-left").trim(),p=l(g),u=l(d),a=window.innerWidth-u-p,f=n.offsetWidth,m=n.getBoundingClientRect(),w=i.getBoundingClientRect(),C=w.left<=p?p-w.left:w.left-p,y=(a-f)/2;f>a?(console.log("a"),e.width=`${window.innerWidth}px`,e.left=`-${w.left}px`):m.left>0&&y>=m.left?(console.log("b"),e.left=""):C>=y?(console.log("c"),e.width="",e.left=`-${C-y}px`):(console.log("d"),e.width="",e.left=y-C+"px")}},callbacks:{onInit(){const{ref:e}=(0,o.getElement)();console.log("onInit",e),c.setMenuPositions()},onResize(){c.setMenuPositions()}}});
//# sourceMappingURL=view.js.map