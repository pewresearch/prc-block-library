!function(){var e={472:function(e,t){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var l=i.apply(null,r);l&&e.push(l)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var a in r)n.call(r,a)&&r[a]&&e.push(a);else e.push(r.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},703:function(e,t,r){"use strict";var n=r(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,l){if(l!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},697:function(e,t,r){e.exports=r(703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){"use strict";var e=window.wp.blocks,t=window.wp.element,n=r(472),i=r.n(n),o=window.wp.i18n,l=window.wp.compose,a=window.wp.blockEditor,c=window.wp.components,s=function(e){let{attributes:r,setAttributes:n,setPreview:i}=e;const{url:l,file:s,meta:u}=r;return(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(c.PanelBody,{title:(0,o.__)("Gist settings","prc-block-library")},(0,t.createElement)(c.TextControl,{label:(0,o.__)("Gist URL","prc-block-library"),value:l,onChange:e=>{void 0!==e&&e.trim()||i(!1),n({url:e})}}),(0,t.createElement)(c.TextControl,{label:(0,o.__)("Gist File","prc-block-library"),value:s,onChange:e=>{n({file:e})}}),(0,t.createElement)(c.ToggleControl,{label:(0,o.__)("Gist Meta","prc-block-library"),checked:!!u,onChange:()=>n({meta:!u}),help:e=>e?(0,o.__)("Showing gist meta data.","prc-block-library"):(0,o.__)("Toggle to show the gist meta data.","prc-block-library")})))},u=r(697),p=r.n(u),f=function(){return(0,t.createElement)("svg",{width:"24",height:"24",fill:"none","view-box":"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-hidden":"true",focusable:"false"},(0,t.createElement)("path",{d:"m12 3c-4.9725 0-9 4.13206-9 9.2285 0 4.0782 2.5785 7.5366 6.15375 8.7556.45.0869.615-.1985.615-.4438 0-.2192-.0075-.7998-.01125-1.5688-2.5035.5568-3.0315-1.2382-3.0315-1.2382-.4095-1.0651-1.00125-1.3497-1.00125-1.3497-.81525-.5721.063-.5606.063-.5606.90375.0646 1.3785.9505 1.3785.9505.8025 1.4112 2.10675 1.0036 2.62125.7676.081-.5968.3128-1.0036.57-1.2344-1.99875-.2307-4.0995-1.0243-4.0995-4.5604 0-1.0074.34875-1.8303.92625-2.4763-.10125-.23302-.405-1.17125.07875-2.44248 0 0 .75375-.24763 2.475.94593.72-.20534 1.485-.30685 2.25-.31147.765.00462 1.53.10613 2.25.31147 1.71-1.19356 2.4638-.94593 2.4638-.94593.4837 1.27123.18 2.20946.09 2.44248.5737.646.9225 1.4689.9225 2.4763 0 3.5453-2.1038 4.3259-4.1063 4.5527.315.2769.6075.8429.6075 1.7073 0 1.2351-.0112 2.2272-.0112 2.5271 0 .2422.1575.5306.6187.4383 3.6008-1.2104 6.177-4.6711 6.177-8.7432 0-5.09644-4.0297-9.2285-9-9.2285",fill:"currentColor"}))};function d(e){const[r,n]=(0,t.useState)(!0),[i,l]=(0,t.useState)(""),[a,s]=(0,t.useState)(!1),{url:u}=e,{file:p}=e,d=e.callbackId,m=()=>{const{onError:t}=e;n(!1),t()},h=e=>{const t=(()=>{if(null!==u.match(/(\.com\/)(.*?)([^#]+)/))return u.match(/(\.com\/)(.*?)([^#]+)/).pop();m()})();return!!t&&`https://gist.github.com/${t}.json?callback=${e}${(()=>{if(void 0!==p)return`&file=${p}`;const e=u.split("#").pop();return null!==e.match(/file*/)?`&file=${e.replace("file-","").replace("-",".")}`:""})()}`};return(0,t.useEffect)((()=>{(()=>{window[d]=e=>{(e=>{if(!a){const t=document.createElement("link");t.type="text/css",t.rel="stylesheet",t.href=e,document.head.appendChild(t),s(!0)}})(e.stylesheet),n(!1),l(e.div)};const e=document.createElement("script");e.type="text/javascript";const t=h(d);t&&(e.src=t,e.onerror=function(){m()},document.head.appendChild(e))})()}),[]),r?(0,t.createElement)(c.Placeholder,{key:"placeholder",icon:(0,t.createElement)(c.Icon,{icon:f}),label:(0,o.__)("Loading Gist")},(0,t.createElement)(c.Spinner,null)):i?(0,t.createElement)(t.RawHTML,null,i):""}var m=d;function h(e){const{attributes:r,setAttributes:n,className:l,clientId:u,isSelected:p,noticeOperations:d,noticeUI:b}=e,{url:g,file:y,meta:v,caption:_}=r,{setNotice:w,removeNotice:E}=d,[x,k]=(0,t.useState)(!!r.preview&&r.preview),[T,C]=(0,t.useState)("");(0,t.useEffect)((()=>{0==!!T&&C(h.__nextGist())}),[T]),(0,t.useEffect)((()=>{r.url&&k(!0)}),[]);const G=(0,a.useBlockProps)({className:i()(l,v?null:"no-meta")});return(0,t.createElement)("div",G,g&&0<g.length&&p&&(0,t.createElement)(s,{attributes:r,setAttributes:n,setPreview:k}),x?g&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(m,{url:g,file:y,callbackId:T,onError:()=>{d.removeAllNotices(),d.createErrorNotice("Sorry, this URL is not a GitHub Gist."),k(!1)}}),(!a.RichText.isEmpty(_)||p)&&(0,t.createElement)(a.RichText,{tagName:"figcaption",placeholder:(0,o.__)("Write caption…"),value:_,onChange:e=>n({caption:e}),keepPlaceholderOnFocus:!0,inlineToolbar:!0})):(0,t.createElement)(c.Placeholder,{isColumnLayout:!0,label:"GitHub Gist",instructions:(0,o.__)("Enter the URL of a GitHub Gist to embed it here."),icon:f,notices:b},(0,t.createElement)(c.TextControl,{id:`gist-url-input-${u}`,value:g,label:"Gist URL",placeholder:(0,o.__)("Add GitHub Gist URL…"),onChange:e=>{if(n({url:e,file:""}),void 0===e||!e.trim())return void k(!1);r.url||k(!0);const t=e.split("#file-").pop();if(null!==e.match(/#file-*/)){const r=e.replace(t,"").replace("#file-","");n({url:r}),n({file:t.replace(/-([^-]*)$/,".$1")})}d.removeAllNotices()}})))}d.propTypes={file:p().string,onError:p().func,url:p().string.isRequired},h.__gistCallbackId=0,h.__nextGist=()=>"embed_gist_callback_"+h.__gistCallbackId++;var b=(0,l.compose)(c.withNotices)(h),g=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"prc-block/github-gist","version":"0.1.0","title":"GitHub Gist","description":"Embed a Gist from GitHub","category":"embed","keywords":["gist","code","github","python","javascript"],"attributes":{"url":{"type":"string","default":""},"file":{"type":"string","default":""},"meta":{"type":"boolean","default":true},"caption":{"type":"string","source":"html","selector":"figcaption"}},"supports":{"html":false,"align":["wide","left","right","center"]},"textdomain":"github-gist","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}');const{name:y,title:v}=g,_={icon:f,__experimentalLabel:e=>{let{file:t}=e;return 0<t.length?`Gist: ${t}`:v},edit:b,save:function(e){let{attributes:r}=e;const{url:n,caption:i}=r;if(void 0!==n)return(0,t.createElement)(t.Fragment,null,!a.RichText.isEmpty(i)&&(0,t.createElement)(a.RichText.Content,{tagName:"figcaption",value:i}))}};(0,e.registerBlockType)(y,{...g,..._})}()}();