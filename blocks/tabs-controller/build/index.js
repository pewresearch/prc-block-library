(()=>{"use strict";var e,t={34:(e,t,n)=>{const r=window.wp.blocks,i=window.wp.data,o={clientIdsOnPage:[],clientIdsActiveUUIDPairs:{}},s=(0,i.createReduxStore)("prc-block/tabs-controller",{reducer(e=o,t){switch(t.type){case"SET_CLIENT_ID":return{...e,clientIdsOnPage:[...e.clientIdsOnPage,t.clientId]};case"SET_ACTIVE_UUID_PAIR":return{...e,clientIdsActiveUUIDPairs:{...e.clientIdsActiveUUIDPairs,[t.clientId]:t.uuid}}}return e},actions:{setClientId:e=>({type:"SET_CLIENT_ID",clientId:e}),setActiveUUIDPair:(e,t)=>({type:"SET_ACTIVE_UUID_PAIR",clientId:e,uuid:t})},selectors:{getClientIdsOnPage:e=>e.clientIdsOnPage,getActiveUUID:(e,t)=>e.clientIdsActiveUUIDPairs[t]}}),l=window.React,a=window.classnames;var c=n.n(a);const u=window.wp.element,b=window.wp.blockEditor,d=[["prc-block/tabs-menu",{}],["prc-block/tabs-panes",{}]],p=["prc-block/tabs-menu","prc-block/tabs-panes"],k=window.prcIcons,m=window.wp.i18n,f=[{name:"tabs-horizontal",isDefault:!0,title:(0,m.__)("Horizontal Tabs"),description:(0,m.__)("A set of tabs that display horizontally"),attributes:{className:"is-style-tabbed",vertical:!1},innerBlocks:[["prc-block/tabs-menu",{}],["prc-block/tabs-panes",{}]],scope:["inserter","transform"],isActive:e=>!1===e.vertical},{name:"tabs-vertical",title:(0,m.__)("Vertical Tabs"),description:(0,m.__)("A set of tabs that display vertically."),attributes:{className:"is-style-tabbed",vertical:!0},innerBlocks:[["prc-block/tabs-menu",{}],["prc-block/tabs-panes",{}]],scope:["inserter","transform"],isActive:e=>!0===e.vertical}],h=window.wp.htmlEntities,g=(e,t,n)=>{const r={name:"prc-block/taxonomy-list",attributes:{fontFamily:"sans-serif",layout:{justifyContent:"left",type:"flex",orientation:"vertical"}},innerBlocks:[{name:"prc-block/taxonomy-menu-link",attributes:{label:(0,h.decodeEntities)(e),url:t,id:"",className:"is-style-sub-heading",style:{typography:{fontSize:"21px"}}}}]};return n.forEach((e=>{"prc-block/taxonomy-search"===e.name&&r.innerBlocks.push({name:"prc-block/taxonomy-search",attributes:e.attributes}),"prc-block/taxonomy-tree"===e.name&&(r.innerBlocks.push({name:"prc-block/taxonomy-menu-link",attributes:{label:e.attributes.subHeading?(0,h.decodeEntities)(e.attributes.subHeading):"Key Topics",id:"",url:"",style:{typography:{fontSize:"18px",fontStyle:"normal",fontWeight:"700"}}}}),e.innerBlocks.forEach((e=>{const t=e.innerBlocks,n=[];t.forEach((e=>{n.push({name:"prc-block/taxonomy-menu-link",attributes:{label:(0,h.decodeEntities)(e.attributes.label),url:e.attributes.url,id:e.attributes.id}})})),r.innerBlocks.push({name:"prc-block/taxonomy-menu-link",attributes:{label:(0,h.decodeEntities)(e.attributes.label),url:e.attributes.url,id:e.attributes.id,enableSubMenu:0<t.length,className:c()({"is-style-sub-tree":0<t.length})},innerBlocks:n})})))})),console.log(`${e}: `,n),[r]},v={from:[{type:"block",blocks:["prc-block/topic-index-condensed-controller"],transform:(e,t)=>!(!Array.isArray(t)||0===t.length)&&(e=>{const t={name:"prc-block/tabs-menu",attributes:{},innerBlocks:[]},n={name:"prc-block/tabs-panes",attributes:{},innerBlocks:[]},i=e.filter((e=>"prc-block/topic-index-condensed-menu"===e.name))[0],o=i.innerBlocks.map((e=>{const{title:t,uuid:n}=e.attributes;return{title:t,uuid:n}})).map((e=>({name:"prc-block/tabs-menu-item",attributes:{title:(0,h.decodeEntities)(e.title),uuid:e.uuid}})));t.innerBlocks=o;const s=e.filter((e=>"prc-block/topic-index-condensed-pages"===e.name))[0],l=s.innerBlocks.map((e=>{const{heading:t,uuid:n,url:r}=e.attributes;return{heading:t,uuid:n,url:r,innerBlocks:e.innerBlocks}})).map((e=>({name:"prc-block/tabs-pane",attributes:{uuid:e.uuid},innerBlocks:g(e.heading,e.url,e.innerBlocks)})));n.innerBlocks=l,console.log(i,s),console.log("newMenu",t),console.log("newPanes",n);const a=[t,n];return console.log("newInnerBlocks",a),(0,r.createBlock)("prc-block/tabs",{vertical:!0,className:"is-style-accordion"},(0,r.createBlocksFromInnerBlocksTemplate)(a))})(t)}]},y=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/tabs","version":"1.0.0","title":"Tabs","description":"Create horizontal or vertical tabbed content.","keywords":["tabs","tabbed content","tabbed content"],"category":"design","icon":"editor-kitchensink","attributes":{"vertical":{"type":"boolean","default":false},"disableMobileAccordion":{"type":"boolean","default":false}},"providesContext":{"prc-block/tabs/layout":"vertical"},"styles":[{"name":"tabbed","label":"Tabbed","isDefault":true},{"name":"text","label":"Text"},{"name":"accordion","label":"Accordion"}],"supports":{"html":false,"color":{"background":true,"text":true},"spacing":{"padding":true,"margin":true},"typography":{"fontSize":true,"__experimentalFontFamily":true},"interactivity":true},"textdomain":"tabs-controller","editorScript":"file:./index.js","style":"file:./style-index.css","viewScriptModule":"file:./view.js"}'),{name:I}=y,B={icon:function(){return(0,l.createElement)(k.Icon,{icon:"diagram-predecessor"})},edit:function({attributes:e,setAttributes:t,context:n,clientId:r,isSelected:o}){const[s,a]=(0,u.useState)(!1),{vertical:k}=e,{removeBlock:m,selectBlock:f}=(0,i.useDispatch)("core/block-editor"),{setClientId:h,setActiveUUIDPair:g}=(0,i.useDispatch)("prc-block/tabs-controller"),{menuBlocks:v,paneBlocks:y,matchedPaneClientId:I,activeUUID:B,isTyping:w}=(0,i.useSelect)((e=>{if(void 0===r)return;const t=e("prc-block/tabs-controller").getActiveUUID(r),n=e("core/block-editor").getBlocks(r),i=1<=n.length?n.filter((e=>"prc-block/tabs-menu"===e.name)):[],o=1<=n.length?n.filter((e=>"prc-block/tabs-panes"===e.name)):[];let s=!1;if(1<=o.length){const e=o[0].innerBlocks.filter((e=>e.attributes.uuid===t));1<=e.length&&(s=e[0].clientId)}return{menuBlocks:1<=i.length&&i[0].innerBlocks,paneBlocks:1<=o.length&&o[0].innerBlocks,matchedPaneClientId:s,activeUUID:t,isTyping:e("core/block-editor").isTyping()}}),[r]),x=(0,i.useSelect)((e=>o||e("core/block-editor").hasSelectedInnerBlock(r,!0)),[o,r]);(0,u.useEffect)((()=>{h(r),void 0===B&&1<=v.length&&g(r,v[0].attributes.uuid)}),[r,B,v,y]),(0,u.useEffect)((()=>{if(v.length<s.length){const e=((e,t)=>{const n=e=>t=>0===e.filter((e=>e.attributes.uuid===t.attributes.uuid)).length,r=e.filter(n(t)),i=t.filter(n(e));return r.concat(i)})(s,v),t=y.filter((t=>t.attributes.uuid===e[0].attributes.uuid));0!==t.length&&m(t[0].clientId)}a(v)}),[v]),(0,u.useEffect)((()=>{x&&void 0!==B&&f(I)}),[x,B,I]);const E=(0,b.useBlockProps)({className:c()({"is-vertical-tabs":k,"is-horizontal-tabs":!k})}),U=(0,b.useInnerBlocksProps)({},{allowedBlocks:p,renderAppender:!1,orientation:k?"vertical":"horizontal",template:d});return(0,l.createElement)("div",{...E},(0,l.createElement)("div",{...U}))},save:function(){return(0,l.createElement)(b.InnerBlocks.Content,null)},variations:f,transforms:v};(0,i.register)(s),(0,r.registerBlockType)(I,{...y,...B})}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,i,o)=>{if(!n){var s=1/0;for(u=0;u<e.length;u++){for(var[n,i,o]=e[u],l=!0,a=0;a<n.length;a++)(!1&o||s>=o)&&Object.keys(r.O).every((e=>r.O[e](n[a])))?n.splice(a--,1):(l=!1,o<s&&(s=o));if(l){e.splice(u--,1);var c=i();void 0!==c&&(t=c)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var i,o,[s,l,a]=n,c=0;if(s.some((t=>0!==e[t]))){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(a)var u=a(r)}for(t&&t(n);c<s.length;c++)o=s[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=globalThis.webpackChunktabs_controller=globalThis.webpackChunktabs_controller||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var i=r.O(void 0,[350],(()=>r(34)));i=r.O(i)})();
//# sourceMappingURL=index.js.map