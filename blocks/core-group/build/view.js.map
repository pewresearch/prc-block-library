{"version":3,"file":"view.js","mappings":"yBACA,IAAIA,EAAsB,CCA1BA,EAAwB,SAASC,GAChC,IAAIC,EAASD,GAAUA,EAAOE,WAC7B,WAAa,OAAOF,EAAgB,OAAG,EACvC,WAAa,OAAOA,CAAQ,EAE7B,OADAD,EAAoBI,EAAEF,EAAQ,CAAEG,EAAGH,IAC5BA,CACR,ECNAF,EAAwB,SAASM,EAASC,GACzC,IAAI,IAAIC,KAAOD,EACXP,EAAoBS,EAAEF,EAAYC,KAASR,EAAoBS,EAAEH,EAASE,IAC5EE,OAAOC,eAAeL,EAASE,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,IAG3E,ECPAR,EAAwB,SAASc,EAAKC,GAAQ,OAAOL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,EAAO,GCAlG,EAA+BI,OAAgB,Q,SCA/C,EAA+BA,OAAW,GAAY,S,SCgBrDA,OAAOF,eAAe,eAC1BE,OAAOC,UAAY,CAAC,GAErBD,OAAOC,UAAUC,YAAc,CAC9BC,YAAa,GACbC,KAAM,CAAC,GAwGRC,KAAS,KAzFyB,MAEjC,MAoEMC,EAAmBC,SAASC,iBACjC,gCAEGF,EAAiBG,SACpBH,EAAiBI,SAASC,IACzB,MAAMC,EAAWD,EAAME,aAAa,kBAC9BC,EAAYH,EAAME,aAAa,6BAEjBN,SAASQ,eAAeH,IA5EnB,EAACD,EAAOK,EAAaF,KAI1Cd,OAAOC,UAAUC,YAAYC,YAAYc,SAASH,IACtDd,OAAOC,UAAUC,YAAYC,YAAYe,KAAKJ,GAK1Cd,OAAOC,UAAUC,YAAYE,KAAKN,eAAegB,KACrDd,OAAOC,UAAUC,YAAYE,KAAKU,GAAa,IAEhDd,OAAOC,UAAUC,YAAYE,KAAKU,GAAWI,KAAKP,GAGlD,MAAMQ,EAAcZ,SAASa,cAAc,OACrCC,EAAWV,EAAME,aAAa,kBACpCM,EAAYG,aAAa,KAAMD,GAI/BV,EAAMY,WAAWC,aAAaL,EAAaR,EAAMc,YAAY,EAyD3DC,CAAmBf,EAAOK,EAAaF,EACxC,IA7BDd,OAAOC,UAAUC,YAAYC,YAAYO,SAASI,IAEjDa,IAAAA,SAAkB,0BAAyBb,OAAgB,CAC1Dc,MAAO,KA7BoBC,QAiCLf,EAhCxBd,OAAOC,UAAUC,YAAYE,KAAKyB,GAAenB,SAASC,IAEzD,MAAMC,EAAWD,EAAME,aAAa,kBAC9BG,EAAcT,SAASQ,eAAeH,GACxCI,GACHA,EAAYc,OAAOnB,EACpB,GA0BiC,EAEhCoB,QAAS,KAxBoBF,QAyBLf,EAxB1Bd,OAAOC,UAAUC,YAAYE,KAAKyB,GAAenB,SAASC,IACzD,MAAMU,EAAWV,EAAME,aAAa,kBAC9BM,EAAcZ,SAASQ,eAAeM,GAExCF,GACHA,EAAYI,WAAWC,aAAab,EAAOQ,EAAYM,YACxD,GAkBmC,GAEjC,IAqBJ,EAIAO,GApGwB,MACxB,MAAMC,EAAe1B,SAASC,iBAAiB,4BAE3CyB,EAAaxB,QAChBwB,EAAavB,SAASC,IACrBA,EAAMuB,UAAUC,IAAI,SAAS,GAE/B,EA8FAC,EAAkB,G","sources":["webpack://core-group/webpack/bootstrap","webpack://core-group/webpack/runtime/compat get default export","webpack://core-group/webpack/runtime/define property getters","webpack://core-group/webpack/runtime/hasOwnProperty shorthand","webpack://core-group/external window \"enquire\"","webpack://core-group/external window [\"wp\",\"domReady\"]","webpack://core-group/./src/view.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"enquire\"];","var __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"domReady\"];","/* eslint-disable no-undef */\n/**\n * External Dependencies\n */\nimport enquire from 'enquire.js';\n\n/**\n * WordPress Dependencies\n */\nimport domReady from '@wordpress/dom-ready';\n\n/**\n * Internal Dependencies\n */\n// import './style.scss';\n\nif (!window.hasOwnProperty('prcBlocks')) {\n\twindow.prcBlocks = {};\n}\nwindow.prcBlocks.groupBlocks = {\n\tbreakpoints: [],\n\telms: {},\n};\n\nconst DEBUG = false;\n\nconst initStickyBlocks = () => {\n\tconst stickyBlocks = document.querySelectorAll('.prc-group-block--sticky');\n\t// If there are any sticky blocks init them.\n\tif (stickyBlocks.length) {\n\t\tstickyBlocks.forEach((block) => {\n\t\t\tblock.classList.add('sticky');\n\t\t});\n\t}\n};\n\nconst initResponsiveGroupBlocks = () => {\n\t// Helper Functions:\n\tconst addResponsiveBlock = (block, attachBlock, threshold) => {\n\t\tif (DEBUG) {\n\t\t\tconsole.log(window.prcBlocks.groupBlocks.breakpoints, threshold);\n\t\t}\n\t\tif (!window.prcBlocks.groupBlocks.breakpoints.includes(threshold)) {\n\t\t\twindow.prcBlocks.groupBlocks.breakpoints.push(threshold);\n\t\t}\n\t\tif (DEBUG) {\n\t\t\tconsole.log(window.prcBlocks.groupBlocks.elms, threshold);\n\t\t}\n\t\tif (!window.prcBlocks.groupBlocks.elms.hasOwnProperty(threshold)) {\n\t\t\twindow.prcBlocks.groupBlocks.elms[threshold] = [];\n\t\t}\n\t\twindow.prcBlocks.groupBlocks.elms[threshold].push(block);\n\n\t\t// Create return point.\n\t\tconst returnPoint = document.createElement('div');\n\t\tconst returnId = block.getAttribute('data-return-id');\n\t\treturnPoint.setAttribute('id', returnId);\n\t\tif (DEBUG) {\n\t\t\tconsole.log('addResponsiveBlock', block, returnPoint);\n\t\t}\n\t\tblock.parentNode.insertBefore(returnPoint, block.nextSibling);\n\t};\n\n\tconst matchResponsiveBlock = (viewportWidth) => {\n\t\twindow.prcBlocks.groupBlocks.elms[viewportWidth].forEach((block) => {\n\t\t\t// We should remove the sticky class if it exists.\n\t\t\tconst attachId = block.getAttribute('data-attach-id');\n\t\t\tconst attachBlock = document.getElementById(attachId);\n\t\t\tif (attachBlock) {\n\t\t\t\tattachBlock.append(block);\n\t\t\t}\n\t\t});\n\t};\n\n\tconst unmatchResponsiveBlock = (viewportWidth) => {\n\t\twindow.prcBlocks.groupBlocks.elms[viewportWidth].forEach((block) => {\n\t\t\tconst returnId = block.getAttribute('data-return-id');\n\t\t\tconst returnPoint = document.getElementById(returnId);\n\t\t\t// If the sticky class should be here re-add it.\n\t\t\tif (returnPoint) {\n\t\t\t\treturnPoint.parentNode.insertBefore(block, returnPoint.nextSibling);\n\t\t\t}\n\t\t});\n\t};\n\n\tconst watchResponsiveBlocks = () => {\n\t\tif ( DEBUG ) {\n\t\t\tconsole.log('watchResponsiveBlocks', window.prcBlocks.groupBlocks);\n\t\t}\n\t\twindow.prcBlocks.groupBlocks.breakpoints.forEach((threshold) => {\n\t\t\t// Register the enquire listener.\n\t\t\tenquire.register(`screen and (max-width: ${threshold}px)`, {\n\t\t\t\tmatch: () => {\n\t\t\t\t\tif ( DEBUG ) {\n\t\t\t\t\t\tconsole.log('watchResponsiveBlocks -> matched:', threshold);\n\t\t\t\t\t}\n\t\t\t\t\tmatchResponsiveBlock(threshold);\n\t\t\t\t},\n\t\t\t\tunmatch: () => {\n\t\t\t\t\tunmatchResponsiveBlock(threshold);\n\t\t\t\t},\n\t\t\t});\n\t\t});\n\t};\n\n\t// If there are any resposnive blocks init them.\n\tconst responsiveBlocks = document.querySelectorAll(\n\t\t'.prc-group-block--responsive',\n\t);\n\tif (responsiveBlocks.length) {\n\t\tresponsiveBlocks.forEach((block) => {\n\t\t\tconst attachId = block.getAttribute('data-attach-id');\n\t\t\tconst threshold = block.getAttribute('data-responsive-threshold');\n\n\t\t\tconst attachBlock = document.getElementById(attachId);\n\t\t\t// If we have an attach point then init the responsive block.\n\t\t\tif (attachBlock) {\n\t\t\t\taddResponsiveBlock(block, attachBlock, threshold);\n\t\t\t}\n\t\t});\n\t\t// Watch for changes in the viewport.\n\t\twatchResponsiveBlocks();\n\t}\n};\n\ndomReady(() => {\n\tinitResponsiveGroupBlocks();\n\tinitStickyBlocks();\n});\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","window","prcBlocks","groupBlocks","breakpoints","elms","domReady","responsiveBlocks","document","querySelectorAll","length","forEach","block","attachId","getAttribute","threshold","getElementById","attachBlock","includes","push","returnPoint","createElement","returnId","setAttribute","parentNode","insertBefore","nextSibling","addResponsiveBlock","enquire","match","viewportWidth","append","unmatch","initResponsiveGroupBlocks","stickyBlocks","classList","add","initStickyBlocks"],"sourceRoot":""}