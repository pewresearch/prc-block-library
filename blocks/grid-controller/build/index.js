(()=>{"use strict";var e,t={572:(e,t,o)=>{const n=window.React,l=window.wp.primitives,r=(0,n.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(l.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M15 7.5h-5v10h5v-10Zm1.5 0v10H19a.5.5 0 0 0 .5-.5V8a.5.5 0 0 0-.5-.5h-2.5ZM6 7.5h2.5v10H6a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5ZM6 6h13a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2Z"})),i=window.wp.blocks,a=window.classnames;var c=o.n(a);const s=window.prcBlockUtils,d=window.wp.element,u=window.wp.blockEditor,p=window.wp.data,m=window.prcComponents,g=window.wp.i18n,b=window.wp.components;function k({attributes:e,setAttributes:t,clientId:o,colors:l}){const{verticalAlignment:r}=e,{dividerColor:a,setDividerColor:c}=l,s=(0,u.__experimentalUseMultipleOriginColorsAndGradients)(),{updateBlockAttributes:k,replaceInnerBlocks:h}=(0,p.useDispatch)(u.store),{count:v,innerBlocks:w,innerBlockClientIds:S}=(0,p.useSelect)((e=>({count:e(u.store).getBlockCount(o),innerBlockClientIds:e(u.store).getBlockOrder(o),innerBlocks:e(u.store).getBlock(o).innerBlocks})),[o]);return(0,n.createElement)(d.Fragment,null,(0,n.createElement)(u.BlockControls,null,(0,n.createElement)(u.BlockVerticalAlignmentToolbar,{onChange:e=>{t({verticalAlignment:e}),S.forEach((t=>{k(t,{verticalAlignment:e})}))},value:r})),(0,n.createElement)(u.InspectorControls,{group:"dimensions"},(0,n.createElement)(b.__experimentalToolsPanelItem,{label:(0,g.__)("Columns"),hasValue:()=>void 0!==v,panelId:o},(0,n.createElement)(m.MarkedRangeControl,{label:(0,g.__)("Columns"),value:v,onChange:e=>((e,t)=>{let n=w;const l=t>e;console.log("updateColumns -> ",n,l,e,t);let r=n.reduce(((e,t)=>e-t.attributes.gridLayout.desktopSpan),12);0>r&&(r=0);let a=n.reduce(((e,t)=>e-t.attributes.gridLayout.tabletSpan),8);0>a&&(a=0);let c=n.reduce(((e,t)=>e-t.attributes.gridLayout.mobileSpan),4);if(0>c&&(c=0),console.log("Available Spans:",{availableDesktopSpan:r,availableTabletSpan:a,availableMobileSpan:c}),l){const e=(0,i.createBlock)("prc-block/grid-column",{gridLayout:{index:n.length+1,desktopSpan:4,tabletSpan:4,mobileSpan:4,tabletStart:1,mobileStart:1}});n=[...n,e]}else{const o=n[n.length-1].innerBlocks,l=[...n[n.length-2].innerBlocks,...o];n[n.length-2].innerBlocks=l,n=n.slice(0,-(e-t))}console.log('"updateColumns" replaceInnerBlocks...',l,e,t,n,w),h(o,n)})(v,e),min:1,max:Math.max(6,v),withInputField:!1,marks:[{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"}]}),6<v&&(0,n.createElement)(b.Notice,{status:"warning",isDismissible:!1},(0,g.__)("This column count exceeds the recommended amount and may cause visual breakage.")))),(0,n.createElement)(u.InspectorControls,{group:"color"},(0,n.createElement)(u.__experimentalColorGradientSettingsDropdown,{settings:[{colorValue:a?.color,onColorChange:c,label:(0,g.__)("Column Divider")}],panelId:o,hasColorsOrGradients:!1,disableCustomColors:!0,__experimentalIsRenderedInSidebar:!0,...s})))}const h=window.lodash;function v({clientId:e,setAttributes:t}){const o="prc-block/grid-controller",{blockType:l,defaultVariation:r,variations:a}=(0,p.useSelect)((e=>{const{getBlockVariations:t,getBlockType:n,getDefaultBlockVariation:l}=e(i.store);return{blockType:n(o),defaultVariation:l(o,"block"),variations:t(o,"block")}}),[e]),{replaceInnerBlocks:c}=(0,p.useDispatch)(u.store),s=(0,u.useBlockProps)({className:"is-placeholder"});return(0,n.createElement)("div",{...s},(0,n.createElement)(u.__experimentalBlockVariationPicker,{icon:(0,h.get)(l,["icon","src"]),label:(0,h.get)(l,["title"]),variations:a,onSelect:(o=r)=>{o.attributes&&t(o.attributes),o.innerBlocks&&c(e,(0,i.createBlocksFromInnerBlocksTemplate)(o.innerBlocks),!0)}}))}const w=["prc-block/grid-column"],S=(0,u.withColors)({dividerColor:"color"})((function({attributes:e,setAttributes:t,clientId:o,className:l,dividerColor:r,setDividerColor:i}){const{verticalAlignment:a}=e,m=(0,p.useSelect)((e=>e(u.store).getBlocks(o).length>0),[o]),g=(0,u.useBlockProps)({className:c()(l,{"has-divider":!!r.color||r.class,[(0,u.getColorClassName)("divider-color",r?.slug)]:!!r?.slug,[`is-vertically-aligned-${a}`]:a}),style:{"--grid-gutter":(0,s.getBlockGapSupportValue)(e,"horizontal")}}),b=(0,u.useInnerBlocksProps)(g,{allowedBlocks:w,orientation:"horizontal",renderAppender:!1,templateLock:!1});return m?(0,n.createElement)(d.Fragment,null,(0,n.createElement)(k,{attributes:e,setAttributes:t,clientId:o,colors:{dividerColor:r,setDividerColor:i}}),(0,n.createElement)("div",{...b})):(0,n.createElement)(v,{attributes:e,setAttributes:t,clientId:o})})),y=e=>{const t=e.length,o=e.map(((e,o)=>{const{innerBlocks:n}=e;return["prc-block/grid-column",{gridLayout:{index:o+1,desktopSpan:Math.floor(12/t),tabletSpan:Math.floor(8/t),mobileSpan:4}},[...n]]}));return(0,i.createBlock)("prc-block/grid-controller",{},(0,i.createBlocksFromInnerBlocksTemplate)(o))},C={from:[{type:"block",blocks:["core/columns"],transform:(e,t)=>!(!Array.isArray(t)||0===t.length)&&y(t)},{type:"block",blocks:["prc-block/grid"],transform:(e,t)=>!(!Array.isArray(t)||0===t.length)&&t.map((e=>y(e.innerBlocks)))}],to:[{type:"block",blocks:["core/columns"],transform:(e,t)=>{if(!Array.isArray(t)||0===t.length)return!1;const o=t.map(((e,t)=>{const{innerBlocks:o}=e;return["core/column",{},[...o]]}));return(0,i.createBlock)("core/columns",{},(0,i.createBlocksFromInnerBlocksTemplate)(o))}}]},B=[{name:"two-columns-equal",title:(0,g.__)("6 / 6"),description:(0,g.__)("Two columns; equal split"),icon:(0,n.createElement)(b.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(b.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H25V34H39ZM23 34H9V14H23V34Z"})),isDefault:!0,attributes:{dividerColor:"gray"},innerBlocks:[["prc-block/grid-column",{gridLayout:{index:1,desktopSpan:6,tabletSpan:6,mobileSpan:4}}],["prc-block/grid-column",{gridLayout:{index:2,desktopSpan:6,tabletSpan:6,mobileSpan:4}}]],scope:["block"]},{name:"two-columns-one-third-two-thirds",title:(0,g.__)("4 / 8"),description:(0,g.__)("Two columns; one-third, two-thirds split"),icon:(0,n.createElement)(b.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(b.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H20V34H39ZM18 34H9V14H18V34Z"})),attributes:{dividerColor:"gray"},innerBlocks:[["prc-block/grid-column",{gridLayout:{index:1,desktopSpan:4,tabletSpan:4,mobileSpan:4}}],["prc-block/grid-column",{gridLayout:{index:2,desktopSpan:8,tabletSpan:8,mobileSpan:4}}]],scope:["block"]},{name:"two-columns-two-thirds-one-third",title:(0,g.__)("8 / 4"),description:(0,g.__)("Two columns; two-thirds, one-third split"),icon:(0,n.createElement)(b.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(b.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M39 12C40.1046 12 41 12.8954 41 14V34C41 35.1046 40.1046 36 39 36H9C7.89543 36 7 35.1046 7 34V14C7 12.8954 7.89543 12 9 12H39ZM39 34V14H30V34H39ZM28 34H9V14H28V34Z"})),attributes:{dividerColor:"gray"},innerBlocks:[["prc-block/grid-column",{gridLayout:{index:1,desktopSpan:8,tabletSpan:8,mobileSpan:4}}],["prc-block/grid-column",{gridLayout:{index:2,desktopSpan:4,tabletSpan:4,mobileSpan:4}}]],scope:["block"]},{name:"three-columns-equal",title:(0,g.__)("4 / 4 / 4"),description:(0,g.__)("Three columns; equal split"),icon:(0,n.createElement)(b.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(b.Path,{fillRule:"evenodd",d:"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM28.5 34h-9V14h9v20zm2 0V14H39v20h-8.5zm-13 0H9V14h8.5v20z"})),attributes:{dividerColor:"gray"},innerBlocks:[["prc-block/grid-column",{gridLayout:{index:1,desktopSpan:3,tabletSpan:3,mobileSpan:4}}],["prc-block/grid-column",{gridLayout:{index:2,desktopSpan:6,tabletSpan:6,mobileSpan:4}}],["prc-block/grid-column",{gridLayout:{index:3,desktopSpan:3,tabletSpan:3,mobileSpan:4}}]],scope:["block"]},{name:"three-columns-wider-center",title:(0,g.__)("3 / 6 / 3"),description:(0,g.__)("Three columns; wide center column"),icon:(0,n.createElement)(b.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(b.Path,{fillRule:"evenodd",d:"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM31 34H17V14h14v20zm2 0V14h6v20h-6zm-18 0H9V14h6v20z"})),attributes:{dividerColor:"gray"},innerBlocks:[["prc-block/grid-column",{gridLayout:{index:1,desktopSpan:3,tabletSpan:3,mobileSpan:4}}],["prc-block/grid-column",{gridLayout:{index:2,desktopSpan:6,tabletSpan:6,mobileSpan:4}}],["prc-block/grid-column",{gridLayout:{index:3,desktopSpan:3,tabletSpan:3,mobileSpan:4}}]],scope:["block"]},{name:"three-columns-wider-center-container-sensitive",title:(0,g.__)("Featured Lede Grid"),description:(0,g.__)("Three columns; wide center column (container sensitive)"),icon:(0,n.createElement)(b.SVG,{width:"48",height:"48",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg"},(0,n.createElement)(b.Path,{fillRule:"evenodd",d:"M41 14a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h30a2 2 0 0 0 2-2V14zM31 34H17V14h14v20zm2 0V14h6v20h-6zm-18 0H9V14h6v20z"})),attributes:{dividerColor:"gray",className:"is-pattern__featured-layout"},innerBlocks:[["prc-block/grid-column",{gridLayout:{index:1,desktopSpan:3,tabletSpan:6,mobileSpan:4}}],["prc-block/grid-column",{gridLayout:{index:2,desktopSpan:6,tabletSpan:12,mobileSpan:4}}],["prc-block/grid-column",{gridLayout:{index:3,desktopSpan:3,tabletSpan:6,mobileSpan:4}}]],isActive:({className:e})=>e?.includes("is-pattern__featured-layout"),scope:["inserter","block"]}],_=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/grid-controller","version":"0.1.0","title":"Grid Controller","category":"design","description":"Layout content in columns using custom PRC grid system.","keywords":["grid","columns","css grid","layout"],"attributes":{"verticalAlignment":{"type":"string"},"dividerColor":{"type":"string","default":"ui-gray-light"},"style":{"type":"object","default":{"spacing":{"blockGap":{"left":"var:preset|spacing|50"}}}}},"supports":{"anchor":true,"html":false,"align":["wide","full"],"color":{"background":true,"link":true,"text":true},"spacing":{"blockGap":{"sides":["horizontal"]},"margin":["top","bottom"],"padding":true,"__experimentalDefaultControls":{"blockGap":true,"margin":false,"padding":false}},"__experimentalBorder":{"color":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"style":true,"width":true}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true}}},"example":{"attributes":{"dividerColor":"ui-gray-light"},"innerBlocks":[{"name":"prc-block/grid-column","attributes":{"gridLayout":{"index":1,"desktopSpan":4,"tabletSpan":4,"mobileSpan":4}},"innerBlocks":[{"name":"core/heading","attributes":{"content":"Column 1"}},{"name":"core/paragraph","attributes":{"content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet urn"}}]},{"name":"prc-block/grid-column","attributes":{"gridLayout":{"index":2,"desktopSpan":4,"tabletSpan":4,"mobileSpan":4}},"innerBlocks":[{"name":"core/heading","attributes":{"content":"Column 2"}},{"name":"core/paragraph","attributes":{"content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet urn"}}]},{"name":"prc-block/grid-column","attributes":{"gridLayout":{"index":3,"desktopSpan":4,"tabletSpan":4,"mobileSpan":4}},"innerBlocks":[{"name":"core/heading","attributes":{"content":"Column 3"}},{"name":"core/paragraph","attributes":{"content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet urn"}}]}],"viewportWidth":1200},"textdomain":"grid-controller","editorScript":"file:./index.js","style":"file:./style-index.css","render":"file:./render.php"}'),{name:f}=_,x={icon:r,edit:S,save:function({attributes:e}){return(0,n.createElement)(u.InnerBlocks.Content,null)},transforms:C,variations:B};(0,i.registerBlockType)(f,{..._,...x})}},o={};function n(e){var l=o[e];if(void 0!==l)return l.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,o,l,r)=>{if(!o){var i=1/0;for(d=0;d<e.length;d++){for(var[o,l,r]=e[d],a=!0,c=0;c<o.length;c++)(!1&r||i>=r)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(a=!1,r<i&&(i=r));if(a){e.splice(d--,1);var s=l();void 0!==s&&(t=s)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,l,r]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var l,r,[i,a,c]=o,s=0;if(i.some((t=>0!==e[t]))){for(l in a)n.o(a,l)&&(n.m[l]=a[l]);if(c)var d=c(n)}for(t&&t(o);s<i.length;s++)r=i[s],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(d)},o=globalThis.webpackChunkgrid_controller=globalThis.webpackChunkgrid_controller||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var l=n.O(void 0,[350],(()=>n(572)));l=n.O(l)})();
//# sourceMappingURL=index.js.map