!function(){"use strict";var e=window.wp.blocks;function t(){return t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},t.apply(this,arguments)}var a=window.wp.element,l=window.wp.blockEditor,n=window.wp.i18n,o=window.wp.components;function i(e){let{attributes:t,setAttributes:i,colors:r}=e;const{maxWidth:s,maxValue:d,currentValue:c,showAxisLabel:b,axisLabel:u,axisPadding:g,labelFormat:m,labelPositionDY:p,labelPositionDX:C}=t,{barColor:x,setBarColor:f,backgroundColor:k,setBackgroundColor:h}=r;return(0,a.createElement)(a.Fragment,null,(0,a.createElement)(l.InspectorControls,null,(0,a.createElement)(o.PanelBody,{title:(0,n.__)("Layout")},(0,a.createElement)(o.RangeControl,{label:(0,n.__)("Width"),withInputField:!0,min:0,max:640,value:parseInt(s,10),onChange:e=>i({maxWidth:parseInt(e,10)})})),(0,a.createElement)(o.PanelBody,{title:(0,n.__)("Data and Formatting")},(0,a.createElement)(o.ToggleControl,{label:(0,n.__)("Show Category"),checked:b,onChange:()=>i({showAxisLabel:!b})}),(0,a.createElement)(o.TextControl,{label:(0,n.__)("Category"),value:u,disabled:!b,onChange:e=>i({axisLabel:e})}),(0,a.createElement)(o.__experimentalNumberControl,{label:(0,n.__)("Category Padding"),value:g,disabled:!b,disableUnits:!0,disabledUnits:!0,onChange:e=>i({axisPadding:parseInt(e,10)})}),(0,a.createElement)(o.Flex,null,(0,a.createElement)(o.FlexItem,null,(0,a.createElement)(o.__experimentalNumberControl,{label:(0,n.__)("Current value"),value:c,disableUnits:!0,disabledUnits:!0,onChange:e=>i({currentValue:parseFloat(e)})})),(0,a.createElement)(o.__experimentalNumberControl,{label:(0,n.__)("Maximum value"),value:d,disableUnits:!0,disabledUnits:!0,onChange:e=>i({maxValue:parseFloat(e)})}),(0,a.createElement)(o.FlexItem,null))),(0,a.createElement)(o.PanelBody,{title:(0,n.__)("Labels")},(0,a.createElement)(o.SelectControl,{label:(0,n.__)("Label format"),value:m,options:[{value:"fractional",label:"Fractional"},{value:"percentage",label:"Percentage"}],onChange:e=>{i({labelFormat:e})}}),(0,a.createElement)(o.Flex,null,(0,a.createElement)(o.FlexItem,null,(0,a.createElement)(o.__experimentalNumberControl,{label:(0,n.__)("Label Position DX"),value:C,onChange:e=>i({labelPositionDX:parseInt(e,10)})})),(0,a.createElement)(o.FlexItem,null,(0,a.createElement)(o.__experimentalNumberControl,{label:(0,n.__)("Label Position DY"),value:p,onChange:e=>i({labelPositionDY:parseInt(e,10)})}))))),(0,a.createElement)(l.InspectorControls,{group:"styles"},(0,a.createElement)(l.PanelColorSettings,{__experimentalHasMultipleOrigins:!0,__experimentalIsRenderedInSidebar:!0,title:(0,n.__)("Colors"),colorSettings:[{value:x.color,onChange:e=>f(e),label:(0,n.__)("Bar")},{value:k.color,onChange:e=>h(e),label:(0,n.__)("Background")}]})))}var r=window.prcChartBuilder,s=function(e){let{axisLabel:t,axisPadding:l,barColor:n,backgroundColor:o,currentValue:i,labelFormat:s,labelPositionDX:d,labelPositionDY:c,maxWidth:b,maxValue:u,showAxisLabel:g}=e;const m={layout:{...r.baseConfig.layout,name:"progress-chart",parentClass:"wp-block-prc-block-progress-bar",type:"stacked-bar",orientation:"horizontal",theme:"light",width:b,height:50,padding:{top:0,bottom:10,left:g?l:0,right:0},horizontalRules:!1},metadata:{...r.baseConfig.metadata,active:!1},colors:[n,o],independentAxis:{...r.baseConfig.independentAxis,active:g,scale:"linear",dateFormat:"yyyy",domain:[0,100],domainPadding:50,offsetY:null,padding:50,tickCount:5,tickValues:null,tickFormat:null,multiLineTickLabels:!1,multiLineTickLabelsBreak:1,abbreviateTicks:!1,abbreviateTicksDecimals:0,tickUnit:"",tickUnitPosition:"end",customTickFormat:null,tickLabels:{...r.baseConfig.independentAxis.tickLabels,fontSize:12,padding:0,angle:0,dx:-5,dy:0,textAnchor:"end",verticalAnchor:"middle"},axisLabel:{...r.baseConfig.independentAxis.axisLabel,fontSize:12,padding:30,fill:"rgba(35, 31, 32,0.7)"},axis:{...r.baseConfig.independentAxis.axis,stroke:"#756f6b00"},ticks:{...r.baseConfig.independentAxis.ticks,stroke:"gray",size:0,strokeWidth:0},grid:{...r.baseConfig.independentAxis.grid,stroke:""}},dependentAxis:{...r.baseConfig.dependentAxis,active:!1,scale:"linear",padding:20,domain:[0,u],domainPadding:20,offsetX:null,showZero:!1,tickCount:5,tickValues:null,tickFormat:null,multiLineTickLabels:!1,multiLineTickLabelsBreak:1,abbreviateTicks:!1,abbreviateTicksDecimals:0,tickUnit:"",tickUnitPosition:"end",customTickFormat:null,tickLabels:{...r.baseConfig.dependentAxis.tickLabels,fontSize:12,padding:15,angle:0,dx:0,dy:0,textAnchor:"middle",verticalAnchor:"start",fill:"rgba(35, 31, 32,0.7)"},axisLabel:{...r.baseConfig.dependentAxis.axisLabel,fontSize:12,padding:30,fill:"rgba(35, 31, 32,0.7)"},ticks:{...r.baseConfig.dependentAxis.ticks,stroke:"gray",size:5,strokeWidth:0},axis:{...r.baseConfig.dependentAxis.axis,stroke:"#756f6a"},grid:{...r.baseConfig.dependentAxis.grid,stroke:""}},dataRender:{...r.baseConfig.dataRender,x:"x",y:"y",x2:null,y2:null,sortKey:"x",sortOrder:"none",categories:["currentValue","restOfBar"],xScale:"linear",yScale:"linear",xFormat:"yyyy",yFormat:"yyyy"},animate:{active:!1,duration:500},tooltip:{...r.baseConfig.tooltip,active:!1},legend:{active:!1},bar:{orientation:"horizontal",width:30,barToSpaceRatio:.8,groupOffset:20},labels:{...r.baseConfig.labels,active:!0,showFirstLastPointsOnly:!1,color:"black",fontWeight:200,fontSize:12,labelBarPosition:"inside",labelCutoff:0,labelCutoffMobile:0,labelPositionDX:d,labelPositionDY:c,pieLabelRadius:60,abbreviateValue:!1,toFixedDecimal:0,labelUnit:"",labelUnitPosition:"end",labelFormat:null,customLabelFormat:(e,t)=>"currentValue"===t?"fractional"===s?`${i}/${u}`:`${i}%\t`:""}},p=[{x:t,currentValue:i,restOfBar:u-i}];return(0,a.createElement)(r.ChartBuilderWrapper,{config:m,data:p})},d=(0,l.withColors)({barColor:"color"},{backgroundColor:"color"})((function(e){let{attributes:n,setAttributes:o,barColor:r,setBarColor:d,backgroundColor:c,setBackgroundColor:b}=e;const u=(0,l.useBlockProps)();return(0,a.createElement)("div",u,(0,a.createElement)(i,{attributes:n,setAttributes:o,colors:{barColor:r,setBarColor:d,backgroundColor:c,setBackgroundColor:b}}),(0,a.createElement)(s,t({},n,{barColor:r.color,backgroundColor:c.color})))})),c=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"prc-block/progress-bar","version":"0.1.0","title":"Progress Bar","category":"design","icon":"chart-bar","keywords":["progress","bar","quiz","result","horizontal","chart"],"attributes":{"maxWidth":{"type":"number","default":"640"},"barColor":{"type":"string","default":"social-trends-teal"},"backgroundColor":{"type":"string","default":"beige"},"maxValue":{"type":"number","default":100},"currentValue":{"type":"number","default":50},"showAxisLabel":{"type":"boolean","default":true},"axisLabel":{"type":"string","default":"Total"},"axisPadding":{"type":"number","default":60},"labelFormat":{"enum":["fractional","percentage"],"default":"fractional"},"labelPositionDX":{"type":"integer","default":0},"labelPositionDY":{"type":"integer","default":4}},"supports":{"anchor":true,"html":false,"spacing":{"blockGap":true,"margin":["top","bottom"],"padding":true,"__experimentalDefaultControls":{"padding":true}},"typography":{"fontSize":true}},"textdomain":"progress-bar","editorScript":"file:./index.js","render":"file:./render.php","viewScript":"file:./view.js"}');console.log("prc-block/progress-bar",c);const{name:b}=c,u={edit:d};(0,e.registerBlockType)(b,{...c,...u})}();
//# sourceMappingURL=index.js.map