import*as e from"@wordpress/interactivity";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const o=(l={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},s={},t.d(s,l),s),{actions:n}=(0,o.store)("prc-block/form-input-select",{actions:{onOpen:e=>{const t=(0,o.getContext)();t.isOpen=!0,console.log("onOpen",t,e)},onClose:e=>{const t=(0,o.getContext)();t.isOpen=!1,console.log("onClose",t,e)},onReset:()=>{const e=(0,o.getContext)();e.activeIndex=0,e.value="",e.label=""},getOptionByValue:e=>{console.log("getOptionByValue",e);const t=(0,o.getContext)(),{options:n}=t,l=n.find((t=>t.value===e));return l?{index:n.findIndex((e=>e.value===l.value)),...l}:null},onClick:e=>{e.preventDefault();const{ref:t}=(0,o.getElement)(),l=(0,o.getContext)(),{filteredOptions:s}=l;console.log("setting value on click",l,t,e),t.getAttribute("aria-controls");const a=t.getAttribute("data-ref-value"),{index:i,label:c,value:r}=n.getOptionByValue(a);l.activeIndex=i,l.label=c,l.value=r,s.forEach((e=>{e.isSelected=!1})),s[i].isSelected=!0,n.onClose()}},callbacks:{onInit:()=>{const e=(0,o.getContext)(),{ref:t}=(0,o.getElement)(),{options:n}=e;e.filteredOptions=n},onValueChange:()=>{const{ref:e}=(0,o.getElement)(),t=(0,o.getContext)(),{targetNamespace:n,value:l}=t;if(l){console.log("onValueChange",t);const{actions:s}=(0,o.store)(n);s.onSelectChange&&s.onSelectChange(l,e)}},onWindowClickClose:e=>{const t=(0,o.getContext)(),{isOpen:l}=t;if(!l)return;const s=(0,o.getElement)(),{ref:a}=s;console.log("onWindowClickClose",s,e.target),a.contains(e.target)||n.onClose()},onESCKeyClose:e=>{const t=(0,o.getContext)();if("Escape"===e.key){if(!0===t.isOpen)return e.preventDefault(),void n.onClose();n.onReset()}}}});var l,s;
//# sourceMappingURL=view.js.map