{"version":3,"file":"view.js","mappings":";;;;;;;;;AAAA;AACA,aAAa,6BAA6B;AAC1C;AACA;AACA;;;;;;SCJA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D;;;;;;;;;;;;ACNA;AACyE;AAEzE,MAAM;EAAEG;AAAQ,CAAC,GAAGH,+DAAK,CAAC,6BAA6B,EAAE;EACxDG,OAAO,EAAE;IACRC,kBAAkB,EAAEA,CAACC,SAAS,EAAEC,EAAE,KAAK;MACtC,MAAMC,OAAO,GAAGN,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAEO,QAAQ;QAAEC,eAAe;QAAEC;MAAQ,CAAC,GAAGH,OAAO;MACtD,IAAII,UAAU,GAAG,IAAI;MACrB,IAAIH,QAAQ,KAAK,IAAI,IAAII,KAAK,CAACJ,QAAQ,CAAC,EAAE;QACzCG,UAAU,GAAG,CAAC;MACf,CAAC,MAAM;QACNA,UAAU,GAAGH,QAAQ,GAAGH,SAAS;MAClC;MACA,IAAIM,UAAU,GAAG,CAAC,EAAE;QACnBA,UAAU,GAAGF,eAAe,CAACI,MAAM,GAAG,CAAC;MACxC;MACA,IAAIF,UAAU,IAAIF,eAAe,CAACI,MAAM,EAAE;QACzCF,UAAU,GAAG,CAAC;MACf;MACAJ,OAAO,CAACC,QAAQ,GAAGG,UAAU;MAC7B,MAAMG,iBAAiB,GAAGJ,OAAO,CAACC,UAAU,CAAC;MAC7CR,OAAO,CAACY,eAAe,CAACT,EAAE,EAAEQ,iBAAiB,CAACE,KAAK,CAAC;IACrD,CAAC;IACDD,eAAe,EAAEA,CAACT,EAAE,EAAEW,KAAK,KAAK;MAC/B,MAAMC,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAAE,WAAUd,EAAG,EAAC,CAAC;MACxD,MAAMe,MAAM,GAAGH,OAAO,CAACI,aAAa,CAAE,WAAUL,KAAM,IAAG,CAAC;MAC1D,IAAII,MAAM,EAAE;QACXA,MAAM,CAACE,YAAY,CAAC,eAAe,EAAE,IAAI,CAAC;QAC1CF,MAAM,CAACG,KAAK,CAAC,CAAC;QACd;QACA,MAAMC,QAAQ,GAAGJ,MAAM,CAACK,aAAa,CAACC,QAAQ;QAC9C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,QAAQ,CAACZ,MAAM,EAAEe,CAAC,EAAE,EAAE;UACzC,IAAIH,QAAQ,CAACG,CAAC,CAAC,KAAKP,MAAM,EAAE;YAC3BI,QAAQ,CAACG,CAAC,CAAC,CAACL,YAAY,CAAC,eAAe,EAAE,KAAK,CAAC;UACjD;QACD;MACD;IACD,CAAC;IACDM,eAAe,EAAGvB,EAAE,IAAK;MACxBwB,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;MACrC,MAAMxB,OAAO,GAAGN,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAE+B;MAAgB,CAAC,GAAGzB,OAAO;MACnC,MAAM;QAAE0B,KAAK,EAAEC;MAAY,CAAC,GAAGlC,+DAAK,CAACgC,eAAe,CAAC;MACrD,MAAMlB,iBAAiB,GAAGP,OAAO,CAACE,eAAe,CAACF,OAAO,CAACC,QAAQ,CAAC;MACnED,OAAO,CAACE,eAAe,GAAGF,OAAO,CAACG,OAAO;MACzCH,OAAO,CAACS,KAAK,GAAGF,iBAAiB,CAACE,KAAK;MACvCT,OAAO,CAAC4B,KAAK,GAAGrB,iBAAiB,CAACqB,KAAK;MACvCD,WAAW,CAAC5B,EAAE,CAAC,CAACU,KAAK,GAAGF,iBAAiB,CAACE,KAAK;MAC/CkB,WAAW,CAAC5B,EAAE,CAAC,CAAC8B,MAAM,GAAG,KAAK;MAC9BjB,QAAQ,CAACC,cAAc,CAAE,GAAEd,EAAG,QAAO,CAAC,CAACU,KAAK,GAC3CF,iBAAiB,CAACqB,KAAK;IACzB,CAAC;IACDE,MAAM,EAAGC,KAAK,IAAK;MAClBA,KAAK,CAACC,cAAc,CAAC,CAAC;MACtB,MAAM;QAAEC;MAAI,CAAC,GAAGtC,oEAAU,CAAC,CAAC;MAC5B,MAAMK,OAAO,GAAGN,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAE+B;MAAgB,CAAC,GAAGzB,OAAO;MACnC,MAAMD,EAAE,GAAGkC,GAAG,CAACC,YAAY,CAAC,eAAe,CAAC;MAC5C,IAAI,CAACnC,EAAE,EAAE;QACR;MACD;MAEA,MAAM;QAAE2B,KAAK,EAAEC;MAAY,CAAC,GAAGlC,+DAAK,CAACgC,eAAe,CAAC;MACrDE,WAAW,CAAC5B,EAAE,CAAC,CAAC8B,MAAM,GAAG,IAAI;IAC9B,CAAC;IACDM,OAAO,EAAGJ,KAAK,IAAK;MACnBA,KAAK,CAACC,cAAc,CAAC,CAAC;MACtBT,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAC;MACrC,MAAM;QAAES;MAAI,CAAC,GAAGtC,oEAAU,CAAC,CAAC;MAC5B,MAAMK,OAAO,GAAGN,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAES,OAAO;QAAEsB;MAAgB,CAAC,GAAGzB,OAAO;MAC5C,MAAM;QAAE0B,KAAK,EAAEC;MAAY,CAAC,GAAGlC,+DAAK,CAACgC,eAAe,CAAC;MACrD;MACA,MAAM1B,EAAE,GAAGkC,GAAG,CAACC,YAAY,CAAC,eAAe,CAAC;MAC5C,MAAME,GAAG,GAAGH,GAAG,CAACC,YAAY,CAAC,OAAO,CAAC;MACrCtC,OAAO,CAACY,eAAe,CAACT,EAAE,EAAEqC,GAAG,CAAC;MAChC,MAAMC,cAAc,GAAGlC,OAAO,CAACmC,IAAI,CACjCxB,MAAM,IAAKA,MAAM,CAACL,KAAK,KAAK2B,GAC9B,CAAC;MACD,IAAI,CAACC,cAAc,EAAE;QACpB;MACD;MACA;MACA;MACA,MAAME,KAAK,GAAGpC,OAAO,CAACqC,SAAS,CAC7B1B,MAAM,IAAKA,MAAM,CAACL,KAAK,KAAK4B,cAAc,CAAC5B,KAC7C,CAAC;MACDT,OAAO,CAACE,eAAe,GAAGC,OAAO;MACjCH,OAAO,CAACC,QAAQ,GAAGsC,KAAK;MACxBvC,OAAO,CAAC4B,KAAK,GAAGS,cAAc,CAACT,KAAK;MACpC5B,OAAO,CAACS,KAAK,GAAG4B,cAAc,CAAC5B,KAAK;MACpCkB,WAAW,CAAC5B,EAAE,CAAC,CAACU,KAAK,GAAG4B,cAAc,CAAC5B,KAAK;MAC5CkB,WAAW,CAAC5B,EAAE,CAAC,CAAC8B,MAAM,GAAG,KAAK;MAC9BN,OAAO,CAACC,GAAG,CAAC;QAAExB;MAAQ,CAAC,CAAC;MACxBY,QAAQ,CAACC,cAAc,CAAE,GAAEd,EAAG,QAAO,CAAC,CAACU,KAAK,GAAG4B,cAAc,CAACT,KAAK;IACpE,CAAC;IACDa,OAAO,EAAGV,KAAK,IAAK;MACnBA,KAAK,CAACC,cAAc,CAAC,CAAC;MAEtB,MAAM;QAAEC;MAAI,CAAC,GAAGtC,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAEc;MAAM,CAAC,GAAGwB,GAAG;MACrB,MAAMlC,EAAE,GAAGkC,GAAG,CAACC,YAAY,CAAC,eAAe,CAAC;MAC5C,IAAI,CAACnC,EAAE,EAAE;QACR;MACD;MAEA,IAAIgC,KAAK,CAACW,GAAG,KAAK,QAAQ,EAAE;QAC3B;MACD;MACA,MAAM1C,OAAO,GAAGN,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAE+B,eAAe;QAAEtB;MAAQ,CAAC,GAAGH,OAAO;MAC5C,MAAM;QAAE0B,KAAK,EAAEC;MAAY,CAAC,GAAGlC,+DAAK,CAACgC,eAAe,CAAC;MACrDE,WAAW,CAAC5B,EAAE,CAAC,CAAC8B,MAAM,GAAG,IAAI;MAC7B,IAAIE,KAAK,CAACW,GAAG,KAAK,OAAO,EAAE;QAC1B9C,OAAO,CAAC0B,eAAe,CAACvB,EAAE,CAAC;MAC5B;MACA,IAAIgC,KAAK,CAACY,OAAO,KAAK,EAAE,IAAIZ,KAAK,CAACW,GAAG,KAAK,WAAW,EAAE;QACtD9C,OAAO,CAACC,kBAAkB,CAAC,CAAC,EAAEE,EAAE,CAAC;QACjC;MACD;MACA,IAAIgC,KAAK,CAACY,OAAO,KAAK,EAAE,IAAIZ,KAAK,CAACW,GAAG,KAAK,SAAS,EAAE;QACpD9C,OAAO,CAACC,kBAAkB,CAAC,CAAC,CAAC,EAAEE,EAAE,CAAC;QAClC;MACD;;MAEA;MACA,MAAM6C,OAAO,GAAGzC,OAAO,CAAC0C,MAAM,CAAE/B,MAAM,IAAK;QAC1C,MAAM;UAAEc;QAAM,CAAC,GAAGd,MAAM;QACxB,OAAOc,KAAK,CAACkB,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACtC,KAAK,CAACqC,WAAW,CAAC,CAAC,CAAC;MACzD,CAAC,CAAC;MACF;;MAEA,IAAIF,OAAO,CAACtC,MAAM,EAAE;QACnBN,OAAO,CAACE,eAAe,GAAG0C,OAAO;QACjChD,OAAO,CAACY,eAAe,CAACT,EAAE,EAAE6C,OAAO,CAAC,CAAC,CAAC,CAACnC,KAAK,CAAC;MAC9C;IACD,CAAC;IACDuC,OAAO,EAAGjB,KAAK,IAAK;MACnBA,KAAK,CAACC,cAAc,CAAC,CAAC;MACtB,MAAM;QAAEC;MAAI,CAAC,GAAGtC,oEAAU,CAAC,CAAC;MAC5B,MAAMI,EAAE,GAAGkC,GAAG,CAACC,YAAY,CAAC,eAAe,CAAC;MAC5C,IAAI,CAACnC,EAAE,EAAE;QACR;MACD;MACA,MAAMC,OAAO,GAAGN,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAE+B,eAAe;QAAEtB;MAAQ,CAAC,GAAGH,OAAO;MAC5C,MAAM;QAAE0B,KAAK,EAAEC;MAAY,CAAC,GAAGlC,+DAAK,CAACgC,eAAe,CAAC;MACrDF,OAAO,CAACC,GAAG,CAAC;QAAEG;MAAY,CAAC,CAAC;MAC5B3B,OAAO,CAACE,eAAe,GAAGC,OAAO;MACjCH,OAAO,CAACS,KAAK,GAAG,EAAE;MAClBT,OAAO,CAAC4B,KAAK,GAAG,EAAE;MAClBD,WAAW,CAAC5B,EAAE,CAAC,CAACU,KAAK,GAAG,EAAE;MAC1BkB,WAAW,CAAC5B,EAAE,CAAC,CAAC8B,MAAM,GAAG,KAAK;MAC9BjB,QAAQ,CAACC,cAAc,CAAE,GAAEd,EAAG,QAAO,CAAC,CAACU,KAAK,GAAG,EAAE;IAClD;EACD,CAAC;EACDwC,SAAS,EAAE;IACVC,MAAM,EAAEA,CAAA,KAAM;MACb,MAAMlD,OAAO,GAAGN,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAEuC;MAAI,CAAC,GAAGtC,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAEI;MAAG,CAAC,GAAGkC,GAAG;MAClB,MAAM;QAAER;MAAgB,CAAC,GAAGzB,OAAO;MAEnC,IAAI,CAACD,EAAE,EAAE;QACR;MACD;MACAoD,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAGC,CAAC,IAAK;QACvC,MAAM;UAAE3B,KAAK,EAAEC;QAAY,CAAC,GAAGlC,+DAAK,CAACgC,eAAe,CAAC;QACrD,IACC,CAACQ,GAAG,CAACqB,SAAS,CAACP,QAAQ,CAACM,CAAC,CAACE,MAAM,CAACD,SAAS,CAAC,IAC3C,IAAI,KAAK3B,WAAW,CAAC5B,EAAE,CAAC,CAAC8B,MAAM,EAC9B;UACDF,WAAW,CAAC5B,EAAE,CAAC,CAAC8B,MAAM,GAAG,KAAK;UAC9BN,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;UAC/BD,OAAO,CAACC,GAAG,CAACxB,OAAO,CAACE,eAAe,CAAC;QACrC,CAAC,MAAM;UACNqB,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;UAC9BD,OAAO,CAACC,GAAG,CAACxB,OAAO,CAACE,eAAe,CAAC;QACrC;MACD,CAAC,CAAC;IACH,CAAC;IACDsD,aAAa,EAAEA,CAAA,KAAM;MACpBjC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;MACpC,MAAM;QAAES;MAAI,CAAC,GAAGtC,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAEI;MAAG,CAAC,GAAGkC,GAAG;MAClB,IAAI,CAAClC,EAAE,EAAE;QACR;MACD;MACA,MAAMC,OAAO,GAAGN,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAE+B,eAAe;QAAEhB;MAAM,CAAC,GAAGT,OAAO;MAC1C,IAAIS,KAAK,EAAE;QACV,MAAM;UAAEb;QAAQ,CAAC,GAAGH,+DAAK,CAACgC,eAAe,CAAC;QAC1C,IAAI7B,OAAO,CAAC6D,cAAc,EAAE;UAC3B7D,OAAO,CAAC6D,cAAc,CAAChD,KAAK,EAAEwB,GAAG,EAAEA,GAAG,CAAClC,EAAE,CAAC;QAC3C;MACD;IACD,CAAC;IACD2D,QAAQ,EAAG3B,KAAK,IAAK;MACpB,MAAM;QAAEE;MAAI,CAAC,GAAGtC,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAEI;MAAG,CAAC,GAAGkC,GAAG;MAClB,IAAI,CAAClC,EAAE,EAAE;QACR;MACD;MACA,MAAMC,OAAO,GAAGN,oEAAU,CAAC,CAAC;MAC5B,MAAM;QAAE+B;MAAgB,CAAC,GAAGzB,OAAO;MACnC,MAAM;QAAE0B,KAAK,EAAEC;MAAY,CAAC,GAAGlC,+DAAK,CAACgC,eAAe,CAAC;MACrD,IAAIM,KAAK,CAACW,GAAG,KAAK,QAAQ,EAAE;QAC3B,IAAI,IAAI,KAAKf,WAAW,CAAC5B,EAAE,CAAC,CAAC8B,MAAM,EAAE;UACpCE,KAAK,CAACC,cAAc,CAAC,CAAC;UACtBL,WAAW,CAAC5B,EAAE,CAAC,CAAC8B,MAAM,GAAG,KAAK;UAC9B;QACD;QACA7B,OAAO,CAACC,QAAQ,GAAG,CAAC;QACpBD,OAAO,CAACS,KAAK,GAAG,EAAE;QAClBT,OAAO,CAAC4B,KAAK,GAAG,EAAE;QAClBD,WAAW,CAAC5B,EAAE,CAAC,CAACU,KAAK,GAAG,EAAE;QAC1BkB,WAAW,CAAC5B,EAAE,CAAC,CAAC8B,MAAM,GAAG,KAAK;QAC9BjB,QAAQ,CAACC,cAAc,CAAE,GAAEd,EAAG,QAAO,CAAC,CAACU,KAAK,GAAG,EAAE;MAClD;IACD;EACD;AACD,CAAC,CAAC,C","sources":["webpack://form-input-select/external module \"@wordpress/interactivity\"","webpack://form-input-select/webpack/bootstrap","webpack://form-input-select/webpack/runtime/make namespace object","webpack://form-input-select/./src/view.js"],"sourcesContent":["var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/* eslint-disable @wordpress/no-unused-vars-before-return */\nimport { store, getContext, getElement } from '@wordpress/interactivity';\n\nconst { actions } = store('prc-block/form-input-select', {\n\tactions: {\n\t\tmoveThroughOptions: (direction, id) => {\n\t\t\tconst context = getContext();\n\t\t\tconst { activeId, filteredOptions, options } = context;\n\t\t\tlet nextActive = null;\n\t\t\tif (activeId === null || isNaN(activeId)) {\n\t\t\t\tnextActive = 0;\n\t\t\t} else {\n\t\t\t\tnextActive = activeId + direction;\n\t\t\t}\n\t\t\tif (nextActive < 0) {\n\t\t\t\tnextActive = filteredOptions.length - 1;\n\t\t\t}\n\t\t\tif (nextActive >= filteredOptions.length) {\n\t\t\t\tnextActive = 0;\n\t\t\t}\n\t\t\tcontext.activeId = nextActive;\n\t\t\tconst highlightedOption = options[nextActive];\n\t\t\tactions.setOptionActive(id, highlightedOption.value);\n\t\t},\n\t\tsetOptionActive: (id, refid) => {\n\t\t\tconst listbox = document.getElementById(`listbox-${id}`);\n\t\t\tconst option = listbox.querySelector(`[refid=\"${refid}\"]`);\n\t\t\tif (option) {\n\t\t\t\toption.setAttribute('aria-selected', true);\n\t\t\t\toption.focus();\n\t\t\t\t// set all siblings to false\n\t\t\t\tconst siblings = option.parentElement.children;\n\t\t\t\tfor (let i = 0; i < siblings.length; i++) {\n\t\t\t\t\tif (siblings[i] !== option) {\n\t\t\t\t\t\tsiblings[i].setAttribute('aria-selected', false);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tsetValueOnEnter: (id) => {\n\t\t\tconsole.log('setting value on enter');\n\t\t\tconst context = getContext();\n\t\t\tconst { targetNamespace } = context;\n\t\t\tconst { state: targetState } = store(targetNamespace);\n\t\t\tconst highlightedOption = context.filteredOptions[context.activeId];\n\t\t\tcontext.filteredOptions = context.options;\n\t\t\tcontext.value = highlightedOption.value;\n\t\t\tcontext.label = highlightedOption.label;\n\t\t\ttargetState[id].value = highlightedOption.value;\n\t\t\ttargetState[id].isOpen = false;\n\t\t\tdocument.getElementById(`${id}-input`).value =\n\t\t\t\thighlightedOption.label;\n\t\t},\n\t\tonOpen: (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tconst { ref } = getElement();\n\t\t\tconst context = getContext();\n\t\t\tconst { targetNamespace } = context;\n\t\t\tconst id = ref.getAttribute('aria-controls');\n\t\t\tif (!id) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst { state: targetState } = store(targetNamespace);\n\t\t\ttargetState[id].isOpen = true;\n\t\t},\n\t\tonClick: (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tconsole.log('setting value on click');\n\t\t\tconst { ref } = getElement();\n\t\t\tconst context = getContext();\n\t\t\tconst { options, targetNamespace } = context;\n\t\t\tconst { state: targetState } = store(targetNamespace);\n\t\t\t// get parent with class 'wp-block-prc-block-form-input-select'\n\t\t\tconst id = ref.getAttribute('aria-controls');\n\t\t\tconst val = ref.getAttribute('refid');\n\t\t\tactions.setOptionActive(id, val);\n\t\t\tconst selectedOption = options.find(\n\t\t\t\t(option) => option.value === val\n\t\t\t);\n\t\t\tif (!selectedOption) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t// find the object in the options array that matches the value\n\t\t\t// then set the activeId to the index of that object\n\t\t\tconst index = options.findIndex(\n\t\t\t\t(option) => option.value === selectedOption.value\n\t\t\t);\n\t\t\tcontext.filteredOptions = options;\n\t\t\tcontext.activeId = index;\n\t\t\tcontext.label = selectedOption.label;\n\t\t\tcontext.value = selectedOption.value;\n\t\t\ttargetState[id].value = selectedOption.value;\n\t\t\ttargetState[id].isOpen = false;\n\t\t\tconsole.log({ context });\n\t\t\tdocument.getElementById(`${id}-input`).value = selectedOption.label;\n\t\t},\n\t\tonKeyUp: (event) => {\n\t\t\tevent.preventDefault();\n\n\t\t\tconst { ref } = getElement();\n\t\t\tconst { value } = ref;\n\t\t\tconst id = ref.getAttribute('aria-controls');\n\t\t\tif (!id) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconst { targetNamespace, options } = context;\n\t\t\tconst { state: targetState } = store(targetNamespace);\n\t\t\ttargetState[id].isOpen = true;\n\t\t\tif (event.key === 'Enter') {\n\t\t\t\tactions.setValueOnEnter(id);\n\t\t\t}\n\t\t\tif (event.keyCode === 40 && event.key === 'ArrowDown') {\n\t\t\t\tactions.moveThroughOptions(1, id);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (event.keyCode === 38 && event.key === 'ArrowUp') {\n\t\t\t\tactions.moveThroughOptions(-1, id);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// check if any of the options contain the value of the input\n\t\t\tconst matches = options.filter((option) => {\n\t\t\t\tconst { label } = option;\n\t\t\t\treturn label.toLowerCase().includes(value.toLowerCase());\n\t\t\t});\n\t\t\t// if there are matches, set the first match to active\n\n\t\t\tif (matches.length) {\n\t\t\t\tcontext.filteredOptions = matches;\n\t\t\t\tactions.setOptionActive(id, matches[0].value);\n\t\t\t}\n\t\t},\n\t\tonClear: (event) => {\n\t\t\tevent.preventDefault();\n\t\t\tconst { ref } = getElement();\n\t\t\tconst id = ref.getAttribute('aria-controls');\n\t\t\tif (!id) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconst { targetNamespace, options } = context;\n\t\t\tconst { state: targetState } = store(targetNamespace);\n\t\t\tconsole.log({ targetState });\n\t\t\tcontext.filteredOptions = options;\n\t\t\tcontext.value = '';\n\t\t\tcontext.label = '';\n\t\t\ttargetState[id].value = '';\n\t\t\ttargetState[id].isOpen = false;\n\t\t\tdocument.getElementById(`${id}-input`).value = '';\n\t\t},\n\t},\n\tcallbacks: {\n\t\tonInit: () => {\n\t\t\tconst context = getContext();\n\t\t\tconst { ref } = getElement();\n\t\t\tconst { id } = ref;\n\t\t\tconst { targetNamespace } = context;\n\n\t\t\tif (!id) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\twindow.addEventListener('click', (e) => {\n\t\t\t\tconst { state: targetState } = store(targetNamespace);\n\t\t\t\tif (\n\t\t\t\t\t!ref.innerHTML.includes(e.target.innerHTML) &&\n\t\t\t\t\ttrue === targetState[id].isOpen\n\t\t\t\t) {\n\t\t\t\t\ttargetState[id].isOpen = false;\n\t\t\t\t\tconsole.log('on click outside');\n\t\t\t\t\tconsole.log(context.filteredOptions);\n\t\t\t\t} else {\n\t\t\t\t\tconsole.log('on click inside');\n\t\t\t\t\tconsole.log(context.filteredOptions);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tonValueChange: () => {\n\t\t\tconsole.log('value change detected');\n\t\t\tconst { ref } = getElement();\n\t\t\tconst { id } = ref;\n\t\t\tif (!id) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconst { targetNamespace, value } = context;\n\t\t\tif (value) {\n\t\t\t\tconst { actions } = store(targetNamespace);\n\t\t\t\tif (actions.onSelectChange) {\n\t\t\t\t\tactions.onSelectChange(value, ref, ref.id);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonESCKey: (event) => {\n\t\t\tconst { ref } = getElement();\n\t\t\tconst { id } = ref;\n\t\t\tif (!id) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst context = getContext();\n\t\t\tconst { targetNamespace } = context;\n\t\t\tconst { state: targetState } = store(targetNamespace);\n\t\t\tif (event.key === 'Escape') {\n\t\t\t\tif (true === targetState[id].isOpen) {\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\ttargetState[id].isOpen = false;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tcontext.activeId = 0;\n\t\t\t\tcontext.value = '';\n\t\t\t\tcontext.label = '';\n\t\t\t\ttargetState[id].value = '';\n\t\t\t\ttargetState[id].isOpen = false;\n\t\t\t\tdocument.getElementById(`${id}-input`).value = '';\n\t\t\t}\n\t\t},\n\t},\n});\n"],"names":["store","getContext","getElement","actions","moveThroughOptions","direction","id","context","activeId","filteredOptions","options","nextActive","isNaN","length","highlightedOption","setOptionActive","value","refid","listbox","document","getElementById","option","querySelector","setAttribute","focus","siblings","parentElement","children","i","setValueOnEnter","console","log","targetNamespace","state","targetState","label","isOpen","onOpen","event","preventDefault","ref","getAttribute","onClick","val","selectedOption","find","index","findIndex","onKeyUp","key","keyCode","matches","filter","toLowerCase","includes","onClear","callbacks","onInit","window","addEventListener","e","innerHTML","target","onValueChange","onSelectChange","onESCKey"],"sourceRoot":""}