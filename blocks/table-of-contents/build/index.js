(()=>{var e,o={472:(e,o)=>{var t;!function(){"use strict";var r={}.hasOwnProperty;function l(){for(var e=[],o=0;o<arguments.length;o++){var t=arguments[o];if(t){var n=typeof t;if("string"===n||"number"===n)e.push(t);else if(Array.isArray(t)){if(t.length){var a=l.apply(null,t);a&&e.push(a)}}else if("object"===n){if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]")){e.push(t.toString());continue}for(var s in t)r.call(t,s)&&t[s]&&e.push(s)}}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(t=function(){return l}.apply(o,[]))||(e.exports=t)}()},912:(e,o,t)=>{"use strict";const r=window.wp.i18n,l=window.wp.blocks,n=window.wp.domReady;var a=t.n(n);const s=window.wp.element;var i=t(472),c=t.n(i);const d=window.prcPostReportPackageHook,g=window.wp.blockEditor,u=window.wp.data,p=window.wp.components;function C(e){let{attributes:o,setAttributes:t,clientId:l,colors:n}=e;const{showCurrentChapter:a,hideHeading:i,className:c}=o,d=(0,s.useMemo)((()=>{const{textColor:e,setTextColor:o,backgroundColor:t,setBackgroundColor:l,dropdownBackgroundColor:a,setDropdownBackgroundColor:s,dropdownTextColor:i,setDropdownTextColor:d,headingBackgroundColor:g,setHeadingBackgroundColor:u,headingTextColor:p,setHeadingTextColor:C}=n,h=[{value:i?.color,onChange:d,label:(0,r.__)("(Mobile) Dropdown Text")},{value:a?.color,onChange:s,label:(0,r.__)("(Mobile) Dropdown Background")},{value:p?.color,onChange:C,label:(0,r.__)("(Desktop) Heading Text")},{value:g?.color,onChange:u,label:(0,r.__)("(Desktop) Heading Background")},{value:e?.color,onChange:o,label:(0,r.__)("Text")},{value:t?.color,onChange:l,label:(0,r.__)("Background")}];return"is-style-dropdown"===c&&(h[0].label=(0,r.__)("Dropdown Text"),h[1].label=(0,r.__)("Dropdown Background"),h.splice(2,2)),h}),[n,c]);return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(g.InspectorControls,{group:"styles"},(0,s.createElement)(g.PanelColorSettings,{__experimentalHasMultipleOrigins:!0,__experimentalIsRenderedInSidebar:!0,title:(0,r.__)("Color"),disableCustomColors:!0,colorSettings:d})),(0,s.createElement)(g.InspectorControls,null,(0,s.createElement)(p.PanelBody,{title:(0,r.__)("Settings","prc-block-library")},(0,s.createElement)(p.ToggleControl,{label:(0,r.__)("Highlight Current Chapter"),checked:a,onChange:()=>{t({showCurrentChapter:!a})},help:(0,r.__)("Highlight the current chapter in the table of contents when scrolling.","prc-block-library")}),"is-style-default"===c&&(0,s.createElement)(p.ToggleControl,{label:(0,r.__)("Hide Heading"),checked:i,onChange:()=>{t({hideHeading:!i})},help:(0,r.__)('Hide the heading from the front end when in "Baseball Card" style.',"prc-block-library")}))))}const h=(0,g.withColors)({textColor:"color"},{backgroundColor:"color"},{dropdownBackgroundColor:"color"},{dropdownTextColor:"color"},{headingBackgroundColor:"color"},{headingTextColor:"color"})((function(e){let{attributes:o,setAttributes:t,context:r,clientId:l,isSelected:n,textColor:a,setTextColor:i,backgroundColor:p,setBackgroundColor:h,dropdownBackgroundColor:b,setDropdownBackgroundColor:k,dropdownTextColor:f,setDropdownTextColor:m,headingBackgroundColor:x,setHeadingBackgroundColor:w,headingTextColor:_,setHeadingTextColor:y}=e;const{postId:T,postType:v}=r,{chapters:B=[],backChapters:E=[]}=(0,d.usePostReportPackage)({clientId:l,postId:T,postType:v}),{heading:D,showCurrentChapter:H,className:N,hideHeading:O}=o,{postTitle:S}=(0,u.useSelect)((e=>{const{getEditedPostAttribute:o}=e("core/editor");return{postTitle:o("title")}}),[l]),I=(0,s.useMemo)((()=>({textColor:a,setTextColor:i,backgroundColor:p,setBackgroundColor:h,dropdownBackgroundColor:b,setDropdownBackgroundColor:k,dropdownTextColor:f,setDropdownTextColor:m,headingBackgroundColor:x,setHeadingBackgroundColor:w,headingTextColor:_,setHeadingTextColor:y})),[a,i,p,h,b,k,f,m,x,w,_,y]),M=(0,s.useMemo)((()=>c()(N,{"has-text-color":!!I.textColor.color||!!I.textColor?.class,[(0,g.getColorClassName)("color",I.textColor?.slug)]:!!I.textColor?.slug,"has-background":!!I.backgroundColor.color||I.backgroundColor.class,[(0,g.getColorClassName)("background-color",I.backgroundColor?.slug)]:!!I.backgroundColor?.slug})),[I.textColor,I.backgroundColor,N]),P=(0,s.useMemo)((()=>({color:!I.textColor?.slug&&I.textColor?.color,backgroundColor:!I.backgroundColor?.slug&&I.backgroundColor?.color})),[I.textColor,I.backgroundColor]),j=(0,s.useMemo)((()=>c()("wp-block-prc-block-table-of-contents__heading",{"has-text-color":!!I.headingTextColor.color||!!I.headingTextColor?.class,[(0,g.getColorClassName)("color",I.headingTextColor?.slug)]:!!I.headingTextColor?.slug,"has-background":!!I.headingBackgroundColor.color||I.headingBackgroundColor.class,[(0,g.getColorClassName)("background-color",I.headingBackgroundColor?.slug)]:!!I.headingBackgroundColor?.slug,"is-hidden":O})),[I.headingTextColor,I.headingBackgroundColor,O]),A=(0,s.useMemo)((()=>({color:!I.headingTextColor?.slug&&I.headingTextColor?.color,backgroundColor:!I.headingBackgroundColor?.slug&&I.headingBackgroundColor?.color})),[I.headingTextColor,I.headingBackgroundColor]),F=(0,g.useBlockProps)({className:M,style:P});return(0,s.createElement)(s.Fragment,null,(0,s.createElement)(C,{attributes:o,setAttributes:t,colors:{textColor:a,setTextColor:i,backgroundColor:p,setBackgroundColor:h,headingBackgroundColor:x,setHeadingBackgroundColor:w,headingTextColor:_,setHeadingTextColor:y}}),(0,s.createElement)("div",F,(0,s.createElement)(g.RichText,{tagName:"h2",placeholder:"Table of Contents",value:D,onChange:e=>t({heading:e}),className:j,style:A}),(0,s.createElement)("ul",{className:"wp-block-prc-block-table-of-contents__list"},0!==B.length&&(0,s.createElement)("li",null,(0,s.createElement)("span",null,S),(0,s.createElement)("ul",null,B.map((e=>(0,s.createElement)("li",null,e.title))))),0!==E.length&&E.map((e=>(0,s.createElement)("li",null,(0,s.createElement)("span",null,e.title)))))))})),b=window.prcIcons,k=[{name:"table-of-contents",isDefault:!0,title:(0,r.__)("Table of Contents (Default)"),description:(0,r.__)('The default table of contents block. Displays a list of links to chapters and back-chapters in a post in a "Baseball Card" style. On mobile this transforms to a dropdown.'),attributes:{className:"is-style-default"},scope:["inserter","transform"],isActive:(e,o)=>o.className===e.className},{name:"table-of-contents-dropdown",isDefault:!0,title:(0,r.__)("Table of Contents (Dropdown)"),description:(0,r.__)("Displays a list of chapters and back-chapters in a post in a dropdown style."),attributes:{className:"is-style-dropdown"},scope:["inserter","transform"],isActive:(e,o)=>o.className===e.className}],f=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/table-of-contents","version":"0.1.0","title":"Table of Contents","category":"theme","description":"Displays a list of all heading blocks set to chapter headings.","attributes":{"showCurrentChapter":{"type":"boolean","default":false},"dropdownBackgroundColor":{"type":"string","default":"white"},"dropdownTextColor":{"type":"string","default":"slate"},"headingBackgroundColor":{"type":"string","default":"slate"},"headingTextColor":{"type":"string","default":"white"},"backgroundColor":{"type":"string","default":"white"},"textColor":{"type":"string","default":"slate"},"heading":{"type":"string","default":"Table of Contents"},"hideHeading":{"type":"boolean","default":false}},"supports":{"anchor":true,"html":false,"align":["left","right"],"spacing":{"margin":["top","bottom","left","right"],"__experimentalDefaultControls":{"margin":true}},"position":{"sticky":true},"typography":{"__experimentalFontFamily":true,"__experimentalDefaultControls":{"__experimentalFontFamily":true}}},"example":{"attributes":{"className":"is-style-default"},"viewportWidth":320},"usesContext":["postId","postType"],"textdomain":"table-of-contents","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":"file:./view.js"}'),{name:m}=f,x={icon:function(){return(0,s.createElement)(b.Icon,{icon:b.icons.faListTree,height:18,preserveAspectRatio:"xMidYMid meet"})},edit:h,variations:k};(0,l.registerBlockType)(m,{...f,...x}),a()((()=>{(0,l.unregisterBlockType)("core/table-of-contents"),(0,l.unregisterBlockType)("yoast-seo/table-of-contents")}))}},t={};function r(e){var l=t[e];if(void 0!==l)return l.exports;var n=t[e]={exports:{}};return o[e](n,n.exports,r),n.exports}r.m=o,e=[],r.O=(o,t,l,n)=>{if(!t){var a=1/0;for(d=0;d<e.length;d++){t=e[d][0],l=e[d][1],n=e[d][2];for(var s=!0,i=0;i<t.length;i++)(!1&n||a>=n)&&Object.keys(r.O).every((e=>r.O[e](t[i])))?t.splice(i--,1):(s=!1,n<a&&(a=n));if(s){e.splice(d--,1);var c=l();void 0!==c&&(o=c)}}return o}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[t,l,n]},r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={826:0,431:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var l,n,a=t[0],s=t[1],i=t[2],c=0;if(a.some((o=>0!==e[o]))){for(l in s)r.o(s,l)&&(r.m[l]=s[l]);if(i)var d=i(r)}for(o&&o(t);c<a.length;c++)n=a[c],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},t=self.webpackChunktable_of_contents=self.webpackChunktable_of_contents||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var l=r.O(void 0,[431],(()=>r(912)));l=r.O(l)})();
//# sourceMappingURL=index.js.map