(()=>{"use strict";var e,t={460:(e,t,o)=>{const r=window.wp.i18n,n=window.wp.blocks,a=window.wp.domReady;var s=o.n(a);const l=window.wp.element,i=window.wp.blockEditor,c=window.wp.data,p=window.wp.components;function u(e){let{attributes:t,setAttributes:o}=e;const{showCurrentChapter:n}=t;return(0,l.createElement)(i.InspectorAdvancedControls,null,(0,l.createElement)(p.ToggleControl,{label:(0,r.__)("Highlight Current Chapter"),checked:n,onChange:()=>{o({showCurrentChapter:!n})},help:(0,r.__)("Highlight the current chapter in the table of contents when scrolling.","prc-block-library")}))}const h=window.prcIcons;function d(){return(0,l.createElement)(h.Icon,{icon:h.icons.faListTree,height:18,preserveAspectRatio:"xMidYMid meet"})}const b=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"prc-block/table-of-contents","version":"0.1.0","title":"Table of Contents","category":"text","description":"Displays a list of all heading blocks set to chapter headings.","attributes":{"showCurrentChapter":{"type":"boolean","default":false}},"supports":{"anchor":true,"html":false,"align":["left","right"],"spacing":{"blockGap":true,"margin":["top","bottom"],"padding":true,"__experimentalDefaultControls":{"padding":true}},"typography":{"fontSize":true,"__experimentalFontFamily":true,"__experimentalDefaultControls":{"fontSize":true,"__experimentalFontFamily":true}}},"example":{"attributes":{"className":"is-style-default"},"viewportWidth":320},"usesContext":["postId","postType","core/group/isSticky","core/group/responsiveThreshold"],"textdomain":"table-of-contents","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","viewScript":"file:./view.js"}'),{name:f}=b,g={icon:d,edit:function(e){let{attributes:t,setAttributes:o,context:r,clientId:n,isSelected:a}=e;const s=(0,i.useBlockProps)(),{chapters:p=[],backChapters:h=[]}=(0,c.useSelect)((e=>{const t=e("core/block-editor").getBlocks().filter((e=>"core/heading"===e.name&&e.attributes.isChapter));return{chapters:0===t.length?[{attributes:{content:"Chapter 1..."}},{attributes:{content:"Chapter 2..."}},{attributes:{content:"Chapter 3..."}}]:t,backChapters:[]}}),[n]);return(0,l.createElement)(l.Fragment,null,(0,l.createElement)(u,{attributes:t,setAttributes:o}),(0,l.createElement)("div",s,(0,l.createElement)("ul",null,0!==p.length&&p.map((e=>(0,l.createElement)("li",null,e.attributes.content))))))}};(0,n.registerBlockType)(f,{...b,...g});const m={attributes:{className:"is-style-card-alt"},innerBlocks:[{name:"core/heading",attributes:{className:"is-style-sub-header toc-title",level:3,fontSize:"small-label",content:"Table of Contents",backgroundColor:"text-color",textColor:"white"}},{name:"prc-block/table-of-contents",attributes:{}}],viewportWidth:320};(0,n.registerBlockVariation)("core/group",{name:"toc",title:(0,r.__)("Table of Contents Widget"),description:(0,r.__)('A Group block in the "alt-card" format with a table of contents list set to show the current chapter.'),category:"widgets",icon:d,attributes:{className:"is-style-card-alt",responsiveThreshold:640},innerBlocks:[["core/heading",{className:"is-style-sub-header toc-title",level:3,fontSize:"small-label",content:"Table of Contents",backgroundColor:"text-color",textColor:"white"}],["prc-block/table-of-contents",{showCurrentChapter:!0}]],example:m}),m.attributes.align="left",(0,n.registerBlockVariation)("core/group",{name:"toc-sticky",title:(0,r.__)("Table of Contents Sticky Sidebar"),description:(0,r.__)('A Group block in the "alt-card" format with a table of contents list that is sticky, watches for the current chapter, and collapses at 480px.'),category:"widgets",icon:d,attributes:{className:"is-style-card-alt",isSticky:!0,responsiveThreshold:480,align:"left"},innerBlocks:[["core/heading",{className:"is-style-sub-header toc-title",level:3,content:"Table of Contents",fontSize:"small-label",backgroundColor:"text-color",textColor:"white"}],["prc-block/table-of-contents",{showCurrentChapter:!0}]],example:m}),s()((()=>{(0,n.unregisterBlockType)("core/table-of-contents"),(0,n.unregisterBlockType)("yoast-seo/table-of-contents")}))}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var a=o[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,o,n,a)=>{if(!o){var s=1/0;for(p=0;p<e.length;p++){o=e[p][0],n=e[p][1],a=e[p][2];for(var l=!0,i=0;i<o.length;i++)(!1&a||s>=a)&&Object.keys(r.O).every((e=>r.O[e](o[i])))?o.splice(i--,1):(l=!1,a<s&&(s=a));if(l){e.splice(p--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[o,n,a]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,a,s=o[0],l=o[1],i=o[2],c=0;if(s.some((t=>0!==e[t]))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(i)var p=i(r)}for(t&&t(o);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(p)},o=self.webpackChunktable_of_contents=self.webpackChunktable_of_contents||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=r.O(void 0,[431],(()=>r(460)));n=r.O(n)})();
//# sourceMappingURL=index.js.map