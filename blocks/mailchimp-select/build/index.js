!function(){"use strict";var e,t={819:function(){var e=window.wp.blocks,t=window.wp.element,n=window.wp.blockEditor,r=window.prcFunctions,l=window.wp.i18n,o=window.wp.data,i=window.wp.components;function c(c){let{attributes:s,setAttributes:a,clientId:u}=c;const{interests:p}=s,[m,d]=(0,t.useState)(p),{insertBlock:v,removeBlock:f,updateBlockAttributes:k}=(0,o.useDispatch)(n.store),h=(0,o.useSelect)((e=>{const{getBlock:t}=e(n.store);return t(u).innerBlocks}));return(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(i.PanelBody,{title:(0,l.__)("MailChimp Interests")},(0,t.createElement)(i.PanelRow,null,(0,t.createElement)("div",null,r.mailChimpInterests.map((n=>!1!==n.value?(0,t.createElement)(i.ToggleControl,{label:n.label,checked:m.includes(n.value),onChange:()=>(t=>{const n=m;if(n.includes(t.value)){const e=n.indexOf(t.value);-1!==e&&n.splice(e,1);const o=(r=h,l=t.value,r.find((e=>e.attributes.value===l)));o&&k(o.clientId,{lock:{remove:!1}}).then((()=>f(o.clientId,!1)))}else{n.push(t.value);const r=(0,e.createBlock)("prc-block/form-input-checkbox",{value:t.value,label:t.label,lock:{remove:!0}});v(r,!1,u,!1)}var r,l;a({interests:n}),d([...n])})(n)}):(0,t.createElement)(i.HorizontalRule,null)))))))}const s=["prc-block/form-input-checkbox","core/button"],a=[["core/group",{lock:{move:!0,remove:!0}},[["prc-block/form-input-text",{label:"Email Address",placeholder:"Enter your email address",type:"email",lock:{move:!0,remove:!0}}],["core/button",{text:"Sign Up",lock:{move:!0,remove:!0}}]]]];var u=window.prcIcons,p=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"prc-block/mailchimp-select","version":"0.1.0","title":"MailChimp Select","description":"Select from multiple MailChimp segment interests to subscribe to.","category":"marketing","keywords":["mailchimp","newsletters","select"],"attributes":{"allowedBlocks":{"type":"array"},"interests":{"type":"array","default":[]}},"supports":{"anchor":true,"html":false,"color":{"background":true,"text":true},"spacing":{"margin":true,"padding":true,"blockGap":true},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalFontWeight":true}},"textdomain":"mailchimp-select","editorScript":"file:./index.js","style":"file:./style-index.css","render":"file:./render.php","viewScript":"file:./view.js"}');const{name:m}=p,d={icon:function(){return(0,t.createElement)(u.Icon,{icon:u.icons.faMailchimp,width:21,preserveAspectRatio:"xMidYMid meet"})},edit:function(e){let{attributes:r,setAttributes:l,clientId:o}=e;const i=(0,n.useBlockProps)(),{allowedBlocks:u}=r,p=(0,n.useInnerBlocksProps)(i,{allowedBlocks:u||s,template:a,templateLock:!1,renderAppender:!1});return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(c,{attributes:r,setAttributes:l,clientId:o}),(0,t.createElement)("div",p))},save:function(){return(0,t.createElement)(n.InnerBlocks.Content,null)}};(0,e.registerBlockType)(m,{...p,...d})}},n={};function r(e){var l=n[e];if(void 0!==l)return l.exports;var o=n[e]={exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=function(t,n,l,o){if(!n){var i=1/0;for(u=0;u<e.length;u++){n=e[u][0],l=e[u][1],o=e[u][2];for(var c=!0,s=0;s<n.length;s++)(!1&o||i>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[s])}))?n.splice(s--,1):(c=!1,o<i&&(i=o));if(c){e.splice(u--,1);var a=l();void 0!==a&&(t=a)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,l,o]},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,o,i=n[0],c=n[1],s=n[2],a=0;if(i.some((function(t){return 0!==e[t]}))){for(l in c)r.o(c,l)&&(r.m[l]=c[l]);if(s)var u=s(r)}for(t&&t(n);a<i.length;a++)o=i[a],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self.webpackChunkmailchimp_select=self.webpackChunkmailchimp_select||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var l=r.O(void 0,[431],(function(){return r(819)}));l=r.O(l)}();
//# sourceMappingURL=index.js.map