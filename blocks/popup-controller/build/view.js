import*as e from"@wordpress/interactivity";var t={d:(e,o)=>{for(var c in o)t.o(o,c)&&!t.o(e,c)&&Object.defineProperty(e,c,{enumerable:!0,get:o[c]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const o=(n={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},i={},t.d(i,n),i),{state:c}=(0,o.store)("prc-block/popup-controller",{actions:{closeAll:()=>{Object.keys(c).forEach((e=>{c[e].isActive=!1}))},open:(e,t=!1)=>{const n=(0,o.getContext)(),i=n?.id;console.log("open...",t),t?c[t]={isActive:!0}:i?(c[i]={isActive:!0},console.log("open",i,c[i].isActive,c)):console.log("no id",i,c)},close:(e,t=!1)=>{const n=(0,o.getContext)(),i=n?.id;t?c[t]={isActive:!1}:i&&(c[i]={isActive:!1},console.log("close",i,c[i].isActive,c))},openAndThen:e=>{const t=(0,o.getContext)(),{id:n}=t;c[n].isActive=!0,e()},closeAndThen:e=>{const t=(0,o.getContext)(),{id:n}=t;c[n].isActive=!1,e()}},callbacks:{outerWatch:()=>{console.log("outerWatch",c)},onWindowClickCloseModal:e=>{const t=(0,o.getContext)(),{id:n}=t;if(!n)return;if(!c[n]?.isActive)return;const i=(0,o.getElement)(),{ref:s}=i;console.log("onWindowClickCloseModal",i,e.target),(!s.contains(e.target)||e.target.classList.contains("wp-block-prc-block-popup-modal__outer"))&&(document.querySelector(".wp-block-prc-block-popup-modal.is-active").innerHTML.includes(e.target.innerHTML)||!0!==c[n].isActive||(c[n].isActive=!1))},onESCKey:e=>{const t=(0,o.getContext)(),{id:n}=t;n&&"Escape"===e.key&&!0===c[n].isActive&&(e.preventDefault(),c[n].isActive=!1)},isModalActive:()=>{const e=(0,o.getContext)(),t=(0,o.getElement)(),{id:n}=e;return console.log("isModalActive",c,n,t),c[n]?.isActive},isAModalActive:()=>{const e=(0,o.getElement)(),t=c;return console.log("isAModalActive",t,e),Object.keys(t).some((e=>c[e].isActive))},soundOff:()=>{const e=(0,o.getContext)(),t=(0,o.getElement)();console.log("soundOff",e,t,c)}}});var n,i;
//# sourceMappingURL=view.js.map