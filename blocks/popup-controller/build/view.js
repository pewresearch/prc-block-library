(()=>{"use strict";var e={n:o=>{var t=o&&o.__esModule?()=>o.default:()=>o;return e.d(t,{a:t}),t},d:(o,t)=>{for(var c in t)e.o(t,c)&&!e.o(o,c)&&Object.defineProperty(o,c,{enumerable:!0,get:t[c]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const o=window.wp.domReady;function t(e){if(!e||!e.classList.contains("is-style-video"))return{provider:!1};const o=e.querySelector(".wp-block-vimeo-create");return o?{provider:"vimeo",loadPlayer:()=>function(e,o){const t=o.querySelector(".wp-block-prc-block-popup-content"),c=e.querySelector("iframe.vimeo-core-video");let r=c.getAttribute("id");r||(r=`video${Math.floor(1e3*Math.random())}`,c.setAttribute("id",r)),c.setAttribute("allow","autoplay");const l=new((!!window.hasOwnProperty("Vimeo")&&window.Vimeo).Player)(c);return!1!==l&&t.addEventListener("mouseenter",(()=>{l.ready().then((()=>{console.log("the player is ready")}))})),{provider:"vimeo",playVideo:()=>{l.play().then((()=>{console.log("the video was played")})).catch((e=>{console.log("error...",e),e.name}))},stopVideo:()=>{l.unload().then((()=>{console.log("the video was unloaded")})).catch((e=>{e.name}))}}}(o,e)}:{provider:!1}}e.n(o)()((()=>{document.querySelectorAll(".wp-block-prc-block-popup-controller").forEach((e=>{!function(e){const o=t(e),{provider:c,loadPlayer:r}=o,l=e.querySelector(".wp-block-prc-block-popup-content"),i=e.querySelector(".wp-block-prc-block-popup-modal--outer");e.querySelector(".wp-block-prc-block-popup-modal--close-button").addEventListener("click",(e=>{e.preventDefault(),"vimeo"===c&&"function"==typeof r&&r().stopVideo(),i.classList.remove("active"),document.querySelector("body").classList.toggle("has-active-modal")})),l.addEventListener("click",(e=>{e.preventDefault(),console.log("trigger clicked",c),i.classList.contains("initialized")||i.classList.add("initialized"),setTimeout((()=>{if(i.classList.toggle("active"),document.querySelector("body").classList.toggle("has-active-modal"),"vimeo"===c&&"function"==typeof r){const e=r();setTimeout((()=>{e.playVideo()}),1250)}}),100)}))}(e)})),document.addEventListener("click",(e=>{const o=document.querySelector(".wp-block-prc-block-popup-modal--outer.active.initialized");if(!o)return;const c=o.closest(".wp-block-prc-block-popup-controller"),r=o.querySelector(".wp-block-prc-block-popup-modal");if(o&&!r.contains(e.target)&&(o.classList.remove("active"),document.querySelector("body").classList.toggle("has-active-modal"),c.classList.contains("is-style-video"))){const e=t(c),{provider:o,loadPlayer:r}=e;"vimeo"===o&&"function"==typeof r&&r().stopVideo()}}))}))})();