(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var r in o)e.o(o,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:o[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.domReady;function o(e){let t=!1;if(!e||!e.classList.contains("is-style-video"))return{provider:t};const o=e.querySelector(".wp-block-embed.is-type-video");o&&(t=o.classList.toString().split(" ").find((e=>e.includes("is-provider-"))).replace("is-provider-",""));const r=e.querySelector(".wp-block-vimeo-create");r&&(t="vimeo");const i=o||r;return i?{provider:t,loadPlayer:()=>{switch(t){case"youtube":return function(e,t){const o=e.querySelector(".wp-block-embed__wrapper > iframe");let r=o.getAttribute("id");if(!r){r=`video${Math.floor(1e3*Math.random())}`,o.setAttribute("id",r);const e=o.getAttribute("src");o.setAttribute("src",`${e}&enablejsapi=1`)}const i=o.getAttribute("src").split("embed/")[1].split("?")[0],c=!!window.hasOwnProperty("YT")&&window.YT;let l=!1;return!1!==c&&c.hasOwnProperty("Player")&&(l=new c.Player(r,{videoId:i})),l}(i);case"vimeo":return function(e,t){const o=t.querySelector(".wp-block-prc-block-popup-content"),r=e.querySelector("iframe");let i=r.getAttribute("id");i||(i=`video${Math.floor(1e3*Math.random())}`,r.setAttribute("id",i)),r.setAttribute("allow","autoplay");const c=new((!!window.hasOwnProperty("Vimeo")&&window.Vimeo).Player)(r);return!1!==c?o.addEventListener("mouseenter",(()=>{c.ready().then((()=>{console.log("the player is ready")}))})):console.error("Vimeo player not found"),{provider:"vimeo",playVideo:()=>{c.play().then((()=>{console.log("the video was played")})).catch((e=>{console.log("error...",e),e.name}))},stopVideo:()=>{c.unload().then((()=>{console.log("the video was unloaded")})).catch((e=>{e.name}))}}}(i,e);default:return!1}}}:{provider:t}}function r(e,t,o){"vimeo"===t&&"function"==typeof o&&o().stopVideo(),e.classList.remove("animate-in"),e.classList.add("animate-out"),setTimeout((()=>{e.classList.remove("active"),e.classList.remove("animate-out")}),1501),document.querySelector("body").classList.toggle("has-active-modal")}e.n(t)()((()=>{document.querySelectorAll(".wp-block-prc-block-popup-controller").forEach((e=>{!function(e){const t=o(e),{provider:i,loadPlayer:c}=t,l=e.getAttribute("id"),n=e.querySelector(".wp-block-prc-block-popup-content"),a=e.querySelector(".wp-block-prc-block-popup-modal--outer"),s=e.querySelector(".wp-block-prc-block-popup-modal--close-button");a.setAttribute("data-controller-id",l),document.querySelector("body").appendChild(a),s.addEventListener("click",(e=>{e.preventDefault(),r(a,i,c)})),n.addEventListener("click",(e=>{e.preventDefault(),a.classList.contains("initialized")||a.classList.add("initialized"),a.classList.toggle("animate-in"),setTimeout((()=>{if(a.classList.toggle("active"),document.querySelector("body").classList.toggle("has-active-modal"),"vimeo"===i&&"function"==typeof c){const e=c();setTimeout((()=>{e.playVideo()}),1250)}}),100)}))}(e)})),document.addEventListener("click",(e=>{const t=document.querySelector(".wp-block-prc-block-popup-modal--outer.active.initialized");if(!t)return;const i=t.getAttribute("data-controller-id"),c=document.querySelector(".wp-block-prc-block-popup-controller#"+i),l=t.querySelector(".wp-block-prc-block-popup-modal");if(t&&!l.contains(e.target)){let e=!1,i=!1;if(c.classList.contains("is-style-video")){const t=o(c);e=t?.provider,i=t?.loadPlayer}r(t,e,i)}}))}))})();
//# sourceMappingURL=view.js.map