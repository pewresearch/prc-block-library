import*as e from"@wordpress/interactivity";var t={d:(e,o)=>{for(var n in o)t.o(o,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const o=(c={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},i={},t.d(i,c),i),{state:n}=(0,o.store)("prc-block/popup-controller",{actions:{closeAll:()=>{Object.keys(n).forEach((e=>{n[e].isActive=!1}))},open:(e,t=!1)=>{const c=(0,o.getContext)(),i=c?.id;console.log("open...",t),t?n[t]={isActive:!0}:i?(n[i]={isActive:!0},console.log("open",i,n[i].isActive,n)):console.log("no id",i,n)},close:(e,t=!1)=>{const c=(0,o.getContext)(),i=c?.id;t?n[t]={isActive:!1}:i&&(n[i]={isActive:!1},console.log("close",i,n[i].isActive,n))},openAndThen:e=>{const t=(0,o.getContext)(),{id:c}=t;n[c].isActive=!0,e()},closeAndThen:e=>{const t=(0,o.getContext)(),{id:c}=t;n[c].isActive=!1,e()}},callbacks:{onWindowClickCloseModal:e=>{const t=(0,o.getContext)(),{id:c}=t;if(!c)return;if(!n[c]?.isActive)return;const i=(0,o.getElement)(),{ref:s}=i;console.log("onWindowClickCloseModal",i,e.target),(!s.contains(e.target)||e.target.classList.contains("wp-block-prc-block-popup-modal__outer"))&&(s.querySelector(".wp-block-prc-block-popup-modal").innerHTML.includes(e.target.innerHTML)||!0!==n[c].isActive||(n[c].isActive=!1))},onESCKey:e=>{const t=(0,o.getContext)(),{id:c}=t;c&&"Escape"===e.key&&!0===n[c].isActive&&(e.preventDefault(),n[c].isActive=!1)},isModalActive:()=>{const e=(0,o.getContext)(),t=(0,o.getElement)(),{id:c}=e;return console.log("isModalActive",n,c,t),n[c]?.isActive},soundOff:()=>{const e=(0,o.getContext)(),t=(0,o.getElement)();console.log("soundOff",e,t,n)}}});var c,i;
//# sourceMappingURL=view.js.map