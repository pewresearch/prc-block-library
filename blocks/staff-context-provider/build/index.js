(()=>{"use strict";var e,t={765:(e,t,o)=>{const r=window.wp.blocks,n=window.React,s=window.prcComponents,a=window.wp.blockEditor,l=window.wp.apiFetch;var i=o.n(l);const c=window.wp.i18n,f=window.wp.components;function p({staffId:e,setAttributes:t}){return(0,n.createElement)(a.InspectorControls,null,(0,n.createElement)(f.PanelBody,{title:(0,c.__)("Staff Context Provider")},(0,n.createElement)(s.WPEntitySearch,{placeholder:"Search for Staff",searchLabel:"Search for Staff",entityType:"postType",entitySubType:"staff",onSelect:e=>{console.log("Staff: ",e),t({staffSlug:e.slug})},onKeyEnter:()=>{console.log("Enter Key Pressed")},onKeyESC:()=>{console.log("ESC Key Pressed")},perPage:5,showExcerpt:!1})))}const d=["core/group","core/paragraph","prc-block/staff-info"],u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/staff-context-provider","version":"0.1.0","title":"Staff Context Provider","category":"widgets","description":"Provides information about a Staff member via termId and passes that information via block context to its innerblocks.","attributes":{"allowedBlocks":{"type":"array"},"orientation":{"type":"string","default":"vertical"},"staffSlug":{"type":"string"}},"supports":{"anchor":true,"html":false,"interactivity":true},"usesContext":["postId","postType"],"textdomain":"staff-context-provider","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}'),{name:v}=u,h={edit:function({attributes:e,setAttributes:t,context:o,clientId:r,isSelected:l}){const{allowedBlocks:c,staffSlug:f}=e,{postId:u,postType:v}=o,[h,w]=(0,n.useState)(null);(0,n.useEffect)((()=>{u&&"staff"===v&&w(u);let e="";e=f||"michael-dimock",(async()=>{console.log("fetchStaffId",e),await i()({path:`/wp/v2/staff?slug=${e}&_fields=id`}).then((e=>{e&&e.length&&Object.prototype.hasOwnProperty.call(e[0],"id")?(console.log("...staff...",e),w(e[0].id)):w(null)})).catch((()=>{w(null)}))})()}),[u,v,f]);const y=(0,n.useMemo)((()=>[{staffId:h}]),[h]),b=(0,a.useBlockProps)();return(0,n.createElement)(n.Fragment,null,(0,n.createElement)(p,{staffId:h,setAttributes:t}),(0,n.createElement)("div",{...b},(0,n.createElement)(s.InnerBlocksAsContextTemplate,{clientId:r,allowedBlocks:c||d,blockContexts:y,isResolving:!h})))},save:function({attributes:e}){return(0,n.createElement)(a.InnerBlocks.Content,null)}};(0,r.registerBlockType)(v,{...u,...h})}},o={};function r(e){var n=o[e];if(void 0!==n)return n.exports;var s=o[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.m=t,e=[],r.O=(t,o,n,s)=>{if(!o){var a=1/0;for(f=0;f<e.length;f++){for(var[o,n,s]=e[f],l=!0,i=0;i<o.length;i++)(!1&s||a>=s)&&Object.keys(r.O).every((e=>r.O[e](o[i])))?o.splice(i--,1):(l=!1,s<a&&(a=s));if(l){e.splice(f--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var f=e.length;f>0&&e[f-1][2]>s;f--)e[f]=e[f-1];e[f]=[o,n,s]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};r.O.j=t=>0===e[t];var t=(t,o)=>{var n,s,[a,l,i]=o,c=0;if(a.some((t=>0!==e[t]))){for(n in l)r.o(l,n)&&(r.m[n]=l[n]);if(i)var f=i(r)}for(t&&t(o);c<a.length;c++)s=a[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(f)},o=globalThis.webpackChunkstaff_context_provider=globalThis.webpackChunkstaff_context_provider||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var n=r.O(void 0,[350],(()=>r(765)));n=r.O(n)})();
//# sourceMappingURL=index.js.map