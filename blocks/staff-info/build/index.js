(()=>{"use strict";var e,t={487:(e,t,i)=>{const a=window.wp.i18n,n=window.wp.blocks,r=[{name:"staff-name",title:(0,a.__)("Staff Name"),attributes:{valueToFetch:"staffName"},default:!0,isActive:({valueToFetch:e})=>"staffName"===e},{name:"staff-job-title",title:(0,a.__)("Staff Job Title"),attributes:{valueToFetch:"staffJobTitle"},isActive:({valueToFetch:e})=>"staffJobTitle"===e},{name:"staff-twitter",title:(0,a.__)("Staff Twitter"),attributes:{valueToFetch:"staffTwitter"},isActive:({valueToFetch:e})=>"staffTwitter"===e},{name:"staff-bio",title:(0,a.__)("Staff Bio"),attributes:{valueToFetch:"staffBio"},isActive:({valueToFetch:e})=>"staffBio"===e},{name:"staff-mini-bio",title:(0,a.__)("Staff Mini Bio"),attributes:{valueToFetch:"staffMiniBio"},isActive:({valueToFetch:e})=>"staffMiniBio"===e},{name:"staff-image",title:(0,a.__)("Staff Image"),attributes:{valueToFetch:"staffImage"},isActive:({valueToFetch:e})=>"staffImage"===e}],o=window.React,s=window.wp.blockEditor,l=(window.wp.element,window.wp.components);function f({attributes:e,setAttributes:t,context:i}){const{enableLink:a}=e;return(0,o.createElement)(s.BlockControls,null,(0,o.createElement)(l.ToolbarGroup,null,(0,o.createElement)(l.ToolbarButton,{onClick:()=>t({enableLink:!a}),isActive:a,label:"Enable link to Staff page",icon:"admin-links"})))}const u=window.wp.apiFetch;var c=i.n(u);function m({attributes:e,setAttributes:t,value:i}){const{prefix:a}=e;return(0,o.createElement)(o.Fragment,null,(0,o.createElement)(s.RichText,{tagName:"span",value:a,onChange:e=>t({prefix:e}),allowedFormats:[""],multiline:!1}),(0,o.createElement)(o.RawHTML,null,i))}function p({value:e}){const t=e[0],i=e[1],a=e[2];return(0,o.createElement)("img",{src:t,width:i,height:a})}const d=window.prcIcons,b=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/staff-info","version":"0.1.0","title":"Staff Info","category":"theme","description":"Display staff info from a byline; supports name, bio, mini bio, job title, twitter, expertise, and image.","attributes":{"valueToFetch":{"type":"string","enum":["staffName","staffJobTitle","staffTwitter","staffExpertise","staffBio","staffMiniBio","staffImage","staffLink"]},"prefix":{"type":"string"},"enableLink":{"type":"boolean","default":false}},"supports":{"anchor":true,"html":false,"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontFamily":true,"__experimentalTextDecoration":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalLetterSpacing":true,"__experimentalTextTransform":true,"__experimentalDefaultControls":{"fontSize":true}}},"usesContext":["bylineTermId","staffName","staffJobTitle","staffTwitter","staffBio","staffMiniBio","staffImage","staffLink","staffId"],"ancestor":["prc-block/bylines-query","prc-block/staff-query"],"textdomain":"staff-info","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}'),{name:v}=b,h={icon:function(){return(0,o.createElement)(d.Icon,{icon:"id-card"})},edit:function({attributes:e,setAttributes:t,context:i,clientId:a,isSelected:n,toggleSelection:r}){const{valueToFetch:l,prefix:u}=e,[d,b]=(0,o.useState)(function(e){const t=.5>Math.random()?"Editor...":"Associate Director...";switch(e){case"staffName":return.5>Math.random()?"John Doe":"Jane Doe";case"staffJobTitle":return t;case"staffTwitter":return.5>Math.random()?"@john_doe":"@jane_doe";case"staffMiniBio":return`an ${t} at Pew Research Center `;case"staffBio":return"Laboris eiusmod culpa sit culpa qui aliqua esse excepteur aliquip. Quis reprehenderit eiusmod ipsum irure officia anim veniam fugiat labore officia reprehenderit velit in commodo. Tempor eu veniam sit culpa officia ullamco. Sit est commodo duis laborum. Dolor sint est exercitation enim ut in ea proident dolore officia. Ullamco est sit veniam aliquip tempor proident deserunt velit eiusmod pariatur velit. Irure nostrud mollit esse reprehenderit consectetur aliqua dolore fugiat ut enim. Magna cillum non deserunt laboris esse aliquip dolore esse voluptate reprehenderit nulla qui commodo commodo et. Deserunt fugiat minim aute excepteur irure voluptate pariatur reprehenderit cupidatat enim nisi in occaecat. Est incididunt esse aute do. Laboris ad eu et irure. Do quis laborum veniam minim in elit non ea dolore fugiat irure.";default:return!1}}(l)),[v,h]=(0,o.useState)(!1);(0,o.useEffect)((()=>{void 0!==i.bylineTermId?function(e,t){return new Promise((i=>{c()({path:`/wp/v2/bylines/${e}`}).then((e=>{const{staffInfo:a}=e;console.log("bylines staffInfo...",a);const n=a[`${t}`];return i(n)}))}))}(i.bylineTermId,l).then((e=>{b(e),"staffImage"===l&&h(!0)})):void 0!==i[l]&&(b(i[l]),"staffImage"===l&&(console.log("Is Image context...",l,i),h(!0)))}),[i,l]);const g=(0,s.useBlockProps)();return v&&!d?(0,o.createElement)(o.Fragment,null):(0,o.createElement)(o.Fragment,null,(0,o.createElement)(f,{attributes:e,setAttributes:t}),(0,o.createElement)("div",{...g},!v&&(0,o.createElement)(m,{attributes:e,setAttributes:t,value:d}),v&&(0,o.createElement)(p,{value:d})))},variations:r};(0,n.registerBlockType)(v,{...b,...h})}},i={};function a(e){var n=i[e];if(void 0!==n)return n.exports;var r=i[e]={exports:{}};return t[e](r,r.exports,a),r.exports}a.m=t,e=[],a.O=(t,i,n,r)=>{if(!i){var o=1/0;for(u=0;u<e.length;u++){for(var[i,n,r]=e[u],s=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every((e=>a.O[e](i[l])))?i.splice(l--,1):(s=!1,r<o&&(o=r));if(s){e.splice(u--,1);var f=n();void 0!==f&&(t=f)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[i,n,r]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};a.O.j=t=>0===e[t];var t=(t,i)=>{var n,r,[o,s,l]=i,f=0;if(o.some((t=>0!==e[t]))){for(n in s)a.o(s,n)&&(a.m[n]=s[n]);if(l)var u=l(a)}for(t&&t(i);f<o.length;f++)r=o[f],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(u)},i=globalThis.webpackChunkstaff_info=globalThis.webpackChunkstaff_info||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var n=a.O(void 0,[350],(()=>a(487)));n=a.O(n)})();
//# sourceMappingURL=index.js.map