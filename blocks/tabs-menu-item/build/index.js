!function(){"use strict";var e=window.wp.blocks,t=window.wp.element,n=window.wp.blockEditor,l=window.wp.data,o=window.wp.i18n,i=window.wp.url,c=window.wp.htmlEntities,r=window.wp.components,s=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"prc-block/tabs-menu-item","version":"0.1.0","title":"Tab Menu Item","category":"design","attributes":{"slug":{"type":"string"},"title":{"type":"string"},"uuid":{"type":"string","default":null}},"supports":{"html":false,"align":false,"color":{"background":true,"text":true},"typography":{"fontSize":true,"fontAppearance":true,"lineHeight":true,"__experimentalFontFamily":true},"spacing":{"padding":true},"__experimentalBorder":{"color":true,"width":true}},"parent":["prc-block/tabs-menu"],"textdomain":"tabs-menu-item","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}');const{name:a}=s,u={icon:function(){return(0,t.createElement)(r.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",height:21,preserveAspectRatio:"xMidYMid meet"},(0,t.createElement)(r.Path,{d:"M512 416C512 451.3 483.3 480 448 480H64C28.65 480 0 451.3 0 416V352C0 316.7 28.65 288 64 288H448C483.3 288 512 316.7 512 352V416zM448 320H64C46.33 320 32 334.3 32 352V416C32 433.7 46.33 448 64 448H448C465.7 448 480 433.7 480 416V352C480 334.3 465.7 320 448 320zM192 112C200.8 112 208 119.2 208 128C208 136.8 200.8 144 192 144H96C87.16 144 80 136.8 80 128C80 119.2 87.16 112 96 112H192zM279.4 64C284.9 73.41 288 84.34 288 96V160C288 195.3 259.3 224 224 224H64C28.65 224 0 195.3 0 160V96C0 60.65 28.65 32 64 32H368C403.3 32 432 60.65 432 96V185.4L468.7 148.7C474.9 142.4 485.1 142.4 491.3 148.7C497.6 154.9 497.6 165.1 491.3 171.3L427.3 235.3C421.1 241.6 410.9 241.6 404.7 235.3L340.7 171.3C334.4 165.1 334.4 154.9 340.7 148.7C346.9 142.4 357.1 142.4 363.3 148.7L400 185.4V96C400 78.33 385.7 64 368 64H279.4zM224 64H64C46.33 64 32 78.33 32 96V160C32 177.7 46.33 192 64 192H224C241.7 192 256 177.7 256 160V96C256 78.33 241.7 64 224 64z"}))},__experimentalLabel:e=>{let{title:t}=e;return t||"Menu Item"},edit:function(r){let{attributes:s,setAttributes:a,clientId:u,isSelected:d,context:p,insertBlocksAfter:m}=r;const{title:C,uuid:b}=s,{insertBlock:k,moveBlockToPosition:g,selectNextBlock:w}=(0,l.useDispatch)("core/block-editor"),{panesClientId:f,currentPositionIndex:h,matchingPaneClientId:I,nextMenuItemClientId:B,menuClientId:x}=(0,l.useSelect)((e=>{if(void 0===u)return;const{getBlock:t,getBlockRootClientId:n,getAdjacentBlockClientId:l,getBlockIndex:o}=e("core/block-editor"),i=n(u),c=l(i),r=t(c);let s=!1;if(r.hasOwnProperty("innerBlocks")&&1<=r.innerBlocks.length&&null!==b){const e=r.innerBlocks.filter((e=>e.attributes.uuid===b));0!==e.length&&(s=e[0].clientId)}const a=o(u,i);if(s){const e=o(s,c);-1!==e&&(d=s,C=c,(p=a)!==(m=e)&&-1!==m&&(console.log("movePane",d,p,m,C),g(d,C,C,p)))}var d,p,m,C;return console.log("menuBlockClientId",i),console.log("panesBlockClientId",c),console.log(u),{panesClientId:c,currentPositionIndex:a,matchingPaneClientId:s,nextMenuItemClientId:l(u),menuClientId:i}}),[u]);(0,t.useEffect)((()=>{(()=>{if(null===b){console.log("onBlockInit",b,h);const t=u;a({uuid:t});const n=(0,e.createBlock)("prc-block/tabs-pane",{uuid:t});k(n,h,f,!1)}})()}),[f,h]),(0,t.useEffect)((()=>{d&&(()=>{const e=document.querySelectorAll(`[data-block="${f}"] [data-type^="prc-block/tabs-pane"][aria-selected="true"]`);e.forEach((e=>{e.setAttribute("aria-selected","false")}));const t=document.querySelectorAll(`[data-block="${x}"] [data-type^="prc-block/tabs-menu-item"][aria-selected="true"]`);t.forEach((e=>{e.setAttribute("aria-selected","false")}));const n=document.querySelector(`[data-block="${x}"] [data-block="${u}"]`);n&&n.setAttribute("aria-selected","true");const l=document.querySelector(`[data-block="${f}"] [data-uuid="${b}"]`);console.log(e,t,n,l),console.log(f,b,x),l&&l.setAttribute("aria-selected","true")})()}),[u,d]);const y=(0,n.useBlockProps)();return(0,t.createElement)("div",y,(0,t.createElement)(n.RichText,{tagName:"div",value:C,allowedFormats:[],onChange:e=>a({title:(0,c.decodeEntities)(e),slug:(0,i.cleanForSlug)(e)}),placeholder:(0,o.__)("Tab Title","prc-block-library"),__unstableOnSplitAtEnd:()=>{null!==B?w(u):m((0,e.createBlock)("prc-block/tabs-menu-item",{}))}}))}};(0,e.registerBlockType)(a,{...s,...u})}();