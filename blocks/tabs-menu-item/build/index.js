(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=window.React,l=window.classnames;var i=e.n(l);const o=window.wp.element,r=window.wp.blockEditor,c=window.wp.data,s=window.wp.i18n,a=window.wp.url,u=window.wp.htmlEntities,d=window.prcIcons,p=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/tabs-menu-item","version":"0.1.0","title":"Tab Menu Item","category":"design","attributes":{"slug":{"type":"string"},"title":{"type":"string"},"uuid":{"type":"string","default":null}},"supports":{"html":false,"align":false,"color":{"background":true,"text":true},"typography":{"fontSize":true,"fontAppearance":true,"lineHeight":true,"__experimentalFontFamily":true},"spacing":{"padding":true},"__experimentalBorder":{"color":true,"width":true},"interactivity":true},"styles":[{"name":"default","label":"Tab","isDefault":true},{"name":"dialog","label":"Dialog Link"}],"parent":["prc-block/tabs-menu"],"textdomain":"tabs-menu-item","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}'),{name:m}=p,b={icon:function(){return(0,n.createElement)(d.Icon,{icon:"diagram-predecessor"})},__experimentalLabel:({title:e})=>e||"Menu Item",edit:function({attributes:e,setAttributes:l,clientId:d,isSelected:p,context:m,insertBlocksAfter:b}){const{setActiveUUIDPair:g}=(0,c.useDispatch)("prc-block/tabs-controller"),{title:w,uuid:k,className:f}=e,{insertBlock:I,moveBlockToPosition:h,selectNextBlock:y,updateBlockAttributes:B}=(0,c.useDispatch)("core/block-editor"),{controllerClientId:x,panesClientId:v,currentPositionIndex:C,matchingPaneClientId:_,nextMenuItemClientId:P,menuClientId:S}=(0,c.useSelect)((e=>{if(void 0===d)return;const{getBlock:t,getBlockRootClientId:n,getAdjacentBlockClientId:l,getBlockIndex:i}=e("core/block-editor");let o=!1;const r=n(d),c=n(r),s=l(r),a=t(s);if(a.hasOwnProperty("innerBlocks")&&1<=a.innerBlocks.length&&null!==k){const e=a.innerBlocks.filter((e=>e.attributes.uuid===k));0!==e.length&&(o=e[0].clientId)}const u=i(d,r);if(o){const e=i(o,s);-1!==e&&(b=s,(p=u)!==(m=e)&&-1!==m&&h(o,b,b,p))}var p,m,b;return{controllerClientId:c,panesClientId:s,currentPositionIndex:u,matchingPaneClientId:o,nextMenuItemClientId:l(d),menuClientId:r}}),[d]);(0,o.useEffect)((()=>{_&&f&&(console.log("matchingPaneClientId",_),B(_,{isDialog:"is-style-dialog"===f}))}),[f,_]);const{currentlySelectedUUID:E}=(0,c.useSelect)((e=>({currentlySelectedUUID:e("prc-block/tabs-controller").getActiveUUID(x)})),[x]);(0,o.useEffect)((()=>{(()=>{if(null===k){const e=d;l({uuid:e});const n=(0,t.createBlock)("prc-block/tabs-pane",{uuid:e});I(n,C,v,!1)}})()}),[v,C]),(0,o.useEffect)((()=>{p&&g(x,k)}),[p,k,x]);const D=(0,o.useMemo)((()=>p||E===k),[p,E,k]),A=(0,r.useBlockProps)({className:i()(f,{"is-active":D})});return(0,n.createElement)("div",{...A},(0,n.createElement)(r.RichText,{tagName:"div",value:w,allowedFormats:[],onChange:e=>l({title:(0,u.decodeEntities)(e),slug:(0,a.cleanForSlug)(e)}),placeholder:(0,s.__)("Tab Title","prc-block-library"),__unstableOnSplitAtEnd:()=>{null!==P?y(d):b((0,t.createBlock)("prc-block/tabs-menu-item",{}))}}))}};(0,t.registerBlockType)(m,{...p,...b})})();
//# sourceMappingURL=index.js.map