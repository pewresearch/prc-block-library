(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.blocks,n=window.React,i=window.classnames;var l=e.n(i);const o=window.wp.element,r=window.wp.blockEditor,c=window.wp.data,s=window.wp.i18n,a=window.wp.url,d=window.wp.htmlEntities,u=window.prcIcons,p=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/tabs-menu-item","version":"0.1.0","title":"Tab Menu Item","category":"design","attributes":{"slug":{"type":"string"},"title":{"type":"string"},"uuid":{"type":"string","default":null}},"supports":{"html":false,"align":false,"color":{"background":true,"text":true},"typography":{"fontSize":true,"fontAppearance":true,"lineHeight":true,"__experimentalFontFamily":true},"spacing":{"padding":true},"__experimentalBorder":{"color":true,"width":true},"interactivity":true},"styles":[{"name":"default","label":"Tab","isDefault":true},{"name":"dialog","label":"Dialog Link"}],"parent":["prc-block/tabs-menu"],"textdomain":"tabs-menu-item","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css","render":"file:./render.php"}'),{name:m}=p,b={icon:function(){return(0,n.createElement)(u.Icon,{icon:u.icons.faDiagramPredecessor,height:18,preserveAspectRatio:"xMidYMid meet"})},__experimentalLabel:({title:e})=>e||"Menu Item",edit:function({attributes:e,setAttributes:i,clientId:u,isSelected:p,context:m,insertBlocksAfter:b}){const{setActiveUUIDPair:g}=(0,c.useDispatch)("prc-block/tabs-controller"),{title:w,uuid:k,className:f}=e,{insertBlock:I,moveBlockToPosition:h,selectNextBlock:y,updateBlockAttributes:x}=(0,c.useDispatch)("core/block-editor"),{controllerClientId:B,panesClientId:v,currentPositionIndex:C,matchingPaneClientId:P,nextMenuItemClientId:_,menuClientId:S}=(0,c.useSelect)((e=>{if(void 0===u)return;const{getBlock:t,getBlockRootClientId:n,getAdjacentBlockClientId:i,getBlockIndex:l}=e("core/block-editor");let o=!1;const r=n(u),c=n(r),s=i(r),a=t(s);if(a.hasOwnProperty("innerBlocks")&&1<=a.innerBlocks.length&&null!==k){const e=a.innerBlocks.filter((e=>e.attributes.uuid===k));0!==e.length&&(o=e[0].clientId)}const d=l(u,r);if(o){const e=l(o,s);-1!==e&&(b=s,(p=d)!==(m=e)&&-1!==m&&h(o,b,b,p))}var p,m,b;return{controllerClientId:c,panesClientId:s,currentPositionIndex:d,matchingPaneClientId:o,nextMenuItemClientId:i(u),menuClientId:r}}),[u]);(0,o.useEffect)((()=>{P&&f&&(console.log("matchingPaneClientId",P),x(P,{isDialog:"is-style-dialog"===f}))}),[f,P]);const{currentlySelectedUUID:D}=(0,c.useSelect)((e=>({currentlySelectedUUID:e("prc-block/tabs-controller").getActiveUUID(B)})),[B]);(0,o.useEffect)((()=>{(()=>{if(null===k){const e=u;i({uuid:e});const n=(0,t.createBlock)("prc-block/tabs-pane",{uuid:e});I(n,C,v,!1)}})()}),[v,C]),(0,o.useEffect)((()=>{p&&g(B,k)}),[p,k,B]);const E=(0,o.useMemo)((()=>p||D===k),[p,D,k]),A=(0,r.useBlockProps)({className:l()(f,{"is-active":E})});return(0,n.createElement)("div",{...A},(0,n.createElement)(r.RichText,{tagName:"div",value:w,allowedFormats:[],onChange:e=>i({title:(0,d.decodeEntities)(e),slug:(0,a.cleanForSlug)(e)}),placeholder:(0,s.__)("Tab Title","prc-block-library"),__unstableOnSplitAtEnd:()=>{null!==_?y(u):b((0,t.createBlock)("prc-block/tabs-menu-item",{}))}}))}};(0,t.registerBlockType)(m,{...p,...b})})();
//# sourceMappingURL=index.js.map