(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.React,n=window.wp.hooks,r=window.wp.compose,o=window.wp.element,l=window.wp.i18n,a=window.wp.blockEditor,c=window.wp.components,i=window.CSV;var s=e.n(i);function u(e,t="td"){return e.map((e=>({content:e,tag:t})))}function d(e,t="td"){return"th"===t?u(e,t):e.map((e=>({cells:u(e,t)})))}function p(e,t,n){const r=new FileReader;r.onload=()=>{!function(e,t,n){const r=new(s())(e,{header:!1}).parse(),o=d(r.shift(),"th");n({body:d(r)}),n({head:[{cells:o}]})}(r.result,0,n)},Array.from(e).forEach((e=>r.readAsBinaryString(e)))}function b({attributes:e,setAttributes:n}){const r=(0,o.useRef)(null);return(0,t.createElement)(a.InspectorControls,null,(0,t.createElement)(c.PanelBody,{title:"CSV Import"},(0,t.createElement)(c.PanelRow,null,(0,t.createElement)(c.Button,{isPrimary:!0,onClick:()=>{r.current.click()}},(0,l.__)("Import CSV to Table","prc-block-library")),(0,t.createElement)("input",{ref:r,type:"file",accept:"text/csv",onChange:e=>p(e.target.files,0,n),style:{display:"none"}}),(0,t.createElement)(c.DropZone,{onFilesDrop:e=>p(e,0,n)}))))}function w({attributes:e,setAttributes:n,context:r}){return(0,t.createElement)(b,{attributes:e,setAttributes:n,context:r})}const m=["core-table".replace(/-/g,"/"),"flexible-table-block/table"];(0,n.addFilter)("editor.BlockEdit","prc-block-library/core-table",(0,r.createHigherOrderComponent)((e=>function(n){const{name:r,attributes:l,setAttributes:a}=n;return m.includes(r)?(0,t.createElement)(o.Fragment,null,(0,t.createElement)(e,{...n}),(0,t.createElement)(w,{attributes:l,setAttributes:a,context:!1})):(0,t.createElement)(e,{...n})}),"withCoreTableControls"),21)})();
//# sourceMappingURL=index.js.map