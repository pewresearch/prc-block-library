(()=>{"use strict";var e,o={975:(e,o,t)=>{const r=window.React,l=window.wp.primitives,a=(0,r.createElement)(l.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,r.createElement)(l.Path,{d:"M20 4H4v1.5h16V4zm-2 9h-3c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2zm.5 5c0 .3-.2.5-.5.5h-3c-.3 0-.5-.2-.5-.5v-3c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3zM4 9.5h9V8H4v1.5zM9 13H6c-1.1 0-2 .9-2 2v3c0 1.1.9 2 2 2h3c1.1 0 2-.9 2-2v-3c0-1.1-.9-2-2-2zm.5 5c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-3c0-.3.2-.5.5-.5h3c.3 0 .5.2.5.5v3z",fillRule:"evenodd",clipRule:"evenodd"})),n=window.wp.blocks,s=window.classnames;var c=t.n(s);const i=window.wp.i18n,u=window.wp.element,p=window.wp.blockEditor,d=window.wp.htmlEntities,m=(window.prcComponents,window.wp.components);function g({attributes:e,colors:o,isList:t,clientId:l}){const a=(0,p.__experimentalUseMultipleOriginColorsAndGradients)(),n=(0,u.useMemo)((()=>{if(!t)return[];const{activeBackgroundColor:e,setActiveBackgroundColor:r,activeTextColor:l,setActiveTextColor:a,hoverBackgroundColor:n,setHoverBackgroundColor:s,hoverTextColor:c,setHoverTextColor:u}=o;return[{colorValue:l?.color,onColorChange:a,label:(0,i.__)("Active Text")},{colorValue:e?.color,onColorChange:r,label:(0,i.__)("Active Background")},{colorValue:c?.color,onColorChange:u,label:(0,i.__)("Hover Text")},{colorValue:n?.color,onColorChange:s,label:(0,i.__)("Hover Background")}]}),[o,t]);return(0,r.createElement)(u.Fragment,null,(0,r.createElement)(p.InspectorControls,{group:"color"},(0,r.createElement)(p.__experimentalColorGradientSettingsDropdown,{settings:n,panelId:l,hasColorsOrGradients:!1,disableCustomColors:!0,__experimentalIsRenderedInSidebar:!0,...a})))}function v({attributes:e,setAttributes:o,colors:t,isList:l,clientId:a}){const{perPage:n,taxonomy:s,separator:c,getAllTerms:d}=e;return(0,r.createElement)(u.Fragment,null,(0,r.createElement)(g,{attributes:e,colors:t,isList:l,clientId:a}),(0,r.createElement)(p.InspectorControls,null,(0,r.createElement)(m.PanelBody,{title:(0,i.__)("Settings","prc-block-library")},(0,r.createElement)(m.RangeControl,{label:"Number of Terms",value:n,onChange:e=>o({perPage:e}),min:1,max:25,allowReset:!0,resetFallbackValue:25}),!l&&(0,r.createElement)(m.TextControl,{label:"Separator",value:c,onChange:e=>o({separator:e})}),(0,r.createElement)(m.ToggleControl,{label:"Get all terms",checked:d,onChange:()=>o({getAllTerms:!d}),help:(0,i.__)("If checked, all terms will be fetched, not just the terms assigned to the current post.","prc-block-library")}))))}function h({attributes:e,setAttributes:o,context:t,colors:l,isList:a,clientId:n}){return(0,r.createElement)(v,{attributes:e,setAttributes:o,context:t,colors:l,isList:a,clientId:n})}const C=window.wp.data,x=window.wp.apiFetch;var b=t.n(x);const k=[{name:"Term A",slug:"term-a",link:"#"},{name:"Term B",slug:"term-b",link:"#"},{name:"Term C",slug:"term-c",link:"#"}];function w(e,o,t="categories",r=!1){const{postTerms:l}=(0,C.useSelect)((r=>{if(!e||!o||!t)return{postTerms:[]};const{getEditedPostAttribute:l}=r("core/editor");return{postTerms:l(t)}}),[e,o,t]),[a,n]=(0,u.useState)(k),[s,c]=(0,u.useState)(!1);return(0,u.useEffect)((()=>{if(c(!0),console.log("... checking data ...",l),l&&0<l.length)Promise.all(l.map((e=>(e=>new Promise((o=>{b()({path:`/wp/v2/${t}/${e}`}).then((e=>o(e)))})))(e)))).then((e=>{let o=e;!1!==r&&(o=o.slice(0,r)),console.log("GOT SOME DATA",o),n([...o]),c(!1)}));else{let e=k;!1!==r&&(e=e.slice(0,r)),n([...e]),c(!1)}}),[l,r]),{isLoading:s,taxonomyTerms:a}}const f=(0,p.withColors)({activeBackgroundColor:"color"},{activeTextColor:"color"},{hoverBackgroundColor:"color"},{hoverTextColor:"color"})((function({attributes:e,setAttributes:o,context:t,clientId:l,isSelected:a,__unstableLayoutClassNames:n,activeBackgroundColor:s,setActiveBackgroundColor:i,activeTextColor:m,setActiveTextColor:g,hoverBackgroundColor:v,setHoverBackgroundColor:C,hoverTextColor:x,setHoverTextColor:b}){const{postId:k,postType:f}=t,{taxonomy:T,className:y,layout:_,perPage:B,separator:E}=e,A=_?.orientation||"vertical",{taxonomyTerms:S,isLoading:O}=w(k,f,T,B),I=(0,u.useMemo)((()=>"vertical"===A),[A]),H=(0,u.useMemo)((()=>E?{"--separator":`"${E}"`}:{}),[E]),P=(0,u.useMemo)((()=>({activeBackgroundColor:s,setActiveBackgroundColor:i,activeTextColor:m,setActiveTextColor:g,hoverBackgroundColor:v,setHoverBackgroundColor:C,hoverTextColor:x,setHoverTextColor:b})),[s,i,m,g,v,C,x,b]),M=(0,p.useBlockProps)({className:c()(y,n,{"has-separator":!!E&&!I}),style:{...H}}),z=(0,u.useMemo)((()=>{const e=I?{"has-active-background":!!P.activeBackgroundColor.color||P.activeBackgroundColor.class,[`has-active-${P?.activeBackgroundColor?.slug}-background-color`]:!!P?.activeBackgroundColor?.slug,"has-active-color":!!P.activeTextColor.color||P.activeTextColor.class,[`has-active-${P?.activeTextColor?.slug}-color`]:!!P?.activeTextColor?.slug,"has-focus-background":!!P.activeBackgroundColor.color||P.activeBackgroundColor.class,[`has-focus-${P?.activeBackgroundColor?.slug}-background-color`]:!!P?.activeBackgroundColor?.slug,"has-focus-color":!!P.activeTextColor.color||P.activeTextColor.class,[`has-focus-${P?.activeTextColor?.slug}-color`]:!!P?.activeTextColor?.slug,"has-hover-background":!!P.hoverBackgroundColor.color||P.hoverBackgroundColor.class,[`has-hover-${P?.hoverBackgroundColor?.slug}-background-color`]:!!P?.activeBackgroundColor?.slug,"has-hover-color":!!P.hoverTextColor.color||P.hoverTextColor.class,[`has-hover-${P?.hoverTextColor?.slug}-color`]:!!P?.hoverTextColor?.slug}:{};return c()("wp-block-prc-block-post-taxonomy-terms__list-item",e)}),[P,I]),L=(0,u.useMemo)((()=>S.map((e=>(0,r.createElement)("li",{className:z},(0,d.decodeEntities)(e.name))))),[S,O,z]);return(0,r.createElement)(u.Fragment,null,(0,r.createElement)(h,{attributes:e,setAttributes:o,context:t,colors:P,isList:I,clientId:l}),(0,r.createElement)("div",{...M},(0,r.createElement)("ul",{className:"wp-block-prc-block-post-taxonomy-terms__list"},L)))})),T=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"prc-block/post-taxonomy-terms","version":"0.1.0","title":"Post Taxonomy Terms","category":"theme","description":"Display the current post\'s selected taxonomy terms.","attributes":{"getAllTerms":{"type":"boolean","default":false},"taxonomy":{"type":"string","default":"categories"},"perPage":{"type":"number","default":25},"separator":{"type":"string"},"activeBackgroundColor":{"type":"string","default":"ui-gray-very-light"},"activeTextColor":{"type":"string","default":"ui-text-color"},"hoverBackgroundColor":{"type":"string","default":"ui-beige-very-light"},"hoverTextColor":{"type":"string","default":"ui-text-color"},"style":{"type":"object","default":{"spacing":{"blockGap":"var:preset|spacing|20"}}}},"supports":{"anchor":true,"html":false,"color":{"background":true,"text":true,"link":true},"layout":{"allowEditing":true,"allowJustification":true,"allowInheriting":false,"allowOrientation":true,"allowSizingOnChildren":true,"allowSwitching":false,"allowVerticalAlignment":true,"default":{"type":"flex","justifyContent":"left","orientation":"vertical"}},"typography":{"fontSize":true,"lineHeight":true,"__experimentalFontStyle":true,"__experimentalFontWeight":true,"__experimentalTextTransform":true,"__experimentalFontFamily":true,"__experimentalLetterSpacing":true,"__experimentalTextDecoration":true,"__experimentalSkipSerialization":["textDecoration"],"__experimentalDefaultControls":{"fontSize":true}},"spacing":{"blockGap":true,"units":["px","em","rem","vh","vw"],"__experimentalDefaultControls":{"blockGap":true}}},"usesContext":["postId","postType"],"textdomain":"post-taxonomy-terms","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":["file:./style-index.css","prc-block-library--baseball-card","prc-block-library--additional-color-supports"]}'),{name:y}=T,_={icon:a,edit:f};(0,n.registerBlockType)(y,{...T,..._})}},t={};function r(e){var l=t[e];if(void 0!==l)return l.exports;var a=t[e]={exports:{}};return o[e](a,a.exports,r),a.exports}r.m=o,e=[],r.O=(o,t,l,a)=>{if(!t){var n=1/0;for(u=0;u<e.length;u++){for(var[t,l,a]=e[u],s=!0,c=0;c<t.length;c++)(!1&a||n>=a)&&Object.keys(r.O).every((e=>r.O[e](t[c])))?t.splice(c--,1):(s=!1,a<n&&(n=a));if(s){e.splice(u--,1);var i=l();void 0!==i&&(o=i)}}return o}a=a||0;for(var u=e.length;u>0&&e[u-1][2]>a;u--)e[u]=e[u-1];e[u]=[t,l,a]},r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={57:0,350:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var l,a,[n,s,c]=t,i=0;if(n.some((o=>0!==e[o]))){for(l in s)r.o(s,l)&&(r.m[l]=s[l]);if(c)var u=c(r)}for(o&&o(t);i<n.length;i++)a=n[i],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(u)},t=globalThis.webpackChunkpost_taxonomy_terms=globalThis.webpackChunkpost_taxonomy_terms||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})();var l=r.O(void 0,[350],(()=>r(975)));l=r.O(l)})();
//# sourceMappingURL=index.js.map